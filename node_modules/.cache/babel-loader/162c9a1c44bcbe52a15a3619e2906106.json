{"ast":null,"code":"import * as React from 'react';\nimport { createId, ZERO_LEVEL_ZERO_ITEM_ID } from './itemsIdsUtils';\nimport MenuItem from '../components/MenuItem';\n/**\n * @hidden\n */\n\nexport default function prepareInputItemsForInternalWork(models, menuChildren) {\n  if (models && models.length > 0) {\n    return {\n      items: convertInputModelsToInternalOnesHelper(models),\n      inputItems: models\n    };\n  } else if (getMenuItemChildComponents(menuChildren).length > 0) {\n    var inputModels = convertInputComponentsToInputModelsHelper(getMenuItemChildComponents(menuChildren));\n    return {\n      items: convertInputModelsToInternalOnesHelper(inputModels),\n      inputItems: inputModels\n    };\n  } else {\n    return {\n      items: [],\n      inputItems: []\n    };\n  }\n}\n\nfunction copyInputItemWithoutChildren(inputModel, inputComponent) {\n  var result = {};\n\n  var _a = inputModel ? inputModel : inputComponent.props,\n      text = _a.text,\n      url = _a.url,\n      icon = _a.icon,\n      disabled = _a.disabled,\n      cssClass = _a.cssClass,\n      cssStyle = _a.cssStyle,\n      render = _a.render,\n      linkRender = _a.linkRender,\n      contentRender = _a.contentRender,\n      data = _a.data;\n\n  if (text !== undefined) {\n    result.text = text;\n  }\n\n  if (url !== undefined) {\n    result.url = url;\n  }\n\n  if (icon !== undefined) {\n    result.icon = icon;\n  }\n\n  if (disabled !== undefined) {\n    result.disabled = disabled;\n  }\n\n  if (cssClass !== undefined) {\n    result.cssClass = cssClass;\n  }\n\n  if (cssStyle !== undefined) {\n    result.cssStyle = cssStyle;\n  }\n\n  if (render !== undefined) {\n    result.render = render;\n  }\n\n  if (linkRender !== undefined) {\n    result.linkRender = linkRender;\n  }\n\n  if (contentRender !== undefined) {\n    result.contentRender = contentRender;\n  }\n\n  if (data !== undefined) {\n    result.data = data;\n  }\n\n  return result;\n}\n\nfunction getMenuItemChildComponents(menuChildren) {\n  return React.Children.toArray(menuChildren).filter(function (child) {\n    return child && child.type === MenuItem;\n  });\n}\n\nfunction convertInputComponentsToInputModelsHelper(components) {\n  var result = [];\n\n  for (var index = 0; index < components.length; index++) {\n    var comp = components[index];\n    var model = copyInputItemWithoutChildren(undefined, comp);\n    var items = convertInputComponentsToInputModelsHelper(getMenuItemChildComponents(comp.props.children));\n\n    if (items.length > 0) {\n      model.items = items;\n    }\n\n    result.push(model);\n  }\n\n  return result;\n}\n\nfunction convertInputModelsToInternalOnesHelper(inputModels, parentId) {\n  var result = [];\n\n  for (var index = 0; index < inputModels.length; index++) {\n    var inputModel = inputModels[index];\n    var internalModel = copyInputItemWithoutChildren(inputModel);\n    internalModel.id = createId(index.toString(), parentId);\n    internalModel.isLastFromSiblings = index === inputModels.length - 1;\n    internalModel.items = copyOrCreateModelChildren(inputModel, internalModel);\n    result.push(internalModel);\n  }\n\n  return result;\n}\n\nfunction copyOrCreateModelChildren(inputModel, internalModel) {\n  if (inputModel.contentRender) {\n    return [{\n      contentParentItemId: internalModel.id,\n      id: createId(ZERO_LEVEL_ZERO_ITEM_ID, internalModel.id),\n      isLastFromSiblings: true,\n      contentRender: inputModel.contentRender,\n      items: []\n    }];\n  } else if (inputModel.items) {\n    return convertInputModelsToInternalOnesHelper(inputModel.items, internalModel.id);\n  } else {\n    return [];\n  }\n}","map":{"version":3,"sources":["../../../../src/menu/utils/prepareInputItemsForInternalWork.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import * as React from 'react';\nimport { createId, ZERO_LEVEL_ZERO_ITEM_ID } from './itemsIdsUtils';\nimport MenuItem from '../components/MenuItem';\n/**\n * @hidden\n */\nexport default function prepareInputItemsForInternalWork(models, menuChildren) {\n    if (models && models.length > 0) {\n        return {\n            items: convertInputModelsToInternalOnesHelper(models),\n            inputItems: models\n        };\n    }\n    else if (getMenuItemChildComponents(menuChildren).length > 0) {\n        var inputModels = convertInputComponentsToInputModelsHelper(getMenuItemChildComponents(menuChildren));\n        return { items: convertInputModelsToInternalOnesHelper(inputModels), inputItems: inputModels };\n    }\n    else {\n        return { items: [], inputItems: [] };\n    }\n}\nfunction copyInputItemWithoutChildren(inputModel, inputComponent) {\n    var result = {};\n    var _a = inputModel ? inputModel : inputComponent.props, text = _a.text, url = _a.url, icon = _a.icon, disabled = _a.disabled, cssClass = _a.cssClass, cssStyle = _a.cssStyle, render = _a.render, linkRender = _a.linkRender, contentRender = _a.contentRender, data = _a.data;\n    if (text !== undefined) {\n        result.text = text;\n    }\n    if (url !== undefined) {\n        result.url = url;\n    }\n    if (icon !== undefined) {\n        result.icon = icon;\n    }\n    if (disabled !== undefined) {\n        result.disabled = disabled;\n    }\n    if (cssClass !== undefined) {\n        result.cssClass = cssClass;\n    }\n    if (cssStyle !== undefined) {\n        result.cssStyle = cssStyle;\n    }\n    if (render !== undefined) {\n        result.render = render;\n    }\n    if (linkRender !== undefined) {\n        result.linkRender = linkRender;\n    }\n    if (contentRender !== undefined) {\n        result.contentRender = contentRender;\n    }\n    if (data !== undefined) {\n        result.data = data;\n    }\n    return result;\n}\nfunction getMenuItemChildComponents(menuChildren) {\n    return React.Children.toArray(menuChildren)\n        .filter(function (child) { return child && child.type === MenuItem; });\n}\nfunction convertInputComponentsToInputModelsHelper(components) {\n    var result = [];\n    for (var index = 0; index < components.length; index++) {\n        var comp = components[index];\n        var model = copyInputItemWithoutChildren(undefined, comp);\n        var items = convertInputComponentsToInputModelsHelper(getMenuItemChildComponents(comp.props.children));\n        if (items.length > 0) {\n            model.items = items;\n        }\n        result.push(model);\n    }\n    return result;\n}\nfunction convertInputModelsToInternalOnesHelper(inputModels, parentId) {\n    var result = [];\n    for (var index = 0; index < inputModels.length; index++) {\n        var inputModel = inputModels[index];\n        var internalModel = copyInputItemWithoutChildren(inputModel);\n        internalModel.id = createId(index.toString(), parentId);\n        internalModel.isLastFromSiblings = index === inputModels.length - 1;\n        internalModel.items = copyOrCreateModelChildren(inputModel, internalModel);\n        result.push(internalModel);\n    }\n    return result;\n}\nfunction copyOrCreateModelChildren(inputModel, internalModel) {\n    if (inputModel.contentRender) {\n        return [{\n                contentParentItemId: internalModel.id,\n                id: createId(ZERO_LEVEL_ZERO_ITEM_ID, internalModel.id),\n                isLastFromSiblings: true,\n                contentRender: inputModel.contentRender,\n                items: []\n            }];\n    }\n    else if (inputModel.items) {\n        return convertInputModelsToInternalOnesHelper(inputModel.items, internalModel.id);\n    }\n    else {\n        return [];\n    }\n}\n//# sourceMappingURL=prepareInputItemsForInternalWork.js.map"]},"metadata":{},"sourceType":"module"}