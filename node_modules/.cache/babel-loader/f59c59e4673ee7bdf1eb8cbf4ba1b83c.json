{"ast":null,"code":"import CategoricalChart from '../categorical-chart';\nimport BarChart from '../bar-chart/bar-chart';\nimport Bullet from './bullet';\nimport ClusterLayout from '../layout/cluster-layout';\nimport { BAR } from '../constants';\nimport { MIN_VALUE, MAX_VALUE } from '../../common/constants';\nimport { deepExtend, defined, isArray, isFunction, isObject, setDefaultOptions } from '../../common';\n\nvar BulletChart = function (CategoricalChart) {\n  function BulletChart(plotArea, options) {\n    wrapData(options);\n    CategoricalChart.call(this, plotArea, options);\n  }\n\n  if (CategoricalChart) BulletChart.__proto__ = CategoricalChart;\n  BulletChart.prototype = Object.create(CategoricalChart && CategoricalChart.prototype);\n  BulletChart.prototype.constructor = BulletChart;\n\n  BulletChart.prototype.reflowCategories = function reflowCategories(categorySlots) {\n    var children = this.children;\n    var childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; i++) {\n      children[i].reflow(categorySlots[i]);\n    }\n  };\n\n  BulletChart.prototype.plotRange = function plotRange(point) {\n    var series = point.series;\n    var valueAxis = this.seriesValueAxis(series);\n    var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n    return [axisCrossingValue, point.value.current || axisCrossingValue];\n  };\n\n  BulletChart.prototype.createPoint = function createPoint(data, fields) {\n    var categoryIx = fields.categoryIx;\n    var category = fields.category;\n    var series = fields.series;\n    var seriesIx = fields.seriesIx;\n    var ref = this;\n    var options = ref.options;\n    var children = ref.children;\n    var value = data.valueFields;\n    var bulletOptions = deepExtend({\n      vertical: !options.invertAxes,\n      overlay: series.overlay,\n      categoryIx: categoryIx,\n      invertAxes: options.invertAxes\n    }, series);\n    var color = data.fields.color || series.color;\n    bulletOptions = this.evalPointOptions(bulletOptions, value, category, categoryIx, series, seriesIx);\n\n    if (isFunction(series.color)) {\n      color = bulletOptions.color;\n    }\n\n    var bullet = new Bullet(value, bulletOptions);\n    bullet.color = color;\n    var cluster = children[categoryIx];\n\n    if (!cluster) {\n      cluster = new ClusterLayout({\n        vertical: options.invertAxes,\n        gap: options.gap,\n        spacing: options.spacing,\n        rtl: !options.invertAxes && (this.chartService || {}).rtl\n      });\n      this.append(cluster);\n    }\n\n    cluster.append(bullet);\n    return bullet;\n  };\n\n  BulletChart.prototype.updateRange = function updateRange(value, fields) {\n    var current = value.current;\n    var target = value.target;\n    var axisName = fields.series.axis;\n    var axisRange = this.valueAxisRanges[axisName];\n\n    if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\n      axisRange = this.valueAxisRanges[axisName] = axisRange || {\n        min: MAX_VALUE,\n        max: MIN_VALUE\n      };\n      axisRange.min = Math.min(axisRange.min, current, target);\n      axisRange.max = Math.max(axisRange.max, current, target);\n    }\n  };\n\n  BulletChart.prototype.formatPointValue = function formatPointValue(point, format) {\n    return this.chartService.format.auto(format, point.value.current, point.value.target);\n  };\n\n  BulletChart.prototype.pointValue = function pointValue(data) {\n    return data.valueFields.current;\n  };\n\n  BulletChart.prototype.aboveAxis = function aboveAxis(point) {\n    var value = point.value.current;\n    return value > 0;\n  };\n\n  BulletChart.prototype.createAnimation = function createAnimation() {\n    var this$1 = this;\n    var points = this.points;\n\n    this._setAnimationOptions();\n\n    for (var idx = 0; idx < points.length; idx++) {\n      var point = points[idx];\n      point.options.animation = this$1.options.animation;\n      point.createAnimation();\n    }\n  };\n\n  return BulletChart;\n}(CategoricalChart);\n\nBulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;\nsetDefaultOptions(BulletChart, {\n  animation: {\n    type: BAR\n  }\n});\n\nfunction wrapData(options) {\n  var series = options.series;\n\n  for (var i = 0; i < series.length; i++) {\n    var seriesItem = series[i];\n    var data = seriesItem.data;\n\n    if (data && !isArray(data[0]) && !isObject(data[0])) {\n      seriesItem.data = [data];\n    }\n  }\n}\n\nexport default BulletChart;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/chart/bullet-chart/bullet-chart.js"],"names":["CategoricalChart","BarChart","Bullet","ClusterLayout","BAR","MIN_VALUE","MAX_VALUE","deepExtend","defined","isArray","isFunction","isObject","setDefaultOptions","BulletChart","plotArea","options","wrapData","call","__proto__","prototype","Object","create","constructor","reflowCategories","categorySlots","children","childrenLength","length","i","reflow","plotRange","point","series","valueAxis","seriesValueAxis","axisCrossingValue","categoryAxisCrossingValue","value","current","createPoint","data","fields","categoryIx","category","seriesIx","ref","valueFields","bulletOptions","vertical","invertAxes","overlay","color","evalPointOptions","bullet","cluster","gap","spacing","rtl","chartService","append","updateRange","target","axisName","axis","axisRange","valueAxisRanges","isNaN","min","max","Math","formatPointValue","format","auto","pointValue","aboveAxis","createAnimation","this$1","points","_setAnimationOptions","idx","animation","type","seriesItem"],"mappings":"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","sourcesContent":["\nimport CategoricalChart from '../categorical-chart';\nimport BarChart from '../bar-chart/bar-chart';\nimport Bullet from './bullet';\nimport ClusterLayout from '../layout/cluster-layout';\nimport { BAR } from '../constants';\n\nimport { MIN_VALUE, MAX_VALUE } from '../../common/constants';\nimport { deepExtend, defined, isArray, isFunction, isObject, setDefaultOptions } from '../../common';\n\nvar BulletChart = (function (CategoricalChart) {\n    function BulletChart(plotArea, options) {\n\n        wrapData(options);\n\n        CategoricalChart.call(this, plotArea, options);\n    }\n\n    if ( CategoricalChart ) BulletChart.__proto__ = CategoricalChart;\n    BulletChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    BulletChart.prototype.constructor = BulletChart;\n\n    BulletChart.prototype.reflowCategories = function reflowCategories (categorySlots) {\n        var children = this.children;\n        var childrenLength = children.length;\n\n        for (var i = 0; i < childrenLength; i++) {\n            children[i].reflow(categorySlots[i]);\n        }\n    };\n\n    BulletChart.prototype.plotRange = function plotRange (point) {\n        var series = point.series;\n        var valueAxis = this.seriesValueAxis(series);\n        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n\n        return [ axisCrossingValue, point.value.current || axisCrossingValue ];\n    };\n\n    BulletChart.prototype.createPoint = function createPoint (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var category = fields.category;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var value = data.valueFields;\n\n        var bulletOptions = deepExtend({\n            vertical: !options.invertAxes,\n            overlay: series.overlay,\n            categoryIx: categoryIx,\n            invertAxes: options.invertAxes\n        }, series);\n\n        var color = data.fields.color || series.color;\n        bulletOptions = this.evalPointOptions(\n            bulletOptions, value, category, categoryIx, series, seriesIx\n        );\n\n        if (isFunction(series.color)) {\n            color = bulletOptions.color;\n        }\n\n        var bullet = new Bullet(value, bulletOptions);\n        bullet.color = color;\n\n        var cluster = children[categoryIx];\n        if (!cluster) {\n            cluster = new ClusterLayout({\n                vertical: options.invertAxes,\n                gap: options.gap,\n                spacing: options.spacing,\n                rtl: !options.invertAxes && (this.chartService || {}).rtl\n            });\n            this.append(cluster);\n        }\n\n        cluster.append(bullet);\n\n        return bullet;\n    };\n\n    BulletChart.prototype.updateRange = function updateRange (value, fields) {\n        var current = value.current;\n        var target = value.target;\n        var axisName = fields.series.axis;\n        var axisRange = this.valueAxisRanges[axisName];\n\n        if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\n            axisRange = this.valueAxisRanges[axisName] =\n                axisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            axisRange.min = Math.min(axisRange.min, current, target);\n            axisRange.max = Math.max(axisRange.max, current, target);\n        }\n    };\n\n    BulletChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        return this.chartService.format.auto(format, point.value.current, point.value.target);\n    };\n\n    BulletChart.prototype.pointValue = function pointValue (data) {\n        return data.valueFields.current;\n    };\n\n    BulletChart.prototype.aboveAxis = function aboveAxis (point) {\n        var value = point.value.current;\n\n        return value > 0;\n    };\n\n    BulletChart.prototype.createAnimation = function createAnimation () {\n        var this$1 = this;\n\n        var points = this.points;\n\n        this._setAnimationOptions();\n\n        for (var idx = 0; idx < points.length; idx++) {\n            var point = points[idx];\n            point.options.animation = this$1.options.animation;\n            point.createAnimation();\n        }\n    };\n\n    return BulletChart;\n}(CategoricalChart));\n\nBulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;\n\nsetDefaultOptions(BulletChart, {\n    animation: {\n        type: BAR\n    }\n});\n\nfunction wrapData(options) {\n    var series = options.series;\n\n    for (var i = 0; i < series.length; i++) {\n        var seriesItem = series[i];\n        var data = seriesItem.data;\n        if (data && !isArray(data[0]) && !isObject(data[0])) {\n            seriesItem.data = [ data ];\n        }\n    }\n}\n\nexport default BulletChart;"]},"metadata":{},"sourceType":"module"}