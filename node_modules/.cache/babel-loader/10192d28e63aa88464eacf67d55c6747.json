{"ast":null,"code":"import { drawing as draw } from '@progress/kendo-drawing';\nimport Target from './target';\nimport { ChartElement, Box } from '../../core';\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport NoteMixin from '../mixins/note-mixin';\nimport Bar from '../bar-chart/bar';\nimport { WHITE, TOP, RIGHT } from '../../common/constants';\nimport { alignPathToPixel, deepExtend, defined, setDefaultOptions, valueOrDefault } from '../../common';\n\nvar Bullet = function (ChartElement) {\n  function Bullet(value, options) {\n    ChartElement.call(this, options);\n    this.aboveAxis = this.options.aboveAxis;\n    this.color = options.color || WHITE;\n    this.value = value;\n  }\n\n  if (ChartElement) Bullet.__proto__ = ChartElement;\n  Bullet.prototype = Object.create(ChartElement && ChartElement.prototype);\n  Bullet.prototype.constructor = Bullet;\n\n  Bullet.prototype.render = function render() {\n    var options = this.options;\n\n    if (!this._rendered) {\n      this._rendered = true;\n\n      if (defined(this.value.target)) {\n        this.target = new Target({\n          type: options.target.shape,\n          background: options.target.color || this.color,\n          opacity: options.opacity,\n          zIndex: options.zIndex,\n          border: options.target.border,\n          vAlign: TOP,\n          align: RIGHT\n        });\n        this.target.value = this.value;\n        this.target.dataItem = this.dataItem;\n        this.target.series = this.series;\n        this.append(this.target);\n      }\n\n      this.createNote();\n    }\n  };\n\n  Bullet.prototype.reflow = function reflow(box) {\n    this.render();\n    var ref = this;\n    var options = ref.options;\n    var target = ref.target;\n    var chart = ref.owner;\n    var invertAxes = options.invertAxes;\n    var valueAxis = chart.seriesValueAxis(this.options);\n    var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);\n    var targetValueSlot = valueAxis.getSlot(this.value.target);\n    var targetSlotX = invertAxes ? targetValueSlot : categorySlot;\n    var targetSlotY = invertAxes ? categorySlot : targetValueSlot;\n\n    if (target) {\n      var targetSlot = new Box(targetSlotX.x1, targetSlotY.y1, targetSlotX.x2, targetSlotY.y2);\n      target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\n      target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\n      target.reflow(targetSlot);\n    }\n\n    if (this.note) {\n      this.note.reflow(box);\n    }\n\n    this.box = box;\n  };\n\n  Bullet.prototype.createVisual = function createVisual() {\n    ChartElement.prototype.createVisual.call(this);\n    var options = this.options;\n    var body = draw.Path.fromRect(this.box.toRect(), {\n      fill: {\n        color: this.color,\n        opacity: options.opacity\n      },\n      stroke: null\n    });\n\n    if (options.border.width > 0) {\n      body.options.set(\"stroke\", {\n        color: options.border.color || this.color,\n        width: options.border.width,\n        dashType: options.border.dashType,\n        opacity: valueOrDefault(options.border.opacity, options.opacity)\n      });\n    }\n\n    this.bodyVisual = body;\n    alignPathToPixel(body);\n    this.visual.append(body);\n  };\n\n  Bullet.prototype.createAnimation = function createAnimation() {\n    if (this.bodyVisual) {\n      this.animation = draw.Animation.create(this.bodyVisual, this.options.animation);\n    }\n  };\n\n  Bullet.prototype.createHighlight = function createHighlight(style) {\n    return draw.Path.fromRect(this.box.toRect(), style);\n  };\n\n  Bullet.prototype.highlightVisual = function highlightVisual() {\n    return this.bodyVisual;\n  };\n\n  Bullet.prototype.highlightVisualArgs = function highlightVisualArgs() {\n    return {\n      rect: this.box.toRect(),\n      visual: this.bodyVisual,\n      options: this.options\n    };\n  };\n\n  Bullet.prototype.formatValue = function formatValue(format) {\n    return this.owner.formatPointValue(this, format);\n  };\n\n  return Bullet;\n}(ChartElement);\n\nBullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;\nsetDefaultOptions(Bullet, {\n  border: {\n    width: 1\n  },\n  vertical: false,\n  opacity: 1,\n  target: {\n    shape: \"\",\n    border: {\n      width: 0,\n      color: \"green\"\n    },\n    line: {\n      width: 2\n    }\n  },\n  tooltip: {\n    format: \"Current: {0}<br />Target: {1}\"\n  }\n});\ndeepExtend(Bullet.prototype, PointEventsMixin);\ndeepExtend(Bullet.prototype, NoteMixin);\nexport default Bullet;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/chart/bullet-chart/bullet.js"],"names":["drawing","draw","Target","ChartElement","Box","PointEventsMixin","NoteMixin","Bar","WHITE","TOP","RIGHT","alignPathToPixel","deepExtend","defined","setDefaultOptions","valueOrDefault","Bullet","value","options","call","aboveAxis","color","__proto__","prototype","Object","create","constructor","render","_rendered","target","type","shape","background","opacity","zIndex","border","vAlign","align","dataItem","series","append","createNote","reflow","box","ref","chart","owner","invertAxes","valueAxis","seriesValueAxis","categorySlot","categoryAxis","categoryIx","targetValueSlot","getSlot","targetSlotX","targetSlotY","targetSlot","x1","y1","x2","y2","height","line","width","note","createVisual","body","Path","fromRect","toRect","fill","stroke","set","dashType","bodyVisual","visual","createAnimation","animation","Animation","createHighlight","style","highlightVisual","highlightVisualArgs","rect","formatValue","format","formatPointValue","tooltipAnchor","vertical","tooltip"],"mappings":"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","sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport Target from './target';\n\nimport { ChartElement, Box } from '../../core';\n\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport NoteMixin from '../mixins/note-mixin';\nimport Bar from '../bar-chart/bar';\n\nimport { WHITE, TOP, RIGHT } from '../../common/constants';\nimport { alignPathToPixel, deepExtend, defined, setDefaultOptions, valueOrDefault } from '../../common';\n\nvar Bullet = (function (ChartElement) {\n    function Bullet(value, options) {\n        ChartElement.call(this, options);\n\n        this.aboveAxis = this.options.aboveAxis;\n        this.color = options.color || WHITE;\n        this.value = value;\n    }\n\n    if ( ChartElement ) Bullet.__proto__ = ChartElement;\n    Bullet.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Bullet.prototype.constructor = Bullet;\n\n    Bullet.prototype.render = function render () {\n        var options = this.options;\n\n        if (!this._rendered) {\n            this._rendered = true;\n\n            if (defined(this.value.target)) {\n                this.target = new Target({\n                    type: options.target.shape,\n                    background: options.target.color || this.color,\n                    opacity: options.opacity,\n                    zIndex: options.zIndex,\n                    border: options.target.border,\n                    vAlign: TOP,\n                    align: RIGHT\n                });\n\n                this.target.value = this.value;\n                this.target.dataItem = this.dataItem;\n                this.target.series = this.series;\n\n                this.append(this.target);\n            }\n\n            this.createNote();\n        }\n    };\n\n    Bullet.prototype.reflow = function reflow (box) {\n        this.render();\n\n        var ref = this;\n        var options = ref.options;\n        var target = ref.target;\n        var chart = ref.owner;\n        var invertAxes = options.invertAxes;\n        var valueAxis = chart.seriesValueAxis(this.options);\n        var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);\n        var targetValueSlot = valueAxis.getSlot(this.value.target);\n        var targetSlotX = invertAxes ? targetValueSlot : categorySlot;\n        var targetSlotY = invertAxes ? categorySlot : targetValueSlot;\n\n        if (target) {\n            var targetSlot = new Box(\n                targetSlotX.x1, targetSlotY.y1,\n                targetSlotX.x2, targetSlotY.y2\n            );\n            target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\n            target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\n            target.reflow(targetSlot);\n        }\n\n        if (this.note) {\n            this.note.reflow(box);\n        }\n\n        this.box = box;\n    };\n\n    Bullet.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        var options = this.options;\n        var body = draw.Path.fromRect(this.box.toRect(), {\n            fill: {\n                color: this.color,\n                opacity: options.opacity\n            },\n            stroke: null\n        });\n\n        if (options.border.width > 0) {\n            body.options.set(\"stroke\", {\n                color: options.border.color || this.color,\n                width: options.border.width,\n                dashType: options.border.dashType,\n                opacity: valueOrDefault(options.border.opacity, options.opacity)\n            });\n        }\n\n        this.bodyVisual = body;\n\n        alignPathToPixel(body);\n        this.visual.append(body);\n    };\n\n    Bullet.prototype.createAnimation = function createAnimation () {\n        if (this.bodyVisual) {\n            this.animation = draw.Animation.create(\n                this.bodyVisual, this.options.animation\n            );\n        }\n    };\n\n    Bullet.prototype.createHighlight = function createHighlight (style) {\n        return draw.Path.fromRect(this.box.toRect(), style);\n    };\n\n    Bullet.prototype.highlightVisual = function highlightVisual () {\n        return this.bodyVisual;\n    };\n\n    Bullet.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            rect: this.box.toRect(),\n            visual: this.bodyVisual,\n            options: this.options\n        };\n    };\n\n    Bullet.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    return Bullet;\n}(ChartElement));\n\nBullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;\n\nsetDefaultOptions(Bullet, {\n    border: {\n        width: 1\n    },\n    vertical: false,\n    opacity: 1,\n    target: {\n        shape: \"\",\n        border: {\n            width: 0,\n            color: \"green\"\n        },\n        line: {\n            width: 2\n        }\n    },\n    tooltip: {\n        format: \"Current: {0}<br />Target: {1}\"\n    }\n});\n\ndeepExtend(Bullet.prototype, PointEventsMixin);\ndeepExtend(Bullet.prototype, NoteMixin);\n\nexport default Bullet;"]},"metadata":{},"sourceType":"module"}