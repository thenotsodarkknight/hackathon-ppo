{"ast":null,"code":"import { drawing as draw, geometry as geom, Color } from '@progress/kendo-drawing';\nimport { ChartElement, ShapeBuilder, TextBox, Box } from '../../core';\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport { OUTSIDE_END, INSIDE_END, PIE, FADEIN, TOOLTIP_OFFSET } from '../constants';\nimport hasGradientOverlay from '../utils/has-gradient-overlay';\nimport { TOP, BOTTOM, LEFT, RIGHT, DEFAULT_FONT, CIRCLE, WHITE, BLACK, CENTER, DEFAULT_PRECISION } from '../../common/constants';\nimport { setDefaultOptions, getSpacing, getTemplate, deepExtend, round, rad } from '../../common';\n\nvar PieSegment = function (ChartElement) {\n  function PieSegment(value, sector, options) {\n    ChartElement.call(this, options);\n    this.value = value;\n    this.sector = sector;\n  }\n\n  if (ChartElement) PieSegment.__proto__ = ChartElement;\n  PieSegment.prototype = Object.create(ChartElement && ChartElement.prototype);\n  PieSegment.prototype.constructor = PieSegment;\n\n  PieSegment.prototype.render = function render() {\n    var labels = this.options.labels;\n    var chartService = this.owner.chartService;\n    var labelText = this.value;\n\n    if (this._rendered || this.visible === false) {\n      return;\n    }\n\n    this._rendered = true;\n    var labelTemplate = getTemplate(labels);\n    var pointData = this.pointData();\n\n    if (labelTemplate) {\n      labelText = labelTemplate(pointData);\n    } else if (labels.format) {\n      labelText = chartService.format.auto(labels.format, labelText);\n    }\n\n    if (labels.visible && (labelText || labelText === 0)) {\n      if (labels.position === CENTER || labels.position === INSIDE_END) {\n        if (!labels.color) {\n          var brightnessValue = new Color(this.options.color).percBrightness();\n\n          if (brightnessValue > 180) {\n            labels.color = BLACK;\n          } else {\n            labels.color = WHITE;\n          }\n        }\n\n        if (!labels.background) {\n          labels.background = this.options.color;\n        }\n      } else {\n        var themeLabels = chartService.theme.seriesDefaults.labels;\n        labels.color = labels.color || themeLabels.color;\n        labels.background = labels.background || themeLabels.background;\n      }\n\n      this.label = new TextBox(labelText, deepExtend({}, labels, {\n        align: CENTER,\n        vAlign: \"\",\n        animation: {\n          type: FADEIN,\n          delay: this.animationDelay\n        }\n      }), pointData);\n      this.append(this.label);\n    }\n  };\n\n  PieSegment.prototype.reflow = function reflow(targetBox) {\n    this.render();\n    this.box = targetBox;\n    this.reflowLabel();\n  };\n\n  PieSegment.prototype.reflowLabel = function reflowLabel() {\n    var ref = this;\n    var labelsOptions = ref.options.labels;\n    var label = ref.label;\n    var sector = this.sector.clone();\n    var labelsDistance = labelsOptions.distance;\n    var angle = sector.middle();\n\n    if (label) {\n      var labelHeight = label.box.height();\n      var labelWidth = label.box.width();\n      var lp;\n\n      if (labelsOptions.position === CENTER) {\n        sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;\n        lp = sector.point(angle);\n        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n      } else if (labelsOptions.position === INSIDE_END) {\n        sector.radius = sector.radius - labelHeight / 2;\n        lp = sector.point(angle);\n        label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n      } else {\n        var x1;\n        lp = sector.clone().expand(labelsDistance).point(angle);\n\n        if (lp.x >= sector.center.x) {\n          x1 = lp.x + labelWidth;\n          label.orientation = RIGHT;\n        } else {\n          x1 = lp.x - labelWidth;\n          label.orientation = LEFT;\n        }\n\n        label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));\n      }\n    }\n  };\n\n  PieSegment.prototype.createVisual = function createVisual() {\n    var this$1 = this;\n    var ref = this;\n    var sector = ref.sector;\n    var options = ref.options;\n    ChartElement.prototype.createVisual.call(this);\n\n    if (this.value) {\n      if (options.visual) {\n        var startAngle = (sector.startAngle + 180) % 360;\n        var visual = options.visual({\n          category: this.category,\n          dataItem: this.dataItem,\n          value: this.value,\n          series: this.series,\n          percentage: this.percentage,\n          center: new geom.Point(sector.center.x, sector.center.y),\n          radius: sector.radius,\n          innerRadius: sector.innerRadius,\n          startAngle: startAngle,\n          endAngle: startAngle + sector.angle,\n          options: options,\n          sender: this.getSender(),\n          createVisual: function () {\n            var group = new draw.Group();\n            this$1.createSegmentVisual(group);\n            return group;\n          }\n        });\n\n        if (visual) {\n          this.visual.append(visual);\n        }\n      } else {\n        this.createSegmentVisual(this.visual);\n      }\n    }\n  };\n\n  PieSegment.prototype.createSegmentVisual = function createSegmentVisual(group) {\n    var ref = this;\n    var sector = ref.sector;\n    var options = ref.options;\n    var borderOptions = options.border || {};\n    var border = borderOptions.width > 0 ? {\n      stroke: {\n        color: borderOptions.color,\n        width: borderOptions.width,\n        opacity: borderOptions.opacity,\n        dashType: borderOptions.dashType\n      }\n    } : {};\n    var color = options.color;\n    var fill = {\n      color: color,\n      opacity: options.opacity\n    };\n    var visual = this.createSegment(sector, deepExtend({\n      fill: fill,\n      stroke: {\n        opacity: options.opacity\n      },\n      zIndex: options.zIndex\n    }, border));\n    group.append(visual);\n\n    if (hasGradientOverlay(options)) {\n      group.append(this.createGradientOverlay(visual, {\n        baseColor: color,\n        fallbackFill: fill\n      }, deepExtend({\n        center: [sector.center.x, sector.center.y],\n        innerRadius: sector.innerRadius,\n        radius: sector.radius,\n        userSpace: true\n      }, options.overlay)));\n    }\n  };\n\n  PieSegment.prototype.createSegment = function createSegment(sector, options) {\n    if (options.singleSegment) {\n      return new draw.Circle(new geom.Circle(new geom.Point(sector.center.x, sector.center.y), sector.radius), options);\n    }\n\n    return ShapeBuilder.current.createRing(sector, options);\n  };\n\n  PieSegment.prototype.createAnimation = function createAnimation() {\n    var ref = this;\n    var options = ref.options;\n    var center = ref.sector.center;\n    deepExtend(options, {\n      animation: {\n        center: [center.x, center.y],\n        delay: this.animationDelay\n      }\n    });\n    ChartElement.prototype.createAnimation.call(this);\n  };\n\n  PieSegment.prototype.createHighlight = function createHighlight(options) {\n    var highlight = this.options.highlight || {};\n    var border = highlight.border || {};\n    return this.createSegment(this.sector, deepExtend({}, options, {\n      fill: {\n        color: highlight.color,\n        opacity: highlight.opacity\n      },\n      stroke: {\n        opacity: border.opacity,\n        width: border.width,\n        color: border.color\n      }\n    }));\n  };\n\n  PieSegment.prototype.highlightVisual = function highlightVisual() {\n    return this.visual.children[0];\n  };\n\n  PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs() {\n    var sector = this.sector;\n    return {\n      options: this.options,\n      radius: sector.radius,\n      innerRadius: sector.innerRadius,\n      center: new geom.Point(sector.center.x, sector.center.y),\n      startAngle: sector.startAngle,\n      endAngle: sector.angle + sector.startAngle,\n      visual: this.visual\n    };\n  };\n\n  PieSegment.prototype.tooltipAnchor = function tooltipAnchor() {\n    var sector = this.sector.clone().expand(TOOLTIP_OFFSET);\n    var midAndle = sector.middle();\n    var midPoint = sector.point(midAndle);\n    return {\n      point: midPoint,\n      align: tooltipAlignment(midAndle + 180)\n    };\n  };\n\n  PieSegment.prototype.formatValue = function formatValue(format) {\n    return this.owner.formatPointValue(this, format);\n  };\n\n  PieSegment.prototype.pointData = function pointData() {\n    return {\n      dataItem: this.dataItem,\n      category: this.category,\n      value: this.value,\n      series: this.series,\n      percentage: this.percentage\n    };\n  };\n\n  return PieSegment;\n}(ChartElement);\n\nvar RAD_30 = round(rad(30), DEFAULT_PRECISION);\nvar RAD_60 = round(rad(60), DEFAULT_PRECISION);\n\nfunction tooltipAlignment(angle) {\n  var radians = rad(angle);\n  var sine = round(Math.sin(radians), DEFAULT_PRECISION);\n  var cosine = round(Math.cos(radians), DEFAULT_PRECISION);\n  var horizontal;\n\n  if (Math.abs(sine) > RAD_60) {\n    horizontal = CENTER;\n  } else if (cosine < 0) {\n    horizontal = RIGHT;\n  } else {\n    horizontal = LEFT;\n  }\n\n  var vertical;\n\n  if (Math.abs(sine) < RAD_30) {\n    vertical = CENTER;\n  } else if (sine < 0) {\n    vertical = BOTTOM;\n  } else {\n    vertical = TOP;\n  }\n\n  return {\n    horizontal: horizontal,\n    vertical: vertical\n  };\n}\n\nsetDefaultOptions(PieSegment, {\n  color: WHITE,\n  overlay: {\n    gradient: \"roundedBevel\"\n  },\n  border: {\n    width: 0.5\n  },\n  labels: {\n    visible: false,\n    distance: 35,\n    font: DEFAULT_FONT,\n    margin: getSpacing(0.5),\n    align: CIRCLE,\n    zIndex: 1,\n    position: OUTSIDE_END\n  },\n  animation: {\n    type: PIE\n  },\n  highlight: {\n    visible: true,\n    border: {\n      width: 1\n    }\n  },\n  visible: true\n});\ndeepExtend(PieSegment.prototype, PointEventsMixin);\nexport default PieSegment;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/chart/pie-chart/pie-segment.js"],"names":["drawing","draw","geometry","geom","Color","ChartElement","ShapeBuilder","TextBox","Box","PointEventsMixin","OUTSIDE_END","INSIDE_END","PIE","FADEIN","TOOLTIP_OFFSET","hasGradientOverlay","TOP","BOTTOM","LEFT","RIGHT","DEFAULT_FONT","CIRCLE","WHITE","BLACK","CENTER","DEFAULT_PRECISION","setDefaultOptions","getSpacing","getTemplate","deepExtend","round","rad","PieSegment","value","sector","options","call","__proto__","prototype","Object","create","constructor","render","labels","chartService","owner","labelText","_rendered","visible","labelTemplate","pointData","format","auto","position","color","brightnessValue","percBrightness","background","themeLabels","theme","seriesDefaults","label","align","vAlign","animation","type","delay","animationDelay","append","reflow","targetBox","box","reflowLabel","ref","labelsOptions","clone","labelsDistance","distance","angle","middle","labelHeight","height","labelWidth","width","lp","radius","Math","abs","point","x","y","x1","expand","center","orientation","createVisual","this$1","visual","startAngle","category","dataItem","series","percentage","Point","innerRadius","endAngle","sender","getSender","group","Group","createSegmentVisual","borderOptions","border","stroke","opacity","dashType","fill","createSegment","zIndex","createGradientOverlay","baseColor","fallbackFill","userSpace","overlay","singleSegment","Circle","current","createRing","createAnimation","createHighlight","highlight","highlightVisual","children","highlightVisualArgs","tooltipAnchor","midAndle","midPoint","tooltipAlignment","formatValue","formatPointValue","RAD_30","RAD_60","radians","sine","sin","cosine","cos","horizontal","vertical","gradient","font","margin"],"mappings":"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","sourcesContent":["import { drawing as draw, geometry as geom, Color } from '@progress/kendo-drawing';\n\nimport { ChartElement, ShapeBuilder, TextBox, Box } from '../../core';\n\nimport PointEventsMixin from '../mixins/point-events-mixin';\n\nimport { OUTSIDE_END, INSIDE_END, PIE, FADEIN, TOOLTIP_OFFSET } from '../constants';\nimport hasGradientOverlay from '../utils/has-gradient-overlay';\n\nimport { TOP, BOTTOM, LEFT, RIGHT, DEFAULT_FONT, CIRCLE, WHITE, BLACK, CENTER, DEFAULT_PRECISION } from '../../common/constants';\nimport { setDefaultOptions, getSpacing, getTemplate, deepExtend, round, rad } from '../../common';\n\nvar PieSegment = (function (ChartElement) {\n    function PieSegment(value, sector, options) {\n        ChartElement.call(this, options);\n\n        this.value = value;\n        this.sector = sector;\n    }\n\n    if ( ChartElement ) PieSegment.__proto__ = ChartElement;\n    PieSegment.prototype = Object.create( ChartElement && ChartElement.prototype );\n    PieSegment.prototype.constructor = PieSegment;\n\n    PieSegment.prototype.render = function render () {\n        var labels = this.options.labels;\n        var chartService = this.owner.chartService;\n        var labelText = this.value;\n\n        if (this._rendered || this.visible === false) {\n            return;\n        }\n        this._rendered = true;\n\n        var labelTemplate = getTemplate(labels);\n        var pointData = this.pointData();\n\n        if (labelTemplate) {\n            labelText = labelTemplate(pointData);\n        } else if (labels.format) {\n            labelText = chartService.format.auto(labels.format, labelText);\n        }\n\n        if (labels.visible && (labelText || labelText === 0)) {\n            if (labels.position === CENTER || labels.position === INSIDE_END) {\n                if (!labels.color) {\n                    var brightnessValue = new Color(this.options.color).percBrightness();\n                    if (brightnessValue > 180) {\n                        labels.color = BLACK;\n                    } else {\n                        labels.color = WHITE;\n                    }\n                }\n                if (!labels.background) {\n                    labels.background = this.options.color;\n                }\n            } else {\n                var themeLabels = chartService.theme.seriesDefaults.labels;\n                labels.color = labels.color || themeLabels.color;\n                labels.background = labels.background || themeLabels.background;\n            }\n\n\n            this.label = new TextBox(labelText, deepExtend({}, labels, {\n                align: CENTER,\n                vAlign: \"\",\n                animation: {\n                    type: FADEIN,\n                    delay: this.animationDelay\n                }\n            }), pointData);\n\n            this.append(this.label);\n        }\n    };\n\n    PieSegment.prototype.reflow = function reflow (targetBox) {\n        this.render();\n        this.box = targetBox;\n        this.reflowLabel();\n    };\n\n    PieSegment.prototype.reflowLabel = function reflowLabel () {\n        var ref = this;\n        var labelsOptions = ref.options.labels;\n        var label = ref.label;\n        var sector = this.sector.clone();\n        var labelsDistance = labelsOptions.distance;\n        var angle = sector.middle();\n\n        if (label) {\n            var labelHeight = label.box.height();\n            var labelWidth = label.box.width();\n            var lp;\n\n            if (labelsOptions.position === CENTER) {\n                sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;\n                lp = sector.point(angle);\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else if (labelsOptions.position === INSIDE_END) {\n                sector.radius = sector.radius - labelHeight / 2;\n                lp = sector.point(angle);\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else {\n                var x1;\n                lp = sector.clone().expand(labelsDistance).point(angle);\n                if (lp.x >= sector.center.x) {\n                    x1 = lp.x + labelWidth;\n                    label.orientation = RIGHT;\n                } else {\n                    x1 = lp.x - labelWidth;\n                    label.orientation = LEFT;\n                }\n                label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));\n            }\n        }\n    };\n\n    PieSegment.prototype.createVisual = function createVisual () {\n        var this$1 = this;\n\n        var ref = this;\n        var sector = ref.sector;\n        var options = ref.options;\n\n        ChartElement.prototype.createVisual.call(this);\n\n        if (this.value) {\n            if (options.visual) {\n                var startAngle = (sector.startAngle + 180) % 360;\n                var visual = options.visual({\n                    category: this.category,\n                    dataItem: this.dataItem,\n                    value: this.value,\n                    series: this.series,\n                    percentage: this.percentage,\n                    center: new geom.Point(sector.center.x, sector.center.y),\n                    radius: sector.radius,\n                    innerRadius: sector.innerRadius,\n                    startAngle: startAngle,\n                    endAngle: startAngle + sector.angle,\n                    options: options,\n                    sender: this.getSender(),\n                    createVisual: function () {\n                        var group = new draw.Group();\n                        this$1.createSegmentVisual(group);\n\n                        return group;\n                    }\n                });\n\n                if (visual) {\n                    this.visual.append(visual);\n                }\n            } else {\n                this.createSegmentVisual(this.visual);\n            }\n        }\n    };\n\n    PieSegment.prototype.createSegmentVisual = function createSegmentVisual (group) {\n        var ref = this;\n        var sector = ref.sector;\n        var options = ref.options;\n        var borderOptions = options.border || {};\n        var border = borderOptions.width > 0 ? {\n            stroke: {\n                color: borderOptions.color,\n                width: borderOptions.width,\n                opacity: borderOptions.opacity,\n                dashType: borderOptions.dashType\n            }\n        } : {};\n        var color = options.color;\n        var fill = {\n            color: color,\n            opacity: options.opacity\n        };\n        var visual = this.createSegment(sector, deepExtend({\n            fill: fill,\n            stroke: {\n                opacity: options.opacity\n            },\n            zIndex: options.zIndex\n        }, border));\n\n        group.append(visual);\n\n        if (hasGradientOverlay(options)) {\n            group.append(this.createGradientOverlay(visual, {\n                baseColor: color,\n                fallbackFill: fill\n            }, deepExtend({\n                center: [ sector.center.x, sector.center.y ],\n                innerRadius: sector.innerRadius,\n                radius: sector.radius,\n                userSpace: true\n            }, options.overlay)));\n        }\n    };\n\n    PieSegment.prototype.createSegment = function createSegment (sector, options) {\n        if (options.singleSegment) {\n            return new draw.Circle(new geom.Circle(new geom.Point(sector.center.x, sector.center.y), sector.radius), options);\n        }\n\n        return ShapeBuilder.current.createRing(sector, options);\n    };\n\n    PieSegment.prototype.createAnimation = function createAnimation () {\n        var ref = this;\n        var options = ref.options;\n        var center = ref.sector.center;\n\n        deepExtend(options, {\n            animation: {\n                center: [ center.x, center.y ],\n                delay: this.animationDelay\n            }\n        });\n\n        ChartElement.prototype.createAnimation.call(this);\n    };\n\n    PieSegment.prototype.createHighlight = function createHighlight (options) {\n        var highlight = this.options.highlight || {};\n        var border = highlight.border || {};\n\n        return this.createSegment(this.sector, deepExtend({}, options, {\n            fill: {\n                color: highlight.color,\n                opacity: highlight.opacity\n            },\n            stroke: {\n                opacity: border.opacity,\n                width: border.width,\n                color: border.color\n            }\n        }));\n    };\n\n    PieSegment.prototype.highlightVisual = function highlightVisual () {\n        return this.visual.children[0];\n    };\n\n    PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        var sector = this.sector;\n\n        return {\n            options: this.options,\n            radius: sector.radius,\n            innerRadius: sector.innerRadius,\n            center: new geom.Point(sector.center.x, sector.center.y),\n            startAngle: sector.startAngle,\n            endAngle: sector.angle + sector.startAngle,\n            visual: this.visual\n        };\n    };\n\n    PieSegment.prototype.tooltipAnchor = function tooltipAnchor () {\n        var sector = this.sector.clone().expand(TOOLTIP_OFFSET);\n        var midAndle = sector.middle();\n        var midPoint = sector.point(midAndle);\n\n        return {\n            point: midPoint,\n            align: tooltipAlignment(midAndle + 180)\n        };\n    };\n\n    PieSegment.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    PieSegment.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            series: this.series,\n            percentage: this.percentage\n        };\n    };\n\n    return PieSegment;\n}(ChartElement));\n\nvar RAD_30 = round(rad(30), DEFAULT_PRECISION);\nvar RAD_60 = round(rad(60), DEFAULT_PRECISION);\n\nfunction tooltipAlignment(angle) {\n    var radians = rad(angle);\n    var sine = round(Math.sin(radians), DEFAULT_PRECISION);\n    var cosine = round(Math.cos(radians), DEFAULT_PRECISION);\n\n\n    var horizontal;\n    if (Math.abs(sine) > RAD_60) {\n        horizontal = CENTER;\n    } else if (cosine < 0) {\n        horizontal = RIGHT;\n    } else {\n        horizontal = LEFT;\n    }\n\n    var vertical;\n    if (Math.abs(sine) < RAD_30) {\n        vertical = CENTER;\n    } else if (sine < 0) {\n        vertical = BOTTOM;\n    } else {\n        vertical = TOP;\n    }\n\n    return {\n        horizontal: horizontal,\n        vertical: vertical\n    };\n}\n\nsetDefaultOptions(PieSegment, {\n    color: WHITE,\n    overlay: {\n        gradient: \"roundedBevel\"\n    },\n    border: {\n        width: 0.5\n    },\n    labels: {\n        visible: false,\n        distance: 35,\n        font: DEFAULT_FONT,\n        margin: getSpacing(0.5),\n        align: CIRCLE,\n        zIndex: 1,\n        position: OUTSIDE_END\n    },\n    animation: {\n        type: PIE\n    },\n    highlight: {\n        visible: true,\n        border: {\n            width: 1\n        }\n    },\n    visible: true\n});\n\ndeepExtend(PieSegment.prototype, PointEventsMixin);\n\nexport default PieSegment;"]},"metadata":{},"sourceType":"module"}