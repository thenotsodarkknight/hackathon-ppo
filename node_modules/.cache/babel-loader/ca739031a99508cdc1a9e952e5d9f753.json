{"ast":null,"code":"import CategoryAxis from './category-axis';\nimport AxisLabel from './axis-label';\nimport { DEFAULT_PRECISION, MAX_VALUE, OBJECT, DATE, X, Y } from '../common/constants';\nimport { deepExtend, defined, inArray, last, limitValue, round, setDefaultOptions, sparseArrayLimits } from '../common';\nimport { MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS, TIME_PER_MINUTE, TIME_PER_HOUR, TIME_PER_DAY, TIME_PER_WEEK, TIME_PER_MONTH, TIME_PER_YEAR, TIME_PER_UNIT } from '../date-utils/constants';\nimport { dateComparer, toDate, addTicks, addDuration, dateDiff, absoluteDateDiff, dateIndex, dateEquals, toTime, parseDate, parseDates } from '../date-utils';\nimport { DateLabelFormats } from './constants';\nvar AUTO = \"auto\";\nvar BASE_UNITS = [MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS];\nvar FIT = \"fit\";\n\nfunction categoryRange(categories) {\n  var range = categories._range;\n\n  if (!range) {\n    range = categories._range = sparseArrayLimits(categories);\n    range.min = toDate(range.min);\n    range.max = toDate(range.max);\n  }\n\n  return range;\n}\n\nvar EmptyDateRange = function EmptyDateRange(options) {\n  this.options = options;\n};\n\nEmptyDateRange.prototype.displayIndices = function displayIndices() {\n  return {\n    min: 0,\n    max: 1\n  };\n};\n\nEmptyDateRange.prototype.displayRange = function displayRange() {\n  return {};\n};\n\nEmptyDateRange.prototype.total = function total() {\n  return {};\n};\n\nEmptyDateRange.prototype.valueRange = function valueRange() {\n  return {};\n};\n\nEmptyDateRange.prototype.valueIndex = function valueIndex() {\n  return -1;\n};\n\nEmptyDateRange.prototype.values = function values() {\n  return [];\n};\n\nEmptyDateRange.prototype.totalIndex = function totalIndex() {\n  return -1;\n};\n\nEmptyDateRange.prototype.valuesCount = function valuesCount() {\n  return 0;\n};\n\nEmptyDateRange.prototype.totalCount = function totalCount() {\n  return 0;\n};\n\nEmptyDateRange.prototype.dateAt = function dateAt() {\n  return null;\n};\n\nvar DateRange = function DateRange(start, end, options) {\n  this.options = options;\n  options.baseUnitStep = options.baseUnitStep || 1;\n  var roundToBaseUnit = options.roundToBaseUnit;\n  var justified = options.justified;\n  this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);\n  var lowerEnd = this.roundToTotalStep(end);\n  var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;\n  this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);\n  var min = options.min || start;\n  this.valueStart = this.roundToTotalStep(min);\n  this.displayStart = roundToBaseUnit ? this.valueStart : min;\n  var max = options.max;\n\n  if (!max) {\n    this.valueEnd = lowerEnd;\n    this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;\n  } else {\n    this.valueEnd = this.roundToTotalStep(max, false, !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0);\n    this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;\n  }\n\n  if (this.valueEnd < this.valueStart) {\n    this.valueEnd = this.valueStart;\n  }\n\n  if (this.displayEnd <= this.displayStart) {\n    this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);\n  }\n};\n\nDateRange.prototype.displayRange = function displayRange() {\n  return {\n    min: this.displayStart,\n    max: this.displayEnd\n  };\n};\n\nDateRange.prototype.displayIndices = function displayIndices() {\n  if (!this._indices) {\n    var options = this.options;\n    var baseUnit = options.baseUnit;\n    var baseUnitStep = options.baseUnitStep;\n    var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);\n    var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);\n    this._indices = {\n      min: minIdx,\n      max: maxIdx\n    };\n  }\n\n  return this._indices;\n};\n\nDateRange.prototype.total = function total() {\n  return {\n    min: this.start,\n    max: this.end\n  };\n};\n\nDateRange.prototype.totalCount = function totalCount() {\n  var last = this.totalIndex(this.end);\n  return last + (this.options.justified ? 1 : 0);\n};\n\nDateRange.prototype.valueRange = function valueRange() {\n  return {\n    min: this.valueStart,\n    max: this.valueEnd\n  };\n};\n\nDateRange.prototype.valueIndex = function valueIndex(value) {\n  var options = this.options;\n  return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.totalIndex = function totalIndex(value) {\n  var options = this.options;\n  return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.dateIndex = function dateIndex$1(value) {\n  var options = this.options;\n  return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);\n};\n\nDateRange.prototype.valuesCount = function valuesCount() {\n  var maxIdx = this.valueIndex(this.valueEnd);\n  return maxIdx + 1;\n};\n\nDateRange.prototype.values = function values() {\n  var values = this._values;\n\n  if (!values) {\n    var options = this.options;\n    var range = this.valueRange();\n    this._values = values = [];\n\n    for (var date = range.min; date <= range.max;) {\n      values.push(date);\n      date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);\n    }\n  }\n\n  return values;\n};\n\nDateRange.prototype.dateAt = function dateAt(index, total) {\n  var options = this.options;\n  return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);\n};\n\nDateRange.prototype.roundToTotalStep = function roundToTotalStep(value, upper, next) {\n  var ref = this.options;\n  var baseUnit = ref.baseUnit;\n  var baseUnitStep = ref.baseUnitStep;\n  var weekStartDay = ref.weekStartDay;\n  var start = this.start;\n  var step = dateIndex(value, start, baseUnit, baseUnitStep);\n  var roundedStep = upper ? Math.ceil(step) : Math.floor(step);\n\n  if (next) {\n    roundedStep += next;\n  }\n\n  return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);\n};\n\nfunction autoBaseUnit(options, startUnit, startStep) {\n  var categoryLimits = categoryRange(options.categories);\n  var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);\n  var autoBaseUnitSteps = options.autoBaseUnitSteps;\n  var maxDateGroups = options.maxDateGroups;\n  var autoUnit = options.baseUnit === FIT;\n  var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;\n  var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;\n  var units = span / TIME_PER_UNIT[baseUnit];\n  var totalUnits = units;\n  var unitSteps, step, nextStep;\n\n  while (!step || units >= maxDateGroups) {\n    unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n\n    do {\n      nextStep = unitSteps.shift();\n    } while (nextStep && startUnit === baseUnit && nextStep < startStep);\n\n    if (nextStep) {\n      step = nextStep;\n      units = totalUnits / step;\n    } else if (baseUnit === last(BASE_UNITS)) {\n      step = Math.ceil(totalUnits / maxDateGroups);\n      break;\n    } else if (autoUnit) {\n      baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n      totalUnits = span / TIME_PER_UNIT[baseUnit];\n      unitSteps = null;\n    } else {\n      if (units > maxDateGroups) {\n        step = Math.ceil(totalUnits / maxDateGroups);\n      }\n\n      break;\n    }\n  }\n\n  options.baseUnitStep = step;\n  options.baseUnit = baseUnit;\n}\n\nfunction defaultBaseUnit(options) {\n  var categories = options.categories;\n  var count = defined(categories) ? categories.length : 0;\n  var minDiff = MAX_VALUE;\n  var lastCategory, unit;\n\n  for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n    var category = categories[categoryIx];\n\n    if (category && lastCategory) {\n      var diff = absoluteDateDiff(category, lastCategory);\n\n      if (diff > 0) {\n        minDiff = Math.min(minDiff, diff);\n\n        if (minDiff >= TIME_PER_YEAR) {\n          unit = YEARS;\n        } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n          unit = MONTHS;\n        } else if (minDiff >= TIME_PER_WEEK) {\n          unit = WEEKS;\n        } else if (minDiff >= TIME_PER_DAY) {\n          unit = DAYS;\n        } else if (minDiff >= TIME_PER_HOUR) {\n          unit = HOURS;\n        } else if (minDiff >= TIME_PER_MINUTE) {\n          unit = MINUTES;\n        } else {\n          unit = SECONDS;\n        }\n      }\n    }\n\n    lastCategory = category;\n  }\n\n  options.baseUnit = unit || DAYS;\n}\n\nfunction initUnit(options) {\n  var baseUnit = (options.baseUnit || \"\").toLowerCase();\n  var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n\n  if (useDefault) {\n    defaultBaseUnit(options);\n  }\n\n  if (baseUnit === FIT || options.baseUnitStep === AUTO) {\n    autoBaseUnit(options);\n  }\n\n  return options;\n}\n\nvar DateCategoryAxis = function (CategoryAxis) {\n  function DateCategoryAxis() {\n    CategoryAxis.apply(this, arguments);\n  }\n\n  if (CategoryAxis) DateCategoryAxis.__proto__ = CategoryAxis;\n  DateCategoryAxis.prototype = Object.create(CategoryAxis && CategoryAxis.prototype);\n  DateCategoryAxis.prototype.constructor = DateCategoryAxis;\n\n  DateCategoryAxis.prototype.clone = function clone() {\n    var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);\n    copy.createLabels();\n    return copy;\n  };\n\n  DateCategoryAxis.prototype.categoriesHash = function categoriesHash() {\n    var start = this.dataRange.total().min;\n    return this.options.baseUnit + this.options.baseUnitStep + start;\n  };\n\n  DateCategoryAxis.prototype.initUserOptions = function initUserOptions(options) {\n    return options;\n  };\n\n  DateCategoryAxis.prototype.initFields = function initFields() {\n    CategoryAxis.prototype.initFields.call(this);\n    var chartService = this.chartService;\n    var intlService = chartService.intl;\n    var options = this.options;\n    var categories = options.categories || [];\n\n    if (!categories._parsed) {\n      categories = parseDates(intlService, categories);\n      categories._parsed = true;\n    }\n\n    options = deepExtend({\n      roundToBaseUnit: true\n    }, options, {\n      categories: categories,\n      min: parseDate(intlService, options.min),\n      max: parseDate(intlService, options.max)\n    });\n\n    if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {\n      options.roundToBaseUnit = false;\n    }\n\n    options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n    options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n    this.options = options;\n    options.srcCategories = categories;\n\n    if (categories.length > 0) {\n      var range = categoryRange(categories);\n      var maxDivisions = options.maxDivisions;\n      this.dataRange = new DateRange(range.min, range.max, initUnit(options));\n\n      if (maxDivisions) {\n        var dataRange = this.dataRange.displayRange();\n        var divisionOptions = Object.assign({}, options, {\n          justified: true,\n          roundToBaseUnit: false,\n          baseUnit: 'fit',\n          min: dataRange.min,\n          max: dataRange.max,\n          maxDateGroups: maxDivisions\n        });\n        var dataRangeOptions = this.dataRange.options;\n        autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);\n        this.divisionRange = new DateRange(range.min, range.max, divisionOptions);\n      } else {\n        this.divisionRange = this.dataRange;\n      }\n    } else {\n      options.baseUnit = options.baseUnit || DAYS;\n      this.dataRange = this.divisionRange = new EmptyDateRange(options);\n    }\n  };\n\n  DateCategoryAxis.prototype.tickIndices = function tickIndices(stepSize) {\n    var ref = this;\n    var dataRange = ref.dataRange;\n    var divisionRange = ref.divisionRange;\n    var valuesCount = divisionRange.valuesCount();\n\n    if (!this.options.maxDivisions || !valuesCount) {\n      return CategoryAxis.prototype.tickIndices.call(this, stepSize);\n    }\n\n    var indices = [];\n    var values = divisionRange.values();\n    var offset = 0;\n\n    if (!this.options.justified) {\n      values = values.concat(divisionRange.dateAt(valuesCount));\n      offset = 0.5; //align ticks to the center of not justified categories\n    }\n\n    for (var idx = 0; idx < values.length; idx++) {\n      indices.push(dataRange.dateIndex(values[idx]) + offset);\n\n      if (stepSize !== 1 && idx >= 1) {\n        var last = indices.length - 1;\n        indices.splice(idx, 0, indices[last - 1] + (indices[last] - indices[last - 1]) * stepSize);\n      }\n    }\n\n    return indices;\n  };\n\n  DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote(value) {\n    var range = this.range();\n    var categories = this.options.categories || [];\n    return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n  };\n\n  DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue(value) {\n    return parseDate(this.chartService.intl, value);\n  };\n\n  DateCategoryAxis.prototype.noteSlot = function noteSlot(value) {\n    return this.getSlot(value);\n  };\n\n  DateCategoryAxis.prototype.translateRange = function translateRange(delta) {\n    var options = this.options;\n    var baseUnit = options.baseUnit;\n    var weekStartDay = options.weekStartDay;\n    var vertical = options.vertical;\n    var lineBox = this.lineBox();\n    var size = vertical ? lineBox.height() : lineBox.width();\n    var range = this.range();\n    var scale = size / (range.max - range.min);\n    var offset = round(delta / scale, DEFAULT_PRECISION);\n\n    if (range.min && range.max) {\n      var from = addTicks(options.min || range.min, offset);\n      var to = addTicks(options.max || range.max, offset);\n      range = {\n        min: addDuration(from, 0, baseUnit, weekStartDay),\n        max: addDuration(to, 0, baseUnit, weekStartDay)\n      };\n    }\n\n    return range;\n  };\n\n  DateCategoryAxis.prototype.scaleRange = function scaleRange(delta) {\n    var rounds = Math.abs(delta);\n    var result = this.range();\n    var from = result.min;\n    var to = result.max;\n\n    if (from && to) {\n      while (rounds--) {\n        var range = dateDiff(from, to);\n        var step = Math.round(range * 0.1);\n\n        if (delta < 0) {\n          from = addTicks(from, step);\n          to = addTicks(to, -step);\n        } else {\n          from = addTicks(from, -step);\n          to = addTicks(to, step);\n        }\n      }\n\n      result = {\n        min: from,\n        max: to\n      };\n    }\n\n    return result;\n  };\n\n  DateCategoryAxis.prototype.labelsRange = function labelsRange() {\n    return {\n      min: this.options.labels.skip,\n      max: this.divisionRange.valuesCount()\n    };\n  };\n\n  DateCategoryAxis.prototype.pan = function pan(delta) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    var options = this.options;\n    var lineBox = this.lineBox();\n    var size = options.vertical ? lineBox.height() : lineBox.width();\n    var ref = this.dataRange.displayRange();\n    var min = ref.min;\n    var max = ref.max;\n    var totalLimits = this.dataRange.total();\n    var scale = size / (max - min);\n    var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);\n    var from = addTicks(min, offset);\n    var to = addTicks(max, offset);\n    var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n\n    if (panRange) {\n      panRange.min = toDate(panRange.min);\n      panRange.max = toDate(panRange.max);\n      panRange.baseUnit = options.baseUnit;\n      panRange.baseUnitStep = options.baseUnitStep || 1;\n      panRange.userSetBaseUnit = options.userSetBaseUnit;\n      panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n      return panRange;\n    }\n  };\n\n  DateCategoryAxis.prototype.pointsRange = function pointsRange(start, end) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    var pointsRange = CategoryAxis.prototype.pointsRange.call(this, start, end);\n    var datesRange = this.dataRange.displayRange();\n    var indicesRange = this.dataRange.displayIndices();\n    var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n    var options = this.options;\n    var min = addTicks(datesRange.min, pointsRange.min * scale);\n    var max = addTicks(datesRange.min, pointsRange.max * scale);\n    return {\n      min: min,\n      max: max,\n      baseUnit: options.userSetBaseUnit || options.baseUnit,\n      baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n    };\n  };\n\n  DateCategoryAxis.prototype.zoomRange = function zoomRange(delta) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    var options = this.options;\n    var fit = options.userSetBaseUnit === FIT;\n    var totalLimits = this.dataRange.total();\n    var ref = this.dataRange.displayRange();\n    var rangeMin = ref.min;\n    var rangeMax = ref.max;\n    var ref$1 = this.dataRange.options;\n    var weekStartDay = ref$1.weekStartDay;\n    var baseUnit = ref$1.baseUnit;\n    var baseUnitStep = ref$1.baseUnitStep;\n    var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);\n    var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);\n\n    if (fit) {\n      var autoBaseUnitSteps = options.autoBaseUnitSteps;\n      var maxDateGroups = options.maxDateGroups;\n      var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n      var rangeDiff = dateDiff(rangeMax, rangeMin);\n      var diff = dateDiff(max, min);\n      var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);\n      var autoBaseUnitStep, ticks;\n\n      if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n        baseUnit = BASE_UNITS[baseUnitIndex - 1];\n        autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n        ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n        min = addTicks(rangeMin, ticks);\n        max = addTicks(rangeMax, -ticks);\n      } else if (diff > maxDiff && baseUnit !== YEARS) {\n        var stepIndex = 0;\n\n        do {\n          baseUnitIndex++;\n          baseUnit = BASE_UNITS[baseUnitIndex];\n          stepIndex = 0;\n          ticks = 2 * TIME_PER_UNIT[baseUnit];\n\n          do {\n            autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n            stepIndex++;\n          } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n        } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n\n        ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n\n        if (ticks > 0) {\n          min = addTicks(rangeMin, -ticks);\n          max = addTicks(rangeMax, ticks);\n          min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n          max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n        }\n      }\n    }\n\n    if (min < totalLimits.min) {\n      min = totalLimits.min;\n    }\n\n    if (max > totalLimits.max) {\n      max = totalLimits.max;\n    }\n\n    if (min && max && dateDiff(max, min) > 0) {\n      return {\n        min: min,\n        max: max,\n        baseUnit: options.userSetBaseUnit || options.baseUnit,\n        baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n      };\n    }\n  };\n\n  DateCategoryAxis.prototype.range = function range() {\n    return this.dataRange.displayRange();\n  };\n\n  DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel(index, labelOptions) {\n    var options = this.options;\n    var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;\n    var date = this.divisionRange.dateAt(index);\n    var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n    labelOptions.format = labelOptions.format || unitFormat;\n    var text = this.axisLabelText(date, dataItem, labelOptions);\n\n    if (text) {\n      return new AxisLabel(date, text, index, dataItem, labelOptions);\n    }\n  };\n\n  DateCategoryAxis.prototype.categoryIndex = function categoryIndex(value) {\n    return this.dataRange.valueIndex(value);\n  };\n\n  DateCategoryAxis.prototype.slot = function slot(from, to, limit) {\n    var dateRange = this.dataRange;\n    var start = from;\n    var end = to;\n\n    if (start instanceof Date) {\n      start = dateRange.dateIndex(start);\n    }\n\n    if (end instanceof Date) {\n      end = dateRange.dateIndex(end);\n    }\n\n    var slot = this.getSlot(start, end, limit);\n\n    if (slot) {\n      return slot.toRect();\n    }\n  };\n\n  DateCategoryAxis.prototype.getSlot = function getSlot(a, b, limit) {\n    var start = a;\n    var end = b;\n\n    if (typeof start === OBJECT) {\n      start = this.categoryIndex(start);\n    }\n\n    if (typeof end === OBJECT) {\n      end = this.categoryIndex(end);\n    }\n\n    return CategoryAxis.prototype.getSlot.call(this, start, end, limit);\n  };\n\n  DateCategoryAxis.prototype.valueRange = function valueRange() {\n    var options = this.options;\n    var range = categoryRange(options.srcCategories);\n    return {\n      min: toDate(range.min),\n      max: toDate(range.max)\n    };\n  };\n\n  DateCategoryAxis.prototype.categoryAt = function categoryAt(index, total) {\n    return this.dataRange.dateAt(index, total);\n  };\n\n  DateCategoryAxis.prototype.categoriesCount = function categoriesCount() {\n    return this.dataRange.valuesCount();\n  };\n\n  DateCategoryAxis.prototype.rangeIndices = function rangeIndices() {\n    return this.dataRange.displayIndices();\n  };\n\n  DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks() {\n    return !this.divisionRange.options.justified;\n  };\n\n  DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions() {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    this.options.categories = this.dataRange.values();\n  };\n\n  DateCategoryAxis.prototype.getCategory = function getCategory(point) {\n    var index = this.pointCategoryIndex(point);\n\n    if (index === null) {\n      return null;\n    }\n\n    return this.dataRange.dateAt(index);\n  };\n\n  DateCategoryAxis.prototype.totalIndex = function totalIndex(value) {\n    return this.dataRange.totalIndex(value);\n  };\n\n  DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices() {\n    var range = this.dataRange.valueRange();\n    return {\n      min: this.dataRange.totalIndex(range.min),\n      max: this.dataRange.totalIndex(range.max)\n    };\n  };\n\n  DateCategoryAxis.prototype.totalRange = function totalRange() {\n    return this.dataRange.total();\n  };\n\n  DateCategoryAxis.prototype.totalCount = function totalCount() {\n    return this.dataRange.totalCount();\n  };\n\n  DateCategoryAxis.prototype.isEmpty = function isEmpty() {\n    return !this.options.srcCategories.length;\n  };\n\n  DateCategoryAxis.prototype.roundedRange = function roundedRange() {\n    if (this.options.roundToBaseUnit !== false || this.isEmpty()) {\n      return this.range();\n    }\n\n    var options = this.options;\n    var datesRange = categoryRange(options.srcCategories);\n    var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {\n      justified: false,\n      roundToBaseUnit: true,\n      justifyEnd: options.justified\n    }));\n    return dateRange.displayRange();\n  };\n\n  return DateCategoryAxis;\n}(CategoryAxis);\n\nsetDefaultOptions(DateCategoryAxis, {\n  type: DATE,\n  labels: {\n    dateFormats: DateLabelFormats\n  },\n  autoBaseUnitSteps: {\n    milliseconds: [1, 10, 100],\n    seconds: [1, 2, 5, 15, 30],\n    minutes: [1, 2, 5, 15, 30],\n    hours: [1, 2, 3],\n    days: [1, 2, 3],\n    weeks: [1, 2],\n    months: [1, 2, 3, 6],\n    years: [1, 2, 3, 5, 10, 25, 50]\n  },\n  maxDateGroups: 10\n});\nexport default DateCategoryAxis;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/core/date-category-axis.js"],"names":["CategoryAxis","AxisLabel","DEFAULT_PRECISION","MAX_VALUE","OBJECT","DATE","X","Y","deepExtend","defined","inArray","last","limitValue","round","setDefaultOptions","sparseArrayLimits","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","WEEKS","MONTHS","YEARS","TIME_PER_MINUTE","TIME_PER_HOUR","TIME_PER_DAY","TIME_PER_WEEK","TIME_PER_MONTH","TIME_PER_YEAR","TIME_PER_UNIT","dateComparer","toDate","addTicks","addDuration","dateDiff","absoluteDateDiff","dateIndex","dateEquals","toTime","parseDate","parseDates","DateLabelFormats","AUTO","BASE_UNITS","FIT","categoryRange","categories","range","_range","min","max","EmptyDateRange","options","prototype","displayIndices","displayRange","total","valueRange","valueIndex","values","totalIndex","valuesCount","totalCount","dateAt","DateRange","start","end","baseUnitStep","roundToBaseUnit","justified","baseUnit","weekStartDay","lowerEnd","roundToTotalStep","expandEnd","justifyEnd","valueStart","displayStart","valueEnd","displayEnd","_indices","minIdx","maxIdx","value","Math","floor","dateIndex$1","_values","date","push","index","upper","next","ref","step","roundedStep","ceil","autoBaseUnit","startUnit","startStep","categoryLimits","span","autoBaseUnitSteps","maxDateGroups","autoUnit","autoUnitIx","indexOf","units","totalUnits","unitSteps","nextStep","slice","shift","defaultBaseUnit","count","length","minDiff","lastCategory","unit","categoryIx","category","diff","initUnit","toLowerCase","useDefault","DateCategoryAxis","apply","arguments","__proto__","Object","create","constructor","clone","copy","assign","chartService","createLabels","categoriesHash","dataRange","initUserOptions","initFields","call","intlService","intl","_parsed","panning","isPannable","vertical","userSetBaseUnit","userSetBaseUnitStep","srcCategories","maxDivisions","divisionOptions","dataRangeOptions","divisionRange","tickIndices","stepSize","indices","offset","concat","idx","splice","shouldRenderNote","parseNoteValue","noteSlot","getSlot","translateRange","delta","lineBox","size","height","width","scale","from","to","scaleRange","rounds","abs","result","labelsRange","labels","skip","pan","isEmpty","totalLimits","reverse","panRange","limitRange","pointsRange","datesRange","indicesRange","zoomRange","fit","rangeMin","rangeMax","ref$1","maxDiff","rangeDiff","baseUnitIndex","autoBaseUnitStep","ticks","stepIndex","createAxisLabel","labelOptions","dataItem","dataItems","unitFormat","dateFormats","format","text","axisLabelText","categoryIndex","slot","limit","dateRange","Date","toRect","a","b","categoryAt","categoriesCount","rangeIndices","labelsBetweenTicks","prepareUserOptions","getCategory","point","pointCategoryIndex","currentRangeIndices","totalRange","roundedRange","type","milliseconds","seconds","minutes","hours","days","weeks","months","years"],"mappings":"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","sourcesContent":["import CategoryAxis from './category-axis';\nimport AxisLabel from './axis-label';\n\nimport { DEFAULT_PRECISION, MAX_VALUE, OBJECT, DATE, X, Y } from '../common/constants';\nimport { deepExtend, defined, inArray, last, limitValue, round, setDefaultOptions, sparseArrayLimits } from '../common';\n\nimport { MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS,\n    TIME_PER_MINUTE, TIME_PER_HOUR, TIME_PER_DAY, TIME_PER_WEEK,\n    TIME_PER_MONTH, TIME_PER_YEAR, TIME_PER_UNIT } from '../date-utils/constants';\nimport { dateComparer, toDate, addTicks, addDuration, dateDiff, absoluteDateDiff,\n    dateIndex, dateEquals, toTime, parseDate, parseDates } from '../date-utils';\n\nimport { DateLabelFormats } from './constants';\n\nvar AUTO = \"auto\";\nvar BASE_UNITS = [\n    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS\n];\nvar FIT = \"fit\";\n\n\nfunction categoryRange(categories) {\n    var range = categories._range;\n    if (!range) {\n        range = categories._range = sparseArrayLimits(categories);\n        range.min = toDate(range.min);\n        range.max = toDate(range.max);\n    }\n\n    return range;\n}\n\nvar EmptyDateRange = function EmptyDateRange(options) {\n    this.options = options;\n};\n\nEmptyDateRange.prototype.displayIndices = function displayIndices () {\n    return {\n        min: 0,\n        max: 1\n    };\n};\n\nEmptyDateRange.prototype.displayRange = function displayRange () {\n    return {};\n};\n\nEmptyDateRange.prototype.total = function total () {\n    return {};\n};\n\nEmptyDateRange.prototype.valueRange = function valueRange () {\n    return {};\n};\n\nEmptyDateRange.prototype.valueIndex = function valueIndex () {\n    return -1;\n};\n\nEmptyDateRange.prototype.values = function values () {\n    return [];\n};\n\nEmptyDateRange.prototype.totalIndex = function totalIndex () {\n    return -1;\n};\n\nEmptyDateRange.prototype.valuesCount = function valuesCount () {\n    return 0;\n};\n\nEmptyDateRange.prototype.totalCount = function totalCount () {\n    return 0;\n};\n\nEmptyDateRange.prototype.dateAt = function dateAt () {\n    return null;\n};\n\nvar DateRange = function DateRange(start, end, options) {\n    this.options = options;\n    options.baseUnitStep = options.baseUnitStep || 1;\n\n    var roundToBaseUnit = options.roundToBaseUnit;\n    var justified = options.justified;\n\n    this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);\n    var lowerEnd = this.roundToTotalStep(end);\n    var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;\n\n    this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);\n\n    var min = options.min || start;\n    this.valueStart = this.roundToTotalStep(min);\n    this.displayStart = roundToBaseUnit ? this.valueStart : min;\n\n    var max = options.max;\n    if (!max) {\n        this.valueEnd = lowerEnd;\n        this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;\n    } else {\n        this.valueEnd = this.roundToTotalStep(max, false, !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0);\n        this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;\n    }\n\n    if (this.valueEnd < this.valueStart) {\n        this.valueEnd = this.valueStart;\n    }\n    if (this.displayEnd <= this.displayStart) {\n        this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);\n    }\n};\n\nDateRange.prototype.displayRange = function displayRange () {\n    return {\n        min: this.displayStart,\n        max: this.displayEnd\n    };\n};\n\nDateRange.prototype.displayIndices = function displayIndices () {\n    if (!this._indices) {\n        var options = this.options;\n\n        var baseUnit = options.baseUnit;\n            var baseUnitStep = options.baseUnitStep;\n\n        var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);\n        var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);\n\n        this._indices = { min: minIdx, max: maxIdx };\n    }\n\n    return this._indices;\n};\n\nDateRange.prototype.total = function total () {\n    return {\n        min: this.start,\n        max: this.end\n    };\n};\n\nDateRange.prototype.totalCount = function totalCount () {\n    var last = this.totalIndex(this.end);\n\n    return last + (this.options.justified ? 1 : 0);\n};\n\nDateRange.prototype.valueRange = function valueRange () {\n    return {\n        min: this.valueStart,\n        max: this.valueEnd\n    };\n};\n\nDateRange.prototype.valueIndex = function valueIndex (value) {\n    var options = this.options;\n    return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.totalIndex = function totalIndex (value) {\n    var options = this.options;\n    return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.dateIndex = function dateIndex$1 (value) {\n    var options = this.options;\n    return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);\n};\n\nDateRange.prototype.valuesCount = function valuesCount () {\n    var maxIdx = this.valueIndex(this.valueEnd);\n\n    return maxIdx + 1;\n};\n\nDateRange.prototype.values = function values () {\n    var values = this._values;\n    if (!values) {\n        var options = this.options;\n        var range = this.valueRange();\n        this._values = values = [];\n\n        for (var date = range.min; date <= range.max;) {\n            values.push(date);\n            date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);\n        }\n    }\n\n    return values;\n};\n\nDateRange.prototype.dateAt = function dateAt (index, total) {\n    var options = this.options;\n\n    return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);\n};\n\nDateRange.prototype.roundToTotalStep = function roundToTotalStep (value, upper, next) {\n    var ref = this.options;\n        var baseUnit = ref.baseUnit;\n        var baseUnitStep = ref.baseUnitStep;\n        var weekStartDay = ref.weekStartDay;\n    var start = this.start;\n\n    var step = dateIndex(value, start, baseUnit, baseUnitStep);\n    var roundedStep = upper ? Math.ceil(step) : Math.floor(step);\n\n    if (next) {\n        roundedStep += next;\n    }\n\n    return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);\n};\n\nfunction autoBaseUnit(options, startUnit, startStep) {\n    var categoryLimits = categoryRange(options.categories);\n    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);\n    var autoBaseUnitSteps = options.autoBaseUnitSteps;\n    var maxDateGroups = options.maxDateGroups;\n    var autoUnit = options.baseUnit === FIT;\n    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;\n    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;\n    var units = span / TIME_PER_UNIT[baseUnit];\n    var totalUnits = units;\n    var unitSteps, step, nextStep;\n\n    while (!step || units >= maxDateGroups) {\n        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n\n        do {\n            nextStep = unitSteps.shift();\n        } while (nextStep && startUnit === baseUnit && nextStep < startStep);\n\n        if (nextStep) {\n            step = nextStep;\n            units = totalUnits / step;\n        } else if (baseUnit === last(BASE_UNITS)) {\n            step = Math.ceil(totalUnits / maxDateGroups);\n            break;\n        } else if (autoUnit) {\n            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n            totalUnits = span / TIME_PER_UNIT[baseUnit];\n            unitSteps = null;\n        } else {\n            if (units > maxDateGroups) {\n                step = Math.ceil(totalUnits / maxDateGroups);\n            }\n            break;\n        }\n    }\n\n    options.baseUnitStep = step;\n    options.baseUnit = baseUnit;\n}\n\nfunction defaultBaseUnit(options) {\n    var categories = options.categories;\n    var count = defined(categories) ? categories.length : 0;\n    var minDiff = MAX_VALUE;\n    var lastCategory, unit;\n\n    for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n        var category = categories[categoryIx];\n\n        if (category && lastCategory) {\n            var diff = absoluteDateDiff(category, lastCategory);\n            if (diff > 0) {\n                minDiff = Math.min(minDiff, diff);\n\n                if (minDiff >= TIME_PER_YEAR) {\n                    unit = YEARS;\n                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n                    unit = MONTHS;\n                } else if (minDiff >= TIME_PER_WEEK) {\n                    unit = WEEKS;\n                } else if (minDiff >= TIME_PER_DAY) {\n                    unit = DAYS;\n                } else if (minDiff >= TIME_PER_HOUR) {\n                    unit = HOURS;\n                } else if (minDiff >= TIME_PER_MINUTE) {\n                    unit = MINUTES;\n                } else {\n                    unit = SECONDS;\n                }\n            }\n        }\n\n        lastCategory = category;\n    }\n\n    options.baseUnit = unit || DAYS;\n}\n\nfunction initUnit(options) {\n    var baseUnit = (options.baseUnit || \"\").toLowerCase();\n    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n\n    if (useDefault) {\n        defaultBaseUnit(options);\n    }\n\n    if (baseUnit === FIT || options.baseUnitStep === AUTO) {\n        autoBaseUnit(options);\n    }\n\n    return options;\n}\n\nvar DateCategoryAxis = (function (CategoryAxis) {\n    function DateCategoryAxis () {\n        CategoryAxis.apply(this, arguments);\n    }\n\n    if ( CategoryAxis ) DateCategoryAxis.__proto__ = CategoryAxis;\n    DateCategoryAxis.prototype = Object.create( CategoryAxis && CategoryAxis.prototype );\n    DateCategoryAxis.prototype.constructor = DateCategoryAxis;\n\n    DateCategoryAxis.prototype.clone = function clone () {\n        var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);\n        copy.createLabels();\n\n        return copy;\n    };\n\n    DateCategoryAxis.prototype.categoriesHash = function categoriesHash () {\n        var start = this.dataRange.total().min;\n        return this.options.baseUnit + this.options.baseUnitStep + start;\n    };\n\n    DateCategoryAxis.prototype.initUserOptions = function initUserOptions (options) {\n        return options;\n    };\n\n    DateCategoryAxis.prototype.initFields = function initFields () {\n        CategoryAxis.prototype.initFields.call(this);\n\n        var chartService = this.chartService;\n        var intlService = chartService.intl;\n        var options = this.options;\n\n        var categories = options.categories || [];\n        if (!categories._parsed) {\n            categories = parseDates(intlService, categories);\n            categories._parsed = true;\n        }\n\n        options = deepExtend({\n            roundToBaseUnit: true\n        }, options, {\n            categories: categories,\n            min: parseDate(intlService, options.min),\n            max: parseDate(intlService, options.max)\n        });\n\n        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {\n            options.roundToBaseUnit = false;\n        }\n\n        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n\n        this.options = options;\n        options.srcCategories = categories;\n\n        if (categories.length > 0) {\n            var range = categoryRange(categories);\n            var maxDivisions = options.maxDivisions;\n\n            this.dataRange = new DateRange(range.min, range.max, initUnit(options));\n\n            if (maxDivisions) {\n                var dataRange = this.dataRange.displayRange();\n\n                var divisionOptions = Object.assign({}, options, {\n                    justified: true,\n                    roundToBaseUnit: false,\n                    baseUnit: 'fit',\n                    min: dataRange.min,\n                    max: dataRange.max,\n                    maxDateGroups: maxDivisions\n                });\n\n                var dataRangeOptions = this.dataRange.options;\n\n                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);\n\n                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);\n            } else {\n                this.divisionRange = this.dataRange;\n            }\n\n        } else {\n            options.baseUnit = options.baseUnit || DAYS;\n            this.dataRange = this.divisionRange = new EmptyDateRange(options);\n        }\n    };\n\n    DateCategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {\n        var ref = this;\n        var dataRange = ref.dataRange;\n        var divisionRange = ref.divisionRange;\n        var valuesCount = divisionRange.valuesCount();\n\n        if (!this.options.maxDivisions || !valuesCount) {\n            return CategoryAxis.prototype.tickIndices.call(this, stepSize);\n        }\n\n        var indices = [];\n        var values = divisionRange.values();\n        var offset = 0;\n\n        if (!this.options.justified) {\n            values = values.concat(divisionRange.dateAt(valuesCount));\n            offset = 0.5;//align ticks to the center of not justified categories\n        }\n\n        for (var idx = 0; idx < values.length; idx++) {\n            indices.push(dataRange.dateIndex(values[idx]) + offset);\n            if (stepSize !== 1 && idx >= 1) {\n                var last = indices.length - 1;\n                indices.splice(idx, 0, indices[last - 1] + (indices[last] - indices[last - 1]) * stepSize);\n            }\n        }\n\n        return indices;\n    };\n\n    DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.range();\n        var categories = this.options.categories || [];\n\n        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n    };\n\n    DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue (value) {\n        return parseDate(this.chartService.intl, value);\n    };\n\n    DateCategoryAxis.prototype.noteSlot = function noteSlot (value) {\n        return this.getSlot(value);\n    };\n\n    DateCategoryAxis.prototype.translateRange = function translateRange (delta) {\n        var options = this.options;\n        var baseUnit = options.baseUnit;\n        var weekStartDay = options.weekStartDay;\n        var vertical = options.vertical;\n        var lineBox = this.lineBox();\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var range = this.range();\n        var scale = size / (range.max - range.min);\n        var offset = round(delta / scale, DEFAULT_PRECISION);\n\n        if (range.min && range.max) {\n            var from = addTicks(options.min || range.min, offset);\n            var to = addTicks(options.max || range.max, offset);\n\n            range = {\n                min: addDuration(from, 0, baseUnit, weekStartDay),\n                max: addDuration(to, 0, baseUnit, weekStartDay)\n            };\n        }\n\n        return range;\n    };\n\n    DateCategoryAxis.prototype.scaleRange = function scaleRange (delta) {\n        var rounds = Math.abs(delta);\n        var result = this.range();\n        var from = result.min;\n        var to = result.max;\n\n        if (from && to) {\n            while (rounds--) {\n                var range = dateDiff(from, to);\n                var step = Math.round(range * 0.1);\n                if (delta < 0) {\n                    from = addTicks(from, step);\n                    to = addTicks(to, -step);\n                } else {\n                    from = addTicks(from, -step);\n                    to = addTicks(to, step);\n                }\n            }\n\n            result = { min: from, max: to };\n        }\n\n        return result;\n    };\n\n    DateCategoryAxis.prototype.labelsRange = function labelsRange () {\n        return {\n            min: this.options.labels.skip,\n            max: this.divisionRange.valuesCount()\n        };\n    };\n\n    DateCategoryAxis.prototype.pan = function pan (delta) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var size = options.vertical ? lineBox.height() : lineBox.width();\n        var ref = this.dataRange.displayRange();\n        var min = ref.min;\n        var max = ref.max;\n        var totalLimits = this.dataRange.total();\n        var scale = size / (max - min);\n        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);\n        var from = addTicks(min, offset);\n        var to = addTicks(max, offset);\n\n        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n\n        if (panRange) {\n            panRange.min = toDate(panRange.min);\n            panRange.max = toDate(panRange.max);\n            panRange.baseUnit = options.baseUnit;\n            panRange.baseUnitStep = options.baseUnitStep || 1;\n            panRange.userSetBaseUnit = options.userSetBaseUnit;\n            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n\n            return panRange;\n        }\n    };\n\n    DateCategoryAxis.prototype.pointsRange = function pointsRange (start, end) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var pointsRange = CategoryAxis.prototype.pointsRange.call(this, start, end);\n        var datesRange = this.dataRange.displayRange();\n        var indicesRange = this.dataRange.displayIndices();\n        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n        var options = this.options;\n\n        var min = addTicks(datesRange.min, pointsRange.min * scale);\n        var max = addTicks(datesRange.min, pointsRange.max * scale);\n\n        return {\n            min: min,\n            max: max,\n            baseUnit: options.userSetBaseUnit || options.baseUnit,\n            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n        };\n    };\n\n    DateCategoryAxis.prototype.zoomRange = function zoomRange (delta) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var options = this.options;\n        var fit = options.userSetBaseUnit === FIT;\n        var totalLimits = this.dataRange.total();\n        var ref = this.dataRange.displayRange();\n        var rangeMin = ref.min;\n        var rangeMax = ref.max;\n        var ref$1 = this.dataRange.options;\n        var weekStartDay = ref$1.weekStartDay;\n        var baseUnit = ref$1.baseUnit;\n        var baseUnitStep = ref$1.baseUnitStep;\n        var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);\n        var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);\n\n        if (fit) {\n            var autoBaseUnitSteps = options.autoBaseUnitSteps;\n            var maxDateGroups = options.maxDateGroups;\n\n            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n            var rangeDiff = dateDiff(rangeMax, rangeMin);\n            var diff = dateDiff(max, min);\n            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);\n            var autoBaseUnitStep, ticks;\n\n            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n                baseUnit = BASE_UNITS[baseUnitIndex - 1];\n                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n                min = addTicks(rangeMin, ticks);\n                max = addTicks(rangeMax, -ticks);\n\n            } else if (diff > maxDiff && baseUnit !== YEARS) {\n                var stepIndex = 0;\n\n                do {\n                    baseUnitIndex++;\n                    baseUnit = BASE_UNITS[baseUnitIndex];\n                    stepIndex = 0;\n                    ticks = 2 * TIME_PER_UNIT[baseUnit];\n                    do {\n                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n                        stepIndex++;\n                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n\n                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n                if (ticks > 0) {\n                    min = addTicks(rangeMin, -ticks);\n                    max = addTicks(rangeMax, ticks);\n                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n                }\n            }\n        }\n\n        if (min < totalLimits.min) {\n            min = totalLimits.min;\n        }\n        if (max > totalLimits.max) {\n            max = totalLimits.max;\n        }\n\n        if (min && max && dateDiff(max, min) > 0) {\n            return {\n                min: min,\n                max: max,\n                baseUnit: options.userSetBaseUnit || options.baseUnit,\n                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n            };\n        }\n    };\n\n    DateCategoryAxis.prototype.range = function range () {\n        return this.dataRange.displayRange();\n    };\n\n    DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {\n        var options = this.options;\n        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;\n        var date = this.divisionRange.dateAt(index);\n        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n\n        labelOptions.format = labelOptions.format || unitFormat;\n        var text = this.axisLabelText(date, dataItem, labelOptions);\n        if (text) {\n            return new AxisLabel(date, text, index, dataItem, labelOptions);\n        }\n    };\n\n    DateCategoryAxis.prototype.categoryIndex = function categoryIndex (value) {\n        return this.dataRange.valueIndex(value);\n    };\n\n    DateCategoryAxis.prototype.slot = function slot (from, to, limit) {\n        var dateRange = this.dataRange;\n        var start = from;\n        var end = to;\n\n        if (start instanceof Date) {\n            start = dateRange.dateIndex(start);\n        }\n\n        if (end instanceof Date) {\n            end = dateRange.dateIndex(end);\n        }\n\n        var slot = this.getSlot(start, end, limit);\n        if (slot) {\n            return slot.toRect();\n        }\n    };\n\n    DateCategoryAxis.prototype.getSlot = function getSlot (a, b, limit) {\n        var start = a;\n        var end = b;\n\n        if (typeof start === OBJECT) {\n            start = this.categoryIndex(start);\n        }\n\n        if (typeof end === OBJECT) {\n            end = this.categoryIndex(end);\n        }\n\n        return CategoryAxis.prototype.getSlot.call(this, start, end, limit);\n    };\n\n    DateCategoryAxis.prototype.valueRange = function valueRange () {\n        var options = this.options;\n        var range = categoryRange(options.srcCategories);\n\n        return {\n            min: toDate(range.min),\n            max: toDate(range.max)\n        };\n    };\n\n    DateCategoryAxis.prototype.categoryAt = function categoryAt (index, total) {\n        return this.dataRange.dateAt(index, total);\n    };\n\n    DateCategoryAxis.prototype.categoriesCount = function categoriesCount () {\n        return this.dataRange.valuesCount();\n    };\n\n    DateCategoryAxis.prototype.rangeIndices = function rangeIndices () {\n        return this.dataRange.displayIndices();\n    };\n\n    DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {\n        return !this.divisionRange.options.justified;\n    };\n\n    DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions () {\n        if (this.isEmpty()) {\n            return;\n        }\n\n        this.options.categories = this.dataRange.values();\n    };\n\n    DateCategoryAxis.prototype.getCategory = function getCategory (point) {\n        var index = this.pointCategoryIndex(point);\n\n        if (index === null) {\n            return null;\n        }\n\n        return this.dataRange.dateAt(index);\n    };\n\n    DateCategoryAxis.prototype.totalIndex = function totalIndex (value) {\n        return this.dataRange.totalIndex(value);\n    };\n\n    DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {\n        var range = this.dataRange.valueRange();\n        return {\n            min: this.dataRange.totalIndex(range.min),\n            max: this.dataRange.totalIndex(range.max)\n        };\n    };\n\n    DateCategoryAxis.prototype.totalRange = function totalRange () {\n        return this.dataRange.total();\n    };\n\n    DateCategoryAxis.prototype.totalCount = function totalCount () {\n        return this.dataRange.totalCount();\n    };\n\n    DateCategoryAxis.prototype.isEmpty = function isEmpty () {\n        return !this.options.srcCategories.length;\n    };\n\n    DateCategoryAxis.prototype.roundedRange = function roundedRange () {\n        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {\n            return this.range();\n        }\n\n        var options = this.options;\n        var datesRange = categoryRange(options.srcCategories);\n\n        var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {\n            justified: false,\n            roundToBaseUnit: true,\n            justifyEnd: options.justified\n        }));\n\n        return dateRange.displayRange();\n    };\n\n    return DateCategoryAxis;\n}(CategoryAxis));\n\nsetDefaultOptions(DateCategoryAxis, {\n    type: DATE,\n    labels: {\n        dateFormats: DateLabelFormats\n    },\n    autoBaseUnitSteps: {\n        milliseconds: [ 1, 10, 100 ],\n        seconds: [ 1, 2, 5, 15, 30 ],\n        minutes: [ 1, 2, 5, 15, 30 ],\n        hours: [ 1, 2, 3 ],\n        days: [ 1, 2, 3 ],\n        weeks: [ 1, 2 ],\n        months: [ 1, 2, 3, 6 ],\n        years: [ 1, 2, 3, 5, 10, 25, 50 ]\n    },\n    maxDateGroups: 10\n});\n\nexport default DateCategoryAxis;\n"]},"metadata":{},"sourceType":"module"}