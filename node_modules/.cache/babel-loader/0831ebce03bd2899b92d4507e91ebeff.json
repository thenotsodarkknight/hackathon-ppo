{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, dispatchEvent } from '@progress/kendo-react-common';\nimport { getDirectParentId, isIdEmptyOrZeroLevel, EMPTY_ID, ZERO_LEVEL_ZERO_ITEM_ID, getRootParentId, getItemById } from '../utils/itemsIdsUtils';\nimport prepareInputItemsForInternalWork from '../utils/prepareInputItemsForInternalWork';\nimport getNewItemIdUponKeyboardNavigation from '../utils/getNewItemIdUponKeyboardNavigation';\nimport { getHoverOpenDelay, getHoverCloseDelay } from '../utils/hoverDelay';\nimport MenuItemInternalsList from './MenuItemInternalsList';\nimport DirectionHolder from '../utils/DirectionHolder';\nimport MouseOverHandler from '../utils/MouseOverHandler';\nvar initialItemsIds = {\n  focusedItemId: EMPTY_ID,\n  hoveredItemId: EMPTY_ID,\n  tabbableItemId: ZERO_LEVEL_ZERO_ITEM_ID\n};\n/**\n * Represents the [KendoReact Menu component]({% slug overview_menu %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    render() {\n *        return (\n *            <Menu>\n *                <MenuItem text=\"Item1\" />\n *                <MenuItem text=\"Item2\">\n *                    <MenuItem text=\"Item2.1\" />\n *                    <MenuItem text=\"Item2.2\" />\n *                </MenuItem>\n *                <MenuItem text=\"Item3\" />\n *            </Menu>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\n\nvar Menu =\n/** @class */\nfunction (_super) {\n  __extends(Menu, _super);\n\n  function Menu(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.guid = guid();\n    _this.directionHolder = new DirectionHolder();\n    /**\n     * Resets the selection and opening of Menu items.\n     */\n\n    _this.reset = function () {\n      _this.clearItemHoverAndLeaveRequestsIfApplicable();\n\n      _this.setState(initialItemsIds);\n    };\n\n    _this.onKeyDown = function (event) {\n      // The focusedItemId may be empty when contentRender is used.\n      // For example, content with input.\n      if (_this.state.focusedItemId !== EMPTY_ID) {\n        var currentItem = getItemById(_this.state.focusedItemId, _this.items);\n        var newItemId = getNewItemIdUponKeyboardNavigation(_this.items, currentItem.id, event.keyCode, event.key, _this.props.vertical, _this.directionHolder.getIsDirectionRightToLeft());\n\n        if (currentItem.id !== newItemId) {\n          event.preventDefault();\n\n          _this.setFocusedItemId(newItemId);\n        }\n\n        if ((event.keyCode === Keys.enter || event.keyCode === Keys.space) && !currentItem.disabled) {\n          _this.mouseOverHandler.handleItemSelectedViaKeyboard();\n\n          _this.dispatchSelectEventIfWired(event, currentItem.id);\n\n          if (!event.isDefaultPrevented() && currentItem.items.length === 0 && currentItem.url) {\n            window.location.assign(currentItem.url);\n          }\n        }\n      }\n    };\n\n    _this.onItemMouseOver = function (itemId) {\n      if (_this.mouseOverHandler.IsMouseOverEnabled) {\n        // The `over` event can get fired even without actually leaving the item.\n        // For example, move the mouse little by little over the item content.\n        _this.clearItemHoverAndLeaveRequestsIfApplicable();\n\n        _this.itemHoverRequest = setTimeout(function () {\n          _this.setHoveredItemId(itemId);\n\n          _this.itemHoverRequest = null;\n        }, getHoverOpenDelay(_this.props));\n      }\n    };\n\n    _this.onItemMouseLeave = function (itemId) {\n      if (_this.mouseOverHandler.IsMouseOverEnabled && _this.isItemWithDefaultClose(itemId)) {\n        // Both the `leave` and `hover` requests are cleared\n        // to be defensive and consistent with the `over` handler.\n        _this.clearItemHoverAndLeaveRequestsIfApplicable();\n\n        _this.itemLeaveRequest = setTimeout(function () {\n          _this.setHoveredItemId(EMPTY_ID);\n\n          _this.itemLeaveRequest = null;\n        }, getHoverCloseDelay(_this.props));\n      }\n    };\n\n    _this.onItemMouseDown = function () {\n      _this.mouseOverHandler.handleItemMouseDown();\n    };\n\n    _this.onItemFocus = function (itemId) {\n      _this.setFocusedItemId(itemId);\n\n      _this.mouseOverHandler.handleItemFocus();\n    };\n\n    _this.onItemClick = function (event, itemId) {\n      var item = getItemById(itemId, _this.items);\n\n      if (!item.disabled) {\n        _this.setFocusedItemId(itemId);\n\n        _this.mouseOverHandler.handleItemClick(itemId, _this.isItemWithDefaultClose(itemId));\n\n        _this.dispatchSelectEventIfWired(event, itemId);\n\n        if (!event.isDefaultPrevented() && item.url) {\n          window.location.assign(item.url);\n        }\n      }\n    };\n\n    _this.onItemBlur = function (itemId) {\n      if (_this.isItemWithDefaultClose(itemId)) {\n        _this.setFocusedItemId(EMPTY_ID);\n      }\n    };\n\n    _this.getInputItem = function (itemId) {\n      return getItemById(itemId, _this.inputItems);\n    };\n\n    _this.mouseOverHandler = new MouseOverHandler(_this.props.openOnClick, _this.reset, _this.onItemMouseOver);\n    _this.state = Object.assign({}, initialItemsIds, {\n      isFirstRender: true\n    });\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n\n\n  Menu.prototype.render = function () {\n    var _this = this;\n\n    this.prepareItems();\n\n    if (!this.state.isFirstRender) {\n      this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());\n    }\n\n    var lastItemIdToBeOpened = this.state.hoveredItemId ? this.state.hoveredItemId : this.state.focusedItemId ? getDirectParentId(this.state.focusedItemId) : EMPTY_ID;\n    return React.createElement(\"div\", {\n      onKeyDown: this.onKeyDown,\n      style: this.props.style,\n      className: this.getMenuWrapperClassName(),\n      ref: function (el) {\n        return _this.menuWrapperEl = el;\n      }\n    }, React.createElement(MenuItemInternalsList, {\n      className: this.getMenuClassName(),\n      \"aria-orientation\": this.props.vertical ? 'vertical' : undefined,\n      items: this.items,\n      isMenuVertical: this.props.vertical,\n      isDirectionRightToLeft: this.directionHolder.getIsDirectionRightToLeft(),\n      focusedItemId: this.state.focusedItemId,\n      lastItemIdToBeOpened: lastItemIdToBeOpened,\n      tabbableItemId: this.state.tabbableItemId,\n      itemRender: this.props.itemRender,\n      linkRender: this.props.linkRender,\n      menuGuid: this.guid,\n      onMouseLeave: this.onItemMouseLeave,\n      onMouseOver: this.onItemMouseOver,\n      onMouseDown: this.onItemMouseDown,\n      onFocus: this.onItemFocus,\n      onClick: this.onItemClick,\n      onBlur: this.onItemBlur,\n      onOriginalItemNeeded: this.getInputItem\n    }));\n  };\n  /**\n   * @hidden\n   */\n\n\n  Menu.prototype.componentDidMount = function () {\n    this.setState({\n      isFirstRender: false\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  Menu.prototype.componentDidUpdate = function (prevProps) {\n    // Reset the Menu upon big UI changes\n    // to avoid misleading the user and to\n    // keep the component consistent.\n    if (Boolean(prevProps.vertical) !== Boolean(this.props.vertical) || this.directionHolder.hasDirectionChanged()) {\n      this.reset();\n    }\n\n    this.mouseOverHandler.OpenOnClick = this.props.openOnClick;\n  };\n  /**\n   * @hidden\n   */\n\n\n  Menu.prototype.componentWillUnmount = function () {\n    this.clearItemHoverAndLeaveRequestsIfApplicable();\n  };\n\n  Menu.prototype.setFocusedItemId = function (focusedItemId) {\n    this.setState(function (prevState) {\n      var tabbableItemId = focusedItemId === EMPTY_ID ? prevState.tabbableItemId : getRootParentId(focusedItemId);\n      var hoveredItemId = focusedItemId === EMPTY_ID || isIdEmptyOrZeroLevel(prevState.hoveredItemId) && isIdEmptyOrZeroLevel(focusedItemId) ? prevState.hoveredItemId : EMPTY_ID;\n      return {\n        hoveredItemId: hoveredItemId,\n        focusedItemId: focusedItemId,\n        tabbableItemId: tabbableItemId\n      };\n    });\n  };\n\n  Menu.prototype.setHoveredItemId = function (hoveredItemId) {\n    this.setState(function (prevState) {\n      if (isIdEmptyOrZeroLevel(hoveredItemId) && isIdEmptyOrZeroLevel(prevState.focusedItemId)) {\n        return {\n          hoveredItemId: hoveredItemId,\n          focusedItemId: prevState.focusedItemId,\n          tabbableItemId: prevState.tabbableItemId\n        };\n      } else {\n        return {\n          hoveredItemId: hoveredItemId,\n          focusedItemId: EMPTY_ID,\n          tabbableItemId: ZERO_LEVEL_ZERO_ITEM_ID\n        };\n      }\n    });\n  };\n\n  Menu.prototype.getMenuWrapperClassName = function () {\n    return classNames({\n      'k-rtl': this.directionHolder.getIsDirectionRightToLeft()\n    }, this.props.className);\n  };\n\n  Menu.prototype.getMenuClassName = function () {\n    return classNames('k-widget', 'k-reset', 'k-header', 'k-menu', {\n      'k-menu-horizontal': !this.props.vertical\n    }, {\n      'k-menu-vertical': this.props.vertical\n    });\n  };\n\n  Menu.prototype.clearItemHoverAndLeaveRequestsIfApplicable = function () {\n    if (this.itemHoverRequest) {\n      clearTimeout(this.itemHoverRequest);\n      this.itemHoverRequest = null;\n    }\n\n    if (this.itemLeaveRequest) {\n      clearTimeout(this.itemLeaveRequest);\n      this.itemLeaveRequest = null;\n    }\n  };\n\n  Menu.prototype.isItemWithDefaultClose = function (itemId) {\n    return !this.props.customCloseItemIds || this.props.customCloseItemIds.indexOf(itemId) === -1;\n  };\n\n  Menu.prototype.checkIsDirectionRightToLeft = function () {\n    return this.props.dir !== undefined ? this.props.dir === 'rtl' : this.menuWrapperEl && getComputedStyle(this.menuWrapperEl).direction === 'rtl';\n  };\n\n  Menu.prototype.prepareItems = function () {\n    var _a = prepareInputItemsForInternalWork(this.props.items, this.props.children),\n        items = _a.items,\n        inputItems = _a.inputItems;\n\n    this.items = items;\n    this.inputItems = inputItems;\n  };\n\n  Menu.prototype.dispatchSelectEventIfWired = function (event, itemId) {\n    dispatchEvent(this.props.onSelect, event, this, {\n      item: this.getInputItem(itemId),\n      itemId: itemId\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  Menu.propTypes = {\n    vertical: PropTypes.bool,\n    items: PropTypes.arrayOf(PropTypes.object),\n    style: PropTypes.object,\n    dir: PropTypes.string,\n    hoverOpenDelay: PropTypes.number,\n    hoverCloseDelay: PropTypes.number,\n    openOnClick: PropTypes.bool,\n    itemRender: PropTypes.any,\n    linkRender: PropTypes.any,\n    customCloseItemIds: PropTypes.arrayOf(PropTypes.string),\n    onSelect: PropTypes.func\n  };\n  /**\n   * @hidden\n   */\n\n  Menu.defaultProps = {\n    vertical: false\n  };\n  return Menu;\n}(React.Component);\n\nexport default Menu;","map":{"version":3,"sources":["../../../../src/menu/components/Menu.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, dispatchEvent } from '@progress/kendo-react-common';\nimport { getDirectParentId, isIdEmptyOrZeroLevel, EMPTY_ID, ZERO_LEVEL_ZERO_ITEM_ID, getRootParentId, getItemById } from '../utils/itemsIdsUtils';\nimport prepareInputItemsForInternalWork from '../utils/prepareInputItemsForInternalWork';\nimport getNewItemIdUponKeyboardNavigation from '../utils/getNewItemIdUponKeyboardNavigation';\nimport { getHoverOpenDelay, getHoverCloseDelay } from '../utils/hoverDelay';\nimport MenuItemInternalsList from './MenuItemInternalsList';\nimport DirectionHolder from '../utils/DirectionHolder';\nimport MouseOverHandler from '../utils/MouseOverHandler';\nvar initialItemsIds = {\n    focusedItemId: EMPTY_ID,\n    hoveredItemId: EMPTY_ID,\n    tabbableItemId: ZERO_LEVEL_ZERO_ITEM_ID\n};\n/**\n * Represents the [KendoReact Menu component]({% slug overview_menu %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    render() {\n *        return (\n *            <Menu>\n *                <MenuItem text=\"Item1\" />\n *                <MenuItem text=\"Item2\">\n *                    <MenuItem text=\"Item2.1\" />\n *                    <MenuItem text=\"Item2.2\" />\n *                </MenuItem>\n *                <MenuItem text=\"Item3\" />\n *            </Menu>\n *        );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    function Menu(props) {\n        var _this = _super.call(this, props) || this;\n        _this.guid = guid();\n        _this.directionHolder = new DirectionHolder();\n        /**\n         * Resets the selection and opening of Menu items.\n         */\n        _this.reset = function () {\n            _this.clearItemHoverAndLeaveRequestsIfApplicable();\n            _this.setState(initialItemsIds);\n        };\n        _this.onKeyDown = function (event) {\n            // The focusedItemId may be empty when contentRender is used.\n            // For example, content with input.\n            if (_this.state.focusedItemId !== EMPTY_ID) {\n                var currentItem = getItemById(_this.state.focusedItemId, _this.items);\n                var newItemId = getNewItemIdUponKeyboardNavigation(_this.items, currentItem.id, event.keyCode, event.key, _this.props.vertical, _this.directionHolder.getIsDirectionRightToLeft());\n                if (currentItem.id !== newItemId) {\n                    event.preventDefault();\n                    _this.setFocusedItemId(newItemId);\n                }\n                if ((event.keyCode === Keys.enter || event.keyCode === Keys.space) && !currentItem.disabled) {\n                    _this.mouseOverHandler.handleItemSelectedViaKeyboard();\n                    _this.dispatchSelectEventIfWired(event, currentItem.id);\n                    if (!event.isDefaultPrevented() && currentItem.items.length === 0 && currentItem.url) {\n                        window.location.assign(currentItem.url);\n                    }\n                }\n            }\n        };\n        _this.onItemMouseOver = function (itemId) {\n            if (_this.mouseOverHandler.IsMouseOverEnabled) {\n                // The `over` event can get fired even without actually leaving the item.\n                // For example, move the mouse little by little over the item content.\n                _this.clearItemHoverAndLeaveRequestsIfApplicable();\n                _this.itemHoverRequest = setTimeout(function () {\n                    _this.setHoveredItemId(itemId);\n                    _this.itemHoverRequest = null;\n                }, getHoverOpenDelay(_this.props));\n            }\n        };\n        _this.onItemMouseLeave = function (itemId) {\n            if (_this.mouseOverHandler.IsMouseOverEnabled && _this.isItemWithDefaultClose(itemId)) {\n                // Both the `leave` and `hover` requests are cleared\n                // to be defensive and consistent with the `over` handler.\n                _this.clearItemHoverAndLeaveRequestsIfApplicable();\n                _this.itemLeaveRequest = setTimeout(function () {\n                    _this.setHoveredItemId(EMPTY_ID);\n                    _this.itemLeaveRequest = null;\n                }, getHoverCloseDelay(_this.props));\n            }\n        };\n        _this.onItemMouseDown = function () {\n            _this.mouseOverHandler.handleItemMouseDown();\n        };\n        _this.onItemFocus = function (itemId) {\n            _this.setFocusedItemId(itemId);\n            _this.mouseOverHandler.handleItemFocus();\n        };\n        _this.onItemClick = function (event, itemId) {\n            var item = getItemById(itemId, _this.items);\n            if (!item.disabled) {\n                _this.setFocusedItemId(itemId);\n                _this.mouseOverHandler.handleItemClick(itemId, _this.isItemWithDefaultClose(itemId));\n                _this.dispatchSelectEventIfWired(event, itemId);\n                if (!event.isDefaultPrevented() && item.url) {\n                    window.location.assign(item.url);\n                }\n            }\n        };\n        _this.onItemBlur = function (itemId) {\n            if (_this.isItemWithDefaultClose(itemId)) {\n                _this.setFocusedItemId(EMPTY_ID);\n            }\n        };\n        _this.getInputItem = function (itemId) {\n            return getItemById(itemId, _this.inputItems);\n        };\n        _this.mouseOverHandler = new MouseOverHandler(_this.props.openOnClick, _this.reset, _this.onItemMouseOver);\n        _this.state = Object.assign({}, initialItemsIds, { isFirstRender: true });\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Menu.prototype.render = function () {\n        var _this = this;\n        this.prepareItems();\n        if (!this.state.isFirstRender) {\n            this.directionHolder.setIsDirectionRightToLeft(this.checkIsDirectionRightToLeft());\n        }\n        var lastItemIdToBeOpened = this.state.hoveredItemId ?\n            this.state.hoveredItemId :\n            this.state.focusedItemId ? getDirectParentId(this.state.focusedItemId) : EMPTY_ID;\n        return (React.createElement(\"div\", { onKeyDown: this.onKeyDown, style: this.props.style, className: this.getMenuWrapperClassName(), ref: function (el) { return _this.menuWrapperEl = el; } },\n            React.createElement(MenuItemInternalsList, { className: this.getMenuClassName(), \"aria-orientation\": this.props.vertical ? 'vertical' : undefined, items: this.items, isMenuVertical: this.props.vertical, isDirectionRightToLeft: this.directionHolder.getIsDirectionRightToLeft(), focusedItemId: this.state.focusedItemId, lastItemIdToBeOpened: lastItemIdToBeOpened, tabbableItemId: this.state.tabbableItemId, itemRender: this.props.itemRender, linkRender: this.props.linkRender, menuGuid: this.guid, onMouseLeave: this.onItemMouseLeave, onMouseOver: this.onItemMouseOver, onMouseDown: this.onItemMouseDown, onFocus: this.onItemFocus, onClick: this.onItemClick, onBlur: this.onItemBlur, onOriginalItemNeeded: this.getInputItem })));\n    };\n    /**\n     * @hidden\n     */\n    Menu.prototype.componentDidMount = function () {\n        this.setState({ isFirstRender: false });\n    };\n    /**\n     * @hidden\n     */\n    Menu.prototype.componentDidUpdate = function (prevProps) {\n        // Reset the Menu upon big UI changes\n        // to avoid misleading the user and to\n        // keep the component consistent.\n        if (Boolean(prevProps.vertical) !== Boolean(this.props.vertical) ||\n            this.directionHolder.hasDirectionChanged()) {\n            this.reset();\n        }\n        this.mouseOverHandler.OpenOnClick = this.props.openOnClick;\n    };\n    /**\n     * @hidden\n     */\n    Menu.prototype.componentWillUnmount = function () {\n        this.clearItemHoverAndLeaveRequestsIfApplicable();\n    };\n    Menu.prototype.setFocusedItemId = function (focusedItemId) {\n        this.setState(function (prevState) {\n            var tabbableItemId = focusedItemId === EMPTY_ID ?\n                prevState.tabbableItemId : getRootParentId(focusedItemId);\n            var hoveredItemId = focusedItemId === EMPTY_ID ||\n                (isIdEmptyOrZeroLevel(prevState.hoveredItemId) && isIdEmptyOrZeroLevel(focusedItemId)) ?\n                prevState.hoveredItemId : EMPTY_ID;\n            return { hoveredItemId: hoveredItemId, focusedItemId: focusedItemId, tabbableItemId: tabbableItemId };\n        });\n    };\n    Menu.prototype.setHoveredItemId = function (hoveredItemId) {\n        this.setState(function (prevState) {\n            if (isIdEmptyOrZeroLevel(hoveredItemId) && isIdEmptyOrZeroLevel(prevState.focusedItemId)) {\n                return {\n                    hoveredItemId: hoveredItemId,\n                    focusedItemId: prevState.focusedItemId,\n                    tabbableItemId: prevState.tabbableItemId\n                };\n            }\n            else {\n                return { hoveredItemId: hoveredItemId, focusedItemId: EMPTY_ID, tabbableItemId: ZERO_LEVEL_ZERO_ITEM_ID };\n            }\n        });\n    };\n    Menu.prototype.getMenuWrapperClassName = function () {\n        return classNames({\n            'k-rtl': this.directionHolder.getIsDirectionRightToLeft()\n        }, this.props.className);\n    };\n    Menu.prototype.getMenuClassName = function () {\n        return classNames('k-widget', 'k-reset', 'k-header', 'k-menu', { 'k-menu-horizontal': !this.props.vertical }, { 'k-menu-vertical': this.props.vertical });\n    };\n    Menu.prototype.clearItemHoverAndLeaveRequestsIfApplicable = function () {\n        if (this.itemHoverRequest) {\n            clearTimeout(this.itemHoverRequest);\n            this.itemHoverRequest = null;\n        }\n        if (this.itemLeaveRequest) {\n            clearTimeout(this.itemLeaveRequest);\n            this.itemLeaveRequest = null;\n        }\n    };\n    Menu.prototype.isItemWithDefaultClose = function (itemId) {\n        return !this.props.customCloseItemIds || this.props.customCloseItemIds.indexOf(itemId) === -1;\n    };\n    Menu.prototype.checkIsDirectionRightToLeft = function () {\n        return this.props.dir !== undefined ? this.props.dir === 'rtl' :\n            this.menuWrapperEl && getComputedStyle(this.menuWrapperEl).direction === 'rtl';\n    };\n    Menu.prototype.prepareItems = function () {\n        var _a = prepareInputItemsForInternalWork(this.props.items, this.props.children), items = _a.items, inputItems = _a.inputItems;\n        this.items = items;\n        this.inputItems = inputItems;\n    };\n    Menu.prototype.dispatchSelectEventIfWired = function (event, itemId) {\n        dispatchEvent(this.props.onSelect, event, this, { item: this.getInputItem(itemId), itemId: itemId });\n    };\n    /**\n     * @hidden\n     */\n    Menu.propTypes = {\n        vertical: PropTypes.bool,\n        items: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.object,\n        dir: PropTypes.string,\n        hoverOpenDelay: PropTypes.number,\n        hoverCloseDelay: PropTypes.number,\n        openOnClick: PropTypes.bool,\n        itemRender: PropTypes.any,\n        linkRender: PropTypes.any,\n        customCloseItemIds: PropTypes.arrayOf(PropTypes.string),\n        onSelect: PropTypes.func\n    };\n    /**\n     * @hidden\n     */\n    Menu.defaultProps = { vertical: false };\n    return Menu;\n}(React.Component));\nexport default Menu;\n//# sourceMappingURL=Menu.js.map"]},"metadata":{},"sourceType":"module"}