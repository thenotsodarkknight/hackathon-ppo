{"ast":null,"code":"import { drawing as draw } from '@progress/kendo-drawing';\nimport { WHITE } from '../common/constants';\nimport { Class, deepExtend, defined, valueOrDefault } from '../common';\n\nvar ChartElement = function (Class) {\n  function ChartElement(options) {\n    Class.call(this);\n    this.children = [];\n    this.options = deepExtend({}, this.options, this.initUserOptions(options));\n  }\n\n  if (Class) ChartElement.__proto__ = Class;\n  ChartElement.prototype = Object.create(Class && Class.prototype);\n  ChartElement.prototype.constructor = ChartElement;\n\n  ChartElement.prototype.initUserOptions = function initUserOptions(options) {\n    return options;\n  };\n\n  ChartElement.prototype.reflow = function reflow(targetBox) {\n    var children = this.children;\n    var box;\n\n    for (var i = 0; i < children.length; i++) {\n      var currentChild = children[i];\n      currentChild.reflow(targetBox);\n      box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\n    }\n\n    this.box = box || targetBox;\n  };\n\n  ChartElement.prototype.destroy = function destroy() {\n    var children = this.children;\n\n    if (this.animation) {\n      this.animation.destroy();\n    }\n\n    for (var i = 0; i < children.length; i++) {\n      children[i].destroy();\n    }\n  };\n\n  ChartElement.prototype.getRoot = function getRoot() {\n    var parent = this.parent;\n    return parent ? parent.getRoot() : null;\n  };\n\n  ChartElement.prototype.getSender = function getSender() {\n    var service = this.getService();\n\n    if (service) {\n      return service.sender;\n    }\n  };\n\n  ChartElement.prototype.getService = function getService() {\n    var element = this;\n\n    while (element) {\n      if (element.chartService) {\n        return element.chartService;\n      }\n\n      element = element.parent;\n    }\n  };\n\n  ChartElement.prototype.translateChildren = function translateChildren(dx, dy) {\n    var children = this.children;\n    var childrenCount = children.length;\n\n    for (var i = 0; i < childrenCount; i++) {\n      children[i].box.translate(dx, dy);\n    }\n  };\n\n  ChartElement.prototype.append = function append() {\n    var arguments$1 = arguments;\n    var this$1 = this;\n\n    for (var i = 0; i < arguments.length; i++) {\n      var item = arguments$1[i];\n      this$1.children.push(item);\n      item.parent = this$1;\n    }\n  };\n\n  ChartElement.prototype.renderVisual = function renderVisual() {\n    if (this.options.visible === false) {\n      return;\n    }\n\n    this.createVisual();\n    this.addVisual();\n    this.renderChildren();\n    this.createAnimation();\n    this.renderComplete();\n  };\n\n  ChartElement.prototype.addVisual = function addVisual() {\n    if (this.visual) {\n      this.visual.chartElement = this;\n\n      if (this.parent) {\n        this.parent.appendVisual(this.visual);\n      }\n    }\n  };\n\n  ChartElement.prototype.renderChildren = function renderChildren() {\n    var children = this.children;\n    var length = children.length;\n\n    for (var i = 0; i < length; i++) {\n      children[i].renderVisual();\n    }\n  };\n\n  ChartElement.prototype.createVisual = function createVisual() {\n    this.visual = new draw.Group({\n      zIndex: this.options.zIndex,\n      visible: valueOrDefault(this.options.visible, true)\n    });\n  };\n\n  ChartElement.prototype.createAnimation = function createAnimation() {\n    if (this.visual && this.options.animation) {\n      this.animation = draw.Animation.create(this.visual, this.options.animation);\n    }\n  };\n\n  ChartElement.prototype.appendVisual = function appendVisual(childVisual) {\n    if (!childVisual.chartElement) {\n      childVisual.chartElement = this;\n    }\n\n    if (childVisual.options.noclip) {\n      this.clipRoot().visual.append(childVisual);\n    } else if (defined(childVisual.options.zIndex)) {\n      this.stackRoot().stackVisual(childVisual);\n    } else if (this.isStackRoot) {\n      this.stackVisual(childVisual);\n    } else if (this.visual) {\n      this.visual.append(childVisual);\n    } else {\n      // Allow chart elements without visuals to\n      // pass through child visuals\n      this.parent.appendVisual(childVisual);\n    }\n  };\n\n  ChartElement.prototype.clipRoot = function clipRoot() {\n    if (this.parent) {\n      return this.parent.clipRoot();\n    }\n\n    return this;\n  };\n\n  ChartElement.prototype.stackRoot = function stackRoot() {\n    if (this.parent) {\n      return this.parent.stackRoot();\n    }\n\n    return this;\n  };\n\n  ChartElement.prototype.stackVisual = function stackVisual(childVisual) {\n    var zIndex = childVisual.options.zIndex || 0;\n    var visuals = this.visual.children;\n    var length = visuals.length;\n    var pos;\n\n    for (pos = 0; pos < length; pos++) {\n      var sibling = visuals[pos];\n      var here = valueOrDefault(sibling.options.zIndex, 0);\n\n      if (here > zIndex) {\n        break;\n      }\n    }\n\n    this.visual.insert(pos, childVisual);\n  };\n\n  ChartElement.prototype.traverse = function traverse(callback) {\n    var children = this.children;\n    var length = children.length;\n\n    for (var i = 0; i < length; i++) {\n      var child = children[i];\n      callback(child);\n\n      if (child.traverse) {\n        child.traverse(callback);\n      }\n    }\n  };\n\n  ChartElement.prototype.closest = function closest(match) {\n    var element = this;\n    var matched = false;\n\n    while (element && !matched) {\n      matched = match(element);\n\n      if (!matched) {\n        element = element.parent;\n      }\n    }\n\n    if (matched) {\n      return element;\n    }\n  };\n\n  ChartElement.prototype.renderComplete = function renderComplete() {};\n\n  ChartElement.prototype.hasHighlight = function hasHighlight() {\n    var options = (this.options || {}).highlight;\n    return !(!this.createHighlight || options && options.visible === false);\n  };\n\n  ChartElement.prototype.toggleHighlight = function toggleHighlight(show) {\n    var this$1 = this;\n    var options = (this.options || {}).highlight || {};\n    var customVisual = options.visual;\n    var highlight = this._highlight;\n\n    if (!highlight) {\n      var highlightOptions = {\n        fill: {\n          color: WHITE,\n          opacity: 0.2\n        },\n        stroke: {\n          color: WHITE,\n          width: 1,\n          opacity: 0.2\n        }\n      };\n\n      if (customVisual) {\n        highlight = this._highlight = customVisual(Object.assign(this.highlightVisualArgs(), {\n          createVisual: function createVisual() {\n            return this$1.createHighlight(highlightOptions);\n          },\n          sender: this.getSender(),\n          series: this.series,\n          dataItem: this.dataItem,\n          category: this.category,\n          value: this.value,\n          percentage: this.percentage,\n          runningTotal: this.runningTotal,\n          total: this.total\n        }));\n\n        if (!highlight) {\n          return;\n        }\n      } else {\n        highlight = this._highlight = this.createHighlight(highlightOptions);\n      }\n\n      if (!defined(highlight.options.zIndex)) {\n        highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);\n      }\n\n      this.appendVisual(highlight);\n    }\n\n    highlight.visible(show);\n  };\n\n  ChartElement.prototype.createGradientOverlay = function createGradientOverlay(element, options, gradientOptions) {\n    var overlay = new draw.Path(Object.assign({\n      stroke: {\n        color: \"none\"\n      },\n      fill: this.createGradient(gradientOptions),\n      closed: element.options.closed\n    }, options));\n    overlay.segments.elements(element.segments.elements());\n    return overlay;\n  };\n\n  ChartElement.prototype.createGradient = function createGradient(options) {\n    if (this.parent) {\n      return this.parent.createGradient(options);\n    }\n  };\n\n  return ChartElement;\n}(Class);\n\nChartElement.prototype.options = {};\nexport default ChartElement;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/core/chart-element.js"],"names":["drawing","draw","WHITE","Class","deepExtend","defined","valueOrDefault","ChartElement","options","call","children","initUserOptions","__proto__","prototype","Object","create","constructor","reflow","targetBox","box","i","length","currentChild","wrap","clone","destroy","animation","getRoot","parent","getSender","service","getService","sender","element","chartService","translateChildren","dx","dy","childrenCount","translate","append","arguments$1","arguments","this$1","item","push","renderVisual","visible","createVisual","addVisual","renderChildren","createAnimation","renderComplete","visual","chartElement","appendVisual","Group","zIndex","Animation","childVisual","noclip","clipRoot","stackRoot","stackVisual","isStackRoot","visuals","pos","sibling","here","insert","traverse","callback","child","closest","match","matched","hasHighlight","highlight","createHighlight","toggleHighlight","show","customVisual","_highlight","highlightOptions","fill","color","opacity","stroke","width","assign","highlightVisualArgs","series","dataItem","category","value","percentage","runningTotal","total","createGradientOverlay","gradientOptions","overlay","Path","createGradient","closed","segments","elements"],"mappings":"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","sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport { WHITE } from '../common/constants';\nimport { Class, deepExtend, defined, valueOrDefault } from '../common';\n\nvar ChartElement = (function (Class) {\n    function ChartElement(options) {\n        Class.call(this);\n\n        this.children = [];\n\n        this.options = deepExtend({}, this.options, this.initUserOptions(options));\n    }\n\n    if ( Class ) ChartElement.__proto__ = Class;\n    ChartElement.prototype = Object.create( Class && Class.prototype );\n    ChartElement.prototype.constructor = ChartElement;\n\n    ChartElement.prototype.initUserOptions = function initUserOptions (options) {\n        return options;\n    };\n\n    ChartElement.prototype.reflow = function reflow (targetBox) {\n        var children = this.children;\n        var box;\n\n        for (var i = 0; i < children.length; i++) {\n            var currentChild = children[i];\n            currentChild.reflow(targetBox);\n\n            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\n        }\n\n        this.box = box || targetBox;\n    };\n\n    ChartElement.prototype.destroy = function destroy () {\n        var children = this.children;\n\n        if (this.animation) {\n            this.animation.destroy();\n        }\n\n        for (var i = 0; i < children.length; i++) {\n            children[i].destroy();\n        }\n    };\n\n    ChartElement.prototype.getRoot = function getRoot () {\n        var parent = this.parent;\n\n        return parent ? parent.getRoot() : null;\n    };\n\n    ChartElement.prototype.getSender = function getSender () {\n        var service = this.getService();\n        if (service) {\n            return service.sender;\n        }\n    };\n\n    ChartElement.prototype.getService = function getService () {\n        var element = this;\n        while (element) {\n            if (element.chartService) {\n                return element.chartService;\n            }\n            element = element.parent;\n        }\n    };\n\n    ChartElement.prototype.translateChildren = function translateChildren (dx, dy) {\n        var children = this.children;\n        var childrenCount = children.length;\n\n        for (var i = 0; i < childrenCount; i++) {\n            children[i].box.translate(dx, dy);\n        }\n    };\n\n    ChartElement.prototype.append = function append () {\n        var arguments$1 = arguments;\n        var this$1 = this;\n\n        for (var i = 0; i < arguments.length; i++) {\n            var item = arguments$1[i];\n            this$1.children.push(item);\n            item.parent = this$1;\n        }\n    };\n\n    ChartElement.prototype.renderVisual = function renderVisual () {\n        if (this.options.visible === false) {\n            return;\n        }\n\n        this.createVisual();\n\n        this.addVisual();\n\n        this.renderChildren();\n\n        this.createAnimation();\n        this.renderComplete();\n    };\n\n    ChartElement.prototype.addVisual = function addVisual () {\n        if (this.visual) {\n            this.visual.chartElement = this;\n\n            if (this.parent) {\n                this.parent.appendVisual(this.visual);\n            }\n        }\n    };\n\n    ChartElement.prototype.renderChildren = function renderChildren () {\n        var children = this.children;\n        var length = children.length;\n        for (var i = 0; i < length; i++) {\n            children[i].renderVisual();\n        }\n    };\n\n    ChartElement.prototype.createVisual = function createVisual () {\n        this.visual = new draw.Group({\n            zIndex: this.options.zIndex,\n            visible: valueOrDefault(this.options.visible, true)\n        });\n    };\n\n    ChartElement.prototype.createAnimation = function createAnimation () {\n        if (this.visual && this.options.animation) {\n            this.animation = draw.Animation.create(\n                this.visual, this.options.animation\n            );\n        }\n    };\n\n    ChartElement.prototype.appendVisual = function appendVisual (childVisual) {\n        if (!childVisual.chartElement) {\n            childVisual.chartElement = this;\n        }\n\n        if (childVisual.options.noclip) {\n            this.clipRoot().visual.append(childVisual);\n        } else if (defined(childVisual.options.zIndex)) {\n            this.stackRoot().stackVisual(childVisual);\n        } else if (this.isStackRoot) {\n            this.stackVisual(childVisual);\n        } else if (this.visual) {\n            this.visual.append(childVisual);\n        } else {\n            // Allow chart elements without visuals to\n            // pass through child visuals\n            this.parent.appendVisual(childVisual);\n        }\n    };\n\n    ChartElement.prototype.clipRoot = function clipRoot () {\n        if (this.parent) {\n            return this.parent.clipRoot();\n        }\n\n        return this;\n    };\n\n    ChartElement.prototype.stackRoot = function stackRoot () {\n        if (this.parent) {\n            return this.parent.stackRoot();\n        }\n\n        return this;\n    };\n\n    ChartElement.prototype.stackVisual = function stackVisual (childVisual) {\n        var zIndex = childVisual.options.zIndex || 0;\n        var visuals = this.visual.children;\n        var length = visuals.length;\n        var pos;\n\n        for (pos = 0; pos < length; pos++) {\n            var sibling = visuals[pos];\n            var here = valueOrDefault(sibling.options.zIndex, 0);\n            if (here > zIndex) {\n                break;\n            }\n        }\n\n        this.visual.insert(pos, childVisual);\n    };\n\n    ChartElement.prototype.traverse = function traverse (callback) {\n        var children = this.children;\n        var length = children.length;\n\n        for (var i = 0; i < length; i++) {\n            var child = children[i];\n\n            callback(child);\n            if (child.traverse) {\n                child.traverse(callback);\n            }\n        }\n    };\n\n    ChartElement.prototype.closest = function closest (match) {\n        var element = this;\n        var matched = false;\n\n        while (element && !matched) {\n            matched = match(element);\n\n            if (!matched) {\n                element = element.parent;\n            }\n        }\n\n        if (matched) {\n            return element;\n        }\n    };\n\n    ChartElement.prototype.renderComplete = function renderComplete () {};\n\n    ChartElement.prototype.hasHighlight = function hasHighlight () {\n        var options = (this.options || {}).highlight;\n        return !(!this.createHighlight || (options && options.visible === false));\n    };\n\n    ChartElement.prototype.toggleHighlight = function toggleHighlight (show) {\n        var this$1 = this;\n\n        var options = (this.options || {}).highlight || {};\n        var customVisual = options.visual;\n        var highlight = this._highlight;\n\n        if (!highlight) {\n            var highlightOptions = {\n                fill: {\n                    color: WHITE,\n                    opacity: 0.2\n                },\n                stroke: {\n                    color: WHITE,\n                    width: 1,\n                    opacity: 0.2\n                }\n            };\n\n            if (customVisual) {\n                highlight = this._highlight = customVisual(\n                    Object.assign(this.highlightVisualArgs(), {\n                        createVisual: function () { return this$1.createHighlight(highlightOptions); },\n                        sender: this.getSender(),\n                        series: this.series,\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        percentage: this.percentage,\n                        runningTotal: this.runningTotal,\n                        total: this.total\n                    }\n                ));\n\n                if (!highlight) {\n                    return;\n                }\n            } else {\n                highlight = this._highlight = this.createHighlight(highlightOptions);\n            }\n\n            if (!defined(highlight.options.zIndex)) {\n                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);\n            }\n\n            this.appendVisual(highlight);\n        }\n\n        highlight.visible(show);\n    };\n\n    ChartElement.prototype.createGradientOverlay = function createGradientOverlay (element, options, gradientOptions) {\n        var overlay = new draw.Path(Object.assign({\n            stroke: {\n                color: \"none\"\n            },\n            fill: this.createGradient(gradientOptions),\n            closed: element.options.closed\n        }, options));\n\n        overlay.segments.elements(element.segments.elements());\n\n        return overlay;\n    };\n\n    ChartElement.prototype.createGradient = function createGradient (options) {\n        if (this.parent) {\n            return this.parent.createGradient(options);\n        }\n    };\n\n    return ChartElement;\n}(Class));\n\nChartElement.prototype.options = { };\n\nexport default ChartElement;"]},"metadata":{},"sourceType":"module"}