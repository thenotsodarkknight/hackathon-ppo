{"ast":null,"code":"import { drawing as draw } from '@progress/kendo-drawing';\nimport { ChartElement, Point } from '../../core';\nimport RangeLinePoint from './range-line-point';\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport NoteMixin from '../mixins/note-mixin';\nimport { LINE_MARKER_SIZE, FADEIN, INITIAL_ANIMATION_DURATION, TOOLTIP_OFFSET, ABOVE, BELOW } from '../constants';\nimport { WHITE, CIRCLE, HIGHLIGHT_ZINDEX, LEFT, RIGHT, BOTTOM, CENTER } from '../../common/constants';\nimport { deepExtend, valueOrDefault, getSpacing } from '../../common';\nvar AUTO = 'auto';\nvar DEFAULT_FROM_FORMAT = '{0}';\nvar DEFAULT_TO_FORMAT = '{1}';\n\nvar RangeAreaPoint = function (ChartElement) {\n  function RangeAreaPoint(value, options) {\n    ChartElement.call(this);\n    this.value = value;\n    this.options = options;\n    this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n    this.tooltipTracking = true;\n    this.initLabelsFormat();\n  }\n\n  if (ChartElement) RangeAreaPoint.__proto__ = ChartElement;\n  RangeAreaPoint.prototype = Object.create(ChartElement && ChartElement.prototype);\n  RangeAreaPoint.prototype.constructor = RangeAreaPoint;\n\n  RangeAreaPoint.prototype.render = function render() {\n    if (this._rendered) {\n      return;\n    }\n\n    this._rendered = true;\n    var ref = this.options;\n    var markers = ref.markers;\n    var labels = ref.labels;\n    var value = this.value;\n    var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n      labels: labels.from,\n      markers: markers.from\n    }));\n    var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n      labels: labels.to,\n      markers: markers.to\n    }));\n    this.copyFields(fromPoint);\n    this.copyFields(toPoint);\n    this.append(fromPoint);\n    this.append(toPoint);\n  };\n\n  RangeAreaPoint.prototype.reflow = function reflow(targetBox) {\n    this.render();\n    var fromBox = targetBox.from;\n    var toBox = targetBox.to;\n    this.positionLabels(fromBox, toBox);\n    this.fromPoint.reflow(fromBox);\n    this.toPoint.reflow(toBox);\n    this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());\n  };\n\n  RangeAreaPoint.prototype.createHighlight = function createHighlight() {\n    var group = new draw.Group();\n    group.append(this.fromPoint.createHighlight());\n    group.append(this.toPoint.createHighlight());\n    return group;\n  };\n\n  RangeAreaPoint.prototype.highlightVisual = function highlightVisual() {\n    return this.visual;\n  };\n\n  RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs() {\n    return {\n      options: this.options,\n      from: this.fromPoint.highlightVisualArgs(),\n      to: this.toPoint.highlightVisualArgs()\n    };\n  };\n\n  RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor() {\n    var clipBox = this.owner.pane.clipBox();\n    var showTooltip = !clipBox || clipBox.overlaps(this.box);\n\n    if (showTooltip) {\n      var box = this.box;\n      var center = box.center();\n      var horizontalAlign = LEFT;\n      var x, y, verticalAlign;\n\n      if (this.options.vertical) {\n        x = center.x;\n        y = box.y1 - TOOLTIP_OFFSET;\n        verticalAlign = BOTTOM;\n      } else {\n        x = box.x2 + TOOLTIP_OFFSET;\n        y = center.y;\n        verticalAlign = CENTER;\n      }\n\n      return {\n        point: new Point(x, y),\n        align: {\n          horizontal: horizontalAlign,\n          vertical: verticalAlign\n        }\n      };\n    }\n  };\n\n  RangeAreaPoint.prototype.formatValue = function formatValue(format) {\n    return this.owner.formatPointValue(this, format);\n  };\n\n  RangeAreaPoint.prototype.overlapsBox = function overlapsBox(box) {\n    return this.box.overlaps(box);\n  };\n\n  RangeAreaPoint.prototype.unclipElements = function unclipElements() {\n    this.fromPoint.unclipElements();\n    this.toPoint.unclipElements();\n  };\n\n  RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat() {\n    var labels = this.options.labels;\n\n    if (!labels.format) {\n      if (!labels.from || !labels.from.format) {\n        labels.from = Object.assign({}, labels.from, {\n          format: DEFAULT_FROM_FORMAT\n        });\n      }\n\n      if (!labels.to || !labels.to.format) {\n        labels.to = Object.assign({}, labels.to, {\n          format: DEFAULT_TO_FORMAT\n        });\n      }\n    }\n  };\n\n  RangeAreaPoint.prototype.positionLabels = function positionLabels(fromBox, toBox) {\n    var ref = this.options;\n    var labels = ref.labels;\n    var vertical = ref.vertical;\n\n    if (labels.position === AUTO) {\n      var fromLabelPosition, toLabelPosition;\n\n      if (vertical) {\n        if (toBox.y1 <= fromBox.y1) {\n          toLabelPosition = ABOVE;\n          fromLabelPosition = BELOW;\n        } else {\n          toLabelPosition = BELOW;\n          fromLabelPosition = ABOVE;\n        }\n      } else {\n        if (toBox.x1 <= fromBox.x1) {\n          toLabelPosition = LEFT;\n          fromLabelPosition = RIGHT;\n        } else {\n          toLabelPosition = RIGHT;\n          fromLabelPosition = LEFT;\n        }\n      }\n\n      if (!labels.from || !labels.from.position) {\n        this.fromPoint.options.labels.position = fromLabelPosition;\n      }\n\n      if (!labels.to || !labels.to.position) {\n        this.toPoint.options.labels.position = toLabelPosition;\n      }\n    }\n  };\n\n  RangeAreaPoint.prototype.copyFields = function copyFields(point) {\n    point.dataItem = this.dataItem;\n    point.category = this.category;\n    point.series = this.series;\n    point.color = this.color;\n    point.owner = this.owner;\n  };\n\n  return RangeAreaPoint;\n}(ChartElement);\n\ndeepExtend(RangeAreaPoint.prototype, PointEventsMixin);\ndeepExtend(RangeAreaPoint.prototype, NoteMixin);\nRangeAreaPoint.prototype.defaults = {\n  markers: {\n    visible: false,\n    background: WHITE,\n    size: LINE_MARKER_SIZE,\n    type: CIRCLE,\n    border: {\n      width: 2\n    },\n    opacity: 1\n  },\n  labels: {\n    visible: false,\n    margin: getSpacing(3),\n    padding: getSpacing(4),\n    animation: {\n      type: FADEIN,\n      delay: INITIAL_ANIMATION_DURATION\n    },\n    position: AUTO\n  },\n  notes: {\n    label: {}\n  },\n  highlight: {\n    markers: {\n      border: {\n        color: WHITE,\n        width: 2\n      }\n    },\n    zIndex: HIGHLIGHT_ZINDEX\n  },\n  tooltip: {\n    format: '{0} - {1}'\n  }\n};\nexport default RangeAreaPoint;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/chart/range-area-chart/range-area-point.js"],"names":["drawing","draw","ChartElement","Point","RangeLinePoint","PointEventsMixin","NoteMixin","LINE_MARKER_SIZE","FADEIN","INITIAL_ANIMATION_DURATION","TOOLTIP_OFFSET","ABOVE","BELOW","WHITE","CIRCLE","HIGHLIGHT_ZINDEX","LEFT","RIGHT","BOTTOM","CENTER","deepExtend","valueOrDefault","getSpacing","AUTO","DEFAULT_FROM_FORMAT","DEFAULT_TO_FORMAT","RangeAreaPoint","value","options","call","aboveAxis","tooltipTracking","initLabelsFormat","__proto__","prototype","Object","create","constructor","render","_rendered","ref","markers","labels","fromPoint","from","toPoint","to","copyFields","append","reflow","targetBox","fromBox","toBox","positionLabels","box","markerBox","clone","wrap","createHighlight","group","Group","highlightVisual","visual","highlightVisualArgs","tooltipAnchor","clipBox","owner","pane","showTooltip","overlaps","center","horizontalAlign","x","y","verticalAlign","vertical","y1","x2","point","align","horizontal","formatValue","format","formatPointValue","overlapsBox","unclipElements","assign","position","fromLabelPosition","toLabelPosition","x1","dataItem","category","series","color","defaults","visible","background","size","type","border","width","opacity","margin","padding","animation","delay","notes","label","highlight","zIndex","tooltip"],"mappings":"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","sourcesContent":["import { drawing as draw } from '@progress/kendo-drawing';\n\nimport { ChartElement, Point } from '../../core';\nimport RangeLinePoint from './range-line-point';\nimport PointEventsMixin from '../mixins/point-events-mixin';\nimport NoteMixin from '../mixins/note-mixin';\n\nimport { LINE_MARKER_SIZE, FADEIN, INITIAL_ANIMATION_DURATION, TOOLTIP_OFFSET, ABOVE, BELOW } from '../constants';\nimport { WHITE, CIRCLE, HIGHLIGHT_ZINDEX, LEFT, RIGHT, BOTTOM, CENTER } from '../../common/constants';\nimport { deepExtend, valueOrDefault, getSpacing } from '../../common';\n\nvar AUTO = 'auto';\nvar DEFAULT_FROM_FORMAT = '{0}';\nvar DEFAULT_TO_FORMAT = '{1}';\n\nvar RangeAreaPoint = (function (ChartElement) {\n    function RangeAreaPoint(value, options) {\n        ChartElement.call(this);\n\n        this.value = value;\n        this.options = options;\n        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n        this.tooltipTracking = true;\n        this.initLabelsFormat();\n    }\n\n    if ( ChartElement ) RangeAreaPoint.__proto__ = ChartElement;\n    RangeAreaPoint.prototype = Object.create( ChartElement && ChartElement.prototype );\n    RangeAreaPoint.prototype.constructor = RangeAreaPoint;\n\n    RangeAreaPoint.prototype.render = function render () {\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        var ref = this.options;\n        var markers = ref.markers;\n        var labels = ref.labels;\n        var value = this.value;\n\n        var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n            labels: labels.from,\n            markers: markers.from\n        }));\n\n        var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n            labels: labels.to,\n            markers: markers.to\n        }));\n\n        this.copyFields(fromPoint);\n        this.copyFields(toPoint);\n\n        this.append(fromPoint);\n        this.append(toPoint);\n    };\n\n    RangeAreaPoint.prototype.reflow = function reflow (targetBox) {\n        this.render();\n\n        var fromBox = targetBox.from;\n        var toBox = targetBox.to;\n\n        this.positionLabels(fromBox, toBox);\n\n        this.fromPoint.reflow(fromBox);\n        this.toPoint.reflow(toBox);\n\n        this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());\n    };\n\n    RangeAreaPoint.prototype.createHighlight = function createHighlight () {\n        var group = new draw.Group();\n        group.append(this.fromPoint.createHighlight());\n        group.append(this.toPoint.createHighlight());\n\n        return group;\n    };\n\n    RangeAreaPoint.prototype.highlightVisual = function highlightVisual () {\n        return this.visual;\n    };\n\n    RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            options: this.options,\n            from: this.fromPoint.highlightVisualArgs(),\n            to: this.toPoint.highlightVisualArgs()\n        };\n    };\n\n    RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor () {\n        var clipBox = this.owner.pane.clipBox();\n        var showTooltip = !clipBox || clipBox.overlaps(this.box);\n\n        if (showTooltip) {\n            var box = this.box;\n            var center = box.center();\n            var horizontalAlign = LEFT;\n            var x, y, verticalAlign;\n\n            if (this.options.vertical) {\n                x = center.x;\n                y = box.y1 - TOOLTIP_OFFSET;\n                verticalAlign = BOTTOM;\n            } else {\n                x = box.x2 + TOOLTIP_OFFSET;\n                y = center.y;\n                verticalAlign = CENTER;\n            }\n\n            return {\n                point: new Point(x, y),\n                align: {\n                    horizontal: horizontalAlign,\n                    vertical: verticalAlign\n                }\n            };\n        }\n    };\n\n    RangeAreaPoint.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    RangeAreaPoint.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    RangeAreaPoint.prototype.unclipElements = function unclipElements () {\n        this.fromPoint.unclipElements();\n        this.toPoint.unclipElements();\n    };\n\n    RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat () {\n        var labels = this.options.labels;\n        if (!labels.format) {\n            if (!labels.from || !labels.from.format) {\n                labels.from = Object.assign({}, labels.from, {\n                    format: DEFAULT_FROM_FORMAT\n                });\n            }\n\n            if (!labels.to || !labels.to.format) {\n                labels.to = Object.assign({}, labels.to, {\n                    format: DEFAULT_TO_FORMAT\n                });\n            }\n        }\n    };\n\n    RangeAreaPoint.prototype.positionLabels = function positionLabels (fromBox, toBox) {\n        var ref = this.options;\n        var labels = ref.labels;\n        var vertical = ref.vertical;\n\n        if (labels.position === AUTO) {\n            var fromLabelPosition, toLabelPosition;\n            if (vertical) {\n                if (toBox.y1 <= fromBox.y1) {\n                    toLabelPosition = ABOVE;\n                    fromLabelPosition = BELOW;\n                } else {\n                    toLabelPosition = BELOW;\n                    fromLabelPosition = ABOVE;\n                }\n            } else {\n                if (toBox.x1 <= fromBox.x1) {\n                    toLabelPosition = LEFT;\n                    fromLabelPosition = RIGHT;\n                } else {\n                    toLabelPosition = RIGHT;\n                    fromLabelPosition = LEFT;\n                }\n            }\n\n            if (!labels.from || !labels.from.position) {\n                this.fromPoint.options.labels.position = fromLabelPosition;\n            }\n\n            if (!labels.to || !labels.to.position) {\n                this.toPoint.options.labels.position = toLabelPosition;\n            }\n        }\n    };\n\n    RangeAreaPoint.prototype.copyFields = function copyFields (point) {\n        point.dataItem = this.dataItem;\n        point.category = this.category;\n        point.series = this.series;\n        point.color = this.color;\n        point.owner = this.owner;\n    };\n\n    return RangeAreaPoint;\n}(ChartElement));\n\ndeepExtend(RangeAreaPoint.prototype, PointEventsMixin);\ndeepExtend(RangeAreaPoint.prototype, NoteMixin);\n\nRangeAreaPoint.prototype.defaults = {\n    markers: {\n        visible: false,\n        background: WHITE,\n        size: LINE_MARKER_SIZE,\n        type: CIRCLE,\n        border: {\n            width: 2\n        },\n        opacity: 1\n    },\n    labels: {\n        visible: false,\n        margin: getSpacing(3),\n        padding: getSpacing(4),\n        animation: {\n            type: FADEIN,\n            delay: INITIAL_ANIMATION_DURATION\n        },\n        position: AUTO\n    },\n    notes: {\n        label: {}\n    },\n    highlight: {\n        markers: {\n            border: {\n                color: WHITE,\n                width: 2\n            }\n        },\n        zIndex: HIGHLIGHT_ZINDEX\n    },\n    tooltip: {\n        format: '{0} - {1}'\n    }\n};\n\nexport default RangeAreaPoint;\n"]},"metadata":{},"sourceType":"module"}