{"ast":null,"code":"import { geometry as geo, drawing } from '@progress/kendo-drawing';\nimport { setDefaultOptions, deepExtend, defined } from '../../common';\nimport { BLACK } from '../../common/constants';\nimport { NumericAxis } from '../../core';\nimport { DEFAULT_LINE_WIDTH, INSIDE } from '../constants';\nimport { autoMajorUnit } from '../../core';\nimport { buildLabelElement, getRange } from '../utils';\nvar Path = drawing.Path;\nvar Group = drawing.Group;\nvar Point = geo.Point;\n\nfunction renderAxisTick(tickRenderOptions, tickOptions) {\n  var position = tickRenderOptions.position;\n  var tickX = tickRenderOptions.tickX;\n  var tickY = tickRenderOptions.tickY;\n  var start, end;\n\n  if (tickRenderOptions.vertical) {\n    start = new Point(tickX, position);\n    end = new Point(tickX + tickOptions.size, position);\n  } else {\n    start = new Point(position, tickY);\n    end = new Point(position, tickY + tickOptions.size);\n  }\n\n  var tickPath = new Path({\n    stroke: {\n      color: tickOptions.color,\n      width: tickOptions.width\n    }\n  }).moveTo(start).lineTo(end);\n  return tickPath;\n}\n\nfunction renderTicks(tickGroup, tickPositions, tickRenderOptions, tickOptions) {\n  var count = tickPositions.length;\n\n  if (tickOptions.visible) {\n    var mirror = tickRenderOptions.mirror;\n    var lineBox = tickRenderOptions.lineBox;\n\n    for (var i = tickOptions.skip; i < count; i += tickOptions.step) {\n      if (i % tickOptions.skipUnit === 0) {\n        continue;\n      }\n\n      tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n      tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n      tickRenderOptions.position = tickPositions[i];\n      tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));\n    }\n  }\n}\n\nvar LinearScale = function (NumericAxis) {\n  function LinearScale(options, service) {\n    var scaleOptions = options || {};\n\n    if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {\n      scaleOptions = Object.assign({}, scaleOptions, {\n        reverse: true\n      });\n    }\n\n    NumericAxis.call(this, 0, 1, scaleOptions, service);\n    this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;\n  }\n\n  if (NumericAxis) LinearScale.__proto__ = NumericAxis;\n  LinearScale.prototype = Object.create(NumericAxis && NumericAxis.prototype);\n  LinearScale.prototype.constructor = LinearScale;\n\n  LinearScale.prototype.initUserOptions = function initUserOptions(options) {\n    var scaleOptions = deepExtend({}, this.options, options);\n    scaleOptions = deepExtend({}, scaleOptions, {\n      labels: {\n        mirror: scaleOptions.mirror\n      }\n    });\n    scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);\n    return scaleOptions;\n  };\n\n  LinearScale.prototype.initFields = function initFields() {};\n\n  LinearScale.prototype.render = function render() {\n    var elements = this.elements = new Group();\n    var labels = this.renderLabels();\n    var scaleLine = this.renderLine();\n    var scaleTicks = this.renderTicks();\n    var ranges = this.renderRanges();\n    elements.append(scaleLine, labels, scaleTicks, ranges);\n    return elements;\n  };\n\n  LinearScale.prototype.renderRanges = function renderRanges() {\n    var this$1 = this;\n    var options = this.options;\n    var min = options.min;\n    var max = options.max;\n    var vertical = options.vertical;\n    var mirror = options.labels.mirror;\n    var ranges = options.ranges || [];\n    var elements = new Group();\n    var count = ranges.length;\n    var rangeSize = options.rangeSize || options.minorTicks.size / 2;\n\n    for (var i = 0; i < count; i++) {\n      var range = getRange(ranges[i], min, max);\n      var slot = this$1.getSlot(range.from, range.to);\n      var slotX = vertical ? this$1.lineBox() : slot;\n      var slotY = vertical ? slot : this$1.lineBox();\n\n      if (vertical) {\n        slotX.x1 -= rangeSize * (mirror ? -1 : 1);\n      } else {\n        slotY.y2 += rangeSize * (mirror ? -1 : 1);\n      }\n\n      elements.append(Path.fromRect(new geo.Rect([slotX.x1, slotY.y1], [slotX.x2 - slotX.x1, slotY.y2 - slotY.y1]), {\n        fill: {\n          color: range.color,\n          opacity: range.opacity\n        },\n        stroke: {}\n      }));\n    }\n\n    return elements;\n  };\n\n  LinearScale.prototype.renderLabels = function renderLabels() {\n    var ref = this;\n    var labels = ref.labels;\n    var options = ref.options;\n    var elements = new Group();\n\n    for (var i = 0; i < labels.length; i++) {\n      elements.append(buildLabelElement(labels[i], options.labels));\n    }\n\n    return elements;\n  };\n\n  LinearScale.prototype.renderLine = function renderLine() {\n    var line = this.options.line;\n    var lineBox = this.lineBox();\n    var elements = new Group();\n\n    if (line.width > 0 && line.visible) {\n      var linePath = new Path({\n        stroke: {\n          color: line.color,\n          dashType: line.dashType,\n          width: line.width\n        }\n      });\n      linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\n      elements.append(linePath);\n    }\n\n    return elements;\n  };\n\n  LinearScale.prototype.renderTicks = function renderTicks$1() {\n    var ticks = new Group();\n    var options = this.options;\n    var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n    var tickRenderOptions = {\n      vertical: options.vertical,\n      mirror: options.labels.mirror,\n      lineBox: this.lineBox()\n    };\n    renderTicks(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);\n    renderTicks(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {\n      skipUnit: majorUnit / options.minorUnit\n    }, options.minorTicks));\n    return ticks;\n  };\n\n  return LinearScale;\n}(NumericAxis);\n\nsetDefaultOptions(LinearScale, {\n  min: 0,\n  max: 50,\n  majorTicks: {\n    size: 15,\n    align: INSIDE,\n    color: BLACK,\n    width: DEFAULT_LINE_WIDTH,\n    visible: true\n  },\n  minorTicks: {\n    size: 10,\n    align: INSIDE,\n    color: BLACK,\n    width: DEFAULT_LINE_WIDTH,\n    visible: true\n  },\n  line: {\n    width: DEFAULT_LINE_WIDTH\n  },\n  labels: {\n    position: INSIDE,\n    padding: 2\n  },\n  mirror: false,\n  _alignLines: false\n});\nexport default LinearScale;","map":{"version":3,"sources":["/Users/lazybaccha/Documents/Honeywell/SBE/node_modules/@progress/kendo-charts/dist/es/gauges/linear/linear-scale.js"],"names":["geometry","geo","drawing","setDefaultOptions","deepExtend","defined","BLACK","NumericAxis","DEFAULT_LINE_WIDTH","INSIDE","autoMajorUnit","buildLabelElement","getRange","Path","Group","Point","renderAxisTick","tickRenderOptions","tickOptions","position","tickX","tickY","start","end","vertical","size","tickPath","stroke","color","width","moveTo","lineTo","renderTicks","tickGroup","tickPositions","count","length","visible","mirror","lineBox","i","skip","step","skipUnit","x2","y1","append","LinearScale","options","service","scaleOptions","reverse","rtl","Object","assign","call","minorUnit","majorUnit","__proto__","prototype","create","constructor","initUserOptions","labels","min","max","initFields","render","elements","renderLabels","scaleLine","renderLine","scaleTicks","ranges","renderRanges","this$1","rangeSize","minorTicks","range","slot","getSlot","from","to","slotX","slotY","x1","y2","fromRect","Rect","fill","opacity","ref","line","linePath","dashType","renderTicks$1","ticks","majorTicks","getMajorTickPositions","getMinorTickPositions","align","padding","_alignLines"],"mappings":"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","sourcesContent":["import { geometry as geo, drawing } from '@progress/kendo-drawing';\nimport { setDefaultOptions, deepExtend, defined } from '../../common';\nimport { BLACK } from '../../common/constants';\nimport { NumericAxis } from '../../core';\nimport { DEFAULT_LINE_WIDTH, INSIDE } from '../constants';\nimport { autoMajorUnit } from '../../core';\nimport { buildLabelElement, getRange } from '../utils';\n\nvar Path = drawing.Path;\nvar Group = drawing.Group;\nvar Point = geo.Point;\n\nfunction renderAxisTick(tickRenderOptions, tickOptions) {\n    var position = tickRenderOptions.position;\n    var tickX = tickRenderOptions.tickX;\n    var tickY = tickRenderOptions.tickY;\n    var start, end;\n\n    if (tickRenderOptions.vertical) {\n        start = new Point(tickX, position);\n        end = new Point(tickX + tickOptions.size, position);\n    } else {\n        start = new Point(position, tickY);\n        end = new Point(position, tickY + tickOptions.size);\n    }\n\n    var tickPath = new Path({\n        stroke: {\n            color: tickOptions.color,\n            width: tickOptions.width\n        }\n    }).moveTo(start).lineTo(end);\n\n    return tickPath;\n}\n\nfunction renderTicks(tickGroup, tickPositions, tickRenderOptions, tickOptions) {\n    var count = tickPositions.length;\n\n    if (tickOptions.visible) {\n        var mirror = tickRenderOptions.mirror;\n        var lineBox = tickRenderOptions.lineBox;\n        for (var i = tickOptions.skip; i < count; i += tickOptions.step) {\n            if (i % tickOptions.skipUnit === 0) {\n                continue;\n            }\n\n            tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n            tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n            tickRenderOptions.position = tickPositions[i];\n\n            tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));\n        }\n    }\n}\n\nvar LinearScale = (function (NumericAxis) {\n    function LinearScale(options, service) {\n        var scaleOptions = options || {};\n        if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {\n            scaleOptions = Object.assign({}, scaleOptions, {\n                reverse: true\n            });\n        }\n\n        NumericAxis.call(this, 0, 1, scaleOptions, service);\n\n        this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;\n    }\n\n    if ( NumericAxis ) LinearScale.__proto__ = NumericAxis;\n    LinearScale.prototype = Object.create( NumericAxis && NumericAxis.prototype );\n    LinearScale.prototype.constructor = LinearScale;\n\n    LinearScale.prototype.initUserOptions = function initUserOptions (options) {\n        var scaleOptions = deepExtend({}, this.options, options);\n        scaleOptions = deepExtend({}, scaleOptions , { labels: { mirror: scaleOptions.mirror } });\n        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);\n\n        return scaleOptions;\n    };\n\n    LinearScale.prototype.initFields = function initFields () {\n    };\n\n    LinearScale.prototype.render = function render () {\n        var elements = this.elements = new Group();\n        var labels = this.renderLabels();\n        var scaleLine = this.renderLine();\n        var scaleTicks = this.renderTicks();\n        var ranges = this.renderRanges();\n\n        elements.append(scaleLine, labels, scaleTicks, ranges);\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderRanges = function renderRanges () {\n        var this$1 = this;\n\n        var options = this.options;\n        var min = options.min;\n        var max = options.max;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var ranges = options.ranges || [];\n        var elements = new Group();\n        var count = ranges.length;\n        var rangeSize = options.rangeSize || options.minorTicks.size / 2;\n\n        for (var i = 0; i < count; i++) {\n            var range = getRange(ranges[i], min, max);\n            var slot = this$1.getSlot(range.from, range.to);\n            var slotX = vertical ? this$1.lineBox() : slot;\n            var slotY = vertical ? slot : this$1.lineBox();\n            if (vertical) {\n                slotX.x1 -= rangeSize * (mirror ? -1 : 1);\n            } else {\n                slotY.y2 += rangeSize * (mirror ? -1 : 1);\n            }\n\n            elements.append(Path.fromRect(new geo.Rect([ slotX.x1, slotY.y1 ], [ slotX.x2 - slotX.x1, slotY.y2 - slotY.y1 ]), {\n                fill: { color: range.color, opacity: range.opacity },\n                stroke: { }\n            }));\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderLabels = function renderLabels () {\n        var ref = this;\n        var labels = ref.labels;\n        var options = ref.options;\n        var elements = new Group();\n\n        for (var i = 0; i < labels.length; i++) {\n            elements.append(buildLabelElement(labels[i], options.labels));\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderLine = function renderLine () {\n        var line = this.options.line;\n        var lineBox = this.lineBox();\n        var elements = new Group();\n\n        if (line.width > 0 && line.visible) {\n            var linePath = new Path({\n                stroke: {\n                    color: line.color,\n                    dashType: line.dashType,\n                    width: line.width\n                }\n            });\n\n            linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\n            elements.append(linePath);\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderTicks = function renderTicks$1 () {\n        var ticks = new Group();\n        var options = this.options;\n        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n        var tickRenderOptions = {\n            vertical: options.vertical,\n            mirror: options.labels.mirror,\n            lineBox: this.lineBox()\n        };\n\n        renderTicks(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);\n        renderTicks(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {\n            skipUnit: majorUnit / options.minorUnit\n        }, options.minorTicks));\n\n        return ticks;\n    };\n\n    return LinearScale;\n}(NumericAxis));\n\nsetDefaultOptions(LinearScale, {\n    min: 0,\n    max: 50,\n\n    majorTicks: {\n        size: 15,\n        align: INSIDE,\n        color: BLACK,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    minorTicks: {\n        size: 10,\n        align: INSIDE,\n        color: BLACK,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    line: {\n        width: DEFAULT_LINE_WIDTH\n    },\n\n    labels: {\n        position: INSIDE,\n        padding: 2\n    },\n    mirror: false,\n    _alignLines: false\n});\n\nexport default LinearScale;"]},"metadata":{},"sourceType":"module"}