'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _progress_kendoDrawing = require('@progress/kendo-drawing');

var ARC = "arc";
var AXIS_LABEL_CLICK = "axisLabelClick";
var BLACK = "#000";
var BOTTOM = "bottom";
var CENTER = "center";
var CIRCLE = "circle";
var COORD_PRECISION = 3;
var CROSS = "cross";
var DATE = "date";
var DEFAULT_FONT = "12px sans-serif";
var DEFAULT_HEIGHT = 400;
var DEFAULT_PRECISION = 10;
var DEFAULT_WIDTH = 600;
var END = "end";
var FORMAT_REGEX = /\{\d+:?/;
var HEIGHT = "height";
var HIGHLIGHT_ZINDEX = 100;
var INSIDE = "inside";
var LEFT = "left";
var MAX_VALUE = Number.MAX_VALUE;
var MIN_VALUE = -Number.MAX_VALUE;
var NONE = "none";
var NOTE_CLICK = "noteClick";
var NOTE_HOVER = "noteHover";
var NOTE_LEAVE = "noteLeave";
var OBJECT = "object";
var OUTSIDE = "outside";
var RIGHT = "right";
var START = "start";
var STRING = "string";
var TOP = "top";
var TRIANGLE = "triangle";
var VALUE = "value";
var WHITE = "#fff";
var WIDTH = "width";
var X = "x";
var Y = "y";

function isArray(value) {
    return Array.isArray(value);
}

function addClass(element, classes) {
    var classArray = isArray(classes) ? classes : [ classes ];

    for (var idx = 0; idx < classArray.length; idx++) {
        var className = classArray[idx];
        if (element.className.indexOf(className) === -1) {
            element.className += " " + className;
        }
    }
}

var SPACE_REGEX = /\s+/g;

function removeClass(element, className) {
    if (element && element.className) {
        element.className = element.className.replace(className, "").replace(SPACE_REGEX, " ");
    }
}

function alignPathToPixel(path) {
    var offset = 0.5;
    if (path.options.stroke && _progress_kendoDrawing.drawing.util.defined(path.options.stroke.width)) {
        if (path.options.stroke.width % 2 === 0) {
            offset = 0;
        }
    }

    for (var i = 0; i < path.segments.length; i++) {
        path.segments[i].anchor().round(0).translate(offset, offset);
    }

    return path;
}

function clockwise(angle1, angle2) {
    // True if angle2 is clockwise of angle1
    // assuming angles grow in clock-wise direction
    // (as in the pie and radar charts)
    return -angle1.x * angle2.y + angle1.y * angle2.x < 0;
}

function isNumber(value) {
    return typeof value === "number" && !isNaN(value);
}

function isString(value) {
    return typeof value === STRING;
}

function convertableToNumber(value) {
    return isNumber(value) || (isString(value) && isFinite(value));
}

function isFunction(fn) {
    return typeof fn === "function";
}

var OBJECT$1 = "object";
var UNDEFINED = "undefined";

function deepExtendOne(destination, source) {

    for (var property in source) {
        var propValue = source[property];
        var propType = typeof propValue;

        var propInit = (void 0);
        if (propType === OBJECT$1 && propValue !== null) {
            propInit = propValue.constructor;
        } else {
            propInit = null;
        }

        if (propInit && propInit !== Array) {

            if (propValue instanceof Date) {
                destination[property] = new Date(propValue.getTime());
            } else if (isFunction(propValue.clone)) {
                destination[property] = propValue.clone();
            } else {
                var destProp = destination[property];
                if (typeof (destProp) === OBJECT$1) {
                    destination[property] = destProp || {};
                } else {
                    destination[property] = {};
                }
                deepExtendOne(destination[property], propValue);
            }
        } else if (propType !== UNDEFINED) {
            destination[property] = propValue;
        }
    }

    return destination;
}

function deepExtend(destination) {
    var arguments$1 = arguments;

    var length = arguments.length;

    for (var i = 1; i < length; i++) {
        deepExtendOne(destination, arguments$1[i]);
    }

    return destination;
}

function isObject(value) {
    return typeof value === "object";
}

function styleValue(value) {
    if (isNumber(value)) {
        return value + "px";
    }
    return value;
}

var SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;

function isSizeField(field) {
    return SIZE_STYLES_REGEX.test(field);
}

function elementStyles(element, styles) {
    var stylesArray = isString(styles) ? [ styles ] : styles;

    if (isArray(stylesArray)) {
        var result = {};
        var style = window.getComputedStyle(element);

        for (var idx = 0; idx < stylesArray.length; idx++) {
            var field = stylesArray[idx];
            result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];
        }

        return result;
    } else if (isObject(styles)) {
        for (var field$1 in styles) {
            element.style[field$1] = styleValue(styles[field$1]);
        }
    }
}

function getSpacing(value, defaultSpacing) {
    if ( defaultSpacing === void 0 ) defaultSpacing = 0;

    var spacing = { top: 0, right: 0, bottom: 0, left: 0 };

    if (typeof(value) === "number") {
        spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM] = spacing[LEFT] = value;
    } else {
        spacing[TOP] = value[TOP] || defaultSpacing;
        spacing[RIGHT] = value[RIGHT] || defaultSpacing;
        spacing[BOTTOM] = value[BOTTOM] || defaultSpacing;
        spacing[LEFT] = value[LEFT] || defaultSpacing;
    }

    return spacing;
}

var defaultImplementation = {
    format: function (format, value) { return value; },

    toString: function (value) { return value; },

    parseDate: function (value) { return new Date(value); }
};

var current = defaultImplementation;

var IntlService = function IntlService () {};

var staticAccessors = { implementation: {} };

IntlService.register = function register (userImplementation) {
    current = userImplementation;
};

staticAccessors.implementation.get = function () {
    return current;
};

Object.defineProperties( IntlService, staticAccessors );

var FORMAT_REPLACE_REGEX = /\{(\d+)(:[^\}]+)?\}/g;

var FormatService = function FormatService(intlService) {
    this._intlService = intlService;
};

var prototypeAccessors$1 = { intl: {} };

prototypeAccessors$1.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors$1.intl.set = function (value) {
    this._intlService = value;
};

FormatService.prototype.auto = function auto (formatString) {
        var values = [], len = arguments.length - 1;
        while ( len-- > 0 ) values[ len ] = arguments[ len + 1 ];

    var intl = this.intl;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        return intl.format.apply(intl, [ formatString ].concat( values ));
    }

    return intl.toString(values[0], formatString);
};

FormatService.prototype.localeAuto = function localeAuto (formatString, values, locale) {
    var intl = this.intl;
    var result;

    if (isString(formatString) && formatString.match(FORMAT_REGEX)) {
        result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {
            var value = values[parseInt(index, 10)];

            return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : "", locale);
        });
    } else {
        result = intl.toString(values[0], formatString, locale);
    }

    return result;
};

Object.defineProperties( FormatService.prototype, prototypeAccessors$1 );

var ChartService = function ChartService(chart, context) {
    if ( context === void 0 ) context = {};

    this._intlService = context.intlService;
    this.sender = context.sender || chart;
    this.format = new FormatService(context.intlService);
    this.chart = chart;
    this.rtl = Boolean(context.rtl);
};

var prototypeAccessors = { intl: {} };

prototypeAccessors.intl.get = function () {
    return this._intlService || IntlService.implementation;
};

prototypeAccessors.intl.set = function (value) {
    this._intlService = value;
    this.format.intl = value;
};

ChartService.prototype.notify = function notify (name, args) {
    if (this.chart) {
        this.chart.trigger(name, args);
    }
};

ChartService.prototype.isPannable = function isPannable (axis) {
    var pannable = ((this.chart || {}).options || {}).pannable;
    return pannable && pannable.lock !== axis;
};

Object.defineProperties( ChartService.prototype, prototypeAccessors );

var current$1;

var DomEventsBuilder = function DomEventsBuilder () {};

DomEventsBuilder.register = function register (userImplementation) {
    current$1 = userImplementation;
};

DomEventsBuilder.create = function create (element, events) {
    if (current$1) {
        return current$1.create(element, events);
    }
};

var current$2 = {
    compile: function(template) {
        return template;
    }
};

var TemplateService = function TemplateService () {};

TemplateService.register = function register (userImplementation) {
    current$2 = userImplementation;
};

TemplateService.compile = function compile (template) {
    return current$2.compile(template);
};

function getTemplate(options) {
    if ( options === void 0 ) options = {};

    var template;
    if (options.template) {
        options.template = template = TemplateService.compile(options.template);
    } else if (isFunction(options.content)) {
        template = options.content;
    }

    return template;
}

var FIELD_REGEX = /\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;
var getterCache = {};

getterCache['undefined'] = function(obj) {
    return obj;
};

function getter(field) {
    if (getterCache[field]) {
        return getterCache[field];
    }

    var fields = [];
    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {
        fields.push(_progress_kendoDrawing.drawing.util.defined(index) ? index : (indexAccessor || field));
    });

    getterCache[field] = function(obj) {
        var result = obj;
        for (var idx = 0; idx < fields.length && result; idx++) {
            result = result[fields[idx]];
        }

        return result;
    };

    return getterCache[field];
}

function grep(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        if (callback(array[idx])) {
            result .push(array[idx]);
        }
    }

    return result;
}

function hasClasses(element, classNames) {
    if (element.className) {
        var names = classNames.split(" ");
        for (var idx = 0; idx < names.length; idx++) {
            if (element.className.indexOf(names[idx]) !== -1) {
                return true;
            }
        }
    }
}

var HashMap = function HashMap() {
    this._map = {};
};

HashMap.prototype.get = function get (name) {
    return this._map[this._key(name)];
};

HashMap.prototype.set = function set (name, value) {
    this._map[this._key(name)] = value;
};

HashMap.prototype._key = function _key (name) {
    return name instanceof Date ? name.getTime() : name;
};

function inArray(value, array) {
    if (array) {
        return array.indexOf(value) !== -1;
    }
}

function interpolateValue(start, end, progress) {
    return _progress_kendoDrawing.drawing.util.round(start + (end - start) * progress, COORD_PRECISION);
}

var TRIGGER = 'trigger';

var InstanceObserver = function InstanceObserver(observer, handlers) {
    this.observer = observer;
    this.handlerMap = deepExtend({}, this.handlerMap, handlers);
};

InstanceObserver.prototype.trigger = function trigger (name, args) {
    var ref = this;
        var observer = ref.observer;
        var handlerMap = ref.handlerMap;
    var isDefaultPrevented;
    if (handlerMap[name]) {
        isDefaultPrevented = this.callObserver(handlerMap[name], args);
    } else if (observer[TRIGGER]) {
        isDefaultPrevented = this.callObserver(TRIGGER, name, args);
    }

    return isDefaultPrevented;
};

InstanceObserver.prototype.callObserver = function callObserver (fnName) {
        var args = [], len = arguments.length - 1;
        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];

    return this.observer[fnName].apply(this.observer, args);
};

InstanceObserver.prototype.requiresHandlers = function requiresHandlers (names) {
        var this$1 = this;

    if (this.observer.requiresHandlers) {
        return this.observer.requiresHandlers(names);
    }

    for (var idx = 0; idx < names.length; idx++) {
        if (this$1.handlerMap[names[idx]]) {
            return true;
        }
    }
};

function map(array, callback) {
    var length = array.length;
    var result = [];
    for (var idx = 0; idx < length; idx++) {
        var value = callback(array[idx]);
        if (_progress_kendoDrawing.drawing.util.defined(value)) {
            result.push(value);
        }
    }
    return result;
}

function mousewheelDelta(e) {
    var delta = 0;

    if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
        delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);
    }

    if (e.detail) {
        delta = _progress_kendoDrawing.drawing.util.round(e.detail / 3);
    }

    return delta;
}

var ref$1 = _progress_kendoDrawing.drawing.util;
var append$1 = ref$1.append;
var bindEvents = ref$1.bindEvents;
var defined = ref$1.defined;
var deg = ref$1.deg;
var elementOffset = ref$1.elementOffset;
var elementSize$1 = ref$1.elementSize;
var eventElement = ref$1.eventElement;
var eventCoordinates = ref$1.eventCoordinates;
var last = ref$1.last;
var limitValue = ref$1.limitValue;
var objectKey = ref$1.objectKey;
var rad = ref$1.rad;
var round = ref$1.round;
var unbindEvents = ref$1.unbindEvents;
var valueOrDefault = ref$1.valueOrDefault;

var FontLoader = function FontLoader () {};

FontLoader.fetchFonts = function fetchFonts (options, fonts, state) {
        if ( state === void 0 ) state = { depth: 0 };

    var MAX_DEPTH = 5;

    if (!options || state.depth > MAX_DEPTH || !document.fonts) {
        return;
    }

    Object.keys(options).forEach(function(key) {
        var value = options[key];
        if (key === "dataSource" || key[0] === "$" || !value) {
            return;
        }

        if (key === "font") {
            fonts.push(value);
        } else if (typeof value === "object") {
            state.depth++;
            FontLoader.fetchFonts(value, fonts, state);
            state.depth--;
        }
    });
};

FontLoader.loadFonts = function loadFonts (fonts, callback) {
    var promises = [];

    if (fonts.length > 0 && document.fonts) {
        try {
            promises = fonts.map(function(font) {
                return document.fonts.load(font);
            });
        } catch (e) {
            // Silence font-loading errors
            _progress_kendoDrawing.logToConsole(e);
        }

        Promise.all(promises).then(callback, callback);
    } else {
        callback();
    }
};

FontLoader.preloadFonts = function preloadFonts (options, callback) {
    var fonts = [];
    FontLoader.fetchFonts(options, fonts);

    FontLoader.loadFonts(fonts, callback);
};

function setDefaultOptions(type, options) {
    var proto = type.prototype;
    if (proto.options) {
        proto.options = deepExtend({}, proto.options, options);
    } else {
        proto.options = options;
    }
}

function sparseArrayLimits(arr) {
    var min = MAX_VALUE;
    var max = MIN_VALUE;

    for (var idx = 0, length = arr.length; idx < length; idx++) {
        var value = arr[idx];
        if (value !== null && isFinite(value)) {
            min = Math.min(min, value);
            max = Math.max(max, value);
        }
    }

    return {
        min: min === MAX_VALUE ? undefined : min,
        max: max === MIN_VALUE ? undefined : max
    };
}

function autoMajorUnit(min, max) {
    var diff = round(max - min, DEFAULT_PRECISION - 1);

    if (diff === 0) {
        if (max === 0) {
            return 0.1;
        }

        diff = Math.abs(max);
    }

    var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));
    var relativeValue = round((diff / scale), DEFAULT_PRECISION);
    var scaleMultiplier = 1;

    if (relativeValue < 1.904762) {
        scaleMultiplier = 0.2;
    } else if (relativeValue < 4.761904) {
        scaleMultiplier = 0.5;
    } else if (relativeValue < 9.523809) {
        scaleMultiplier = 1;
    } else {
        scaleMultiplier = 2;
    }

    return round(scale * scaleMultiplier, DEFAULT_PRECISION);
}

var Point = (function (Class$$1) {
    function Point(x, y) {
        Class$$1.call(this);

        this.x = x || 0;
        this.y = y || 0;
    }

    if ( Class$$1 ) Point.__proto__ = Class$$1;
    Point.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Point.prototype.constructor = Point;

    Point.prototype.clone = function clone () {
        return new Point(this.x, this.y);
    };

    Point.prototype.equals = function equals (point) {
        return point && this.x === point.x && this.y === point.y;
    };

    Point.prototype.rotate = function rotate (center, degrees) {
        var theta = rad(degrees);
        var cosT = Math.cos(theta);
        var sinT = Math.sin(theta);
        var cx = center.x;
        var cy = center.y;
        var ref = this;
        var x = ref.x;
        var y = ref.y;

        this.x = round(
            cx + (x - cx) * cosT + (y - cy) * sinT,
            COORD_PRECISION
        );

        this.y = round(
            cy + (y - cy) * cosT - (x - cx) * sinT,
            COORD_PRECISION
        );

        return this;
    };

    Point.prototype.multiply = function multiply (a) {

        this.x *= a;
        this.y *= a;

        return this;
    };

    Point.prototype.distanceTo = function distanceTo (point) {
        var dx = this.x - point.x;
        var dy = this.y - point.y;

        return Math.sqrt(dx * dx + dy * dy);
    };

    Point.onCircle = function onCircle (center, angle, radius) {
        var radians = rad(angle);

        return new Point(
            center.x - radius * Math.cos(radians),
            center.y - radius * Math.sin(radians)
        );
    };

    return Point;
}(_progress_kendoDrawing.Class));

var Box = (function (Class$$1) {
    function Box(x1, y1, x2, y2) {
        Class$$1.call(this);

        this.x1 = x1 || 0;
        this.y1 = y1 || 0;
        this.x2 = x2 || 0;
        this.y2 = y2 || 0;
    }

    if ( Class$$1 ) Box.__proto__ = Class$$1;
    Box.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Box.prototype.constructor = Box;

    Box.prototype.equals = function equals (box) {
        return this.x1 === box.x1 && this.x2 === box.x2 &&
            this.y1 === box.y1 && this.y2 === box.y2;
    };

    Box.prototype.width = function width () {
        return this.x2 - this.x1;
    };

    Box.prototype.height = function height () {
        return this.y2 - this.y1;
    };

    Box.prototype.translate = function translate (dx, dy) {
        this.x1 += dx;
        this.x2 += dx;
        this.y1 += dy;
        this.y2 += dy;

        return this;
    };

    Box.prototype.move = function move (x, y) {
        var height = this.height();
        var width = this.width();

        if (defined(x)) {
            this.x1 = x;
            this.x2 = this.x1 + width;
        }

        if (defined(y)) {
            this.y1 = y;
            this.y2 = this.y1 + height;
        }

        return this;
    };

    Box.prototype.wrap = function wrap (targetBox) {
        this.x1 = Math.min(this.x1, targetBox.x1);
        this.y1 = Math.min(this.y1, targetBox.y1);
        this.x2 = Math.max(this.x2, targetBox.x2);
        this.y2 = Math.max(this.y2, targetBox.y2);

        return this;
    };

    Box.prototype.wrapPoint = function wrapPoint (point) {
        var arrayPoint = isArray(point);
        var x = arrayPoint ? point[0] : point.x;
        var y = arrayPoint ? point[1] : point.y;
        this.wrap(new Box(x, y, x, y));

        return this;
    };

    Box.prototype.snapTo = function snapTo (targetBox, axis) {

        if (axis === X || !axis) {
            this.x1 = targetBox.x1;
            this.x2 = targetBox.x2;
        }

        if (axis === Y || !axis) {
            this.y1 = targetBox.y1;
            this.y2 = targetBox.y2;
        }

        return this;
    };

    Box.prototype.alignTo = function alignTo (targetBox, anchor) {
        var height = this.height();
        var width = this.width();
        var axis = anchor === TOP || anchor === BOTTOM ? Y : X;
        var offset = axis === Y ? height : width;

        if (anchor === CENTER) {
            var targetCenter = targetBox.center();
            var center = this.center();

            this.x1 += targetCenter.x - center.x;
            this.y1 += targetCenter.y - center.y;
        } else if (anchor === TOP || anchor === LEFT) {
            this[axis + 1] = targetBox[axis + 1] - offset;
        } else {
            this[axis + 1] = targetBox[axis + 2];
        }

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.shrink = function shrink (dw, dh) {

        this.x2 -= dw;
        this.y2 -= dh;

        return this;
    };

    Box.prototype.expand = function expand (dw, dh) {
        this.shrink(-dw, -dh);
        return this;
    };

    Box.prototype.pad = function pad (padding) {
        var spacing = getSpacing(padding);

        this.x1 -= spacing.left;
        this.x2 += spacing.right;
        this.y1 -= spacing.top;
        this.y2 += spacing.bottom;

        return this;
    };

    Box.prototype.unpad = function unpad (padding) {
        var spacing = getSpacing(padding);

        spacing.left = -spacing.left;
        spacing.top = -spacing.top;
        spacing.right = -spacing.right;
        spacing.bottom = -spacing.bottom;

        return this.pad(spacing);
    };

    Box.prototype.clone = function clone () {
        return new Box(this.x1, this.y1, this.x2, this.y2);
    };

    Box.prototype.center = function center () {
        return new Point(
            this.x1 + this.width() / 2,
            this.y1 + this.height() / 2
        );
    };

    Box.prototype.containsPoint = function containsPoint (point) {

        return point.x >= this.x1 && point.x <= this.x2 &&
               point.y >= this.y1 && point.y <= this.y2;
    };

    Box.prototype.points = function points () {
        return [
            new Point(this.x1, this.y1),
            new Point(this.x2, this.y1),
            new Point(this.x2, this.y2),
            new Point(this.x1, this.y2)
        ];
    };

    Box.prototype.getHash = function getHash () {
        return [ this.x1, this.y1, this.x2, this.y2 ].join(",");
    };

    Box.prototype.overlaps = function overlaps (box) {
        return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);
    };

    Box.prototype.rotate = function rotate (rotation) {
        var width = this.width();
        var height = this.height();
        var ref = this.center();
        var cx = ref.x;
        var cy = ref.y;

        var r1 = rotatePoint(0, 0, cx, cy, rotation);
        var r2 = rotatePoint(width, 0, cx, cy, rotation);
        var r3 = rotatePoint(width, height, cx, cy, rotation);
        var r4 = rotatePoint(0, height, cx, cy, rotation);

        width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);
        height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);

        this.x2 = this.x1 + width;
        this.y2 = this.y1 + height;

        return this;
    };

    Box.prototype.toRect = function toRect () {
        return new _progress_kendoDrawing.geometry.Rect([ this.x1, this.y1 ], [ this.width(), this.height() ]);
    };

    Box.prototype.hasSize = function hasSize () {
        return this.width() !== 0 && this.height() !== 0;
    };

    Box.prototype.align = function align (targetBox, axis, alignment) {
        var c1 = axis + 1;
        var c2 = axis + 2;
        var sizeFunc = axis === X ? WIDTH : HEIGHT;
        var size = this[sizeFunc]();

        if (inArray(alignment, [ LEFT, TOP ])) {
            this[c1] = targetBox[c1];
            this[c2] = this[c1] + size;
        } else if (inArray(alignment, [ RIGHT, BOTTOM ])) {
            this[c2] = targetBox[c2];
            this[c1] = this[c2] - size;
        } else if (alignment === CENTER) {
            this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;
            this[c2] = this[c1] + size;
        }
    };

    return Box;
}(_progress_kendoDrawing.Class));

function rotatePoint(x, y, cx, cy, angle) {
    var theta = rad(angle);

    return new Point(
        cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta),
        cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta)
    );
}

var Ring = (function (Class$$1) {
    function Ring(center, innerRadius, radius, startAngle, angle) {
        Class$$1.call(this);

        this.center = center;
        this.innerRadius = innerRadius;
        this.radius = radius;
        this.startAngle = startAngle;
        this.angle = angle;
    }

    if ( Class$$1 ) Ring.__proto__ = Class$$1;
    Ring.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Ring.prototype.constructor = Ring;

    Ring.prototype.clone = function clone () {
        return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);
    };

    Ring.prototype.middle = function middle () {
        return this.startAngle + this.angle / 2;
    };

    Ring.prototype.setRadius = function setRadius (newRadius, innerRadius) {
        if (innerRadius) {
            this.innerRadius = newRadius;
        } else {
            this.radius = newRadius;
        }

        return this;
    };

    // TODO: Remove and replace with Point.onCircle
    Ring.prototype.point = function point (angle, innerRadius) {
        var radianAngle = rad(angle);
        var ax = Math.cos(radianAngle);
        var ay = Math.sin(radianAngle);
        var radius = innerRadius ? this.innerRadius : this.radius;
        var x = round(this.center.x - (ax * radius), COORD_PRECISION);
        var y = round(this.center.y - (ay * radius), COORD_PRECISION);

        return new Point(x, y);
    };

    Ring.prototype.adjacentBox = function adjacentBox (distance, width, height) {
        var sector = this.clone().expand(distance);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);
        var hw = width / 2;
        var hh = height / 2;
        var sa = Math.sin(rad(midAndle));
        var ca = Math.cos(rad(midAndle));
        var x = midPoint.x - hw;
        var y = midPoint.y - hh;

        if (Math.abs(sa) < 0.9) {
            x += hw * -ca / Math.abs(ca);
        }

        if (Math.abs(ca) < 0.9) {
            y += hh * -sa / Math.abs(sa);
        }

        return new Box(x, y, x + width, y + height);
    };

    Ring.prototype.containsPoint = function containsPoint (p) {
        var center = this.center;
        var innerRadius = this.innerRadius;
        var radius = this.radius;
        var startAngle = this.startAngle;
        var endAngle = this.startAngle + this.angle;
        var dx = p.x - center.x;
        var dy = p.y - center.y;
        var vector = new Point(dx, dy);
        var startPoint = this.point(startAngle);
        var startVector = new Point(startPoint.x - center.x, startPoint.y - center.y);
        var endPoint = this.point(endAngle);
        var endVector = new Point(endPoint.x - center.x, endPoint.y - center.y);
        var dist = round(dx * dx + dy * dy, COORD_PRECISION);

        return (startVector.equals(vector) || clockwise(startVector, vector)) &&
               !clockwise(endVector, vector) &&
               dist >= innerRadius * innerRadius && dist <= radius * radius;
    };

    Ring.prototype.getBBox = function getBBox () {
        var this$1 = this;

        var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);
        var startAngle = round(this.startAngle % 360);
        var endAngle = round((startAngle + this.angle) % 360);
        var innerRadius = this.innerRadius;
        var allAngles = [ 0, 90, 180, 270, startAngle, endAngle ].sort(numericComparer);
        var startAngleIndex = allAngles.indexOf(startAngle);
        var endAngleIndex = allAngles.indexOf(endAngle);
        var angles;

        if (startAngle === endAngle) {
            angles = allAngles;
        } else {
            if (startAngleIndex < endAngleIndex) {
                angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);
            } else {
                angles = [].concat(
                    allAngles.slice(0, endAngleIndex + 1),
                    allAngles.slice(startAngleIndex, allAngles.length)
                );
            }
        }

        for (var i = 0; i < angles.length; i++) {
            var point = this$1.point(angles[i]);
            box.wrapPoint(point);
            box.wrapPoint(point, innerRadius);
        }

        if (!innerRadius) {
            box.wrapPoint(this.center);
        }

        return box;
    };

    Ring.prototype.expand = function expand (value) {
        this.radius += value;
        return this;
    };

    return Ring;
}(_progress_kendoDrawing.Class));

function numericComparer(a, b) {
    return a - b;
}

var Sector = (function (Ring$$1) {
    function Sector(center, radius, startAngle, angle) {
        Ring$$1.call(this, center, 0, radius, startAngle, angle);
    }

    if ( Ring$$1 ) Sector.__proto__ = Ring$$1;
    Sector.prototype = Object.create( Ring$$1 && Ring$$1.prototype );
    Sector.prototype.constructor = Sector;

    Sector.prototype.expand = function expand (value) {
        return Ring$$1.prototype.expand.call(this, value);
    };

    Sector.prototype.clone = function clone () {
        return new Sector(this.center, this.radius, this.startAngle, this.angle);
    };

    Sector.prototype.setRadius = function setRadius (newRadius) {
        this.radius = newRadius;

        return this;
    };

    return Sector;
}(Ring));

var DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.

var ShapeBuilder = (function (Class$$1) {
    function ShapeBuilder () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) ShapeBuilder.__proto__ = Class$$1;
    ShapeBuilder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ShapeBuilder.prototype.constructor = ShapeBuilder;

    ShapeBuilder.prototype.createRing = function createRing (sector, options) {
        var startAngle = sector.startAngle + 180;
        var endAngle = sector.angle + startAngle;

        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100
        if (sector.angle > 0 && startAngle === endAngle) {
            endAngle += DIRECTION_ANGLE;
        }

        var center = new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y);
        var radius = Math.max(sector.radius, 0);
        var innerRadius = Math.max(sector.innerRadius, 0);
        var arc = new _progress_kendoDrawing.geometry.Arc(center, {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: radius,
            radiusY: radius
        });
        var path = _progress_kendoDrawing.drawing.Path.fromArc(arc, options).close();

        if (innerRadius) {
            arc.radiusX = arc.radiusY = innerRadius;
            var innerEnd = arc.pointAt(endAngle);
            path.lineTo(innerEnd.x, innerEnd.y);
            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);
        } else {
            path.lineTo(center.x, center.y);
        }

        return path;
    };

    return ShapeBuilder;
}(_progress_kendoDrawing.Class));

ShapeBuilder.current = new ShapeBuilder();

var ChartElement = (function (Class$$1) {
    function ChartElement(options) {
        Class$$1.call(this);

        this.children = [];

        this.options = deepExtend({}, this.options, this.initUserOptions(options));
    }

    if ( Class$$1 ) ChartElement.__proto__ = Class$$1;
    ChartElement.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartElement.prototype.constructor = ChartElement;

    ChartElement.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    ChartElement.prototype.reflow = function reflow (targetBox) {
        var children = this.children;
        var box;

        for (var i = 0; i < children.length; i++) {
            var currentChild = children[i];
            currentChild.reflow(targetBox);

            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();
        }

        this.box = box || targetBox;
    };

    ChartElement.prototype.destroy = function destroy () {
        var children = this.children;

        if (this.animation) {
            this.animation.destroy();
        }

        for (var i = 0; i < children.length; i++) {
            children[i].destroy();
        }
    };

    ChartElement.prototype.getRoot = function getRoot () {
        var parent = this.parent;

        return parent ? parent.getRoot() : null;
    };

    ChartElement.prototype.getSender = function getSender () {
        var service = this.getService();
        if (service) {
            return service.sender;
        }
    };

    ChartElement.prototype.getService = function getService () {
        var element = this;
        while (element) {
            if (element.chartService) {
                return element.chartService;
            }
            element = element.parent;
        }
    };

    ChartElement.prototype.translateChildren = function translateChildren (dx, dy) {
        var children = this.children;
        var childrenCount = children.length;

        for (var i = 0; i < childrenCount; i++) {
            children[i].box.translate(dx, dy);
        }
    };

    ChartElement.prototype.append = function append () {
        var arguments$1 = arguments;
        var this$1 = this;

        for (var i = 0; i < arguments.length; i++) {
            var item = arguments$1[i];
            this$1.children.push(item);
            item.parent = this$1;
        }
    };

    ChartElement.prototype.renderVisual = function renderVisual () {
        if (this.options.visible === false) {
            return;
        }

        this.createVisual();

        this.addVisual();

        this.renderChildren();

        this.createAnimation();
        this.renderComplete();
    };

    ChartElement.prototype.addVisual = function addVisual () {
        if (this.visual) {
            this.visual.chartElement = this;

            if (this.parent) {
                this.parent.appendVisual(this.visual);
            }
        }
    };

    ChartElement.prototype.renderChildren = function renderChildren () {
        var children = this.children;
        var length = children.length;
        for (var i = 0; i < length; i++) {
            children[i].renderVisual();
        }
    };

    ChartElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: this.options.zIndex,
            visible: valueOrDefault(this.options.visible, true)
        });
    };

    ChartElement.prototype.createAnimation = function createAnimation () {
        if (this.visual && this.options.animation) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.visual, this.options.animation
            );
        }
    };

    ChartElement.prototype.appendVisual = function appendVisual (childVisual) {
        if (!childVisual.chartElement) {
            childVisual.chartElement = this;
        }

        if (childVisual.options.noclip) {
            this.clipRoot().visual.append(childVisual);
        } else if (defined(childVisual.options.zIndex)) {
            this.stackRoot().stackVisual(childVisual);
        } else if (this.isStackRoot) {
            this.stackVisual(childVisual);
        } else if (this.visual) {
            this.visual.append(childVisual);
        } else {
            // Allow chart elements without visuals to
            // pass through child visuals
            this.parent.appendVisual(childVisual);
        }
    };

    ChartElement.prototype.clipRoot = function clipRoot () {
        if (this.parent) {
            return this.parent.clipRoot();
        }

        return this;
    };

    ChartElement.prototype.stackRoot = function stackRoot () {
        if (this.parent) {
            return this.parent.stackRoot();
        }

        return this;
    };

    ChartElement.prototype.stackVisual = function stackVisual (childVisual) {
        var zIndex = childVisual.options.zIndex || 0;
        var visuals = this.visual.children;
        var length = visuals.length;
        var pos;

        for (pos = 0; pos < length; pos++) {
            var sibling = visuals[pos];
            var here = valueOrDefault(sibling.options.zIndex, 0);
            if (here > zIndex) {
                break;
            }
        }

        this.visual.insert(pos, childVisual);
    };

    ChartElement.prototype.traverse = function traverse (callback) {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            var child = children[i];

            callback(child);
            if (child.traverse) {
                child.traverse(callback);
            }
        }
    };

    ChartElement.prototype.closest = function closest (match) {
        var element = this;
        var matched = false;

        while (element && !matched) {
            matched = match(element);

            if (!matched) {
                element = element.parent;
            }
        }

        if (matched) {
            return element;
        }
    };

    ChartElement.prototype.renderComplete = function renderComplete () {};

    ChartElement.prototype.hasHighlight = function hasHighlight () {
        var options = (this.options || {}).highlight;
        return !(!this.createHighlight || (options && options.visible === false));
    };

    ChartElement.prototype.toggleHighlight = function toggleHighlight (show) {
        var this$1 = this;

        var options = (this.options || {}).highlight || {};
        var customVisual = options.visual;
        var highlight = this._highlight;

        if (!highlight) {
            var highlightOptions = {
                fill: {
                    color: WHITE,
                    opacity: 0.2
                },
                stroke: {
                    color: WHITE,
                    width: 1,
                    opacity: 0.2
                }
            };

            if (customVisual) {
                highlight = this._highlight = customVisual(
                    Object.assign(this.highlightVisualArgs(), {
                        createVisual: function () { return this$1.createHighlight(highlightOptions); },
                        sender: this.getSender(),
                        series: this.series,
                        dataItem: this.dataItem,
                        category: this.category,
                        value: this.value,
                        percentage: this.percentage,
                        runningTotal: this.runningTotal,
                        total: this.total
                    }
                ));

                if (!highlight) {
                    return;
                }
            } else {
                highlight = this._highlight = this.createHighlight(highlightOptions);
            }

            if (!defined(highlight.options.zIndex)) {
                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);
            }

            this.appendVisual(highlight);
        }

        highlight.visible(show);
    };

    ChartElement.prototype.createGradientOverlay = function createGradientOverlay (element, options, gradientOptions) {
        var overlay = new _progress_kendoDrawing.drawing.Path(Object.assign({
            stroke: {
                color: "none"
            },
            fill: this.createGradient(gradientOptions),
            closed: element.options.closed
        }, options));

        overlay.segments.elements(element.segments.elements());

        return overlay;
    };

    ChartElement.prototype.createGradient = function createGradient (options) {
        if (this.parent) {
            return this.parent.createGradient(options);
        }
    };

    return ChartElement;
}(_progress_kendoDrawing.Class));

ChartElement.prototype.options = { };

var BoxElement = (function (ChartElement$$1) {
    function BoxElement(options) {
        ChartElement$$1.call(this, options);

        this.options.margin = getSpacing(this.options.margin);
        this.options.padding = getSpacing(this.options.padding);
    }

    if ( ChartElement$$1 ) BoxElement.__proto__ = ChartElement$$1;
    BoxElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BoxElement.prototype.constructor = BoxElement;

    BoxElement.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var width = options.width;
        var height = options.height;
        var shrinkToFit = options.shrinkToFit;
        var hasSetSize = width && height;
        var margin = options.margin;
        var padding = options.padding;
        var borderWidth = options.border.width;
        var box;

        var reflowPaddingBox = function () {
            this$1.align(targetBox, X, options.align);
            this$1.align(targetBox, Y, options.vAlign);
            this$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);
        };

        var contentBox = targetBox.clone();
        if (hasSetSize) {
            contentBox.x2 = contentBox.x1 + width;
            contentBox.y2 = contentBox.y1 + height;
        }

        if (shrinkToFit) {
            contentBox.unpad(margin).unpad(borderWidth).unpad(padding);
        }

        ChartElement$$1.prototype.reflow.call(this, contentBox);

        if (hasSetSize) {
            box = this.box = new Box(0, 0, width, height);
        } else {
            box = this.box;
        }

        if (shrinkToFit && hasSetSize) {
            reflowPaddingBox();
            contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);
        } else {
            contentBox = this.contentBox = box.clone();
            box.pad(padding).pad(borderWidth).pad(margin);
            reflowPaddingBox();
        }

        this.translateChildren(
            box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left,
            box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top
        );

        var children = this.children;
        for (var i = 0; i < children.length; i++) {
            var item = children[i];
            item.reflow(item.box);
        }
    };

    BoxElement.prototype.align = function align (targetBox, axis, alignment) {
        this.box.align(targetBox, axis, alignment);
    };

    BoxElement.prototype.hasBox = function hasBox () {
        var options = this.options;
        return options.border.width || options.background;
    };

    BoxElement.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        if (options.visible && this.hasBox()) {
            this.visual.append(_progress_kendoDrawing.drawing.Path.fromRect(
                this.paddingBox.toRect(),
                this.visualStyle()
            ));
        }
    };

    BoxElement.prototype.visualStyle = function visualStyle () {
        var options = this.options;
        var border = options.border || {};

        return {
            stroke: {
                width: border.width,
                color: border.color,
                opacity: valueOrDefault(border.opacity, options.opacity),
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            cursor: options.cursor
        };
    };

    return BoxElement;
}(ChartElement));

setDefaultOptions(BoxElement, {
    align: LEFT,
    vAlign: TOP,
    margin: {},
    padding: {},
    border: {
        color: BLACK,
        width: 0
    },
    background: "",
    shrinkToFit: false,
    width: 0,
    height: 0,
    visible: true
});

var ShapeElement = (function (BoxElement$$1) {
    function ShapeElement(options, pointData) {
        BoxElement$$1.call(this, options);

        this.pointData = pointData;
    }

    if ( BoxElement$$1 ) ShapeElement.__proto__ = BoxElement$$1;
    ShapeElement.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    ShapeElement.prototype.constructor = ShapeElement;

    ShapeElement.prototype.getElement = function getElement () {
        var ref = this;
        var options = ref.options;
        var box = ref.paddingBox;
        var type = options.type;
        var rotation = options.rotation;
        var center = box.center();
        var halfWidth = box.width() / 2;

        if (!options.visible || !this.hasBox()) {
            return null;
        }

        var style = this.visualStyle();
        var element;

        if (type === CIRCLE) {
            element = new _progress_kendoDrawing.drawing.Circle(
                new _progress_kendoDrawing.geometry.Circle([
                    round(box.x1 + halfWidth, COORD_PRECISION),
                    round(box.y1 + box.height() / 2, COORD_PRECISION)
                ], halfWidth),
                style
            );
        } else if (type === TRIANGLE) {
            element = _progress_kendoDrawing.drawing.Path.fromPoints([
                [ box.x1 + halfWidth, box.y1 ],
                [ box.x1, box.y2 ],
                [ box.x2, box.y2 ]
            ], style).close();
        } else if (type === CROSS) {
            element = new _progress_kendoDrawing.drawing.MultiPath(style);

            element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);
            element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);
        } else {
            element = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), style);
        }

        if (rotation) {
            element.transform(_progress_kendoDrawing.geometry.transform()
                .rotate(-rotation, [ center.x, center.y ])
            );
        }

        element.options.zIndex = options.zIndex;
        return element;
    };

    ShapeElement.prototype.createElement = function createElement () {
        var this$1 = this;

        var customVisual = this.options.visual;
        var pointData = this.pointData || {};
        var visual;

        if (customVisual) {
            visual = customVisual({
                value: pointData.value,
                dataItem: pointData.dataItem,
                sender: this.getSender(),
                series: pointData.series,
                category: pointData.category,
                rect: this.paddingBox.toRect(),
                options: this.visualOptions(),
                createVisual: function () { return this$1.getElement(); }
            });
        } else {
            visual = this.getElement();
        }

        return visual;
    };

    ShapeElement.prototype.visualOptions = function visualOptions () {
        var options = this.options;
        return {
            background: options.background,
            border: options.border,
            margin: options.margin,
            padding: options.padding,
            type: options.type,
            size: options.width,
            visible: options.visible
        };
    };

    ShapeElement.prototype.createVisual = function createVisual () {
        this.visual = this.createElement();
    };

    return ShapeElement;
}(BoxElement));

setDefaultOptions(ShapeElement, {
    type: CIRCLE,
    align: CENTER,
    vAlign: CENTER
});

var LINEAR = "linear";
var RADIAL = "radial";

var GRADIENTS = {
    glass: {
        type: LINEAR,
        rotation: 0,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.25,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 1,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.55
        }, {
            offset: 0.65,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0.25
        } ]
    },
    roundedBevel: {
        type: RADIAL,
        stops: [ {
            offset: 0.33,
            color: WHITE,
            opacity: 0.06
        }, {
            offset: 0.83,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.95,
            color: WHITE,
            opacity: 0
        } ]
    },
    roundedGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0
        }, {
            offset: 0.5,
            color: WHITE,
            opacity: 0.3
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    sharpGlass: {
        type: RADIAL,
        supportVML: false,
        stops: [ {
            offset: 0,
            color: WHITE,
            opacity: 0.2
        }, {
            offset: 0.15,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.17,
            color: WHITE,
            opacity: 0.35
        }, {
            offset: 0.85,
            color: WHITE,
            opacity: 0.05
        }, {
            offset: 0.87,
            color: WHITE,
            opacity: 0.15
        }, {
            offset: 0.99,
            color: WHITE,
            opacity: 0
        } ]
    },
    bubbleShadow: {
        type: RADIAL,
        center: [ 0.5, 0.5 ],
        radius: 0.5
    }
};

function boxDiff(r, s) {
    if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {
        return s;
    }

    var a = Math.min(r.x1, s.x1);
    var b = Math.max(r.x1, s.x1);
    var c = Math.min(r.x2, s.x2);
    var d = Math.max(r.x2, s.x2);
    var e = Math.min(r.y1, s.y1);
    var f = Math.max(r.y1, s.y1);
    var g = Math.min(r.y2, s.y2);
    var h = Math.max(r.y2, s.y2);
    var boxes = [];

    // X = intersection, 0-7 = possible difference areas
    // h +-+-+-+
    // . |5|6|7|
    // g +-+-+-+
    // . |3|X|4|
    // f +-+-+-+
    // . |0|1|2|
    // e +-+-+-+
    // . a b c d

    // we'll always have rectangles 1, 3, 4 and 6
    boxes[0] = new Box(b, e, c, f);
    boxes[1] = new Box(a, f, b, g);
    boxes[2] = new Box(c, f, d, g);
    boxes[3] = new Box(b, g, c, h);

    // decide which corners
    if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) { // corners 0 and 7
        boxes[4] = new Box(a, e, b, f);
        boxes[5] = new Box(c, g, d, h);
    } else { // corners 2 and 5
        boxes[4] = new Box(c, e, d, f);
        boxes[5] = new Box(a, g, b, h);
    }

    return grep(boxes, function(box) {
        return box.height() > 0 && box.width() > 0;
    })[0];
}

var RootElement = (function (ChartElement$$1) {
    function RootElement(options) {
        ChartElement$$1.call(this, options);

        var rootOptions = this.options;
        rootOptions.width = parseInt(rootOptions.width, 10);
        rootOptions.height = parseInt(rootOptions.height, 10);

        this.gradients = {};
    }

    if ( ChartElement$$1 ) RootElement.__proto__ = ChartElement$$1;
    RootElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RootElement.prototype.constructor = RootElement;

    RootElement.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var currentBox = new Box(0, 0, options.width, options.height);

        this.box = currentBox.unpad(options.margin);

        for (var i = 0; i < children.length; i++) {
            children[i].reflow(currentBox);
            currentBox = boxDiff(currentBox, children[i].box) || new Box();
        }
    };

    RootElement.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group();
        this.createBackground();
    };

    RootElement.prototype.createBackground = function createBackground () {
        var options = this.options;
        var border = options.border || {};
        var box = this.box.clone().pad(options.margin).unpad(border.width);

        var background = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            fill: {
                color: options.background,
                opacity: options.opacity
            },
            zIndex: -10
        });

        this.visual.append(background);
    };

    RootElement.prototype.getRoot = function getRoot () {
        return this;
    };

    RootElement.prototype.createGradient = function createGradient (options) {
        var gradients = this.gradients;
        var hashCode = objectKey(options);
        var gradient = GRADIENTS[options.gradient];
        var drawingGradient;

        if (gradients[hashCode]) {
            drawingGradient = gradients[hashCode];
        } else {
            var gradientOptions = Object.assign({}, gradient, options);
            if (gradient.type === "linear") {
                drawingGradient = new _progress_kendoDrawing.drawing.LinearGradient(gradientOptions);
            } else {
                if (options.innerRadius) {
                    gradientOptions.stops = innerRadialStops(gradientOptions);
                }
                drawingGradient = new _progress_kendoDrawing.drawing.RadialGradient(gradientOptions);
                drawingGradient.supportVML = gradient.supportVML !== false;
            }
            gradients[hashCode] = drawingGradient;
        }

        return drawingGradient;
    };

    RootElement.prototype.cleanGradients = function cleanGradients () {
        var gradients = this.gradients;
        for (var hashCode in gradients) {
            gradients[hashCode]._observers = [];//add clear observers method in drawing ObserversMixin
        }
    };

    RootElement.prototype.size = function size () {
        var options = this.options;
        return new Box(0, 0, options.width, options.height);
    };

    return RootElement;
}(ChartElement));

setDefaultOptions(RootElement, {
    width: DEFAULT_WIDTH,
    height: DEFAULT_HEIGHT,
    background: WHITE,
    border: {
        color: BLACK,
        width: 0
    },
    margin: getSpacing(5),
    zIndex: -2
});

function innerRadialStops(options) {
    var stops = options.stops;
    var usedSpace = ((options.innerRadius / options.radius) * 100);
    var length = stops.length;
    var currentStops = [];

    for (var i = 0; i < length; i++) {
        var currentStop = Object.assign({}, stops[i]);
        currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;
        currentStops.push(currentStop);
    }

    return currentStops;
}

var FloatElement = (function (ChartElement$$1) {
    function FloatElement(options) {
        ChartElement$$1.call(this, options);
        this._initDirection();
    }

    if ( ChartElement$$1 ) FloatElement.__proto__ = ChartElement$$1;
    FloatElement.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FloatElement.prototype.constructor = FloatElement;

    FloatElement.prototype._initDirection = function _initDirection () {
        var options = this.options;
        if (options.vertical) {
            this.groupAxis = X;
            this.elementAxis = Y;
            this.groupSizeField = WIDTH;
            this.elementSizeField = HEIGHT;
            this.groupSpacing = options.spacing;
            this.elementSpacing = options.vSpacing;
        } else {
            this.groupAxis = Y;
            this.elementAxis = X;
            this.groupSizeField = HEIGHT;
            this.elementSizeField = WIDTH;
            this.groupSpacing = options.vSpacing;
            this.elementSpacing = options.spacing;
        }
    };

    FloatElement.prototype.reflow = function reflow (targetBox) {
        this.box = targetBox.clone();
        this.reflowChildren();
    };

    FloatElement.prototype.reflowChildren = function reflowChildren () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var elementAxis = ref.elementAxis;
        var groupAxis = ref.groupAxis;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var ref$1 = this.groupOptions();
        var groups = ref$1.groups;
        var groupsSize = ref$1.groupsSize;
        var maxGroupElementsSize = ref$1.maxGroupElementsSize;
        var groupsCount = groups.length;
        var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());

        if (groupsCount) {
            var groupStart = groupsStart;

            for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {
                var group = groups[groupIdx];
                var groupElements = group.groupElements;
                var elementStart = box[elementAxis + 1];
                var groupElementsCount = groupElements.length;

                for (var idx = 0; idx < groupElementsCount; idx++) {
                    var element = groupElements[idx];
                    var elementSize$$1 = this$1.elementSize(element);
                    var groupElementStart = groupStart + this$1.alignStart(elementSize$$1[groupSizeField], group.groupSize);

                    var elementBox = new Box();
                    elementBox[groupAxis + 1] = groupElementStart;
                    elementBox[groupAxis + 2] = groupElementStart + elementSize$$1[groupSizeField];
                    elementBox[elementAxis + 1] = elementStart;
                    elementBox[elementAxis + 2] = elementStart + elementSize$$1[elementSizeField];

                    element.reflow(elementBox);

                    elementStart += elementSize$$1[elementSizeField] + this$1.elementSpacing;
                }
                groupStart += group.groupSize + this$1.groupSpacing;
            }
            box[groupAxis + 1] = groupsStart;
            box[groupAxis + 2] = groupsStart + groupsSize;
            box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;
        }
    };

    FloatElement.prototype.alignStart = function alignStart (size, maxSize) {
        var start = 0;
        var align = this.options.align;
        if (align === RIGHT || align === BOTTOM) {
            start = maxSize - size;
        } else if (align === CENTER) {
            start = (maxSize - size) / 2;
        }
        return start;
    };

    FloatElement.prototype.groupOptions = function groupOptions () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var children = ref.children;
        var elementSizeField = ref.elementSizeField;
        var groupSizeField = ref.groupSizeField;
        var elementSpacing = ref.elementSpacing;
        var groupSpacing = ref.groupSpacing;
        var maxSize = round(box[elementSizeField]());
        var childrenCount = children.length;
        var groups = [];

        var groupSize = 0;
        var groupElementsSize = 0;
        var groupsSize = 0;
        var maxGroupElementsSize = 0;
        var groupElements = [];

        for (var idx = 0; idx < childrenCount; idx++) {
            var element = children[idx];
            if (!element.box) {
                element.reflow(box);
            }

            var elementSize$$1 = this$1.elementSize(element);
            if (this$1.options.wrap && round(groupElementsSize + elementSpacing + elementSize$$1[elementSizeField]) > maxSize) {
                groups.push({
                    groupElements: groupElements,
                    groupSize: groupSize,
                    groupElementsSize: groupElementsSize
                });
                maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
                groupsSize += groupSpacing + groupSize;
                groupSize = 0;
                groupElementsSize = 0;
                groupElements = [];
            }
            groupSize = Math.max(groupSize, elementSize$$1[groupSizeField]);
            if (groupElementsSize > 0) {
                groupElementsSize += elementSpacing;
            }
            groupElementsSize += elementSize$$1[elementSizeField];
            groupElements.push(element);
        }

        groups.push({
            groupElements: groupElements,
            groupSize: groupSize,
            groupElementsSize: groupElementsSize
        });
        maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);
        groupsSize += groupSize;

        return {
            groups: groups,
            groupsSize: groupsSize,
            maxGroupElementsSize: maxGroupElementsSize
        };
    };

    FloatElement.prototype.elementSize = function elementSize (element) {
        return {
            width: element.box.width(),
            height: element.box.height()
        };
    };

    FloatElement.prototype.createVisual = function createVisual () {};

    return FloatElement;
}(ChartElement));

setDefaultOptions(FloatElement, {
    vertical: true,
    wrap: true,
    vSpacing: 0,
    spacing: 0
});

var DrawingText = _progress_kendoDrawing.drawing.Text;

var Text = (function (ChartElement$$1) {
    function Text(content, options) {
        ChartElement$$1.call(this, options);

        this.content = content;

        // Calculate size
        this.reflow(new Box());
    }

    if ( ChartElement$$1 ) Text.__proto__ = ChartElement$$1;
    Text.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Text.prototype.constructor = Text;

    Text.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var size = options.size = _progress_kendoDrawing.drawing.util.measureText(this.content, { font: options.font });

        this.baseline = size.baseline;

        this.box = new Box(targetBox.x1, targetBox.y1,
                targetBox.x1 + size.width, targetBox.y1 + size.height);
    };

    Text.prototype.createVisual = function createVisual () {
        var ref = this.options;
        var font = ref.font;
        var color = ref.color;
        var opacity = ref.opacity;
        var cursor = ref.cursor;

        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {
            font: font,
            fill: { color: color, opacity: opacity },
            cursor: cursor
        });
    };

    return Text;
}(ChartElement));

setDefaultOptions(Text, {
    font: DEFAULT_FONT,
    color: BLACK
});

function rectToBox(rect) {
    var origin = rect.origin;
    var bottomRight = rect.bottomRight();

    return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);
}

var ROWS_SPLIT_REGEX = /\n/m;

var TextBox = (function (BoxElement$$1) {
    function TextBox(content, options, data) {
        BoxElement$$1.call(this, options);
        this.content = content;
        this.data = data;

        this._initContainer();
        if (this.options._autoReflow !== false) {
            this.reflow(new Box());
        }
    }

    if ( BoxElement$$1 ) TextBox.__proto__ = BoxElement$$1;
    TextBox.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    TextBox.prototype.constructor = TextBox;

    TextBox.prototype._initContainer = function _initContainer () {
        var options = this.options;
        var rows = String(this.content).split(ROWS_SPLIT_REGEX);
        var floatElement = new FloatElement({ vertical: true, align: options.align, wrap: false });
        var textOptions = deepExtend({ }, options, { opacity: 1, animation: null });

        this.container = floatElement;
        this.append(floatElement);

        for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {
            var text = new Text(rows[rowIdx].trim(), textOptions);
            floatElement.append(text);
        }
    };

    TextBox.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var visualFn = options.visual;
        this.container.options.align = options.align;

        if (visualFn && !this._boxReflow) {
            var visualBox = targetBox;
            if (!visualBox.hasSize()) {
                this._boxReflow = true;
                this.reflow(visualBox);
                this._boxReflow = false;
                visualBox = this.box;
            }
            var visual = this.visual = visualFn(this.visualContext(visualBox));

            if (visual) {
                visualBox = rectToBox(visual.clippedBBox() || new _progress_kendoDrawing.geometry.Rect());

                visual.options.zIndex = options.zIndex;
            }

            this.box = this.contentBox = this.paddingBox = visualBox;
        } else {
            BoxElement$$1.prototype.reflow.call(this, targetBox);

            if (options.rotation) {
                var margin = getSpacing(options.margin);
                var box = this.box.unpad(margin);

                this.targetBox = targetBox;
                this.normalBox = box.clone();

                box = this.rotate();
                box.translate(margin.left - margin.right, margin.top - margin.bottom);

                this.rotatedBox = box.clone();

                box.pad(margin);
            }
        }
    };

    TextBox.prototype.createVisual = function createVisual () {
        var options = this.options;

        this.visual = new _progress_kendoDrawing.drawing.Group({
            transform: this.rotationTransform(),
            zIndex: options.zIndex,
            noclip: options.noclip
        });

        if (this.hasBox()) {
            var box = _progress_kendoDrawing.drawing.Path.fromRect(this.paddingBox.toRect(), this.visualStyle());
            this.visual.append(box);
        }
    };

    TextBox.prototype.renderVisual = function renderVisual () {
        if (!this.options.visible) {
            return;
        }

        if (this.options.visual) {
            var visual = this.visual;
            if (visual && !defined(visual.options.noclip)) {
                visual.options.noclip = this.options.noclip;
            }
            this.addVisual();
            this.createAnimation();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    TextBox.prototype.visualContext = function visualContext (targetBox) {
        var this$1 = this;

        var context = {
            text: this.content,
            rect: targetBox.toRect(),
            sender: this.getSender(),
            options: this.options,
            createVisual: function () {
                this$1._boxReflow = true;
                this$1.reflow(targetBox);
                this$1._boxReflow = false;
                return this$1.getDefaultVisual();
            }
        };
        if (this.data) {
            Object.assign(context, this.data);
        }

        return context;
    };

    TextBox.prototype.getDefaultVisual = function getDefaultVisual () {
        this.createVisual();
        this.renderChildren();
        var visual = this.visual;
        delete this.visual;
        return visual;
    };

    TextBox.prototype.rotate = function rotate () {
        var options = this.options;
        this.box.rotate(options.rotation);
        this.align(this.targetBox, X, options.align);
        this.align(this.targetBox, Y, options.vAlign);
        return this.box;
    };

    TextBox.prototype.rotationTransform = function rotationTransform () {
        var rotation = this.options.rotation;
        if (!rotation) {
            return null;
        }

        var ref = this.normalBox.center();
        var cx = ref.x;
        var cy = ref.y;
        var boxCenter = this.rotatedBox.center();

        return _progress_kendoDrawing.geometry.transform()
                   .translate(boxCenter.x - cx, boxCenter.y - cy)
                   .rotate(rotation, [ cx, cy ]);
    };

    return TextBox;
}(BoxElement));

var Title = (function (ChartElement$$1) {
    function Title(options) {
        ChartElement$$1.call(this, options);

        this.append(
            new TextBox(this.options.text, Object.assign({}, this.options, {
                vAlign: this.options.position
            }))
        );
    }

    if ( ChartElement$$1 ) Title.__proto__ = ChartElement$$1;
    Title.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Title.prototype.constructor = Title;

    Title.prototype.reflow = function reflow (targetBox) {
        ChartElement$$1.prototype.reflow.call(this, targetBox);
        this.box.snapTo(targetBox, X);
    };

    Title.buildTitle = function buildTitle (options, parent, defaultOptions) {
        var titleOptions = options;

        if (typeof options === "string") {
            titleOptions = { text: options };
        }

        titleOptions = Object.assign({ visible: true }, defaultOptions, titleOptions);

        var title;
        if (titleOptions && titleOptions.visible && titleOptions.text) {
            title = new Title(titleOptions);
            parent.append(title);
        }

        return title;
    };

    return Title;
}(ChartElement));

setDefaultOptions(Title, {
    color: BLACK,
    position: TOP,
    align: CENTER,
    margin: getSpacing(5),
    padding: getSpacing(5)
});

var AxisLabel = (function (TextBox$$1) {
    function AxisLabel(value, text, index, dataItem, options) {
        TextBox$$1.call(this, text, options);

        this.text = text;
        this.value = value;
        this.index = index;
        this.dataItem = dataItem;
        this.reflow(new Box());
    }

    if ( TextBox$$1 ) AxisLabel.__proto__ = TextBox$$1;
    AxisLabel.prototype = Object.create( TextBox$$1 && TextBox$$1.prototype );
    AxisLabel.prototype.constructor = AxisLabel;

    AxisLabel.prototype.visualContext = function visualContext (targetBox) {
        var context = TextBox$$1.prototype.visualContext.call(this, targetBox);

        context.value = this.value;
        context.dataItem = this.dataItem;
        context.format = this.options.format;
        context.culture = this.options.culture;

        return context;
    };

    AxisLabel.prototype.click = function click (widget, e) {

        widget.trigger(AXIS_LABEL_CLICK, {
            element: eventElement(e),
            value: this.value,
            text: this.text,
            index: this.index,
            dataItem: this.dataItem,
            axis: this.parent.options
        });
    };

    AxisLabel.prototype.rotate = function rotate () {
        if (this.options.alignRotation !== CENTER) {
            var box = this.normalBox.toRect();
            var transform = this.rotationTransform();

            this.box = rectToBox(box.bbox(transform.matrix()));
        } else {
            TextBox$$1.prototype.rotate.call(this);
        }

        return this.box;
    };

    AxisLabel.prototype.rotationTransform = function rotationTransform () {
        var options = this.options;
        var rotation = options.rotation;
        if (!rotation) {
            return null;
        }

        if (options.alignRotation === CENTER) {
            return TextBox$$1.prototype.rotationTransform.call(this);
        }

        var rotationMatrix = _progress_kendoDrawing.geometry.transform().rotate(rotation).matrix();
        var box = this.normalBox.toRect();
        var rect = this.targetBox.toRect();

        var rotationOrigin = options.rotationOrigin || TOP;
        var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? X : Y;
        var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM ? Y : X;
        var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();

        var topLeft = box.topLeft().transformCopy(rotationMatrix);
        var topRight = box.topRight().transformCopy(rotationMatrix);
        var bottomRight = box.bottomRight().transformCopy(rotationMatrix);
        var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);
        var rotatedBox = _progress_kendoDrawing.geometry.Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);

        var translate = {};
        translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];

        var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);
        var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);

        var alignStart, alignEnd;

        if (round(distanceLeft, DEFAULT_PRECISION) === round(distanceRight, DEFAULT_PRECISION)) {
            alignStart = topLeft;
            alignEnd = topRight;
        } else if (distanceRight < distanceLeft) {
            alignStart = topRight;
            alignEnd = bottomRight;
        } else {
            alignStart = topLeft;
            alignEnd = bottomLeft;
        }

        var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;
        translate[alignAxis] = rect.center()[alignAxis] - alignCenter;

        return _progress_kendoDrawing.geometry.transform()
            .translate(translate.x, translate.y)
            .rotate(rotation);
    };

    return AxisLabel;
}(TextBox));

setDefaultOptions(AxisLabel, {
    _autoReflow: false
});

var DEFAULT_ICON_SIZE = 7;
var DEFAULT_LABEL_COLOR = "#fff";

var Note = (function (BoxElement$$1) {
    function Note(fields, options, chartService) {
        BoxElement$$1.call(this, options);

        this.fields = fields;
        this.chartService = chartService;

        this.render();
    }

    if ( BoxElement$$1 ) Note.__proto__ = BoxElement$$1;
    Note.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Note.prototype.constructor = Note;

    Note.prototype.hide = function hide () {
        this.options.visible = false;
    };

    Note.prototype.show = function show () {
        this.options.visible = true;
    };

    Note.prototype.render = function render () {
        var this$1 = this;

        var options = this.options;

        if (options.visible) {
            var label = options.label;
            var icon = options.icon;
            var box = new Box();
            var childAlias = function () { return this$1; };
            var size = icon.size;
            var text = this.fields.text;
            var width, height;

            if (defined(label) && label.visible) {
                var noteTemplate = getTemplate(label);
                if (noteTemplate) {
                    text = noteTemplate(this.fields);
                } else if (label.format) {
                    text = this.chartService.format.auto(label.format, text);
                }

                if (!label.color) {
                    label.color = label.position === INSIDE ? DEFAULT_LABEL_COLOR : icon.background;
                }

                this.label = new TextBox(text, deepExtend({}, label));
                this.label.aliasFor = childAlias;

                if (label.position === INSIDE && !defined(size)) {
                    if (icon.type === CIRCLE) {
                        size = Math.max(this.label.box.width(), this.label.box.height());
                    } else {
                        width = this.label.box.width();
                        height = this.label.box.height();
                    }
                    box.wrap(this.label.box);
                }
            }

            icon.width = width || size || DEFAULT_ICON_SIZE;
            icon.height = height || size || DEFAULT_ICON_SIZE;

            var marker = new ShapeElement(deepExtend({}, icon));
            marker.aliasFor = childAlias;

            this.marker = marker;
            this.append(marker);

            if (this.label) {
                this.append(this.label);
            }

            marker.reflow(new Box());
            this.wrapperBox = box.wrap(marker.box);
        }
    };

    Note.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var marker = ref.marker;
        var wrapperBox = ref.wrapperBox;
        var center = targetBox.center();
        var length = options.line.length;
        var position = options.position;

        // TODO: Review
        if (options.visible) {
            var lineStart, box, contentBox;

            if (inArray(position, [ LEFT, RIGHT ])) {
                if (position === LEFT) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x1, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x2, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);

                    if (options.line.visible) {
                        lineStart = [ targetBox.x2, center.y ];
                        this.linePoints = [
                            lineStart,
                            [ contentBox.x1, center.y ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            } else {
                if (position === BOTTOM) {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y2 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y1 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                } else {
                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);

                    if (options.line.visible) {
                        lineStart = [ center.x, targetBox.y1 ];
                        this.linePoints = [
                            lineStart,
                            [ center.x, contentBox.y2 ]
                        ];
                        box = contentBox.clone().wrapPoint(lineStart);
                    }
                }
            }

            if (marker) {
                marker.reflow(contentBox);
            }

            if (label) {
                label.reflow(contentBox);
                if (marker) {
                    if (options.label.position === OUTSIDE) {
                        label.box.alignTo(marker.box, position);
                    }
                    label.reflow(label.box);
                }
            }

            this.contentBox = contentBox;
            this.targetBox = targetBox;
            this.box = box || contentBox;
        }
    };

    Note.prototype.createVisual = function createVisual () {
        BoxElement$$1.prototype.createVisual.call(this);
        this.visual.options.noclip = this.options.noclip;

        if (this.options.visible) {
            this.createLine();
        }
    };

    Note.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;
        if (options.visible && customVisual) {
            this.visual = customVisual(Object.assign(this.fields, {
                sender: this.getSender(),
                rect: this.targetBox.toRect(),
                options: {
                    background: options.background,
                    border: options.background,
                    icon: options.icon,
                    label: options.label,
                    line: options.line,
                    position: options.position,
                    visible: options.visible
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            }));
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    Note.prototype.createLine = function createLine () {
        var options = this.options.line;

        if (this.linePoints) {
            var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints, {
                stroke: {
                    color: options.color,
                    width: options.width,
                    dashType: options.dashType
                }
            });

            alignPathToPixel(path);
            this.visual.append(path);
        }
    };

    Note.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_CLICK, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(NOTE_HOVER, args)) {
            e.preventDefault();
        }
    };

    Note.prototype.out = function out (widget, e) {
        var args = this.eventArgs(e);

        widget.trigger(NOTE_LEAVE, args);
    };

    Note.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return Object.assign(this.fields, {
            element: eventElement(e),
            text: defined(options.label) ? options.label.text : "",
            visual: this.visual
        });
    };

    return Note;
}(BoxElement));

setDefaultOptions(Note, {
    icon: {
        visible: true,
        type: CIRCLE
    },
    label: {
        position: INSIDE,
        visible: true,
        align: CENTER,
        vAlign: CENTER
    },
    line: {
        visible: true
    },
    visible: true,
    position: TOP,
    zIndex: 2
});

function createAxisTick(options, tickOptions) {
    var tickX = options.tickX;
    var tickY = options.tickY;
    var position = options.position;

    var tick = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: tickOptions.width,
            color: tickOptions.color
        }
    });

    if (options.vertical) {
        tick.moveTo(tickX, position)
            .lineTo(tickX + tickOptions.size, position);
    } else {
        tick.moveTo(position, tickY)
            .lineTo(position, tickY + tickOptions.size);
    }

    alignPathToPixel(tick);

    return tick;
}

function createAxisGridLine(options, gridLine) {
    var lineStart = options.lineStart;
    var lineEnd = options.lineEnd;
    var position = options.position;

    var line = new _progress_kendoDrawing.drawing.Path({
        stroke: {
            width: gridLine.width,
            color: gridLine.color,
            dashType: gridLine.dashType
        }
    });

    if (options.vertical) {
        line.moveTo(lineStart, position)
            .lineTo(lineEnd, position);
    } else {
        line.moveTo(position, lineStart)
            .lineTo(position, lineEnd);
    }

    alignPathToPixel(line);

    return line;
}

var Axis = (function (ChartElement$$1) {
    function Axis(options, chartService) {
        if ( chartService === void 0 ) chartService = new ChartService();

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!this.options.visible) {
            this.options = deepExtend({}, this.options, {
                labels: {
                    visible: false
                },
                line: {
                    visible: false
                },
                margin: 0,
                majorTickSize: 0,
                minorTickSize: 0
            });
        }

        this.options.minorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.minorTickType !== NONE
        }, this.options.minorTicks, {
            size: this.options.minorTickSize,
            align: this.options.minorTickType
        });

        this.options.majorTicks = deepExtend({}, {
            color: this.options.line.color,
            width: this.options.line.width,
            visible: this.options.majorTickType !== NONE
        }, this.options.majorTicks, {
            size: this.options.majorTickSize,
            align: this.options.majorTickType
        });

        this.initFields();

        if (!this.options._deferLabels) {
            this.createLabels();
        }

        this.createTitle();
        this.createNotes();
    }

    if ( ChartElement$$1 ) Axis.__proto__ = ChartElement$$1;
    Axis.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Axis.prototype.constructor = Axis;

    Axis.prototype.initFields = function initFields () {
    };

    // abstract labelsCount(): Number
    // abstract createAxisLabel(index, options): AxisLabel

    Axis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.labelsCount()
        };
    };

    Axis.prototype.createLabels = function createLabels () {
        var this$1 = this;

        var options = this.options;
        var align = options.vertical ? RIGHT : CENTER;
        var labelOptions = deepExtend({ }, options.labels, {
            align: align,
            zIndex: options.zIndex
        });
        var step = Math.max(1, labelOptions.step);

        this.clearLabels();

        if (labelOptions.visible) {
            var range = this.labelsRange();
            var rotation = labelOptions.rotation;

            if (isObject(rotation)) {
                labelOptions.alignRotation = rotation.align;
                labelOptions.rotation = rotation.angle;
            }

            if (labelOptions.rotation === "auto") {
                labelOptions.rotation = 0;
                options.autoRotateLabels = true;
            }

            for (var idx = range.min; idx < range.max; idx += step) {
                var label = this$1.createAxisLabel(idx, labelOptions);
                if (label) {
                    this$1.append(label);
                    this$1.labels.push(label);
                }
            }
        }
    };

    Axis.prototype.clearLabels = function clearLabels () {
        this.children = grep(this.children, function (child) { return !(child instanceof AxisLabel); });
        this.labels = [];
    };

    Axis.prototype.clearTitle = function clearTitle () {
        var this$1 = this;

        if (this.title) {
            this.children = grep(this.children, function (child) { return child !== this$1.title; });
            this.title = undefined;
        }
    };

    Axis.prototype.clear = function clear () {
        this.clearLabels();
        this.clearTitle();
    };

    Axis.prototype.lineBox = function lineBox () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var axisX = mirror ? box.x1 : box.x2;
        var axisY = mirror ? box.y2 : box.y1;
        var lineWidth = options.line.width || 0;

        return vertical ?
            new Box(axisX, box.y1, axisX, box.y2 - lineWidth) :
            new Box(box.x1, axisY, box.x2 - lineWidth, axisY);
    };

    Axis.prototype.createTitle = function createTitle () {
        var options = this.options;
        var titleOptions = deepExtend({
            rotation: options.vertical ? -90 : 0,
            text: "",
            zIndex: 1,
            visualSize: true
        }, options.title);

        if (titleOptions.visible && titleOptions.text) {
            var title = new TextBox(titleOptions.text, titleOptions);
            this.append(title);
            this.title = title;
        }
    };

    Axis.prototype.createNotes = function createNotes () {
        var this$1 = this;

        var options = this.options;
        var notes = options.notes;
        var items = notes.data || [];

        this.notes = [];

        for (var i = 0; i < items.length; i++) {
            var item = deepExtend({}, notes, items[i]);
            item.value = this$1.parseNoteValue(item.value);

            var note = new Note({
                value: item.value,
                text: item.label.text,
                dataItem: item
            }, item, this$1.chartService);

            if (note.options.visible) {
                if (defined(note.options.position)) {
                    if (options.vertical && !inArray(note.options.position, [ LEFT, RIGHT ])) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else if (!options.vertical && !inArray(note.options.position, [ TOP, BOTTOM ])) {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                } else {
                    if (options.vertical) {
                        note.options.position = options.reverse ? LEFT : RIGHT;
                    } else {
                        note.options.position = options.reverse ? BOTTOM : TOP;
                    }
                }
                this$1.append(note);
                this$1.notes.push(note);
            }
        }
    };

    Axis.prototype.parseNoteValue = function parseNoteValue (value) {
        return value;
    };

    Axis.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        this.createPlotBands();
    };

    Axis.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        this.createBackground();
        this.createLine();
    };

    Axis.prototype.gridLinesVisual = function gridLinesVisual () {
        var gridLines = this._gridLines;
        if (!gridLines) {
            gridLines = this._gridLines = new _progress_kendoDrawing.drawing.Group({
                zIndex: -2
            });
            this.appendVisual(this._gridLines);
        }

        return gridLines;
    };

    Axis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var lineBox = this.lineBox();
        var mirror = options.labels.mirror;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: options.vertical
        };

        function render(tickPositions, tickOptions, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, tickOptions.step);

            if (tickOptions.visible) {
                for (var i = tickOptions.skip; i < count; i += step) {
                    if (defined(skipUnit) && (i % skipUnit === 0)) {
                        continue;
                    }

                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
                    tickLineOptions.position = tickPositions[i];

                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
                }
            }
        }

        render(this.getMajorTickPositions(), options.majorTicks);
        render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);
    };

    Axis.prototype.createLine = function createLine () {
        var options = this.options;
        var line = options.line;
        var lineBox = this.lineBox();

        if (line.width > 0 && line.visible) {
            var path = new _progress_kendoDrawing.drawing.Path({
                stroke: {
                    width: line.width,
                    color: line.color,
                    dashType: line.dashType
                }

                /* TODO
                zIndex: line.zIndex,
                */
            });

            path.moveTo(lineBox.x1, lineBox.y1)
                .lineTo(lineBox.x2, lineBox.y2);

            if (options._alignLines) {
                alignPathToPixel(path);
            }

            var group = this._lineGroup = new _progress_kendoDrawing.drawing.Group();
            group.append(path);

            this.visual.append(group);
            this.createTicks(group);
        }
    };

    Axis.prototype.getActualTickSize = function getActualTickSize () {
        var options = this.options;
        var tickSize = 0;

        if (options.majorTicks.visible && options.minorTicks.visible) {
            tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);
        } else if (options.majorTicks.visible) {
            tickSize = options.majorTicks.size;
        } else if (options.minorTicks.visible) {
            tickSize = options.minorTicks.size;
        }

        return tickSize;
    };

    Axis.prototype.createBackground = function createBackground () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var background = options.background;

        if (background) {
            this._backgroundPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect(), {
                fill: {
                    color: background
                },
                stroke: null
            });

            this.visual.append(this._backgroundPath);
        }
    };

    Axis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var options = this.options;
        var plotBands = options.plotBands || [];
        var vertical = options.vertical;
        var plotArea = this.plotArea;

        if (plotBands.length === 0) {
            return;
        }

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        var altAxis = grep(this.pane.axes, function (axis) { return axis.options.vertical !== this$1.options.vertical; })[0];

        for (var idx = 0; idx < plotBands.length; idx++) {
            var item = plotBands[idx];
            var slotX = (void 0), slotY = (void 0);

            if (vertical) {
                slotX = (altAxis || plotArea.axisX).lineBox();
                slotY = this$1.getSlot(item.from, item.to, true);
            } else {
                slotX = this$1.getSlot(item.from, item.to, true);
                slotY = (altAxis || plotArea.axisY).lineBox();
            }

            if (slotX.width() !== 0 && slotY.height() !== 0) {
                var bandRect = new _progress_kendoDrawing.geometry.Rect(
                    [ slotX.x1, slotY.y1 ],
                    [ slotX.width(), slotY.height() ]
                );

                var path = _progress_kendoDrawing.drawing.Path.fromRect(bandRect, {
                    fill: {
                        color: item.color,
                        opacity: item.opacity
                    },
                    stroke: null
                });

                group.append(path);
            }
        }

        this.appendVisual(group);
    };

    Axis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var minorUnit = options.minorUnit;
        var vertical = options.vertical;
        var axisLineVisible = altAxis.options.line.visible;
        var majorUnit = majorGridLines.visible ? options.majorUnit : 0;
        var lineBox = altAxis.lineBox();
        var linePos = lineBox[vertical ? "y1" : "x1"];
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();

        function render(tickPositions, gridLine, skipUnit) {
            var count = tickPositions.length;
            var step = Math.max(1, gridLine.step);

            if (gridLine.visible) {
                for (var i = gridLine.skip; i < count; i += step) {
                    var pos = round(tickPositions[i]);
                    if (!inArray(pos, majorTicks)) {
                        if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {
                            lineOptions.position = pos;
                            container.append(createAxisGridLine(lineOptions, gridLine));

                            majorTicks.push(pos);
                        }
                    }
                }
            }
        }

        render(this.getMajorTickPositions(), majorGridLines);
        render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);

        return container.children;
    };

    Axis.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var title = ref.title;
        var vertical = options.vertical;
        var count = labels.length;
        var sizeFn = vertical ? WIDTH : HEIGHT;
        var titleSize = title ? title.box[sizeFn]() : 0;
        var space = this.getActualTickSize() + options.margin + titleSize;
        var rootBox = (this.getRoot() || {}).box || box;
        var boxSize = rootBox[sizeFn]();
        var maxLabelSize = 0;

        for (var i = 0; i < count; i++) {
            var labelSize = labels[i].box[sizeFn]();
            if (labelSize + space <= boxSize) {
                maxLabelSize = Math.max(maxLabelSize, labelSize);
            }
        }

        if (vertical) {
            this.box = new Box(
                box.x1, box.y1,
                box.x1 + maxLabelSize + space, box.y2
            );
        } else {
            this.box = new Box(
                box.x1, box.y1,
                box.x2, box.y1 + maxLabelSize + space
            );
        }

        this.arrangeTitle();
        this.arrangeLabels();
        this.arrangeNotes();
    };

    Axis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getMajorTickPositions();
    };

    Axis.prototype.labelTickIndex = function labelTickIndex (label) {
        return label.index;
    };

    Axis.prototype.arrangeLabels = function arrangeLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var mirror = options.labels.mirror;
        var tickPositions = this.getLabelsTickPositions();
        var labelOffset = this.getActualTickSize() + options.margin;

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var labelSize = vertical ? label.box.height() : label.box.width();
            var labelPos = tickPositions[tickIx] - (labelSize / 2);
            var labelBox = (void 0), firstTickPosition = (void 0), nextTickPosition = (void 0);

            if (vertical) {
                if (labelsBetweenTicks) {
                    firstTickPosition = tickPositions[tickIx];
                    nextTickPosition = tickPositions[tickIx + 1];

                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;
                    labelPos = middle - (labelSize / 2);
                }

                var labelX = lineBox.x2;

                if (mirror) {
                    labelX += labelOffset;
                    label.options.rotationOrigin = LEFT;
                } else {
                    labelX -= labelOffset + label.box.width();
                    label.options.rotationOrigin = RIGHT;
                }

                labelBox = label.box.move(labelX, labelPos);
            } else {
                if (labelsBetweenTicks) {
                    firstTickPosition = tickPositions[tickIx];
                    nextTickPosition = tickPositions[tickIx + 1];
                } else {
                    firstTickPosition = labelPos;
                    nextTickPosition = labelPos + labelSize;
                }

                var labelY = lineBox.y1;

                if (mirror) {
                    labelY -= labelOffset + label.box.height();
                    label.options.rotationOrigin = BOTTOM;
                } else {
                    labelY += labelOffset;
                    label.options.rotationOrigin = TOP;
                }

                labelBox = new Box(firstTickPosition, labelY,
                                nextTickPosition, labelY + label.box.height());
            }

            label.reflow(labelBox);
        }
    };

    Axis.prototype.autoRotateLabels = function autoRotateLabels () {
        if (this.options.autoRotateLabels && !this.options.vertical) {
            var tickPositions = this.getMajorTickPositions();
            var labels = this.labels;
            var angle;

            for (var idx = 0; idx < labels.length; idx++) {
                var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);
                var labelBox = labels[idx].box;

                if (labelBox.width() > width) {
                    if (labelBox.height() > width) {
                        angle = -90;
                        break;
                    }
                    angle = -45;
                }
            }

            if (angle) {
                for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {
                    labels[idx$1].options.rotation = angle;
                    labels[idx$1].reflow(new Box());
                }
                return true;
            }
        }
    };

    Axis.prototype.arrangeTitle = function arrangeTitle () {
        var ref = this;
        var options = ref.options;
        var title = ref.title;
        var mirror = options.labels.mirror;
        var vertical = options.vertical;

        if (title) {
            if (vertical) {
                title.options.align = mirror ? RIGHT : LEFT;
                title.options.vAlign = title.options.position;
            } else {
                title.options.align = title.options.position;
                title.options.vAlign = mirror ? TOP : BOTTOM;
            }

            title.reflow(this.box);
        }
    };

    Axis.prototype.arrangeNotes = function arrangeNotes () {
        var this$1 = this;

        for (var idx = 0; idx < this.notes.length; idx++) {
            var item = this$1.notes[idx];
            var value = item.options.value;
            var slot = (void 0);

            if (defined(value)) {
                if (this$1.shouldRenderNote(value)) {
                    item.show();
                } else {
                    item.hide();
                }

                slot = this$1.noteSlot(value);
            } else {
                item.hide();
            }

            item.reflow(slot || this$1.lineBox());
        }
    };

    Axis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    Axis.prototype.alignTo = function alignTo (secondAxis) {
        var lineBox = secondAxis.lineBox();
        var vertical = this.options.vertical;
        var pos = vertical ? Y : X;

        this.box.snapTo(lineBox, pos);
        if (vertical) {
            this.box.shrink(0, this.lineBox().height() - lineBox.height());
        } else {
            this.box.shrink(this.lineBox().width() - lineBox.width(), 0);
        }
        this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];
        this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];
    };

    Axis.prototype.axisLabelText = function axisLabelText (value, dataItem, options) {
        var tmpl = getTemplate(options);
        var text = value;

        if (tmpl) {
            text = tmpl({ value: value, dataItem: dataItem, format: options.format, culture: options.culture });
        } else if (options.format) {
            text = this.chartService.format.localeAuto(options.format, [ value ], options.culture);
        }

        return text;
    };

    Axis.prototype.slot = function slot (from , to, limit) {
        var slot = this.getSlot(from, to, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    Axis.prototype.contentBox = function contentBox () {
        var box = this.box.clone();
        var labels = this.labels;
        if (labels.length) {
            var axis = this.options.vertical ? Y : X;
            if (this.chartService.isPannable(axis)) {
                var offset = this.maxLabelOffset();
                box[axis + 1] -= offset.start;
                box[axis + 2] += offset.end;
            } else {
                if (labels[0].options.visible) {
                    box.wrap(labels[0].box);
                }
                var lastLabel = labels[labels.length - 1];
                if (lastLabel.options.visible) {
                    box.wrap(lastLabel.box);
                }
            }
        }

        return box;
    };

    Axis.prototype.maxLabelOffset = function maxLabelOffset () {
        var this$1 = this;

        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var labelsBetweenTicks = this.labelsBetweenTicks();
        var tickPositions = this.getLabelsTickPositions();
        var offsetField = vertical ? Y : X;
        var labels = this.labels;
        var startPosition = reverse ? 1 : 0;
        var endPosition = reverse ? 0 : 1;
        var maxStartOffset = 0;
        var maxEndOffset = 0;

        for (var idx = 0; idx < labels.length; idx++) {
            var label = labels[idx];
            var tickIx = this$1.labelTickIndex(label);
            var startTick = (void 0), endTick = (void 0);

            if (labelsBetweenTicks) {
                startTick = tickPositions[tickIx + startPosition];
                endTick = tickPositions[tickIx + endPosition];
            } else {
                startTick = endTick = tickPositions[tickIx];
            }

            maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);
            maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);
        }

        return {
            start: maxStartOffset,
            end: maxEndOffset
        };
    };

    Axis.prototype.limitRange = function limitRange (from, to, min, max, offset) {
        var options = this.options;

        if ((from < min && offset < 0 && (!defined(options.min) || options.min <= min)) || (max < to && offset > 0 && (!defined(options.max) || max <= options.max))) {
            return null;
        }

        if ((to < min && offset > 0) || (max < from && offset < 0)) {
            return {
                min: from,
                max: to
            };
        }

        var rangeSize = to - from;
        var minValue = from;
        var maxValue = to;

        if (from < min && offset < 0) {
            minValue = limitValue(from, min, max);
            maxValue = limitValue(from + rangeSize, min + rangeSize, max);
        } else if (to > max && offset > 0) {
            maxValue = limitValue(to, min, max);
            minValue = limitValue(to - rangeSize, min, max - rangeSize);
        }

        return {
            min: minValue,
            max: maxValue
        };
    };

    Axis.prototype.valueRange = function valueRange () {
        return {
            min: this.seriesMin,
            max: this.seriesMax
        };
    };

    Axis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.options.justified;
    };

    //add legacy fields to the options that are no longer generated by default
    Axis.prototype.prepareUserOptions = function prepareUserOptions () {
    };

    return Axis;
}(ChartElement));

setDefaultOptions(Axis, {
    labels: {
        visible: true,
        rotation: 0,
        mirror: false,
        step: 1,
        skip: 0
    },
    line: {
        width: 1,
        color: BLACK,
        visible: true
    },
    title: {
        visible: true,
        position: CENTER
    },
    majorTicks: {
        align: OUTSIDE,
        size: 4,
        skip: 0,
        step: 1
    },
    minorTicks: {
        align: OUTSIDE,
        size: 3,
        skip: 0,
        step: 1
    },
    axisCrossingValue: 0,
    majorTickType: OUTSIDE,
    minorTickType: NONE,
    majorGridLines: {
        skip: 0,
        step: 1
    },
    minorGridLines: {
        visible: false,
        width: 1,
        color: BLACK,
        skip: 0,
        step: 1
    },
    // TODO: Move to line or labels options
    margin: 5,
    visible: true,
    reverse: false,
    justified: true,
    notes: {
        label: {
            text: ""
        }
    },

    _alignLines: true,
    _deferLabels: false
});

var MILLISECONDS = "milliseconds";
var SECONDS = "seconds";
var MINUTES = "minutes";
var HOURS = "hours";
var DAYS = "days";
var WEEKS = "weeks";
var MONTHS = "months";
var YEARS = "years";

var TIME_PER_MILLISECOND = 1;
var TIME_PER_SECOND = 1000;
var TIME_PER_MINUTE = 60 * TIME_PER_SECOND;
var TIME_PER_HOUR = 60 * TIME_PER_MINUTE;
var TIME_PER_DAY = 24 * TIME_PER_HOUR;
var TIME_PER_WEEK = 7 * TIME_PER_DAY;
var TIME_PER_MONTH = 31 * TIME_PER_DAY;
var TIME_PER_YEAR = 365 * TIME_PER_DAY;
var TIME_PER_UNIT = {
    "years": TIME_PER_YEAR,
    "months": TIME_PER_MONTH,
    "weeks": TIME_PER_WEEK,
    "days": TIME_PER_DAY,
    "hours": TIME_PER_HOUR,
    "minutes": TIME_PER_MINUTE,
    "seconds": TIME_PER_SECOND,
    "milliseconds": TIME_PER_MILLISECOND
};

function absoluteDateDiff(a, b) {
    var diff = a.getTime() - b;
    var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();

    return diff - (offsetDiff * TIME_PER_MINUTE);
}

function addTicks(date, ticks) {
    return new Date(date.getTime() + ticks);
}

function toDate(value) {
    var result;

    if (value instanceof Date) {
        result = value;
    } else if (value) {
        result = new Date(value);
    }

    return result;
}

function startOfWeek(date, weekStartDay) {
    if ( weekStartDay === void 0 ) weekStartDay = 0;

    var daysToSubtract = 0;
    var day = date.getDay();

    if (!isNaN(day)) {
        while (day !== weekStartDay) {
            if (day === 0) {
                day = 6;
            } else {
                day--;
            }

            daysToSubtract++;
        }
    }

    return addTicks(date, -daysToSubtract * TIME_PER_DAY);
}

function adjustDST(date, hours) {
    if (hours === 0 && date.getHours() === 23) {
        date.setHours(date.getHours() + 2);
        return true;
    }

    return false;
}

function addHours(date, hours) {
    var roundedDate = new Date(date);

    roundedDate.setMinutes(0, 0, 0);

    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;

    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);
}

function addDuration(dateValue, value, unit, weekStartDay) {
    var result = dateValue;

    if (dateValue) {
        var date = toDate(dateValue);
        var hours = date.getHours();

        if (unit === YEARS) {
            result = new Date(date.getFullYear() + value, 0, 1);
            adjustDST(result, 0);
        } else if (unit === MONTHS) {
            result = new Date(date.getFullYear(), date.getMonth() + value, 1);
            adjustDST(result, hours);
        } else if (unit === WEEKS) {
            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);
            adjustDST(result, hours);
        } else if (unit === DAYS) {
            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);
            adjustDST(result, hours);
        } else if (unit === HOURS) {
            result = addHours(date, value);
        } else if (unit === MINUTES) {
            result = addTicks(date, value * TIME_PER_MINUTE);

            if (result.getSeconds() > 0) {
                result.setSeconds(0);
            }
        } else if (unit === SECONDS) {
            result = addTicks(date, value * TIME_PER_SECOND);
        } else if (unit === MILLISECONDS) {
            result = addTicks(date, value);
        }

        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {
            result.setMilliseconds(0);
        }
    }

    return result;
}

function floorDate(date, unit, weekStartDay) {
    return addDuration(toDate(date), 0, unit, weekStartDay);
}

function ceilDate(dateValue, unit, weekStartDay) {
    var date = toDate(dateValue);

    if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {
        return date;
    }

    return addDuration(date, 1, unit, weekStartDay);
}

function dateComparer(a, b) {
    if (a && b) {
        return a.getTime() - b.getTime();
    }

    return -1;
}

function dateDiff(a, b) {
    return a.getTime() - b;
}

function toTime(value) {
    if (isArray(value)) {
        var result = [];
        for (var idx = 0; idx < value.length; idx++) {
            result.push(toTime(value[idx]));
        }

        return result;
    } else if (value) {
        return toDate(value).getTime();
    }
}

function dateEquals(a, b) {
    if (a && b) {
        return toTime(a) === toTime(b);
    }

    return a === b;
}

function timeIndex(date, start, baseUnit) {
    return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];
}

function dateIndex(value, start, baseUnit, baseUnitStep) {
    var date = toDate(value);
    var startDate = toDate(start);
    var index;

    if (baseUnit === MONTHS) {
        index = (date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12) +
            timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
    } else if (baseUnit === YEARS) {
        index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;
    } else if (baseUnit === DAYS || baseUnit === WEEKS) {
        index = timeIndex(date, startDate, baseUnit);
    } else {
        index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];
    }

    return index / baseUnitStep;
}

function duration(a, b, unit) {
    var diff;

    if (unit === YEARS) {
        diff = b.getFullYear() - a.getFullYear();
    } else if (unit === MONTHS) {
        diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();
    } else if (unit === DAYS) {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);
    } else {
        diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);
    }

    return diff;
}

function parseDate(intlService, date) {
    var result;
    if (isString(date)) {
        result = intlService.parseDate(date) || toDate(date);
    } else {
        result = toDate(date);
    }
    return result;
}

function parseDates(intlService, dates) {
    if (isArray(dates)) {
        var result = [];
        for (var idx = 0; idx < dates.length; idx++) {
            result.push(parseDate(intlService, dates[idx]));
        }

        return result;
    }

    return parseDate(intlService, dates);
}

var MIN_CATEGORY_POINTS_RANGE = 0.01;

function indexOf(value, arr) {
    if (value instanceof Date) {
        var length = arr.length;
        for (var idx = 0; idx < length; idx++) {
            if (dateEquals(arr[idx], value)) {
                return idx;
            }
        }

        return -1;
    }

    return arr.indexOf(value);
}

var CategoryAxis = (function (Axis$$1) {
    function CategoryAxis () {
        Axis$$1.apply(this, arguments);
    }

    if ( Axis$$1 ) CategoryAxis.__proto__ = Axis$$1;
    CategoryAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    CategoryAxis.prototype.constructor = CategoryAxis;

    CategoryAxis.prototype.initFields = function initFields () {
        this._ticks = {};
    };

    CategoryAxis.prototype.categoriesHash = function categoriesHash () {
        return "";
    };

    CategoryAxis.prototype.clone = function clone () {
        var copy = new CategoryAxis(Object.assign({}, this.options, {
            categories: this.options.srcCategories
        }), this.chartService);
        copy.createLabels();

        return copy;
    };

    CategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        var categories = options.categories || [];
        var definedMin = defined(options.min);
        var definedMax = defined(options.max);
        options.srcCategories = options.categories = categories;

        if ((definedMin || definedMax) && categories.length) {
            var min = definedMin ? Math.floor(options.min) : 0;
            var max;

            if (definedMax) {
                max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);
            } else {
                max = categories.length;
            }

            options.categories = options.categories.slice(min, max);
        }

        return options;
    };

    CategoryAxis.prototype.rangeIndices = function rangeIndices () {
        var options = this.options;
        var length = options.categories.length || 1;
        var min = isNumber(options.min) ? options.min % 1 : 0;
        var max;

        if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {
            max = length - (1 - options.max % 1);
        } else {
            max = length - (options.justified ? 1 : 0);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.totalRangeIndices = function totalRangeIndices (limit) {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max;

        if (isNumber(options.max)) {
            max = options.max;
        } else if (isNumber(options.min)) {
            max = min + options.categories.length;
        } else {
            max = this.totalRange().max || 1;
        }

        if (limit) {
            var totalRange = this.totalRange();
            min = limitValue(min, 0, totalRange.max);
            max = limitValue(max, 0, totalRange.max);
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.range = function range () {
        var options = this.options;
        var min = isNumber(options.min) ? options.min : 0;
        var max = isNumber(options.max) ? options.max : this.totalRange().max;

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.roundedRange = function roundedRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalRange = function totalRange () {
        var options = this.options;
        return { min: 0, max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0) };
    };

    CategoryAxis.prototype.scaleOptions = function scaleOptions () {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var lineBox = this.lineBox();
        var size = this.options.vertical ? lineBox.height() : lineBox.width();
        var scale = size / ((max - min) || 1);

        return {
            scale: scale * (this.options.reverse ? -1 : 1),
            box: lineBox,
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.arrangeLabels = function arrangeLabels () {
        Axis$$1.prototype.arrangeLabels.call(this);
        this.hideOutOfRangeLabels();
    };

    CategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {
        var ref = this;
        var box = ref.box;
        var labels = ref.labels;

        if (labels.length) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];
            var firstLabel = labels[0];
            var lastLabel = last(labels);

            if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {
                firstLabel.options.visible = false;
            }
            if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {
                lastLabel.options.visible = false;
            }
        }
    };

    CategoryAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTicks().majorTicks;
    };

    CategoryAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTicks().minorTicks;
    };

    CategoryAxis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {
        return this.getTicks().labelTicks;
    };

    CategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this.rangeIndices();
        var min = ref.min;
        var max = ref.max;
        var limit = Math.ceil(max);
        var current = Math.floor(min);
        var indices = [];

        while (current <= limit) {
            indices.push(current);
            current += stepSize;
        }

        return indices;
    };

    CategoryAxis.prototype.getTickPositions = function getTickPositions (stepSize) {
        var ref = this.options;
        var vertical = ref.vertical;
        var reverse = ref.reverse;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];
        var indices = this.tickIndices(stepSize);
        var positions = [];

        for (var idx = 0; idx < indices.length; idx++) {
            positions.push(pos + round(scale * (indices[idx] - min), COORD_PRECISION));
        }

        return positions;
    };

    CategoryAxis.prototype.getTicks = function getTicks () {
        var options = this.options;
        var cache = this._ticks;
        var range = this.rangeIndices();
        var lineBox = this.lineBox();
        var hash = lineBox.getHash() + range.min + "," + range.max + options.reverse + options.justified;

        if (cache._hash !== hash) {
            var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;
            cache._hash = hash;
            cache.labelTicks = this.getTickPositions(1);
            cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);
            cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];
        }

        return cache;
    };

    CategoryAxis.prototype.filterOutOfRangePositions = function filterOutOfRangePositions (positions, lineBox) {
        if (!positions.length) {
            return positions;
        }

        var axis = this.options.vertical ? Y : X;
        var inRange = function (position) { return lineBox[axis + 1] <= position && position <= lineBox[axis + 2]; };

        var end = positions.length - 1;
        var startIndex = 0;
        while (!inRange(positions[startIndex]) && startIndex <= end) {
            startIndex++;
        }

        var endIndex = end;

        while (!inRange(positions[endIndex]) && endIndex >= 0) {
            endIndex--;
        }

        return positions.slice(startIndex, endIndex + 1);
    };

    CategoryAxis.prototype.getSlot = function getSlot (from, to, limit) {
        var options = this.options;
        var reverse = options.reverse;
        var justified = options.justified;
        var vertical = options.vertical;
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var box = ref.box;
        var min = ref.min;
        var valueAxis = vertical ? Y : X;
        var lineStart = box[valueAxis + (reverse ? 2 : 1)];
        var slotBox = box.clone();
        var singleSlot = !defined(to);

        var start = valueOrDefault(from, 0);
        var end = valueOrDefault(to, start);
        end = Math.max(end - 1, start);

        // Fixes transient bug caused by iOS 6.0 JIT
        // (one can never be too sure)
        end = Math.max(start, end);

        var p1 = lineStart + (start - min) * scale;
        var p2 = lineStart + (end + 1 - min) * scale;

        if (singleSlot && justified) {
            p2 = p1;
        }

        if (limit) {
            p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);
            p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);
        }

        slotBox[valueAxis + 1] = reverse ? p2 : p1;
        slotBox[valueAxis + 2] = reverse ? p1 : p2;

        return slotBox;
    };

    CategoryAxis.prototype.limitSlot = function limitSlot (slot) {
        var vertical = this.options.vertical;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var limittedSlot = slot.clone();

        limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);
        limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);

        return limittedSlot;
    };

    CategoryAxis.prototype.slot = function slot (from, to, limit) {
        var min = Math.floor(this.options.min || 0);
        var start = from;
        var end = to;

        if (typeof start === "string") {
            start = this.categoryIndex(start);
        } else if (isNumber(start)) {
            start -= min;
        }

        if (typeof end === "string") {
            end = this.categoryIndex(end);
        } else if (isNumber(end)) {
            end -= min;
        }

        return Axis$$1.prototype.slot.call(this, start, end, limit);
    };

    CategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var ref = this.options;
        var reverse = ref.reverse;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var min = ref$1.min;
        var max = ref$1.max;
        var startValue = reverse ? max : min;
        var lineStart = box[valueAxis + 1];
        var lineEnd = box[valueAxis + 2];
        var pos = point[valueAxis];

        if (pos < lineStart || pos > lineEnd) {
            return null;
        }

        var value = startValue + (pos - lineStart) / scale;
        var diff = value % 1;

        if (justified) {
            value = Math.round(value);
        } else if (diff === 0 && value > 0) {
            value--;
        }

        return Math.floor(value);
    };

    CategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.options.categories[index];
    };

    CategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.totalIndex(value) - Math.floor(this.options.min || 0);
    };

    CategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        var options = this.options;

        return (total ? options.srcCategories : options.categories)[index];
    };

    CategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return (this.options.categories || []).length;
    };

    CategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var range = options.categories.length;
        var scale = size / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        return {
            min: offset,
            max: range + offset
        };
    };

    CategoryAxis.prototype.zoomRange = function zoomRange (rate) {
        var rangeIndices = this.totalRangeIndices();
        var ref = this.totalRange();
        var totalMin = ref.min;
        var totalMax = ref.max;
        var min = limitValue(rangeIndices.min + rate, totalMin, totalMax);
        var max = limitValue(rangeIndices.max - rate, totalMin, totalMax);

        if (max - min > 0) {
            return {
                min: min,
                max: max
            };
        }
    };

    CategoryAxis.prototype.scaleRange = function scaleRange (scale) {
        var range = this.options.categories.length;
        var delta = scale * range;

        return {
            min: -delta,
            max: range + delta
        };
    };

    CategoryAxis.prototype.labelsCount = function labelsCount () {
        var labelsRange = this.labelsRange();

        return labelsRange.max - labelsRange.min;
    };

    CategoryAxis.prototype.labelsRange = function labelsRange () {
        var options = this.options;
        var justified = options.justified;
        var labelOptions = options.labels;
        var ref = this.totalRangeIndices(true);
        var min = ref.min;
        var max = ref.max;
        var start = Math.floor(min);

        if (!justified) {
            min = Math.floor(min);
            max = Math.ceil(max);
        } else {
            min = Math.ceil(min);
            max = Math.floor(max);
        }

        var skip;

        if (min > labelOptions.skip) {
            skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);
        } else {
            skip = labelOptions.skip;
        }

        return {
            min: skip - start,
            max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start
        };
    };

    CategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var dataItem = options.dataItems ? options.dataItems[index] : null;
        var category = valueOrDefault(options.categories[index], "");
        var text = this.axisLabelText(category, dataItem, labelOptions);

        return new AxisLabel(category, text, index, dataItem, labelOptions);
    };

    CategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.totalRangeIndices();

        return Math.floor(range.min) <= value && value <= Math.ceil(range.max);
    };

    CategoryAxis.prototype.noteSlot = function noteSlot (value) {
        var options = this.options;
        var index = value - Math.floor(options.min || 0);
        return this.getSlot(index);
    };

    CategoryAxis.prototype.arrangeNotes = function arrangeNotes () {
        Axis$$1.prototype.arrangeNotes.call(this);
        this.hideOutOfRangeNotes();
    };

    CategoryAxis.prototype.hideOutOfRangeNotes = function hideOutOfRangeNotes () {
        var ref = this;
        var notes = ref.notes;
        var box = ref.box;
        if (notes && notes.length) {
            var valueAxis = this.options.vertical ? Y : X;
            var start = box[valueAxis + 1];
            var end = box[valueAxis + 2];

            for (var idx = 0; idx < notes.length; idx++) {
                var note = notes[idx];
                if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {
                    note.hide();
                }
            }
        }
    };

    CategoryAxis.prototype.pan = function pan (delta) {
        var range = this.totalRangeIndices(true);
        var ref = this.scaleOptions();
        var scale = ref.scale;
        var offset = round(delta / scale, DEFAULT_PRECISION);
        var totalRange = this.totalRange();
        var min = range.min + offset;
        var max = range.max + offset;

        return this.limitRange(min, max, 0, totalRange.max, offset);
    };

    CategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        var ref = this.options;
        var reverse = ref.reverse;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var range = this.totalRangeIndices(true);
        var ref$1 = this.scaleOptions();
        var scale = ref$1.scale;
        var box = ref$1.box;
        var lineStart = box[valueAxis + (reverse ? 2 : 1)];

        var diffStart = start[valueAxis] - lineStart;
        var diffEnd = end[valueAxis] - lineStart;

        var min = range.min + diffStart / scale;
        var max = range.min + diffEnd / scale;
        var rangeMin = Math.min(min, max);
        var rangeMax = Math.max(min, max);

        if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {
            return {
                min: rangeMin,
                max: rangeMax
            };
        }
    };

    CategoryAxis.prototype.valueRange = function valueRange () {
        return this.range();
    };

    CategoryAxis.prototype.totalIndex = function totalIndex (value) {
        var options = this.options;
        var index = this._categoriesMap ?
            this._categoriesMap.get(value) : indexOf(value, options.srcCategories);

        return index;
    };

    CategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var options = this.options;
        var min = 0;

        if (isNumber(options.min)) {
            min = Math.floor(options.min);
        }

        var max;
        if (isNumber(options.max)) {
            max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;
        } else {
            max = this.totalCount() - 1;
        }

        return {
            min: min,
            max: max
        };
    };

    CategoryAxis.prototype.mapCategories = function mapCategories () {
        if (!this._categoriesMap) {
            var map$$1 = this._categoriesMap = new HashMap();
            var srcCategories = this.options.srcCategories;
            for (var idx = 0; idx < srcCategories.length; idx++) {
                map$$1.set(srcCategories[idx], idx);
            }
        }
    };

    CategoryAxis.prototype.totalCount = function totalCount () {
        return Math.max(this.options.srcCategories.length, this._seriesMax || 0);
    };

    return CategoryAxis;
}(Axis));

setDefaultOptions(CategoryAxis, {
    type: "category",
    vertical: false,
    majorGridLines: {
        visible: false,
        width: 1,
        color: BLACK
    },
    labels: {
        zIndex: 1
    },
    justified: false,
    _deferLabels: true
});

var COORDINATE_LIMIT = 300000;

var DateLabelFormats = {
    milliseconds: "HH:mm:ss.fff",
    seconds: "HH:mm:ss",
    minutes: "HH:mm",
    hours: "HH:mm",
    days: "M/d",
    weeks: "M/d",
    months: "MMM 'yy",
    years: "yyyy"
};

var ZERO_THRESHOLD = 0.2;

var AUTO = "auto";
var BASE_UNITS = [
    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS
];
var FIT = "fit";


function categoryRange(categories) {
    var range = categories._range;
    if (!range) {
        range = categories._range = sparseArrayLimits(categories);
        range.min = toDate(range.min);
        range.max = toDate(range.max);
    }

    return range;
}

var EmptyDateRange = function EmptyDateRange(options) {
    this.options = options;
};

EmptyDateRange.prototype.displayIndices = function displayIndices () {
    return {
        min: 0,
        max: 1
    };
};

EmptyDateRange.prototype.displayRange = function displayRange () {
    return {};
};

EmptyDateRange.prototype.total = function total () {
    return {};
};

EmptyDateRange.prototype.valueRange = function valueRange () {
    return {};
};

EmptyDateRange.prototype.valueIndex = function valueIndex () {
    return -1;
};

EmptyDateRange.prototype.values = function values () {
    return [];
};

EmptyDateRange.prototype.totalIndex = function totalIndex () {
    return -1;
};

EmptyDateRange.prototype.valuesCount = function valuesCount () {
    return 0;
};

EmptyDateRange.prototype.totalCount = function totalCount () {
    return 0;
};

EmptyDateRange.prototype.dateAt = function dateAt () {
    return null;
};

var DateRange = function DateRange(start, end, options) {
    this.options = options;
    options.baseUnitStep = options.baseUnitStep || 1;

    var roundToBaseUnit = options.roundToBaseUnit;
    var justified = options.justified;

    this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);
    var lowerEnd = this.roundToTotalStep(end);
    var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;

    this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);

    var min = options.min || start;
    this.valueStart = this.roundToTotalStep(min);
    this.displayStart = roundToBaseUnit ? this.valueStart : min;

    var max = options.max;
    if (!max) {
        this.valueEnd = lowerEnd;
        this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;
    } else {
        this.valueEnd = this.roundToTotalStep(max, false, !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0);
        this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;
    }

    if (this.valueEnd < this.valueStart) {
        this.valueEnd = this.valueStart;
    }
    if (this.displayEnd <= this.displayStart) {
        this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);
    }
};

DateRange.prototype.displayRange = function displayRange () {
    return {
        min: this.displayStart,
        max: this.displayEnd
    };
};

DateRange.prototype.displayIndices = function displayIndices () {
    if (!this._indices) {
        var options = this.options;

        var baseUnit = options.baseUnit;
            var baseUnitStep = options.baseUnitStep;

        var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);
        var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);

        this._indices = { min: minIdx, max: maxIdx };
    }

    return this._indices;
};

DateRange.prototype.total = function total () {
    return {
        min: this.start,
        max: this.end
    };
};

DateRange.prototype.totalCount = function totalCount () {
    var last$$1 = this.totalIndex(this.end);

    return last$$1 + (this.options.justified ? 1 : 0);
};

DateRange.prototype.valueRange = function valueRange () {
    return {
        min: this.valueStart,
        max: this.valueEnd
    };
};

DateRange.prototype.valueIndex = function valueIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.totalIndex = function totalIndex (value) {
    var options = this.options;
    return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));
};

DateRange.prototype.dateIndex = function dateIndex$1 (value) {
    var options = this.options;
    return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);
};

DateRange.prototype.valuesCount = function valuesCount () {
    var maxIdx = this.valueIndex(this.valueEnd);

    return maxIdx + 1;
};

DateRange.prototype.values = function values () {
    var values = this._values;
    if (!values) {
        var options = this.options;
        var range = this.valueRange();
        this._values = values = [];

        for (var date = range.min; date <= range.max;) {
            values.push(date);
            date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);
        }
    }

    return values;
};

DateRange.prototype.dateAt = function dateAt (index, total) {
    var options = this.options;

    return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);
};

DateRange.prototype.roundToTotalStep = function roundToTotalStep (value, upper, next) {
    var ref = this.options;
        var baseUnit = ref.baseUnit;
        var baseUnitStep = ref.baseUnitStep;
        var weekStartDay = ref.weekStartDay;
    var start = this.start;

    var step = dateIndex(value, start, baseUnit, baseUnitStep);
    var roundedStep = upper ? Math.ceil(step) : Math.floor(step);

    if (next) {
        roundedStep += next;
    }

    return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);
};

function autoBaseUnit(options, startUnit, startStep) {
    var categoryLimits = categoryRange(options.categories);
    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);
    var autoBaseUnitSteps = options.autoBaseUnitSteps;
    var maxDateGroups = options.maxDateGroups;
    var autoUnit = options.baseUnit === FIT;
    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;
    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;
    var units = span / TIME_PER_UNIT[baseUnit];
    var totalUnits = units;
    var unitSteps, step, nextStep;

    while (!step || units >= maxDateGroups) {
        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);

        do {
            nextStep = unitSteps.shift();
        } while (nextStep && startUnit === baseUnit && nextStep < startStep);

        if (nextStep) {
            step = nextStep;
            units = totalUnits / step;
        } else if (baseUnit === last(BASE_UNITS)) {
            step = Math.ceil(totalUnits / maxDateGroups);
            break;
        } else if (autoUnit) {
            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);
            totalUnits = span / TIME_PER_UNIT[baseUnit];
            unitSteps = null;
        } else {
            if (units > maxDateGroups) {
                step = Math.ceil(totalUnits / maxDateGroups);
            }
            break;
        }
    }

    options.baseUnitStep = step;
    options.baseUnit = baseUnit;
}

function defaultBaseUnit(options) {
    var categories = options.categories;
    var count = defined(categories) ? categories.length : 0;
    var minDiff = MAX_VALUE;
    var lastCategory, unit;

    for (var categoryIx = 0; categoryIx < count; categoryIx++) {
        var category = categories[categoryIx];

        if (category && lastCategory) {
            var diff = absoluteDateDiff(category, lastCategory);
            if (diff > 0) {
                minDiff = Math.min(minDiff, diff);

                if (minDiff >= TIME_PER_YEAR) {
                    unit = YEARS;
                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {
                    unit = MONTHS;
                } else if (minDiff >= TIME_PER_WEEK) {
                    unit = WEEKS;
                } else if (minDiff >= TIME_PER_DAY) {
                    unit = DAYS;
                } else if (minDiff >= TIME_PER_HOUR) {
                    unit = HOURS;
                } else if (minDiff >= TIME_PER_MINUTE) {
                    unit = MINUTES;
                } else {
                    unit = SECONDS;
                }
            }
        }

        lastCategory = category;
    }

    options.baseUnit = unit || DAYS;
}

function initUnit(options) {
    var baseUnit = (options.baseUnit || "").toLowerCase();
    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);

    if (useDefault) {
        defaultBaseUnit(options);
    }

    if (baseUnit === FIT || options.baseUnitStep === AUTO) {
        autoBaseUnit(options);
    }

    return options;
}

var DateCategoryAxis = (function (CategoryAxis$$1) {
    function DateCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) DateCategoryAxis.__proto__ = CategoryAxis$$1;
    DateCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    DateCategoryAxis.prototype.constructor = DateCategoryAxis;

    DateCategoryAxis.prototype.clone = function clone () {
        var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);
        copy.createLabels();

        return copy;
    };

    DateCategoryAxis.prototype.categoriesHash = function categoriesHash () {
        var start = this.dataRange.total().min;
        return this.options.baseUnit + this.options.baseUnitStep + start;
    };

    DateCategoryAxis.prototype.initUserOptions = function initUserOptions (options) {
        return options;
    };

    DateCategoryAxis.prototype.initFields = function initFields () {
        CategoryAxis$$1.prototype.initFields.call(this);

        var chartService = this.chartService;
        var intlService = chartService.intl;
        var options = this.options;

        var categories = options.categories || [];
        if (!categories._parsed) {
            categories = parseDates(intlService, categories);
            categories._parsed = true;
        }

        options = deepExtend({
            roundToBaseUnit: true
        }, options, {
            categories: categories,
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max)
        });

        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {
            options.roundToBaseUnit = false;
        }

        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;
        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;

        this.options = options;
        options.srcCategories = categories;

        if (categories.length > 0) {
            var range = categoryRange(categories);
            var maxDivisions = options.maxDivisions;

            this.dataRange = new DateRange(range.min, range.max, initUnit(options));

            if (maxDivisions) {
                var dataRange = this.dataRange.displayRange();

                var divisionOptions = Object.assign({}, options, {
                    justified: true,
                    roundToBaseUnit: false,
                    baseUnit: 'fit',
                    min: dataRange.min,
                    max: dataRange.max,
                    maxDateGroups: maxDivisions
                });

                var dataRangeOptions = this.dataRange.options;

                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);

                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);
            } else {
                this.divisionRange = this.dataRange;
            }

        } else {
            options.baseUnit = options.baseUnit || DAYS;
            this.dataRange = this.divisionRange = new EmptyDateRange(options);
        }
    };

    DateCategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {
        var ref = this;
        var dataRange = ref.dataRange;
        var divisionRange = ref.divisionRange;
        var valuesCount = divisionRange.valuesCount();

        if (!this.options.maxDivisions || !valuesCount) {
            return CategoryAxis$$1.prototype.tickIndices.call(this, stepSize);
        }

        var indices = [];
        var values = divisionRange.values();
        var offset = 0;

        if (!this.options.justified) {
            values = values.concat(divisionRange.dateAt(valuesCount));
            offset = 0.5;//align ticks to the center of not justified categories
        }

        for (var idx = 0; idx < values.length; idx++) {
            indices.push(dataRange.dateIndex(values[idx]) + offset);
            if (stepSize !== 1 && idx >= 1) {
                var last$$1 = indices.length - 1;
                indices.splice(idx, 0, indices[last$$1 - 1] + (indices[last$$1] - indices[last$$1 - 1]) * stepSize);
            }
        }

        return indices;
    };

    DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        var categories = this.options.categories || [];

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;
    };

    DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue (value) {
        return parseDate(this.chartService.intl, value);
    };

    DateCategoryAxis.prototype.noteSlot = function noteSlot (value) {
        return this.getSlot(value);
    };

    DateCategoryAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var baseUnit = options.baseUnit;
        var weekStartDay = options.weekStartDay;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / (range.max - range.min);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if (range.min && range.max) {
            var from = addTicks(options.min || range.min, offset);
            var to = addTicks(options.max || range.max, offset);

            range = {
                min: addDuration(from, 0, baseUnit, weekStartDay),
                max: addDuration(to, 0, baseUnit, weekStartDay)
            };
        }

        return range;
    };

    DateCategoryAxis.prototype.scaleRange = function scaleRange (delta) {
        var rounds = Math.abs(delta);
        var result = this.range();
        var from = result.min;
        var to = result.max;

        if (from && to) {
            while (rounds--) {
                var range = dateDiff(from, to);
                var step = Math.round(range * 0.1);
                if (delta < 0) {
                    from = addTicks(from, step);
                    to = addTicks(to, -step);
                } else {
                    from = addTicks(from, -step);
                    to = addTicks(to, step);
                }
            }

            result = { min: from, max: to };
        }

        return result;
    };

    DateCategoryAxis.prototype.labelsRange = function labelsRange () {
        return {
            min: this.options.labels.skip,
            max: this.divisionRange.valuesCount()
        };
    };

    DateCategoryAxis.prototype.pan = function pan (delta) {
        if (this.isEmpty()) {
            return null;
        }

        var options = this.options;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var ref = this.dataRange.displayRange();
        var min = ref.min;
        var max = ref.max;
        var totalLimits = this.dataRange.total();
        var scale = size / (max - min);
        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);
        var from = addTicks(min, offset);
        var to = addTicks(max, offset);

        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);

        if (panRange) {
            panRange.min = toDate(panRange.min);
            panRange.max = toDate(panRange.max);
            panRange.baseUnit = options.baseUnit;
            panRange.baseUnitStep = options.baseUnitStep || 1;
            panRange.userSetBaseUnit = options.userSetBaseUnit;
            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;

            return panRange;
        }
    };

    DateCategoryAxis.prototype.pointsRange = function pointsRange (start, end) {
        if (this.isEmpty()) {
            return null;
        }

        var pointsRange = CategoryAxis$$1.prototype.pointsRange.call(this, start, end);
        var datesRange = this.dataRange.displayRange();
        var indicesRange = this.dataRange.displayIndices();
        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);
        var options = this.options;

        var min = addTicks(datesRange.min, pointsRange.min * scale);
        var max = addTicks(datesRange.min, pointsRange.max * scale);

        return {
            min: min,
            max: max,
            baseUnit: options.userSetBaseUnit || options.baseUnit,
            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
        };
    };

    DateCategoryAxis.prototype.zoomRange = function zoomRange (delta) {
        if (this.isEmpty()) {
            return null;
        }

        var options = this.options;
        var fit = options.userSetBaseUnit === FIT;
        var totalLimits = this.dataRange.total();
        var ref = this.dataRange.displayRange();
        var rangeMin = ref.min;
        var rangeMax = ref.max;
        var ref$1 = this.dataRange.options;
        var weekStartDay = ref$1.weekStartDay;
        var baseUnit = ref$1.baseUnit;
        var baseUnitStep = ref$1.baseUnitStep;
        var min = addDuration(rangeMin, delta * baseUnitStep, baseUnit, weekStartDay);
        var max = addDuration(rangeMax, -delta * baseUnitStep, baseUnit, weekStartDay);

        if (fit) {
            var autoBaseUnitSteps = options.autoBaseUnitSteps;
            var maxDateGroups = options.maxDateGroups;

            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];
            var rangeDiff = dateDiff(rangeMax, rangeMin);
            var diff = dateDiff(max, min);
            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);
            var autoBaseUnitStep, ticks;

            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {
                baseUnit = BASE_UNITS[baseUnitIndex - 1];
                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);
                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;
                min = addTicks(rangeMin, ticks);
                max = addTicks(rangeMax, -ticks);

            } else if (diff > maxDiff && baseUnit !== YEARS) {
                var stepIndex = 0;

                do {
                    baseUnitIndex++;
                    baseUnit = BASE_UNITS[baseUnitIndex];
                    stepIndex = 0;
                    ticks = 2 * TIME_PER_UNIT[baseUnit];
                    do {
                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];
                        stepIndex++;
                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);
                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);

                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;
                if (ticks > 0) {
                    min = addTicks(rangeMin, -ticks);
                    max = addTicks(rangeMax, ticks);
                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);
                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);
                }
            }
        }

        if (min < totalLimits.min) {
            min = totalLimits.min;
        }
        if (max > totalLimits.max) {
            max = totalLimits.max;
        }

        if (min && max && dateDiff(max, min) > 0) {
            return {
                min: min,
                max: max,
                baseUnit: options.userSetBaseUnit || options.baseUnit,
                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep
            };
        }
    };

    DateCategoryAxis.prototype.range = function range () {
        return this.dataRange.displayRange();
    };

    DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;
        var date = this.divisionRange.dateAt(index);
        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];

        labelOptions.format = labelOptions.format || unitFormat;
        var text = this.axisLabelText(date, dataItem, labelOptions);
        if (text) {
            return new AxisLabel(date, text, index, dataItem, labelOptions);
        }
    };

    DateCategoryAxis.prototype.categoryIndex = function categoryIndex (value) {
        return this.dataRange.valueIndex(value);
    };

    DateCategoryAxis.prototype.slot = function slot (from, to, limit) {
        var dateRange = this.dataRange;
        var start = from;
        var end = to;

        if (start instanceof Date) {
            start = dateRange.dateIndex(start);
        }

        if (end instanceof Date) {
            end = dateRange.dateIndex(end);
        }

        var slot = this.getSlot(start, end, limit);
        if (slot) {
            return slot.toRect();
        }
    };

    DateCategoryAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var start = a;
        var end = b;

        if (typeof start === OBJECT) {
            start = this.categoryIndex(start);
        }

        if (typeof end === OBJECT) {
            end = this.categoryIndex(end);
        }

        return CategoryAxis$$1.prototype.getSlot.call(this, start, end, limit);
    };

    DateCategoryAxis.prototype.valueRange = function valueRange () {
        var options = this.options;
        var range = categoryRange(options.srcCategories);

        return {
            min: toDate(range.min),
            max: toDate(range.max)
        };
    };

    DateCategoryAxis.prototype.categoryAt = function categoryAt (index, total) {
        return this.dataRange.dateAt(index, total);
    };

    DateCategoryAxis.prototype.categoriesCount = function categoriesCount () {
        return this.dataRange.valuesCount();
    };

    DateCategoryAxis.prototype.rangeIndices = function rangeIndices () {
        return this.dataRange.displayIndices();
    };

    DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {
        return !this.divisionRange.options.justified;
    };

    DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions () {
        if (this.isEmpty()) {
            return;
        }

        this.options.categories = this.dataRange.values();
    };

    DateCategoryAxis.prototype.getCategory = function getCategory (point) {
        var index = this.pointCategoryIndex(point);

        if (index === null) {
            return null;
        }

        return this.dataRange.dateAt(index);
    };

    DateCategoryAxis.prototype.totalIndex = function totalIndex (value) {
        return this.dataRange.totalIndex(value);
    };

    DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {
        var range = this.dataRange.valueRange();
        return {
            min: this.dataRange.totalIndex(range.min),
            max: this.dataRange.totalIndex(range.max)
        };
    };

    DateCategoryAxis.prototype.totalRange = function totalRange () {
        return this.dataRange.total();
    };

    DateCategoryAxis.prototype.totalCount = function totalCount () {
        return this.dataRange.totalCount();
    };

    DateCategoryAxis.prototype.isEmpty = function isEmpty () {
        return !this.options.srcCategories.length;
    };

    DateCategoryAxis.prototype.roundedRange = function roundedRange () {
        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {
            return this.range();
        }

        var options = this.options;
        var datesRange = categoryRange(options.srcCategories);

        var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {
            justified: false,
            roundToBaseUnit: true,
            justifyEnd: options.justified
        }));

        return dateRange.displayRange();
    };

    return DateCategoryAxis;
}(CategoryAxis));

setDefaultOptions(DateCategoryAxis, {
    type: DATE,
    labels: {
        dateFormats: DateLabelFormats
    },
    autoBaseUnitSteps: {
        milliseconds: [ 1, 10, 100 ],
        seconds: [ 1, 2, 5, 15, 30 ],
        minutes: [ 1, 2, 5, 15, 30 ],
        hours: [ 1, 2, 3 ],
        days: [ 1, 2, 3 ],
        weeks: [ 1, 2 ],
        months: [ 1, 2, 3, 6 ],
        years: [ 1, 2, 3, 5, 10, 25, 50 ]
    },
    maxDateGroups: 10
});

function autoAxisMin(min, max, narrow) {
    if (!min && !max) {
        return 0;
    }

    var axisMin;

    if (min >= 0 && max >= 0) {
        var minValue = min === max ? 0 : min;

        var diff = (max - minValue) / max;
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMin = Math.max(0, minValue - ((max - minValue) / 2));
    } else {
        axisMin = min;
    }

    return axisMin;
}

function autoAxisMax(min, max, narrow) {
    if (!min && !max) {
        return 1;
    }

    var axisMax;

    if (min <= 0 && max <= 0) {
        var maxValue = min === max ? 0 : max;

        var diff = Math.abs((maxValue - min) / maxValue);
        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {
            return 0;
        }

        axisMax = Math.min(0, maxValue - ((min - maxValue) / 2));
    } else {
        axisMax = max;
    }

    return axisMax;
}

function floor(value, step) {
    return round(Math.floor(value / step) * step, DEFAULT_PRECISION);
}

function ceil(value, step) {
    return round(Math.ceil(value / step) * step, DEFAULT_PRECISION);
}

function limitCoordinate(value) {
    return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);
}

var MIN_VALUE_RANGE = Math.pow(10, -DEFAULT_PRECISION + 1);

var NumericAxis = (function (Axis$$1) {
    function NumericAxis(seriesMin, seriesMax, options, chartService) {
        Axis$$1.call(this, Object.assign({}, options, {
            seriesMin: seriesMin,
            seriesMax: seriesMax
        }), chartService);
    }

    if ( Axis$$1 ) NumericAxis.__proto__ = Axis$$1;
    NumericAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    NumericAxis.prototype.constructor = NumericAxis;

    NumericAxis.prototype.initUserOptions = function initUserOptions (options) {
        var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);
        this.totalOptions = totalAxisOptions(autoOptions, options);

        return axisOptions(autoOptions, options);
    };

    NumericAxis.prototype.initFields = function initFields () {
        this.totalMin = this.totalOptions.min;
        this.totalMax = this.totalOptions.max;
        this.totalMajorUnit = this.totalOptions.majorUnit;
        this.seriesMin = this.options.seriesMin;
        this.seriesMax = this.options.seriesMax;
    };

    NumericAxis.prototype.clone = function clone () {
        return new NumericAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    NumericAxis.prototype.startValue = function startValue () {
        return 0;
    };

    NumericAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    NumericAxis.prototype.getDivisions = function getDivisions (stepValue) {
        if (stepValue === 0) {
            return 1;
        }

        var options = this.options;
        var range = options.max - options.min;

        return Math.floor(round(range / stepValue, COORD_PRECISION)) + 1;
    };

    NumericAxis.prototype.getTickPositions = function getTickPositions (unit, skipUnit) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var lineBox = this.lineBox();
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var range = options.max - options.min;
        var scale = lineSize / range;
        var step = unit * scale;
        var divisions = this.getDivisions(unit);
        var dir = (vertical ? -1 : 1) * (reverse ? -1 : 1);
        var startEdge = dir === 1 ? 1 : 2;
        var positions = [];
        var pos = lineBox[(vertical ? Y : X) + startEdge];
        var skipStep = 0;

        if (skipUnit) {
            skipStep = skipUnit / unit;
        }

        for (var idx = 0; idx < divisions; idx++) {
            if (idx % skipStep !== 0) {
                positions.push(round(pos, COORD_PRECISION));
            }

            pos = pos + step * dir;
        }

        return positions;
    };

    NumericAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    NumericAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    NumericAxis.prototype.getSlot = function getSlot (a, b, limit) {
        if ( limit === void 0 ) limit = false;

        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var step = dir * (lineSize / (options.max - options.min));
        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);

        var start = a;
        var end = b;

        if (!defined(start)) {
            start = end || 0;
        }

        if (!defined(end)) {
            end = start || 0;
        }

        if (limit) {
            start = Math.max(Math.min(start, options.max), options.min);
            end = Math.max(Math.min(end, options.max), options.min);
        }

        var p1, p2;

        if (vertical) {
            p1 = options.max - Math.max(start, end);
            p2 = options.max - Math.min(start, end);
        } else {
            p1 = Math.min(start, end) - options.min;
            p2 = Math.max(start, end) - options.min;
        }

        slotBox[valueAxis + 1] = limitCoordinate(lineStart + step * (reverse ? p2 : p1));
        slotBox[valueAxis + 2] = limitCoordinate(lineStart + step * (reverse ? p1 : p2));

        return slotBox;
    };

    NumericAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var max = Number(options.max);
        var min = Number(options.min);
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var offset = dir * (point[valueAxis] - lineStart);
        var step = (max - min) / lineSize;
        var valueOffset = offset * step;

        if (offset < 0 || offset > lineSize) {
            return null;
        }

        var value = vertical ?
                max - valueOffset :
                min + valueOffset;

        return round(value, DEFAULT_PRECISION);
    };

    NumericAxis.prototype.translateRange = function translateRange (delta) {
        var options = this.options;
        var vertical = options.vertical;
        var reverse = options.reverse;
        var max = options.max;
        var min = options.min;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var range = max - min;
        var scale = size / range;
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: min + offset,
            max: max + offset,
            offset: offset
        };
    };

    NumericAxis.prototype.scaleRange = function scaleRange (delta) {
        var options = this.options;
        var offset = -delta * options.majorUnit;

        return {
            min: options.min - offset,
            max: options.max + offset
        };
    };

    NumericAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    NumericAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var value = round(options.min + (index * options.majorUnit), DEFAULT_PRECISION);
        var text = this.axisLabelText(value, null, labelOptions);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    NumericAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    NumericAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    NumericAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        if (this.isValidRange(min, max)) {
            return {
                min: min,
                max: max
            };
        }
    };

    NumericAxis.prototype.zoomRange = function zoomRange (delta) {
        var ref = this;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;
        var newRange = this.scaleRange(delta);
        var min = limitValue(newRange.min, totalMin, totalMax);
        var max = limitValue(newRange.max, totalMin, totalMax);

        if (this.isValidRange(min, max)) {
            return {
                min: min,
                max: max
            };
        }
    };

    NumericAxis.prototype.isValidRange = function isValidRange (min, max) {
        return max - min > MIN_VALUE_RANGE;
    };

    return NumericAxis;
}(Axis));

function autoAxisOptions(seriesMin, seriesMax, options) {
    var narrowRange = options.narrowRange;

    var autoMin = autoAxisMin(seriesMin, seriesMax, narrowRange);
    var autoMax = autoAxisMax(seriesMin, seriesMax, narrowRange);

    var majorUnit = autoMajorUnit(autoMin, autoMax);
    var autoOptions = {
        majorUnit: majorUnit
    };

    if (options.roundToMajorUnit !== false) {
        if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {
            autoMin -= majorUnit;
        }

        if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {
            autoMax += majorUnit;
        }
    }

    autoOptions.min = floor(autoMin, majorUnit);
    autoOptions.max = ceil(autoMax, majorUnit);

    return autoOptions;
}

function totalAxisOptions(autoOptions, options) {
    return {
        min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,
        max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,
        majorUnit: autoOptions.majorUnit
    };
}

function clearNullValues(options, fields) {
    for (var idx = 0; idx < fields.length; idx++) {
        var field = fields[idx];
        if (options[field] === null) {
            options[field] = undefined;
        }
    }
}

function axisOptions(autoOptions, userOptions) {
    var options = userOptions;
    var userSetMin, userSetMax;

    if (userOptions) {
        clearNullValues(userOptions, [ 'min', 'max' ]);

        userSetMin = defined(userOptions.min);
        userSetMax = defined(userOptions.max);

        var userSetLimits = userSetMin || userSetMax;

        if (userSetLimits) {
            if (userOptions.min === userOptions.max) {
                if (userOptions.min > 0) {
                    userOptions.min = 0;
                } else {
                    userOptions.max = 1;
                }
            }
        }

        if (userOptions.majorUnit) {
            autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);
            autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);
        } else if (userSetLimits) {
            options = deepExtend(autoOptions, userOptions);

            // Determine an auto major unit after min/max have been set
            autoOptions.majorUnit = autoMajorUnit(options.min, options.max);
        }
    }

    autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;

    var result = deepExtend(autoOptions, options);
    if (result.min >= result.max) {
        if (userSetMin && !userSetMax) {
            result.max = result.min + result.majorUnit;
        } else if (!userSetMin && userSetMax) {
            result.min = result.max - result.majorUnit;
        }
    }

    return result;
}

function remainderClose(value, divisor, ratio) {
    var remainder = round(Math.abs(value % divisor), DEFAULT_PRECISION);
    var threshold = divisor * (1 - ratio);

    return remainder === 0 || remainder > threshold;
}

setDefaultOptions(NumericAxis, {
    type: "numeric",
    min: 0,
    max: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        format: "#.####################"
    },
    zIndex: 1
});

var DateValueAxis = (function (Axis$$1) {
    function DateValueAxis(seriesMin, seriesMax, axisOptions, chartService) {
        var min = toDate(seriesMin);
        var max = toDate(seriesMax);

        var intlService = chartService.intl;
        var options = axisOptions || {};
        options = deepExtend(options || {}, {
            min: parseDate(intlService, options.min),
            max: parseDate(intlService, options.max),
            axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue)
        });
        options = applyDefaults$1(min, max, options);

        Axis$$1.call(this, options, chartService);

        this.intlService = intlService;
        this.seriesMin = min;
        this.seriesMax = max;

        var weekStartDay = options.weekStartDay || 0;
        this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));
        this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));
    }

    if ( Axis$$1 ) DateValueAxis.__proto__ = Axis$$1;
    DateValueAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    DateValueAxis.prototype.constructor = DateValueAxis;

    DateValueAxis.prototype.clone = function clone () {
        return new DateValueAxis(this.seriesMin, this.seriesMax, Object.assign({}, this.options), this.chartService);
    };

    DateValueAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    DateValueAxis.prototype.getDivisions = function getDivisions (stepValue) {
        var options = this.options;

        return Math.floor(
            duration(options.min, options.max, options.baseUnit) / stepValue + 1
        );
    };

    DateValueAxis.prototype.getTickPositions = function getTickPositions (step) {
        var options = this.options;
        var vertical = options.vertical;
        var lineBox = this.lineBox();
        var dir = (vertical ? -1 : 1) * (options.reverse ? -1 : 1);
        var startEdge = dir === 1 ? 1 : 2;
        var start = lineBox[(vertical ? Y : X) + startEdge];
        var divisions = this.getDivisions(step);
        var timeRange = dateDiff(options.max, options.min);
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var scale = lineSize / timeRange;
        var weekStartDay = options.weekStartDay || 0;

        var positions = [ start ];
        for (var i = 1; i < divisions; i++) {
            var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);
            var pos = start + dateDiff(date, options.min) * scale * dir;

            positions.push(round(pos, COORD_PRECISION));
        }

        return positions;
    };

    DateValueAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    DateValueAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {
        return this.getTickPositions(this.options.minorUnit);
    };

    DateValueAxis.prototype.getSlot = function getSlot (a, b, limit) {
        return NumericAxis.prototype.getSlot.call(
            this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit
        );
    };

    DateValueAxis.prototype.getValue = function getValue (point) {
        var value = NumericAxis.prototype.getValue.call(this, point);

        return value !== null ? toDate(value) : null;
    };

    DateValueAxis.prototype.labelsCount = function labelsCount () {
        return this.getDivisions(this.options.majorUnit);
    };

    DateValueAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var options = this.options;
        var offset = index * options.majorUnit;
        var weekStartDay = options.weekStartDay || 0;
        var date = options.min;

        if (offset > 0) {
            date = addDuration(date, offset, options.baseUnit, weekStartDay);
        }

        var unitFormat = labelOptions.dateFormats[options.baseUnit];
        labelOptions.format = labelOptions.format || unitFormat;

        var text = this.axisLabelText(date, null, labelOptions);
        return new AxisLabel(date, text, index, null, labelOptions);
    };

    DateValueAxis.prototype.translateRange = function translateRange (delta, exact) {
        var options = this.options;
        var baseUnit = options.baseUnit;
        var weekStartDay = options.weekStartDay || 0;
        var lineBox = this.lineBox();
        var size = options.vertical ? lineBox.height() : lineBox.width();
        var range = this.range();
        var scale = size / dateDiff(range.max, range.min);
        var offset = round(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);
        var from = addTicks(options.min, offset);
        var to = addTicks(options.max, offset);

        if (!exact) {
            from = addDuration(from, 0, baseUnit, weekStartDay);
            to = addDuration(to, 0, baseUnit, weekStartDay);
        }

        return {
            min: from,
            max: to,
            offset: offset
        };
    };

    DateValueAxis.prototype.scaleRange = function scaleRange (delta) {
        var ref = this.options;
        var from = ref.min;
        var to = ref.max;
        var rounds = Math.abs(delta);

        while (rounds--) {
            var range = dateDiff(from, to);
            var step = Math.round(range * 0.1);
            if (delta < 0) {
                from = addTicks(from, step);
                to = addTicks(to, -step);
            } else {
                from = addTicks(from, -step);
                to = addTicks(to, step);
            }
        }

        return { min: from, max: to };
    };

    DateValueAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();

        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;
    };

    DateValueAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta, true);
        var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);

        if (limittedRange) {
            return {
                min: toDate(limittedRange.min),
                max: toDate(limittedRange.max)
            };
        }
    };

    DateValueAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: toDate(min),
            max: toDate(max)
        };
    };

    DateValueAxis.prototype.zoomRange = function zoomRange (delta) {
        var range = this.scaleRange(delta);
        var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));
        var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));

        return {
            min: min,
            max: max
        };
    };

    return DateValueAxis;
}(Axis));

function timeUnits(delta) {
    var unit = HOURS;

    if (delta >= TIME_PER_YEAR) {
        unit = YEARS;
    } else if (delta >= TIME_PER_MONTH) {
        unit = MONTHS;
    } else if (delta >= TIME_PER_WEEK) {
        unit = WEEKS;
    } else if (delta >= TIME_PER_DAY) {
        unit = DAYS;
    }

    return unit;
}

function applyDefaults$1(seriesMin, seriesMax, options) {
    var min = options.min || seriesMin;
    var max = options.max || seriesMax;
    var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);
    var baseUnitTime = TIME_PER_UNIT[baseUnit];
    var weekStartDay = options.weekStartDay || 0;
    var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);
    var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);
    var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;
    var majorUnit = userMajorUnit || ceil(
                        autoMajorUnit(autoMin.getTime(), autoMax.getTime()),
                        baseUnitTime
                    ) / baseUnitTime;
    var actualUnits = duration(autoMin, autoMax, baseUnit);
    var totalUnits = ceil(actualUnits, majorUnit);
    var unitsToAdd = totalUnits - actualUnits;
    var head = Math.floor(unitsToAdd / 2);
    var tail = unitsToAdd - head;

    if (!options.baseUnit) {
        delete options.baseUnit;
    }

    options.baseUnit = options.baseUnit || baseUnit;
    options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);
    options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);
    options.minorUnit = options.minorUnit || majorUnit / 5;
    options.majorUnit = majorUnit;

    return options;
}

setDefaultOptions(DateValueAxis, {
    type: DATE,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    labels: {
        dateFormats: DateLabelFormats
    }
});

var DEFAULT_MAJOR_UNIT = 10;

var LogarithmicAxis = (function (Axis$$1) {
    function LogarithmicAxis(seriesMin, seriesMax, options, chartService) {

        var axisOptions = deepExtend({ majorUnit: DEFAULT_MAJOR_UNIT, min: seriesMin, max: seriesMax }, options);
        var base = axisOptions.majorUnit;
        var autoMax = autoAxisMax$1(seriesMax, base);
        var autoMin = autoAxisMin$1(seriesMin, seriesMax, axisOptions);
        var range = initRange(autoMin, autoMax, axisOptions, options);

        axisOptions.max = range.max;
        axisOptions.min = range.min;
        axisOptions.minorUnit = options.minorUnit || round(base - 1, DEFAULT_PRECISION);

        Axis$$1.call(this, axisOptions, chartService);

        this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;
        this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;
        this.logMin = round(log(range.min, base), DEFAULT_PRECISION);
        this.logMax = round(log(range.max, base), DEFAULT_PRECISION);
        this.seriesMin = seriesMin;
        this.seriesMax = seriesMax;

        this.createLabels();
    }

    if ( Axis$$1 ) LogarithmicAxis.__proto__ = Axis$$1;
    LogarithmicAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    LogarithmicAxis.prototype.constructor = LogarithmicAxis;

    LogarithmicAxis.prototype.clone = function clone () {
        return new LogarithmicAxis(
            this.seriesMin,
            this.seriesMax,
            Object.assign({}, this.options),
            this.chartService
        );
    };

    LogarithmicAxis.prototype.startValue = function startValue () {
        return this.options.min;
    };

    LogarithmicAxis.prototype.getSlot = function getSlot (a, b, limit) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var lineStart = lineBox[valueAxis + (reverse ? 2 : 1)];
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var dir = reverse ? -1 : 1;
        var step = dir * (lineSize / (logMax - logMin));
        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);
        var start = a;
        var end = b;

        if (!defined(start)) {
            start = end || 1;
        }

        if (!defined(end)) {
            end = start || 1;
        }

        if (start <= 0 || end <= 0) {
            return null;
        }

        if (limit) {
            start = Math.max(Math.min(start, options.max), options.min);
            end = Math.max(Math.min(end, options.max), options.min);
        }

        start = log(start, base);
        end = log(end, base);

        var p1, p2;

        if (vertical) {
            p1 = logMax - Math.max(start, end);
            p2 = logMax - Math.min(start, end);
        } else {
            p1 = Math.min(start, end) - logMin;
            p2 = Math.max(start, end) - logMin;
        }

        slotBox[valueAxis + 1] = limitCoordinate(lineStart + step * (reverse ? p2 : p1));
        slotBox[valueAxis + 2] = limitCoordinate(lineStart + step * (reverse ? p1 : p2));

        return slotBox;
    };

    LogarithmicAxis.prototype.getValue = function getValue (point) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var lineBox = this.lineBox();
        var dir = vertical === reverse ? 1 : -1;
        var startEdge = dir === 1 ? 1 : 2;
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var step = ((logMax - logMin) / lineSize);
        var valueAxis = vertical ? Y : X;
        var lineStart = lineBox[valueAxis + startEdge];
        var offset = dir * (point[valueAxis] - lineStart);
        var valueOffset = offset * step;

        if (offset < 0 || offset > lineSize) {
            return null;
        }

        var value = logMin + valueOffset;

        return round(Math.pow(base, value), DEFAULT_PRECISION);
    };

    LogarithmicAxis.prototype.range = function range () {
        var options = this.options;
        return { min: options.min, max: options.max };
    };

    LogarithmicAxis.prototype.scaleRange = function scaleRange (delta) {
        var base = this.options.majorUnit;
        var offset = -delta;

        return {
            min: Math.pow(base, this.logMin - offset),
            max: Math.pow(base, this.logMax + offset)
        };
    };

    LogarithmicAxis.prototype.translateRange = function translateRange (delta) {
        var ref = this;
        var options = ref.options;
        var logMin = ref.logMin;
        var logMax = ref.logMax;
        var reverse = options.reverse;
        var vertical = options.vertical;
        var base = options.majorUnit;
        var lineBox = this.lineBox();
        var size = vertical ? lineBox.height() : lineBox.width();
        var scale = size / (logMax - logMin);
        var offset = round(delta / scale, DEFAULT_PRECISION);

        if ((vertical || reverse) && !(vertical && reverse )) {
            offset = -offset;
        }

        return {
            min: Math.pow(base, logMin + offset),
            max: Math.pow(base, logMax + offset),
            offset: offset
        };
    };

    LogarithmicAxis.prototype.labelsCount = function labelsCount () {
        var floorMax = Math.floor(this.logMax);
        var count = Math.floor(floorMax - this.logMin) + 1;

        return count;
    };

    LogarithmicAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {
        var ticks = [];

        this.traverseMajorTicksPositions(function (position) {
            ticks.push(position);
        }, { step: 1, skip: 0 });

        return ticks;
    };

    LogarithmicAxis.prototype.createTicks = function createTicks (lineGroup) {
        var options = this.options;
        var majorTicks = options.majorTicks;
        var minorTicks = options.minorTicks;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var lineBox = this.lineBox();
        var ticks = [];
        var tickLineOptions = {
            // TODO
            // _alignLines: options._alignLines,
            vertical: vertical
        };

        function render(tickPosition, tickOptions) {
            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickLineOptions.position = tickPosition;

            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));
        }

        if (majorTicks.visible) {
            this.traverseMajorTicksPositions(render, majorTicks);
        }

        if (minorTicks.visible) {
            this.traverseMinorTicksPositions(render, minorTicks);
        }

        return ticks;
    };

    LogarithmicAxis.prototype.createGridLines = function createGridLines (altAxis) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var vertical = options.vertical;
        var lineBox = altAxis.lineBox();
        var lineOptions = {
            lineStart: lineBox[vertical ? "x1" : "y1"],
            lineEnd: lineBox[vertical ? "x2" : "y2"],
            vertical: vertical
        };
        var majorTicks = [];

        var container = this.gridLinesVisual();
        function render(tickPosition, gridLine) {
            if (!inArray(tickPosition, majorTicks)) {
                lineOptions.position = tickPosition;
                container.append(createAxisGridLine(lineOptions, gridLine));

                majorTicks.push(tickPosition);
            }
        }

        if (majorGridLines.visible) {
            this.traverseMajorTicksPositions(render, majorGridLines);
        }

        if (minorGridLines.visible) {
            this.traverseMinorTicksPositions(render, minorGridLines);
        }

        return container.children;
    };

    LogarithmicAxis.prototype.traverseMajorTicksPositions = function traverseMajorTicksPositions (callback, tickOptions) {
        var ref = this._lineOptions();
        var lineStart = ref.lineStart;
        var step = ref.step;
        var ref$1 = this;
        var logMin = ref$1.logMin;
        var logMax = ref$1.logMax;

        for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {
            var position = round(lineStart + step * (power - logMin), DEFAULT_PRECISION);
            callback(position, tickOptions);
        }
    };

    LogarithmicAxis.prototype.traverseMinorTicksPositions = function traverseMinorTicksPositions (callback, tickOptions) {
        var this$1 = this;

        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var ref$1 = this._lineOptions();
        var lineStart = ref$1.lineStart;
        var step = ref$1.step;
        var ref$2 = this;
        var logMin = ref$2.logMin;
        var logMax = ref$2.logMax;
        var start = Math.floor(logMin);

        for (var power = start; power < logMax; power++) {
            var minorOptions = this$1._minorIntervalOptions(power);
            for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {
                var value = minorOptions.value + idx * minorOptions.minorStep;
                if (value > max) {
                    break;
                }
                if (value >= min) {
                    var position = round(lineStart + step * (log(value, base) - logMin), DEFAULT_PRECISION);
                    callback(position, tickOptions);
                }
            }
        }
    };

    LogarithmicAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions) {
        var power = Math.ceil(this.logMin + index);
        var value = Math.pow(this.options.majorUnit, power);
        var text = this.axisLabelText(value, null, labelOptions);

        return new AxisLabel(value, text, index, null, labelOptions);
    };

    LogarithmicAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {
        var range = this.range();
        return range.min <= value && value <= range.max;
    };

    LogarithmicAxis.prototype.pan = function pan (delta) {
        var range = this.translateRange(delta);
        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);
    };

    LogarithmicAxis.prototype.pointsRange = function pointsRange (start, end) {
        var startValue = this.getValue(start);
        var endValue = this.getValue(end);
        var min = Math.min(startValue, endValue);
        var max = Math.max(startValue, endValue);

        return {
            min: min,
            max: max
        };
    };

    LogarithmicAxis.prototype.zoomRange = function zoomRange (delta) {
        var ref = this;
        var options = ref.options;
        var totalMin = ref.totalMin;
        var totalMax = ref.totalMax;
        var newRange = this.scaleRange(delta);
        var min = limitValue(newRange.min, totalMin, totalMax);
        var max = limitValue(newRange.max, totalMin, totalMax);
        var base = options.majorUnit;
        var acceptOptionsRange = max > min && options.min && options.max && (round(log(options.max, base) - log(options.min, base), DEFAULT_PRECISION) < 1);
        var acceptNewRange = !(options.min === totalMin && options.max === totalMax) && round(log(max, base) - log(min, base), DEFAULT_PRECISION) >= 1;

        if (acceptOptionsRange || acceptNewRange) {
            return {
                min: min,
                max: max
            };
        }
    };

    LogarithmicAxis.prototype._minorIntervalOptions = function _minorIntervalOptions (power) {
        var ref = this.options;
        var minorUnit = ref.minorUnit;
        var base = ref.majorUnit;
        var value = Math.pow(base, power);
        var nextValue = Math.pow(base, power + 1);
        var difference = nextValue - value;
        var minorStep = difference / minorUnit;

        return {
            value: value,
            minorStep: minorStep
        };
    };

    LogarithmicAxis.prototype._lineOptions = function _lineOptions () {
        var ref = this.options;
        var reverse = ref.reverse;
        var vertical = ref.vertical;
        var valueAxis = vertical ? Y : X;
        var lineBox = this.lineBox();
        var dir = vertical === reverse ? 1 : -1;
        var startEdge = dir === 1 ? 1 : 2;
        var lineSize = vertical ? lineBox.height() : lineBox.width();
        var step = dir * (lineSize / (this.logMax - this.logMin));
        var lineStart = lineBox[valueAxis + startEdge];

        return {
            step: step,
            lineStart: lineStart,
            lineBox: lineBox
        };
    };

    return LogarithmicAxis;
}(Axis));

function initRange(autoMin, autoMax, axisOptions, options) {
    var min = axisOptions.min;
    var max = axisOptions.max;

    if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.max)) {
        max = autoMax;
    } else if (options.max <= 0) {
        throwNegativeValuesError();
    }

    if (!defined(options.min)) {
        min = autoMin;
    } else if (options.min <= 0) {
        throwNegativeValuesError();
    }

    return {
        min: min,
        max: max
    };
}

function autoAxisMin$1(min, max, options) {
    var base = options.majorUnit;
    var autoMin = min;
    if (min <= 0) {
        autoMin = max <= 1 ? Math.pow(base, -2) : 1;
    } else if (!options.narrowRange) {
        autoMin = Math.pow(base, Math.floor(log(min, base)));
    }
    return autoMin;
}

function autoAxisMax$1(max, base) {
    var logMaxRemainder = round(log(max, base), DEFAULT_PRECISION) % 1;
    var autoMax;
    if (max <= 0) {
        autoMax = base;
    } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {
        autoMax = Math.pow(base, log(max, base) + 0.2);
    } else {
        autoMax = Math.pow(base, Math.ceil(log(max, base)));
    }

    return autoMax;
}

function throwNegativeValuesError() {
    throw new Error("Non positive values cannot be used for a logarithmic axis");
}

function log(y, x) {
    return Math.log(y) / Math.log(x);
}

setDefaultOptions(LogarithmicAxis, {
    type: "log",
    majorUnit: DEFAULT_MAJOR_UNIT,
    minorUnit: 1,
    axisCrossingValue: 1,
    vertical: true,
    majorGridLines: {
        visible: true,
        width: 1,
        color: BLACK
    },
    zIndex: 1,
    _deferLabels: true
});

var GridLinesMixin = {
    createGridLines: function(altAxis) {
        var options = this.options;
        var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);
        var gridLines = [];
        var skipMajor = false;
        var majorAngles, minorAngles;

        if (options.majorGridLines.visible) {
            majorAngles = this.majorGridLineAngles(altAxis);
            skipMajor = true;

            gridLines = this.renderMajorGridLines(
                majorAngles, radius, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            minorAngles = this.minorGridLineAngles(altAxis, skipMajor);

            append$1(gridLines, this.renderMinorGridLines(
                minorAngles, radius, options.minorGridLines, altAxis, skipMajor
            ));
        }

        return gridLines;
    },

    renderMajorGridLines: function(angles, radius, options) {
        return this.renderGridLines(angles, radius, options);
    },

    renderMinorGridLines: function(angles, radius, options, altAxis, skipMajor) {
        var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);
        return this.renderGridLines(angles, radius, options, radiusCallback);
    },

    renderGridLines: function(angles, radius, options, radiusCallback) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };

        var center = this.box.center();
        var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius);
        var container = this.gridLinesVisual();

        for (var i = 0; i < angles.length; i++) {
            var line = new _progress_kendoDrawing.drawing.Path(style);
            if (radiusCallback) {
                circle.radius = radiusCallback(angles[i]);
            }

            line.moveTo(circle.center)
                .lineTo(circle.pointAt(angles[i] + 180));

            container.append(line);
        }

        return container.children;
    },

    gridLineAngles: function(altAxis, size, skip, step, skipAngles) {
        var this$1 = this;

        var divs = this.intervals(size, skip, step, skipAngles);
        var options = altAxis.options;
        var altAxisVisible = options.visible && (options.line || {}).visible !== false;

        return map(divs, function (d) {
            var alpha = this$1.intervalAngle(d);

            if (!altAxisVisible || alpha !== 90) {
                return alpha;
            }
        });
    }
};

var RadarCategoryAxis = (function (CategoryAxis$$1) {
    function RadarCategoryAxis () {
        CategoryAxis$$1.apply(this, arguments);
    }

    if ( CategoryAxis$$1 ) RadarCategoryAxis.__proto__ = CategoryAxis$$1;
    RadarCategoryAxis.prototype = Object.create( CategoryAxis$$1 && CategoryAxis$$1.prototype );
    RadarCategoryAxis.prototype.constructor = RadarCategoryAxis;

    RadarCategoryAxis.prototype.range = function range () {
        return { min: 0, max: this.options.categories.length };
    };

    RadarCategoryAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    RadarCategoryAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    RadarCategoryAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;
        var measureBox = new Box();

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(skip + i * step).adjacentBox(
                0, labelBox.width(), labelBox.height()
            ));
        }
    };

    RadarCategoryAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var options = this.options;
        var categories = options.categories.length;
        var divCount = categories / size || 1;
        var divAngle = 360 / divCount;
        var skip = skipOption || 0;
        var step = stepOption || 1;
        var divs = [];
        var angle = 0;

        for (var i = skip; i < divCount; i += step) {
            if (options.reverse) {
                angle = 360 - i * divAngle;
            } else {
                angle = i * divAngle;
            }

            angle = round(angle, COORD_PRECISION) % 360;

            if (!(skipAngles && inArray(angle, skipAngles))) {
                divs.push(angle);
            }
        }

        return divs;
    };

    RadarCategoryAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(1);
    };

    RadarCategoryAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(0.5);
    };

    RadarCategoryAxis.prototype.intervalAngle = function intervalAngle (interval) {
        return (360 + interval + this.options.startAngle) % 360;
    };

    RadarCategoryAxis.prototype.majorAngles = function majorAngles () {
        var this$1 = this;

        return map(this.majorIntervals(), function (interval) { return this$1.intervalAngle(interval); });
    };

    RadarCategoryAxis.prototype.createLine = function createLine () {
        return [];
    };

    RadarCategoryAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);
    };

    RadarCategoryAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var ref = this.options;
        var minorGridLines = ref.minorGridLines;
        var majorGridLines = ref.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    RadarCategoryAxis.prototype.radiusCallback = function radiusCallback (radius, altAxis, skipMajor) {
        if (altAxis.options.type !== ARC) {
            var minorAngle = rad(360 / (this.options.categories.length * 2));
            var minorRadius = Math.cos(minorAngle) * radius;
            var majorAngles = this.majorAngles();

            var radiusCallback = function(angle) {
                if (!skipMajor && inArray(angle, majorAngles)) {
                    return radius;
                }

                return minorRadius;
            };
            return radiusCallback;
        }
    };

    RadarCategoryAxis.prototype.createPlotBands = function createPlotBands () {
        var this$1 = this;

        var plotBands = this.options.plotBands || [];

        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var slot = this$1.plotBandSlot(band);
            var singleSlot = this$1.getSlot(band.from);

            var head = band.from - Math.floor(band.from);
            slot.startAngle += head * singleSlot.angle;

            var tail = Math.ceil(band.to) - band.to;
            slot.angle -= (tail + head) * singleSlot.angle;

            var ring = ShapeBuilder.current.createRing(slot, {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            });
            group.append(ring);
        }

        this.appendVisual(group);
    };

    RadarCategoryAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to - 1);
    };

    RadarCategoryAxis.prototype.getSlot = function getSlot (from, to) {
        var options = this.options;
        var justified = options.justified;
        var box = this.box;
        var divs = this.majorAngles();
        var totalDivs = divs.length;
        var slotAngle = 360 / totalDivs;
        var fromValue = from;

        if (options.reverse && !justified) {
            fromValue = (fromValue + 1) % totalDivs;
        }

        fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);
        var slotStart = divs[fromValue];

        if (justified) {
            slotStart = slotStart - slotAngle / 2;

            if (slotStart < 0) {
                slotStart += 360;
            }
        }

        var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);
        var slots = toValue - fromValue + 1;
        var angle = slotAngle * slots;

        return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);
    };

    RadarCategoryAxis.prototype.slot = function slot (from, to) {
        var slot = this.getSlot(from, to);
        var startAngle = slot.startAngle + 180;
        var endAngle = startAngle + slot.angle;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    RadarCategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {
        var this$1 = this;

        var length = this.options.categories.length;
        var index = null;

        for (var i = 0; i < length; i++) {
            var slot = this$1.getSlot(i);
            if (slot.containsPoint(point)) {
                index = i;
                break;
            }
        }

        return index;
    };

    return RadarCategoryAxis;
}(CategoryAxis));

setDefaultOptions(RadarCategoryAxis, {
    startAngle: 90,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        visible: true
    },
    justified: true
});
deepExtend(RadarCategoryAxis.prototype, GridLinesMixin);

var PolarAxis = (function (Axis$$1) {
    function PolarAxis(options, chartService) {
        Axis$$1.call(this, options, chartService);

        var instanceOptions = this.options;

        instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;
    }

    if ( Axis$$1 ) PolarAxis.__proto__ = Axis$$1;
    PolarAxis.prototype = Object.create( Axis$$1 && Axis$$1.prototype );
    PolarAxis.prototype.constructor = PolarAxis;

    PolarAxis.prototype.getDivisions = function getDivisions (stepValue) {
        return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;
    };

    PolarAxis.prototype.reflow = function reflow (box) {
        this.box = box;
        this.reflowLabels();
    };

    PolarAxis.prototype.reflowLabels = function reflowLabels () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var labels = ref.labels;
        var labelOptions = ref.options.labels;
        var skip = labelOptions.skip || 0;
        var step = labelOptions.step || 1;

        var measureBox = new Box();
        var divs = this.intervals(options.majorUnit, skip, step);

        for (var i = 0; i < labels.length; i++) {
            labels[i].reflow(measureBox);
            var labelBox = labels[i].box;

            labels[i].reflow(this$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));
        }
    };

    PolarAxis.prototype.lineBox = function lineBox () {
        return this.box;
    };

    PolarAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {
        if ( skipAngles === void 0 ) skipAngles = false;

        var min = this.options.min;
        var divisions = this.getDivisions(size);
        var divs = [];
        var skip = skipOption || 0;
        var step = stepOption || 1;

        for (var i = skip; i < divisions; i += step) {
            var current = (360 + min + i * size) % 360;
            if (!(skipAngles && inArray(current, skipAngles))) {
                divs.push(current);
            }
        }

        return divs;
    };

    PolarAxis.prototype.majorIntervals = function majorIntervals () {
        return this.intervals(this.options.majorUnit);
    };

    PolarAxis.prototype.minorIntervals = function minorIntervals () {
        return this.intervals(this.options.minorUnit);
    };

    PolarAxis.prototype.intervalAngle = function intervalAngle (i) {
        return (540 - i - this.options.startAngle) % 360;
    };

    PolarAxis.prototype.createLine = function createLine () {
        return [];
    };

    PolarAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {
        var majorGridLines = this.options.majorGridLines;
        return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);
    };

    PolarAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {
        var options = this.options;
        var minorGridLines = options.minorGridLines;
        var majorGridLines = options.majorGridLines;
        var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;

        return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);
    };

    PolarAxis.prototype.plotBandSlot = function plotBandSlot (band) {
        return this.getSlot(band.from, band.to);
    };

    PolarAxis.prototype.getSlot = function getSlot (a, b) {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var startAngle = options.startAngle;
        var start = limitValue(a, options.min, options.max);
        var end = limitValue(b || start, start, options.max);

        if (options.reverse) {
            start *= -1;
            end *= -1;
        }

        start = (540 - start - startAngle) % 360;
        end = (540 - end - startAngle) % 360;

        if (end < start) {
            var tmp = start;
            start = end;
            end = tmp;
        }

        return new Ring(box.center(), 0, box.height() / 2, start, end - start);
    };

    PolarAxis.prototype.slot = function slot (from, to) {
        if ( to === void 0 ) to = from;

        var options = this.options;
        var start = 360 - options.startAngle;
        var slot = this.getSlot(from, to);
        var min = Math.min(from, to);
        var max = Math.max(from, to);
        var startAngle, endAngle;

        if (options.reverse) {
            startAngle = min;
            endAngle = max;
        } else {
            startAngle = 360 - max;
            endAngle = 360 - min;
        }

        startAngle = (startAngle + start) % 360;
        endAngle = (endAngle + start) % 360;

        return new _progress_kendoDrawing.geometry.Arc([ slot.center.x, slot.center.y ], {
            startAngle: startAngle,
            endAngle: endAngle,
            radiusX: slot.radius,
            radiusY: slot.radius
        });
    };

    PolarAxis.prototype.getValue = function getValue (point) {
        var options = this.options;
        var center = this.box.center();
        var dx = point.x - center.x;
        var dy = point.y - center.y;
        var theta = Math.round(deg(Math.atan2(dy, dx)));
        var start = options.startAngle;

        if (!options.reverse) {
            theta *= -1;
            start *= -1;
        }

        return (theta + start + 360) % 360;
    };

    PolarAxis.prototype.valueRange = function valueRange () {
        return {
            min: 0,
            max: Math.PI * 2
        };
    };

    return PolarAxis;
}(Axis));

setDefaultOptions(PolarAxis, {
    type: "polar",
    startAngle: 0,
    reverse: false,
    majorUnit: 60,
    min: 0,
    max: 360,
    labels: {
        margin: getSpacing(10)
    },
    majorGridLines: {
        color: BLACK,
        visible: true,
        width: 1
    },
    minorGridLines: {
        color: "#aaa"
    }
});

deepExtend(PolarAxis.prototype, GridLinesMixin, {
    createPlotBands: RadarCategoryAxis.prototype.createPlotBands,
    majorAngles: RadarCategoryAxis.prototype.majorAngles,
    range: NumericAxis.prototype.range,
    labelsCount: NumericAxis.prototype.labelsCount,
    createAxisLabel: NumericAxis.prototype.createAxisLabel
});

var RadarNumericAxisMixin = {
    options: {
        majorGridLines: {
            visible: true
        }
    },

    createPlotBands: function() {
        var this$1 = this;

        var ref = this.options;
        var type = ref.majorGridLines.type;
        var plotBands = ref.plotBands; if ( plotBands === void 0 ) plotBands = [];
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var group = this._plotbandGroup = new _progress_kendoDrawing.drawing.Group({
            zIndex: -1
        });

        for (var i = 0; i < plotBands.length; i++) {
            var band = plotBands[i];
            var bandStyle = {
                fill: {
                    color: band.color,
                    opacity: band.opacity
                },
                stroke: {
                    opacity: band.opacity
                }
            };

            var slot = this$1.getSlot(band.from, band.to, true);
            var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);

            var shape = (void 0);
            if (type === ARC) {
                shape = ShapeBuilder.current.createRing(ring, bandStyle);
            } else {
                shape = _progress_kendoDrawing.drawing.Path.fromPoints(this$1.plotBandPoints(ring, majorAngles), bandStyle).close();
            }

            group.append(shape);
        }

        this.appendVisual(group);
    },

    plotBandPoints: function(ring, angles) {
        var innerPoints = [];
        var outerPoints = [];
        var center = [ ring.center.x, ring.center.y ];
        var innerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.innerRadius);
        var outerCircle = new _progress_kendoDrawing.geometry.Circle(center, ring.radius);

        for (var i = 0; i < angles.length; i++) {
            innerPoints.push(innerCircle.pointAt(angles[i] + 180));
            outerPoints.push(outerCircle.pointAt(angles[i] + 180));
        }

        innerPoints.reverse();
        innerPoints.push(innerPoints[0]);
        outerPoints.push(outerPoints[0]);

        return outerPoints.concat(innerPoints);
    },

    createGridLines: function(altAxis) {
        var options = this.options;
        var majorTicks = this.radarMajorGridLinePositions();
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var gridLines = [];

        if (options.majorGridLines.visible) {
            gridLines = this.renderGridLines(
                center, majorTicks, majorAngles, options.majorGridLines
            );
        }

        if (options.minorGridLines.visible) {
            var minorTicks = this.radarMinorGridLinePositions();
            append$1(gridLines, this.renderGridLines(
                center, minorTicks, majorAngles, options.minorGridLines
            ));
        }

        return gridLines;
    },

    renderGridLines: function(center, ticks, angles, options) {
        var style = {
            stroke: {
                width: options.width,
                color: options.color,
                dashType: options.dashType
            }
        };
        var skip = options.skip; if ( skip === void 0 ) skip = 0;
        var step = options.step; if ( step === void 0 ) step = 0;
        var container = this.gridLinesVisual();

        for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {
            var tickRadius = center.y - ticks[tickIx];
            if (tickRadius > 0) {
                var circle = new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], tickRadius);
                if (options.type === ARC) {
                    container.append(new _progress_kendoDrawing.drawing.Circle(circle, style));
                } else {
                    var line = new _progress_kendoDrawing.drawing.Path(style);
                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {
                        line.lineTo(circle.pointAt(angles[angleIx] + 180));
                    }

                    line.close();
                    container.append(line);
                }
            }
        }

        return container.children;
    },

    getValue: function(point) {
        var lineBox = this.lineBox();
        var altAxis = this.plotArea.polarAxis;
        var majorAngles = altAxis.majorAngles();
        var center = altAxis.box.center();
        var radius = point.distanceTo(center);
        var distance = radius;

        if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {
            var dx = point.x - center.x;
            var dy = point.y - center.y;
            var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;

            majorAngles.sort(function(a, b) {
                return angularDistance(a, theta) - angularDistance(b, theta);
            });

            // Solve triangle (center, point, axis X) using one side (radius) and two angles.
            // Angles are derived from triangle (center, point, gridline X)
            var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;
            var alpha = angularDistance(theta, majorAngles[0]);
            var gamma = 90 - midAngle;
            var beta = 180 - alpha - gamma;

            distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));
        }

        return this.axisType().prototype.getValue.call(
            this, new Point(lineBox.x1, lineBox.y2 - distance)
        );
    }
};

function angularDistance(a, b) {
    return 180 - Math.abs(Math.abs(a - b) - 180);
}

var RadarNumericAxis = (function (NumericAxis$$1) {
    function RadarNumericAxis () {
        NumericAxis$$1.apply(this, arguments);
    }

    if ( NumericAxis$$1 ) RadarNumericAxis.__proto__ = NumericAxis$$1;
    RadarNumericAxis.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadarNumericAxis.prototype.constructor = RadarNumericAxis;

    RadarNumericAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        return this.getTickPositions(this.options.majorUnit);
    };

    RadarNumericAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var options = this.options;
        var minorSkipStep = 0;

        if (options.majorGridLines.visible) {
            minorSkipStep = options.majorUnit;
        }
        return this.getTickPositions(options.minorUnit, minorSkipStep);
    };

    RadarNumericAxis.prototype.axisType = function axisType () {
        return NumericAxis$$1;
    };

    return RadarNumericAxis;
}(NumericAxis));

deepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);

var RadarLogarithmicAxis = (function (LogarithmicAxis$$1) {
    function RadarLogarithmicAxis () {
        LogarithmicAxis$$1.apply(this, arguments);
    }

    if ( LogarithmicAxis$$1 ) RadarLogarithmicAxis.__proto__ = LogarithmicAxis$$1;
    RadarLogarithmicAxis.prototype = Object.create( LogarithmicAxis$$1 && LogarithmicAxis$$1.prototype );
    RadarLogarithmicAxis.prototype.constructor = RadarLogarithmicAxis;

    RadarLogarithmicAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {
        var positions = [];

        this.traverseMajorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.majorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {
        var positions = [];

        this.traverseMinorTicksPositions(function(position) {
            positions.push(position);
        }, this.options.minorGridLines);

        return positions;
    };

    RadarLogarithmicAxis.prototype.axisType = function axisType () {
        return LogarithmicAxis$$1;
    };

    return RadarLogarithmicAxis;
}(LogarithmicAxis));

deepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);

var WEIGHT = 0.333;
var EXTREMUM_ALLOWED_DEVIATION = 0.01;

var CurveProcessor = (function (Class$$1) {
    function CurveProcessor(closed) {
        Class$$1.call(this);

        this.closed = closed;
    }

    if ( Class$$1 ) CurveProcessor.__proto__ = Class$$1;
    CurveProcessor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    CurveProcessor.prototype.constructor = CurveProcessor;

    CurveProcessor.prototype.process = function process (dataPoints) {
        var this$1 = this;

        var points = dataPoints.slice(0);
        var segments = [];
        var closed = this.closed;
        var length = points.length;

        if (length > 2) {
            this.removeDuplicates(0, points);
            length = points.length;
        }

        if (length < 2 || (length === 2 && points[0].equals(points[1]))) {
            return segments;
        }

        var p0 = points[0];
        var p1 = points[1];
        var p2 = points[2];

        segments.push(new _progress_kendoDrawing.geometry.Segment(p0));

        while (p0.equals(points[length - 1])) {
            closed = true;
            points.pop();
            length--;
        }

        if (length === 2) {
            var tangent = this.tangent(p0,p1, X, Y);

            last(segments).controlOut(
                this.firstControlPoint(tangent, p0, p1, X, Y)
            );

            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                this.secondControlPoint(tangent, p0, p1, X, Y)
            ));

            return segments;
        }

        var initialControlPoint, lastControlPoint;

        if (closed) {
            p0 = points[length - 1]; p1 = points[0]; p2 = points[1];
            var controlPoints = this.controlPoints(p0, p1, p2);
            initialControlPoint = controlPoints[1];
            lastControlPoint = controlPoints[0];
        } else {
            var tangent$1 = this.tangent(p0, p1, X,Y);
            initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);
        }

        var cp0 = initialControlPoint;
        for (var idx = 0; idx <= length - 3; idx++) {
            this$1.removeDuplicates(idx, points);
            length = points.length;
            if (idx + 3 <= length) {
                p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];
                var controlPoints$1 = this$1.controlPoints(p0,p1,p2);

                last(segments).controlOut(cp0);
                cp0 = controlPoints$1[1];

                var cp1 = controlPoints$1[0];
                segments.push(new _progress_kendoDrawing.geometry.Segment(p1, cp1));
            }
        }

        if (closed) {
            p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];
            var controlPoints$2 = this.controlPoints(p0, p1, p2);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p1,
                controlPoints$2[0]
            ));

            last(segments).controlOut(controlPoints$2[1]);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                lastControlPoint
            ));
        } else {
            var tangent$2 = this.tangent(p1, p2, X, Y);

            last(segments).controlOut(cp0);
            segments.push(new _progress_kendoDrawing.geometry.Segment(
                p2,
                this.secondControlPoint(tangent$2, p1, p2, X, Y)
            ));
        }

        return segments;
    };

    CurveProcessor.prototype.removeDuplicates = function removeDuplicates (idx, points) {
        while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {
            points.splice(idx + 1, 1);
        }
    };

    CurveProcessor.prototype.invertAxis = function invertAxis (p0, p1, p2) {
        var invertAxis = false;

        if (p0.x === p1.x) {
            invertAxis = true;
        } else if (p1.x === p2.x) {
            if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {
                invertAxis = true;
            }
        } else {
            var fn = this.lineFunction(p0,p1);
            var y2 = this.calculateFunction(fn, p2.x);
            if (!(p0.y <= p1.y && p2.y <= y2) &&
                !(p1.y <= p0.y && p2.y >= y2)) {
                invertAxis = true;
            }
        }

        return invertAxis;
    };

    CurveProcessor.prototype.isLine = function isLine (p0, p1, p2) {
        var fn = this.lineFunction(p0, p1);
        var y2 = this.calculateFunction(fn, p2.x);

        return (p0.x === p1.x && p1.x === p2.x) || round(y2, 1) === round(p2.y, 1);
    };

    CurveProcessor.prototype.lineFunction = function lineFunction (p1, p2) {
        var a = (p2.y - p1.y) / (p2.x - p1.x);
        var b = p1.y - a * p1.x;

        return [ b, a ];
    };

    CurveProcessor.prototype.controlPoints = function controlPoints (p0, p1, p2) {
        var xField = X;
        var yField = Y;
        var restrict = false;
        var switchOrientation = false;
        var tangent;

        if (this.isLine(p0, p1, p2)) {
            tangent = this.tangent(p0, p1, X, Y);
        } else {
            var monotonic = {
                x: this.isMonotonicByField(p0, p1, p2, X),
                y: this.isMonotonicByField(p0, p1, p2, Y)
            };

            if (monotonic.x && monotonic.y) {
                tangent = this.tangent(p0, p2, X, Y);
                restrict = true;
            } else {
                if (this.invertAxis(p0, p1, p2)) {
                    xField = Y;
                    yField = X;
                }

                if (monotonic[xField]) {
                    tangent = 0;
                } else {
                    var sign;
                    if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||
                        (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {
                        sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));
                    } else {
                        sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));
                    }

                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;
                    switchOrientation = true;
                }
            }
        }

        var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);

        if (switchOrientation) {
            var oldXField = xField;
            xField = yField;
            yField = oldXField;
        }

        var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);

        if (restrict) {
            this.restrictControlPoint(p0, p1, secondControlPoint, tangent);
            this.restrictControlPoint(p1, p2, firstControlPoint, tangent);
        }

        return [ secondControlPoint, firstControlPoint ];
    };

    CurveProcessor.prototype.restrictControlPoint = function restrictControlPoint (p1, p2, cp, tangent) {
        if (p1.y < p2.y) {
            if (p2.y < cp.y) {
                cp.x = p1.x + (p2.y - p1.y) / tangent;
                cp.y = p2.y;
            } else if (cp.y < p1.y) {
                cp.x = p2.x - (p2.y - p1.y) / tangent;
                cp.y = p1.y;
            }
        } else {
            if (cp.y < p2.y) {
                cp.x = p1.x - (p1.y - p2.y) / tangent;
                cp.y = p2.y;
            } else if (p1.y < cp.y) {
                cp.x = p2.x + (p1.y - p2.y) / tangent;
                cp.y = p1.y;
            }
        }
    };

    CurveProcessor.prototype.tangent = function tangent (p0, p1, xField, yField) {
        var x = p1[xField] - p0[xField];
        var y = p1[yField] - p0[yField];
        var tangent;

        if (x === 0) {
            tangent = 0;
        } else {
            tangent = y / x;
        }

        return tangent;
    };

    CurveProcessor.prototype.isMonotonicByField = function isMonotonicByField (p0, p1, p2, field) {
        return (p2[field] > p1[field] && p1[field] > p0[field]) ||
                    (p2[field] < p1[field] && p1[field] < p0[field]);
    };

    CurveProcessor.prototype.firstControlPoint = function firstControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.secondControlPoint = function secondControlPoint (tangent, p0, p3, xField, yField) {
        var t1 = p0[xField];
        var t2 = p3[xField];
        var distance = (t2 - t1) * WEIGHT;

        return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);
    };

    CurveProcessor.prototype.point = function point (xValue, yValue, xField, yField) {
        var controlPoint = new _progress_kendoDrawing.geometry.Point();
        controlPoint[xField] = xValue;
        controlPoint[yField] = yValue;

        return controlPoint;
    };

    CurveProcessor.prototype.calculateFunction = function calculateFunction (fn, x) {
        var length = fn.length;
        var result = 0;

        for (var i = 0; i < length; i++) {
            result += Math.pow(x,i) * fn[i];
        }
        return result;
    };

    return CurveProcessor;
}(_progress_kendoDrawing.Class));

function numberSign(value) {
    return value <= 0 ? -1 : 1;
}

var ChartAxis = (function (Class$$1) {
    function ChartAxis(axis) {
        Class$$1.call(this);

        this._axis = axis;
        this.options = axis.options;
    }

    if ( Class$$1 ) ChartAxis.__proto__ = Class$$1;
    ChartAxis.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartAxis.prototype.constructor = ChartAxis;

    ChartAxis.prototype.value = function value (point) {
        var axis = this._axis;
        var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);

        return value;
    };

    ChartAxis.prototype.slot = function slot (from, to, limit) {
        if ( limit === void 0 ) limit = true;

        return this._axis.slot(from, to, limit);
    };

    ChartAxis.prototype.range = function range () {
        return this._axis.range();
    };

    ChartAxis.prototype.valueRange = function valueRange () {
        return this._axis.valueRange();
    };

    return ChartAxis;
}(_progress_kendoDrawing.Class));

function findAxisByName(name, axes) {
    for (var idx = 0; idx < axes.length; idx++) {
        if (axes[idx].options.name === name) {
            axes[idx].prepareUserOptions();
            return new ChartAxis(axes[idx]);
        }
    }
}

var ChartPane = function ChartPane(pane) {
    this.visual = pane.visual;
    this.chartsVisual = pane.chartContainer.visual;
    this._pane = pane;
};

ChartPane.prototype.findAxisByName = function findAxisByName$1 (name) {
    return findAxisByName(name, this._pane.axes);
};

var ChartPlotArea = (function (Class$$1) {
    function ChartPlotArea(plotArea) {
        Class$$1.call(this);

        this._plotArea = plotArea;
        this.visual = plotArea.visual;
        this.backgroundVisual = plotArea._bgVisual;
    }

    if ( Class$$1 ) ChartPlotArea.__proto__ = Class$$1;
    ChartPlotArea.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ChartPlotArea.prototype.constructor = ChartPlotArea;

    return ChartPlotArea;
}(_progress_kendoDrawing.Class));

function countNumbers(values) {
    var length = values.length;
    var count = 0;

    for (var i = 0; i < length; i++) {
        var num = values[i];
        if (isNumber(num)) {
            count++;
        }
    }

    return count;
}

var Aggregates = {
    min: function(values) {
        var length = values.length;
        var min = MAX_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                min = Math.min(min, value);
            }
        }

        return min === MAX_VALUE ? values[0] : min;
    },

    max: function(values) {
        var length = values.length;
        var max = MIN_VALUE;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                max = Math.max(max, value);
            }
        }

        return max === MIN_VALUE ? values[0] : max;
    },

    sum: function(values) {
        var length = values.length;
        var sum = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (isNumber(value)) {
                sum += value;
            }
        }

        return sum;
    },

    sumOrNull: function(values) {
        var result = null;

        if (countNumbers(values)) {
            result = Aggregates.sum(values);
        }

        return result;
    },

    count: function(values) {
        var length = values.length;
        var count = 0;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                count++;
            }
        }

        return count;
    },

    avg: function(values) {
        var count = countNumbers(values);
        var result = values[0];

        if (count > 0) {
            result = Aggregates.sum(values) / count;
        }

        return result;
    },

    first: function(values) {
        var length = values.length;

        for (var i = 0; i < length; i++) {
            var value = values[i];
            if (value !== null && defined(value)) {
                return value;
            }
        }

        return values[0];
    }
};

function getField(field, row) {
    if (row === null) {
        return row;
    }

    var get = getter(field, true);
    return get(row);
}

var SeriesBinder = (function (Class$$1) {
    function SeriesBinder() {
        Class$$1.call(this);

        this._valueFields = {};
        this._otherFields = {};
        this._nullValue = {};
        this._undefinedValue = {};
    }

    if ( Class$$1 ) SeriesBinder.__proto__ = Class$$1;
    SeriesBinder.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesBinder.prototype.constructor = SeriesBinder;

    SeriesBinder.prototype.register = function register (seriesTypes, valueFields, otherFields) {
        var this$1 = this;
        if ( valueFields === void 0 ) valueFields = [ VALUE ];
        if ( otherFields === void 0 ) otherFields = {};


        for (var i = 0; i < seriesTypes.length; i++) {
            var type = seriesTypes[i];

            this$1._valueFields[type] = valueFields;
            this$1._otherFields[type] = otherFields;
            this$1._nullValue[type] = this$1._makeValue(valueFields, null);
            this$1._undefinedValue[type] = this$1._makeValue(valueFields, undefined);
        }
    };

    SeriesBinder.prototype.canonicalFields = function canonicalFields (series) {
        return this.valueFields(series).concat(this.otherFields(series));
    };

    SeriesBinder.prototype.valueFields = function valueFields (series) {
        return this._valueFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.otherFields = function otherFields (series) {
        return this._otherFields[series.type] || [ VALUE ];
    };

    SeriesBinder.prototype.bindPoint = function bindPoint (series, pointIx, item) {
        var data = series.data;
        var pointData = defined(item) ? item : data[pointIx];
        var result = { valueFields: { value: pointData } };
        var valueFields = this.valueFields(series);
        var otherFields = this._otherFields[series.type];
        var fields, value;

        if (pointData === null) {
            value = this._nullValue[series.type];
        } else if (!defined(pointData)) {
            value = this._undefinedValue[series.type];
        } else if (Array.isArray(pointData)) {
            var fieldData = pointData.slice(valueFields.length);
            value = this._bindFromArray(pointData, valueFields);
            fields = this._bindFromArray(fieldData, otherFields);
        } else if (typeof pointData === "object") {
            var srcValueFields = this.sourceFields(series, valueFields);
            var srcPointFields = this.sourceFields(series, otherFields);

            value = this._bindFromObject(pointData, valueFields, srcValueFields);
            fields = this._bindFromObject(pointData, otherFields, srcPointFields);
        }

        if (defined(value)) {
            if (valueFields.length === 1) {
                result.valueFields.value = value[valueFields[0]];
            } else {
                result.valueFields = value;
            }
        }

        result.fields = fields || {};

        return result;
    };

    SeriesBinder.prototype._makeValue = function _makeValue (fields, initialValue) {
        var value = {};
        var length = fields.length;

        for (var i = 0; i < length; i++) {
            var fieldName = fields[i];
            value[fieldName] = initialValue;
        }

        return value;
    };

    SeriesBinder.prototype._bindFromArray = function _bindFromArray (array, fields) {
        var value = {};

        if (fields) {
            var length = Math.min(fields.length, array.length);

            for (var i = 0; i < length; i++) {
                value[fields[i]] = array[i];
            }
        }

        return value;
    };

    SeriesBinder.prototype._bindFromObject = function _bindFromObject (object, fields, srcFields) {
        if ( srcFields === void 0 ) srcFields = fields;

        var value = {};

        if (fields) {
            var length = fields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = fields[i];
                var srcFieldName = srcFields[i];
                if (srcFieldName !== null) {
                    value[fieldName] = getField(srcFieldName, object);
                }
            }
        }

        return value;
    };

    SeriesBinder.prototype.sourceFields = function sourceFields (series, canonicalFields) {
        var sourceFields = [];

        if (canonicalFields) {
            var length = canonicalFields.length;

            for (var i = 0; i < length; i++) {
                var fieldName = canonicalFields[i];
                var sourceFieldName = fieldName === VALUE ? "field" : fieldName + "Field";

                sourceFields.push(series[sourceFieldName] !== null ? (series[sourceFieldName] || fieldName) : null);
            }
        }

        return sourceFields;
    };

    return SeriesBinder;
}(_progress_kendoDrawing.Class));

SeriesBinder.current = new SeriesBinder();

var STD_ERR = "stderr";
var STD_DEV = "stddev";
var percentRegex = /percent(?:\w*)\((\d+)\)/;
var standardDeviationRegex = new RegExp("^" + STD_DEV + "(?:\\((\\d+(?:\\.\\d+)?)\\))?$");

var ErrorRangeCalculator = (function (Class$$1) {
    function ErrorRangeCalculator(errorValue, series, field) {
        Class$$1.call(this);

        this.initGlobalRanges(errorValue, series, field);
    }

    if ( Class$$1 ) ErrorRangeCalculator.__proto__ = Class$$1;
    ErrorRangeCalculator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ErrorRangeCalculator.prototype.constructor = ErrorRangeCalculator;

    ErrorRangeCalculator.prototype.initGlobalRanges = function initGlobalRanges (errorValue, series, field) {
        var data = series.data;
        var deviationMatch = standardDeviationRegex.exec(errorValue);

        if (deviationMatch) {
            this.valueGetter = this.createValueGetter(series, field);

            var average = this.getAverage(data);
            var deviation = this.getStandardDeviation(data, average, false);
            var multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1;
            var errorRange = { low: average.value - deviation * multiple, high: average.value + deviation * multiple };

            this.globalRange = function() {
                return errorRange;
            };
        } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {
            this.valueGetter = this.createValueGetter(series, field);
            var standardError = this.getStandardError(data, this.getAverage(data));

            this.globalRange = function(value) {
                return { low: value - standardError, high: value + standardError };
            };
        }
    };

    ErrorRangeCalculator.prototype.createValueGetter = function createValueGetter (series, field) {
        var data = series.data;
        var binder = SeriesBinder.current;
        var valueFields = binder.valueFields(series);
        var item = defined(data[0]) ? data[0] : {};
        var valueGetter;

        if (isArray(item)) {
            var index = field ? valueFields.indexOf(field) : 0;
            valueGetter = getter("[" + index + "]");
        } else if (isNumber(item)) {
            valueGetter = getter();
        } else if (typeof item === OBJECT) {
            var srcValueFields = binder.sourceFields(series, valueFields);
            valueGetter = getter(srcValueFields[valueFields.indexOf(field)]);
        }

        return valueGetter;
    };

    ErrorRangeCalculator.prototype.getErrorRange = function getErrorRange (pointValue, errorValue) {
        var low, high, value;

        if (!defined(errorValue)) {
            return null;
        }

        if (this.globalRange) {
            return this.globalRange(pointValue);
        }

        if (isArray(errorValue)) {
            low = pointValue - errorValue[0];
            high = pointValue + errorValue[1];
        } else if (isNumber(value = parseFloat(errorValue))) {
            low = pointValue - value;
            high = pointValue + value;
        } else if ((value = percentRegex.exec(errorValue))) {
            var percentValue = pointValue * (parseFloat(value[1]) / 100);
            low = pointValue - Math.abs(percentValue);
            high = pointValue + Math.abs(percentValue);
        } else {
            throw new Error("Invalid ErrorBar value: " + errorValue);
        }

        return { low: low, high: high };
    };

    ErrorRangeCalculator.prototype.getStandardError = function getStandardError (data, average) {
        return this.getStandardDeviation(data, average, true) / Math.sqrt(average.count);
    };

    ErrorRangeCalculator.prototype.getStandardDeviation = function getStandardDeviation (data, average, isSample) {
        var this$1 = this;

        var length = data.length;
        var total = isSample ? average.count - 1 : average.count;
        var squareDifferenceSum = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                squareDifferenceSum += Math.pow(value - average.value, 2);
            }
        }

        return Math.sqrt(squareDifferenceSum / total);
    };

    ErrorRangeCalculator.prototype.getAverage = function getAverage (data) {
        var this$1 = this;

        var length = data.length;
        var sum = 0;
        var count = 0;

        for (var idx = 0; idx < length; idx++) {
            var value = this$1.valueGetter(data[idx]);
            if (isNumber(value)) {
                sum += value;
                count++;
            }
        }

        return {
            value: sum / count,
            count: count
        };
    };

    return ErrorRangeCalculator;
}(_progress_kendoDrawing.Class));

var browser = _progress_kendoDrawing.support.browser || {};

var INITIAL_ANIMATION_DURATION = 600;
var FADEIN = "fadeIn";

var BORDER_BRIGHTNESS = 0.8;
var TOOLTIP_OFFSET = 5;
var START_SCALE = browser.msie ? 0.001 : 0;
var ERROR_LOW_FIELD = "errorLow";
var ERROR_HIGH_FIELD = "errorHigh";
var X_ERROR_LOW_FIELD = "xErrorLow";
var X_ERROR_HIGH_FIELD = "xErrorHigh";
var Y_ERROR_LOW_FIELD = "yErrorLow";
var Y_ERROR_HIGH_FIELD = "yErrorHigh";
var LINE_MARKER_SIZE = 8;
var ZERO = "zero";
var INTERPOLATE = "interpolate";
var GAP = "gap";
var ABOVE = "above";
var BELOW = "below";

var SMOOTH = "smooth";
var STEP = "step";

var AREA = "area";
var BAR = "bar";
var BOX_PLOT = "boxPlot";
var BUBBLE = "bubble";
var BULLET = "bullet";
var CANDLESTICK = "candlestick";
var COLUMN = "column";
var DONUT = "donut";
var FUNNEL = "funnel";
var HORIZONTAL_WATERFALL = "horizontalWaterfall";
var LINE = "line";
var OHLC = "ohlc";
var PIE = "pie";
var POLAR_AREA = "polarArea";
var POLAR_LINE = "polarLine";
var POLAR_SCATTER = "polarScatter";
var RADAR_AREA = "radarArea";
var RADAR_COLUMN = "radarColumn";
var RADAR_LINE = "radarLine";
var RANGE_AREA = "rangeArea";
var RANGE_BAR = "rangeBar";
var RANGE_COLUMN = "rangeColumn";
var SCATTER = "scatter";
var SCATTER_LINE = "scatterLine";
var VERTICAL_AREA = "verticalArea";
var VERTICAL_BOX_PLOT = "verticalBoxPlot";
var VERTICAL_BULLET = "verticalBullet";
var VERTICAL_LINE = "verticalLine";
var VERTICAL_RANGE_AREA = "verticalRangeArea";
var WATERFALL = "waterfall";
var EQUALLY_SPACED_SERIES = [
    BAR, COLUMN, OHLC, CANDLESTICK, BOX_PLOT, VERTICAL_BOX_PLOT,
    BULLET, RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL
];

var LEGEND_ITEM_CLICK = "legendItemClick";
var LEGEND_ITEM_HOVER = "legendItemHover";
var LEGEND_ITEM_LEAVE = "legendItemLeave";
var SERIES_CLICK = "seriesClick";
var SERIES_HOVER = "seriesHover";
var SERIES_OVER = "seriesOver";
var SERIES_LEAVE = "seriesLeave";
var PLOT_AREA_CLICK = "plotAreaClick";
var PLOT_AREA_HOVER = "plotAreaHover";
var PLOT_AREA_LEAVE = "plotAreaLeave";
var DRAG = "drag";
var DRAG_END = "dragEnd";
var DRAG_START = "dragStart";
var ZOOM_START = "zoomStart";
var ZOOM = "zoom";
var ZOOM_END = "zoomEnd";
var SELECT_START = "selectStart";
var SELECT = "select";
var SELECT_END = "selectEnd";
var RENDER = "render";
var SHOW_TOOLTIP = "showTooltip";
var HIDE_TOOLTIP = "hideTooltip";
var PANE_RENDER = "paneRender";

var LOGARITHMIC = "log";
var CATEGORY = "category";

var INSIDE_END = "insideEnd";
var INSIDE_BASE = "insideBase";
var OUTSIDE_END = "outsideEnd";

var MOUSEWHEEL = "DOMMouseScroll mousewheel";
var MOUSEWHEEL_DELAY = 150;

var DEFAULT_ERROR_BAR_WIDTH = 4;

var ErrorBarBase = (function (ChartElement$$1) {
    function ErrorBarBase(low, high, isVertical, chart, series, options) {
        ChartElement$$1.call(this, options);

        this.low = low;
        this.high = high;
        this.isVertical = isVertical;
        this.chart = chart;
        this.series = series;
    }

    if ( ChartElement$$1 ) ErrorBarBase.__proto__ = ChartElement$$1;
    ErrorBarBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ErrorBarBase.prototype.constructor = ErrorBarBase;

    ErrorBarBase.prototype.reflow = function reflow (targetBox) {
        var endCaps = this.options.endCaps;
        var isVertical = this.isVertical;
        var axis = this.getAxis();
        var valueBox = axis.getSlot(this.low, this.high);
        var centerBox = targetBox.center();
        var capsWidth = this.getCapsWidth(targetBox, isVertical);
        var capValue = isVertical ? centerBox.x : centerBox.y;
        var capStart = capValue - capsWidth;
        var capEnd = capValue + capsWidth;
        var linePoints;

        if (isVertical) {
            linePoints = [
                new Point(centerBox.x, valueBox.y1),
                new Point(centerBox.x, valueBox.y2)
            ];
            if (endCaps) {
                linePoints.push(new Point(capStart, valueBox.y1),
                    new Point(capEnd, valueBox.y1),
                    new Point(capStart, valueBox.y2),
                    new Point(capEnd, valueBox.y2));
            }
            this.box = new Box(capStart, valueBox.y1, capEnd, valueBox.y2);
        } else {
            linePoints = [
                new Point(valueBox.x1, centerBox.y),
                new Point(valueBox.x2, centerBox.y)
            ];
            if (endCaps) {
                linePoints.push(new Point(valueBox.x1, capStart),
                    new Point(valueBox.x1, capEnd),
                    new Point(valueBox.x2, capStart),
                    new Point(valueBox.x2, capEnd));
            }
            this.box = new Box(valueBox.x1, capStart, valueBox.x2, capEnd);
        }

        this.linePoints = linePoints;
    };

    ErrorBarBase.prototype.getCapsWidth = function getCapsWidth (box, isVertical) {
        var boxSize = isVertical ? box.width() : box.height();
        var capsWidth = Math.min(Math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;

        return capsWidth;
    };

    ErrorBarBase.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual = options.visual;

        if (visual) {
            this.visual = visual({
                low: this.low,
                high: this.high,
                rect: this.box.toRect(),
                sender: this.getSender(),
                options: {
                    endCaps: options.endCaps,
                    color: options.color,
                    line: options.line
                },
                createVisual: function () {
                    this$1.createDefaultVisual();
                    var defaultVisual = this$1.visual;
                    delete this$1.visual;
                    return defaultVisual;
                }
            });
        } else {
            this.createDefaultVisual();
        }
    };

    ErrorBarBase.prototype.createDefaultVisual = function createDefaultVisual () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var linePoints = ref.linePoints;
        var lineOptions = {
            stroke: {
                color: options.color,
                width: options.line.width,
                dashType: options.line.dashType
            }
        };

        ChartElement$$1.prototype.createVisual.call(this);

        for (var idx = 0; idx < linePoints.length; idx += 2) {
            var line = new _progress_kendoDrawing.drawing.Path(lineOptions)
                .moveTo(linePoints[idx].x, linePoints[idx].y)
                .lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);

            alignPathToPixel(line);
            this$1.visual.append(line);
        }
    };

    return ErrorBarBase;
}(ChartElement));

setDefaultOptions(ErrorBarBase, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    endCaps: true,
    line: {
        width: 2
    },
    zIndex: 1
});

var CategoricalErrorBar = (function (ErrorBarBase$$1) {
    function CategoricalErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) CategoricalErrorBar.__proto__ = ErrorBarBase$$1;
    CategoricalErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    CategoricalErrorBar.prototype.constructor = CategoricalErrorBar;

    CategoricalErrorBar.prototype.getAxis = function getAxis () {
        var axis = this.chart.seriesValueAxis(this.series);

        return axis;
    };

    return CategoricalErrorBar;
}(ErrorBarBase));

var MAX_EXPAND_DEPTH = 5;

function evalOptions(options, context, state, dryRun) {
    if ( state === void 0 ) state = {};
    if ( dryRun === void 0 ) dryRun = false;

    var defaults = state.defaults = state.defaults || {};
    var depth = state.depth = state.depth || 0;
    var needsEval = false;

    state.excluded = state.excluded || [];

    if (depth > MAX_EXPAND_DEPTH) {
        return null;
    }

    for (var property in options) {
        if (!inArray(property, state.excluded) && options.hasOwnProperty(property)) {
            var propValue = options[property];
            if (isFunction(propValue)) {
                needsEval = true;
                if (!dryRun) {
                    options[property] = valueOrDefault(propValue(context), defaults[property]);
                }
            } else if (isObject(propValue)) {
                if (!dryRun) {
                    state.defaults = defaults[property];
                }
                state.depth++;
                needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;
                state.depth--;
            }
        }
    }

    return needsEval;
}

function categoriesCount$1(series) {
    var seriesCount = series.length;
    var categories = 0;

    for (var i = 0; i < seriesCount; i++) {
        categories = Math.max(categories, series[i].data.length);
    }

    return categories;
}

var CategoricalChart = (function (ChartElement$$1) {
    function CategoricalChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);

        // Value axis ranges grouped by axis name, e.g.:
        // primary: { min: 0, max: 1 }
        this.valueAxisRanges = {};

        this.points = [];
        this.categoryPoints = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];

        this.render();
    }

    if ( ChartElement$$1 ) CategoricalChart.__proto__ = ChartElement$$1;
    CategoricalChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    CategoricalChart.prototype.constructor = CategoricalChart;

    CategoricalChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    CategoricalChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({ }, defaults, {
                vertical: !this.options.invertAxes
            }, series);
        }

        return options;
    };

    CategoricalChart.prototype.plotValue = function plotValue (point) {
        if (!point) {
            return 0;
        }

        if (this.options.isStacked100 && isNumber(point.value)) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];
            var otherValues = [];
            var categorySum = 0;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];
                if (other) {
                    var stack = point.series.stack;
                    var otherStack = other.series.stack;

                    if ((stack && otherStack) && stack.group !== otherStack.group) {
                        continue;
                    }

                    if (isNumber(other.value)) {
                        categorySum += Math.abs(other.value);
                        otherValues.push(Math.abs(other.value));
                    }
                }
            }

            if (categorySum > 0) {
                return point.value / categorySum;
            }
        }

        return point.value;
    };

    CategoricalChart.prototype.plotRange = function plotRange (point, startValue) {
        var this$1 = this;
        if ( startValue === void 0 ) startValue = 0;

        var categoryPoints = this.categoryPoints[point.categoryIx];

        if (this.options.isStacked) {
            var plotValue = this.plotValue(point);
            var positive = plotValue >= 0;
            var prevValue = startValue;
            var isStackedBar = false;

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                var stack = point.series.stack;
                var otherStack = other.series.stack;
                if (stack && otherStack) {
                    if (typeof stack === STRING && stack !== otherStack) {
                        continue;
                    }

                    if (stack.group && stack.group !== otherStack.group) {
                        continue;
                    }
                }

                var otherValue = this$1.plotValue(other);
                if ((otherValue >= 0 && positive) ||
                    (otherValue < 0 && !positive)) {
                    prevValue += otherValue;
                    plotValue += otherValue;
                    isStackedBar = true;

                    if (this$1.options.isStacked100) {
                        plotValue = Math.min(plotValue, 1);
                    }
                }
            }

            if (isStackedBar) {
                prevValue -= startValue;
            }

            return [ prevValue, plotValue ];
        }

        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, convertableToNumber(point.value) ? point.value : axisCrossingValue ];
    };

    CategoricalChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var this$1 = this;

        var min = MAX_VALUE;
        var max = MIN_VALUE;

        for (var i = 0; i < this.categoryPoints.length; i++) {
            var categoryPoints = this$1.categoryPoints[i];
            if (!categoryPoints) {
                continue;
            }

            for (var pIx = 0; pIx < categoryPoints.length; pIx++) {
                var point = categoryPoints[pIx];
                if (point) {
                    if (point.series.stack === stackName || point.series.axis === axisName) {
                        var to = this$1.plotRange(point, 0)[1];
                        if (defined(to) && isFinite(to)) {
                            max = Math.max(max, to);
                            min = Math.min(min, to);
                        }
                    }
                }
            }
        }

        return { min: min, max: max };
    };

    CategoricalChart.prototype.updateStackRange = function updateStackRange () {
        var this$1 = this;

        var ref = this.options;
        var isStacked = ref.isStacked;
        var chartSeries = ref.series;
        var limitsCache = {};

        if (isStacked) {
            for (var i = 0; i < chartSeries.length; i++) {
                var series = chartSeries[i];
                var axisName = series.axis;
                var key = axisName + series.stack;

                var limits = limitsCache[key];
                if (!limits) {
                    limits = this$1.stackLimits(axisName, series.stack);

                    var errorTotals = this$1.errorTotals;
                    if (errorTotals) {
                        if (errorTotals.negative.length) {
                            limits.min = Math.min(limits.min, sparseArrayLimits(errorTotals.negative).min);
                        }
                        if (errorTotals.positive.length) {
                            limits.max = Math.max(limits.max, sparseArrayLimits(errorTotals.positive).max);
                        }
                    }

                    if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {
                        limitsCache[key] = limits;
                    } else {
                        limits = null;
                    }
                }

                if (limits) {
                    this$1.valueAxisRanges[axisName] = limits;
                }
            }
        }
    };

    CategoricalChart.prototype.addErrorBar = function addErrorBar (point, data, categoryIx) {
        var value = point.value;
        var series = point.series;
        var seriesIx = point.seriesIx;
        var errorBars = point.options.errorBars;
        var lowValue = data.fields[ERROR_LOW_FIELD];
        var highValue = data.fields[ERROR_HIGH_FIELD];
        var errorRange;

        if (isNumber(lowValue) && isNumber(highValue)) {
            errorRange = { low: lowValue, high: highValue };
        } else if (errorBars && defined(errorBars.value)) {
            this.seriesErrorRanges = this.seriesErrorRanges || [];
            this.seriesErrorRanges[seriesIx] = this.seriesErrorRanges[seriesIx] ||
                new ErrorRangeCalculator(errorBars.value, series, VALUE);

            errorRange = this.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);
        }

        if (errorRange) {
            point.low = errorRange.low;
            point.high = errorRange.high;
            this.addPointErrorBar(point, categoryIx);
        }
    };

    CategoricalChart.prototype.addPointErrorBar = function addPointErrorBar (point, categoryIx) {
        var isVertical = !this.options.invertAxes;
        var options = point.options.errorBars;
        var series = point.series;
        var low = point.low;
        var high = point.high;

        if (this.options.isStacked) {
            var stackedErrorRange = this.stackedErrorRange(point, categoryIx);
            low = stackedErrorRange.low;
            high = stackedErrorRange.high;
        } else {
            var fields = { categoryIx: categoryIx, series: series };
            this.updateRange({ value: low }, fields);
            this.updateRange({ value: high }, fields);
        }

        var errorBar = new CategoricalErrorBar(low, high, isVertical, this, series, options);
        point.errorBars = [ errorBar ];
        point.append(errorBar);
    };

    CategoricalChart.prototype.stackedErrorRange = function stackedErrorRange (point, categoryIx) {
        var plotValue = this.plotRange(point, 0)[1] - point.value;
        var low = point.low + plotValue;
        var high = point.high + plotValue;

        this.errorTotals = this.errorTotals || { positive: [], negative: [] };

        if (low < 0) {
            this.errorTotals.negative[categoryIx] = Math.min(this.errorTotals.negative[categoryIx] || 0, low);
        }

        if (high > 0) {
            this.errorTotals.positive[categoryIx] = Math.max(this.errorTotals.positive[categoryIx] || 0, high);
        }

        return { low: low, high: high };
    };

    CategoricalChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var series = fields.series;
        var seriesIx = fields.seriesIx;

        var categoryPoints = this.categoryPoints[categoryIx];
        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        var seriesPoints = this.seriesPoints[seriesIx];
        if (!seriesPoints) {
            this.seriesPoints[seriesIx] = seriesPoints = [];
        }

        var point = this.createPoint(data, fields);
        if (point) {
            Object.assign(point, fields);

            point.owner = this;
            point.noteText = data.fields.noteText;
            if (!defined(point.dataItem)) {
                point.dataItem = series.data[categoryIx];
            }
            this.addErrorBar(point, data, categoryIx);
        }

        this.points.push(point);
        seriesPoints.push(point);
        categoryPoints.push(point);

        this.updateRange(data.valueFields, fields);
    };

    CategoricalChart.prototype.evalPointOptions = function evalPointOptions (options, value, category, categoryIx, series, seriesIx) {
        var state = { defaults: series._defaults, excluded: [ "data", "aggregate", "_events", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, pointOptions);
            evalOptions(pointOptions, {
                value: value,
                category: category,
                index: categoryIx,
                series: series,
                dataItem: series.data[categoryIx]
            }, state);
        }

        return pointOptions;
    };

    CategoricalChart.prototype.updateRange = function updateRange (data, fields) {
        var axisName = fields.series.axis;
        var value = data.value;
        var axisRange = this.valueAxisRanges[axisName];

        if (isFinite(value) && value !== null) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, value);
            axisRange.max = Math.max(axisRange.max, value);
        }
    };

    CategoricalChart.prototype.seriesValueAxis = function seriesValueAxis (series) {
        var plotArea = this.plotArea;
        var axisName = series.axis;
        var axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;

        if (!axis) {
            throw new Error("Unable to locate value axis with name " + axisName);
        }

        return axis;
    };

    CategoricalChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var categorySlots = this.categorySlots = [];
        var chartPoints = this.points;
        var categoryAxis = this.categoryAxis;
        var pointIx = 0;

        this.traverseDataPoints(function (data, fields) {
            var categoryIx = fields.categoryIx;
            var currentSeries = fields.series;

            var valueAxis = this$1.seriesValueAxis(currentSeries);
            var point = chartPoints[pointIx++];

            var categorySlot = categorySlots[categoryIx];
            if (!categorySlot) {
                categorySlots[categoryIx] = categorySlot =
                    this$1.categorySlot(categoryAxis, categoryIx, valueAxis);
            }

            if (point) {
                var plotRange = this$1.plotRange(point, valueAxis.startValue());
                var valueSlot = this$1.valueSlot(valueAxis, plotRange);
                if (valueSlot) {
                    var pointSlot = this$1.pointSlot(categorySlot, valueSlot);

                    point.aboveAxis = this$1.aboveAxis(point, valueAxis);
                    point.stackValue = plotRange[1];

                    if (this$1.options.isStacked100) {
                        point.percentage = this$1.plotValue(point);
                    }

                    this$1.reflowPoint(point, pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.reflowCategories(categorySlots);
        if (!this.options.clip && this.options.limitPoints && this.points.length) {
            this.limitPoints();
        }

        this.box = targetBox;
    };

    CategoricalChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        return valueAxis.getSlot(plotRange[0], plotRange[1], !this.options.clip);
    };

    CategoricalChart.prototype.limitPoints = function limitPoints () {
        var this$1 = this;

        var categoryPoints = this.categoryPoints;
        var points = categoryPoints[0].concat(last(categoryPoints));
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx]) {
                this$1.limitPoint(points[idx]);
            }
        }
    };

    CategoricalChart.prototype.limitPoint = function limitPoint (point) {
        var limittedSlot = this.categoryAxis.limitSlot(point.box);
        if (!limittedSlot.equals(point.box)) {
            point.reflow(limittedSlot);
        }
    };

    CategoricalChart.prototype.aboveAxis = function aboveAxis (point, valueAxis) {
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);
        var value = point.value;

        return valueAxis.options.reverse ?
            value < axisCrossingValue : value >= axisCrossingValue;
    };

    CategoricalChart.prototype.categoryAxisCrossingValue = function categoryAxisCrossingValue (valueAxis) {
        var categoryAxis = this.categoryAxis;
        var options = valueAxis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );

        return crossingValues[categoryAxis.axisIndex || 0] || 0;
    };

    CategoricalChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.reflow(pointSlot);
    };

    CategoricalChart.prototype.reflowCategories = function reflowCategories () { };

    CategoricalChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var options = this.options;
        var invertAxes = options.invertAxes;
        var slotX = invertAxes ? valueSlot : categorySlot;
        var slotY = invertAxes ? categorySlot : valueSlot;

        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    CategoricalChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    CategoricalChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var count = categoriesCount$1(series);
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            this$1._outOfRangeCallback(series[seriesIx], "_outOfRangeMinPoint", seriesIx, callback);
        }

        for (var categoryIx = 0; categoryIx < count; categoryIx++) {
            for (var seriesIx$1 = 0; seriesIx$1 < seriesCount; seriesIx$1++) {
                var currentSeries = series[seriesIx$1];
                var currentCategory = this$1.categoryAxis.categoryAt(categoryIx);
                var pointData = this$1._bindPoint(currentSeries, seriesIx$1, categoryIx);

                callback(pointData, {
                    category: currentCategory,
                    categoryIx: categoryIx,
                    series: currentSeries,
                    seriesIx: seriesIx$1
                });
            }
        }

        for (var seriesIx$2 = 0; seriesIx$2 < seriesCount; seriesIx$2++) {
            this$1._outOfRangeCallback(series[seriesIx$2], "_outOfRangeMaxPoint", seriesIx$2, callback);
        }
    };

    CategoricalChart.prototype._outOfRangeCallback = function _outOfRangeCallback (series, field, seriesIx, callback) {
        var outOfRangePoint = series[field];
        if (outOfRangePoint) {
            var categoryIx = outOfRangePoint.categoryIx;
            var pointData = this._bindPoint(series, seriesIx, categoryIx, outOfRangePoint.item);

            callback(pointData, {
                category: outOfRangePoint.category,
                categoryIx: categoryIx,
                series: series,
                seriesIx: seriesIx,
                dataItem: outOfRangePoint.item
            });
        }
    };

    CategoricalChart.prototype._bindPoint = function _bindPoint (series, seriesIx, categoryIx, item) {
        if (!this._bindCache) {
            this._bindCache = [];
        }

        var bindCache = this._bindCache[seriesIx];
        if (!bindCache) {
            bindCache = this._bindCache[seriesIx] = [];
        }

        var data = bindCache[categoryIx];
        if (!data) {
            data = bindCache[categoryIx] = SeriesBinder.current.bindPoint(series, categoryIx, item);
        }

        return data;
    };

    CategoricalChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value);
    };

    CategoricalChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.value;
    };

    return CategoricalChart;
}(ChartElement));

setDefaultOptions(CategoricalChart, {
    series: [],
    invertAxes: false,
    isStacked: false,
    clip: true,
    limitPoints: true
});

var PointEventsMixin = {
    click: function(chart, e) {
        return chart.trigger(
            SERIES_CLICK,
            this.eventArgs(e)
        );
    },

    hover: function(chart, e) {
        return chart.trigger(
            SERIES_HOVER,
            this.eventArgs(e)
        );
    },

    over: function(chart, e) {
        return chart.trigger(
            SERIES_OVER,
            this.eventArgs(e)
        );
    },

    out: function(chart, e) {
        return chart.trigger(
            SERIES_LEAVE,
            this.eventArgs(e)
        );
    },

    eventArgs: function(e) {
        return {
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            category: this.category,
            series: this.series,
            dataItem: this.dataItem,
            runningTotal: this.runningTotal,
            total: this.total,
            element: eventElement(e),
            originalEvent: e,
            point: this
        };
    }
};

var NoteMixin = {
    createNote: function() {
        var options = this.options.notes;
        var text = this.noteText || options.label.text;

        if (options.visible !== false && defined(text) && text !== null) {
            this.note = new Note({
                value: this.value,
                text: text,
                dataItem: this.dataItem,
                category: this.category,
                series: this.series
            }, this.options.notes, this.owner.chartService);

            this.append(this.note);
        }
    }
};

var LinePoint = (function (ChartElement$$1) {
    function LinePoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
    }

    if ( ChartElement$$1 ) LinePoint.__proto__ = ChartElement$$1;
    LinePoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LinePoint.prototype.constructor = LinePoint;

    LinePoint.prototype.render = function render () {
        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;

        if (this._rendered) {
            return;
        }

        this._rendered = true;

        if (markers.visible && markers.size) {
            this.marker = this.createMarker();
            this.append(this.marker);
        }

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var pointData = this.pointData();
            var labelText = this.value;
            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else if (labels.format) {
                labelText = this.formatValue(labels.format);
            }
            this.label = new TextBox(labelText,
                deepExtend({
                    align: CENTER,
                    vAlign: CENTER,
                    margin: {
                        left: 5,
                        right: 5
                    },
                    zIndex: valueOrDefault(labels.zIndex, this.series.zIndex)
                }, labels),
                pointData
            );
            this.append(this.label);
        }

        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    LinePoint.prototype.markerBorder = function markerBorder () {
        var options = this.options.markers;
        var background = options.background;
        var border = deepExtend({ color: this.color }, options.border);

        if (!defined(border.color)) {
            border.color = new _progress_kendoDrawing.Color(background).brightness(BORDER_BRIGHTNESS).toHex();
        }

        return border;
    };

    LinePoint.prototype.createVisual = function createVisual () {};

    LinePoint.prototype.createMarker = function createMarker () {
        var options = this.options.markers;
        var marker = new ShapeElement({
            type: options.type,
            width: options.size,
            height: options.size,
            rotation: options.rotation,
            background: options.background,
            border: this.markerBorder(),
            opacity: options.opacity,
            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),
            animation: options.animation,
            visual: options.visual
        }, {
            dataItem: this.dataItem,
            value: this.value,
            series: this.series,
            category: this.category
        });

        return marker;
    };

    LinePoint.prototype.markerBox = function markerBox () {
        if (!this.marker) {
            this.marker = this.createMarker();
            this.marker.reflow(this._childBox);
        }

        return this.marker.box;
    };

    LinePoint.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var aboveAxis = ref.aboveAxis;
        var vertical = options.vertical;

        this.render();

        this.box = targetBox;
        var childBox = targetBox.clone();

        if (vertical) {
            if (aboveAxis) {
                childBox.y1 -= childBox.height();
            } else {
                childBox.y2 += childBox.height();
            }
        } else {
            if (aboveAxis) {
                childBox.x1 += childBox.width();
            } else {
                childBox.x2 -= childBox.width();
            }
        }

        this._childBox = childBox;
        if (this.marker) {
            this.marker.reflow(childBox);
        }

        this.reflowLabel(childBox);

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(childBox);
            }
        }

        if (this.note) {
            var noteTargetBox = this.markerBox();

            if (!(options.markers.visible && options.markers.size)) {
                var center = noteTargetBox.center();
                noteTargetBox = new Box(center.x, center.y, center.x, center.y);
            }

            this.note.reflow(noteTargetBox);
        }
    };

    LinePoint.prototype.reflowLabel = function reflowLabel (box) {
        var ref = this;
        var options = ref.options;
        var label = ref.label;
        var anchor = options.labels.position;

        if (label) {
            anchor = anchor === ABOVE ? TOP : anchor;
            anchor = anchor === BELOW ? BOTTOM : anchor;

            label.reflow(box);
            label.box.alignTo(this.markerBox(), anchor);
            label.reflow(label.box);
        }
    };

    LinePoint.prototype.createHighlight = function createHighlight () {
        var markers = this.options.highlight.markers;
        var defaultColor = this.markerBorder().color;
        var options = this.options.markers;
        var size = options.size + (options.border.width || 0) + (markers.border.width || 0);

        var shadow = new ShapeElement({
            type: options.type,
            width: size,
            height: size,
            rotation: options.rotation,
            background: markers.color || defaultColor,
            border: {
                color: markers.border.color,
                width: markers.border.width,
                opacity: valueOrDefault(markers.border.opacity, 1)
            },
            opacity: valueOrDefault(markers.opacity, 1)
        });
        shadow.reflow(this._childBox);

        return shadow.getElement();
    };

    LinePoint.prototype.highlightVisual = function highlightVisual () {
        return (this.marker || {}).visual;
    };

    LinePoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var marker = this.marker;
        var visual, rect;

        if (marker) {
            rect = marker.paddingBox.toRect();
            visual = marker.visual;
        } else {
            var size = this.options.markers.size;
            var halfSize = size / 2;
            var center = this.box.center();
            rect = new _progress_kendoDrawing.geometry.Rect([ center.x - halfSize, center.y - halfSize ], [ size, size ]);
        }

        return {
            options: this.options,
            rect: rect,
            visual: visual
        };
    };

    LinePoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var markerBox = this.markerBox();
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(markerBox);

        if (showTooltip) {
            var x = markerBox.x2 + TOOLTIP_OFFSET;
            var horizontalAlign = LEFT;
            var y, verticalAlign;

            if (this.aboveAxis) {
                y = markerBox.y1;
                verticalAlign = BOTTOM;
            } else {
                y = markerBox.y2;
                verticalAlign = TOP;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    LinePoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    LinePoint.prototype.overlapsBox = function overlapsBox (box) {
        var markerBox = this.markerBox();
        return markerBox.overlaps(box);
    };

    LinePoint.prototype.unclipElements = function unclipElements () {
        if (this.label) {
            this.label.options.noclip = true;
        }

        if (this.note) {
            this.note.options.noclip = true;
        }
    };

    LinePoint.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            series: this.series
        };
    };

    return LinePoint;
}(ChartElement));

LinePoint.prototype.defaults = {
    vertical: true,
    markers: {
        visible: true,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        position: ABOVE,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        }
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: "#fff",
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    errorBars: {
        line: {
            width: 1
        }
    }
};

deepExtend(LinePoint.prototype, PointEventsMixin);
deepExtend(LinePoint.prototype, NoteMixin);

var LineSegment = (function (ChartElement$$1) {
    function LineSegment(linePoints, series, seriesIx) {
        ChartElement$$1.call(this);

        this.linePoints = linePoints;
        this.series = series;
        this.seriesIx = seriesIx;
    }

    if ( ChartElement$$1 ) LineSegment.__proto__ = ChartElement$$1;
    LineSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LineSegment.prototype.constructor = LineSegment;

    LineSegment.prototype.points = function points () {
        return this.toGeometryPoints(this.linePoints);
    };

    LineSegment.prototype.toGeometryPoints = function toGeometryPoints (points) {
        var result = [];
        for (var i = 0, length = points.length; i < length; i++) {
            if (points[i] && points[i].visible !== false) {
                result.push(points[i]._childBox.toRect().center());
            }
        }

        return result;
    };

    LineSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var customVisual = this.series.visual;
        if (customVisual) {
            this.visual = customVisual({
                points: this.toGeometryPoints(this.linePoints),
                series: this.series,
                sender: this.getSender(),
                createVisual: function () {
                    this$1.segmentVisual();

                    return this$1.visual;
                }
            });
            if (this.visual && !defined(this.visual.options.zIndex)) {
                this.visual.options.zIndex = this.series.zIndex;
            }
        } else {
            this.segmentVisual();
        }
    };

    LineSegment.prototype.segmentVisual = function segmentVisual () {
        var ref = this;
        var options = ref.options;
        var series = ref.series;
        var color = series.color;
        var defaults = series._defaults;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var line = _progress_kendoDrawing.drawing.Path.fromPoints(this.points(), {
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        if (options.closed) {
            line.close();
        }

        this.visual = line;
    };

    LineSegment.prototype.aliasFor = function aliasFor (e, coords) {
        return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);
    };

    return LineSegment;
}(ChartElement));

setDefaultOptions(LineSegment, {
    closed: false
});

var StepLineMixin = {
    calculateStepPoints: function(points) {
        var categoryAxis = this.parent.plotArea.seriesCategoryAxis(this.series);
        var ref = categoryAxis.options;
        var justified = ref.justified;
        var vertical = ref.vertical;
        var reverse = ref.reverse;

        var stepAxis = vertical ? X : Y;
        var axis = vertical ? Y : X;
        var stepDir = reverse ? 2 : 1;
        var dir = stepDir;

        var previousPoint = toGeometryPoint(points[0], stepAxis, stepDir, axis, dir);
        var result = [ previousPoint ];

        for (var idx = 1; idx < points.length; idx++) {
            var point = toGeometryPoint(points[idx], stepAxis, stepDir, axis, dir);

            if (previousPoint[stepAxis] !== point[stepAxis]) {
                var stepPoint = new _progress_kendoDrawing.geometry.Point();
                stepPoint[stepAxis] = previousPoint[stepAxis];
                stepPoint[axis] = point[axis];

                result.push(stepPoint, point);
            }

            previousPoint = point;
        }

        if (!justified) {
            result.push(toGeometryPoint(last(points), stepAxis, stepDir, axis, reverse ? 1 : 2));
        } else if (previousPoint !== last(result)) {
            result.push(previousPoint);
        }

        return result;

    }
};

function toGeometryPoint(lintPoint, stepAxis, stepDir, axis, dir) {
    var box = lintPoint.box;
    var result = new _progress_kendoDrawing.geometry.Point();

    result[stepAxis] = box[stepAxis + stepDir];
    result[axis] = box[axis + dir];

    return result;
}

var StepLineSegment = (function (LineSegment$$1) {
    function StepLineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) StepLineSegment.__proto__ = LineSegment$$1;
    StepLineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    StepLineSegment.prototype.constructor = StepLineSegment;

    StepLineSegment.prototype.points = function points () {
        return this.calculateStepPoints(this.linePoints);
    };

    return StepLineSegment;
}(LineSegment));

deepExtend(StepLineSegment.prototype, StepLineMixin);

var SplineSegment = (function (LineSegment$$1) {
    function SplineSegment () {
        LineSegment$$1.apply(this, arguments);
    }

    if ( LineSegment$$1 ) SplineSegment.__proto__ = LineSegment$$1;
    SplineSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    SplineSegment.prototype.constructor = SplineSegment;

    SplineSegment.prototype.segmentVisual = function segmentVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        var curveProcessor = new CurveProcessor(this.options.closed);
        var segments = curveProcessor.process(this.points());
        var curve = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: color,
                width: series.width,
                opacity: series.opacity,
                dashType: series.dashType
            },
            zIndex: series.zIndex
        });

        curve.segments.push.apply(curve.segments, segments);

        this.visual = curve;
    };

    return SplineSegment;
}(LineSegment));

var LineChartMixin = {
    renderSegments: function() {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesPoints = ref.seriesPoints;
        var series = options.series;
        var seriesCount = seriesPoints.length;
        var lastSegment;

        this._segments = [];

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var sortedPoints = this$1.sortPoints(seriesPoints[seriesIx]);
            var pointCount = sortedPoints.length;
            var linePoints = [];

            for (var pointIx = 0; pointIx < pointCount; pointIx++) {
                var point = sortedPoints[pointIx];
                if (point) {
                    linePoints.push(point);
                } else if (this$1.seriesMissingValues(currentSeries) !== INTERPOLATE) {
                    if (linePoints.length > 1) {
                        lastSegment = this$1.createSegment(
                            linePoints, currentSeries, seriesIx, lastSegment
                        );
                        this$1._addSegment(lastSegment);
                    }
                    linePoints = [];
                }
            }

            if (linePoints.length > 1) {
                lastSegment = this$1.createSegment(
                    linePoints, currentSeries, seriesIx, lastSegment
                );
                this$1._addSegment(lastSegment);
            }
        }

        this.children.unshift.apply(this.children, this._segments);
    },

    _addSegment: function(segment) {
        this._segments.push(segment);
        segment.parent = this;
    },

    sortPoints: function(points) {
        return points;
    },

    seriesMissingValues: function(series) {
        var missingValues = series.missingValues;
        var assumeZero = !missingValues && this.options.isStacked;

        return assumeZero ? ZERO : missingValues || INTERPOLATE;
    },

    getNearestPoint: function(x, y, seriesIx) {
        var target = new Point(x, y);
        var allPoints = this.seriesPoints[seriesIx];
        var nearestPointDistance = MAX_VALUE;
        var nearestPoint;

        for (var i = 0; i < allPoints.length; i++) {
            var point = allPoints[i];

            if (point && defined(point.value) && point.value !== null && point.visible !== false) {
                var pointBox = point.box;
                var pointDistance = pointBox.center().distanceTo(target);

                if (pointDistance < nearestPointDistance) {
                    nearestPoint = point;
                    nearestPointDistance = pointDistance;
                }
            }
        }

        return nearestPoint;
    }
};

var ClipAnimation = (function (superclass) {
    function ClipAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ClipAnimation.__proto__ = superclass;
    ClipAnimation.prototype = Object.create( superclass && superclass.prototype );
    ClipAnimation.prototype.constructor = ClipAnimation;

    ClipAnimation.prototype.setup = function setup () {
        this._setEnd(this.options.box.x1);
    };

    ClipAnimation.prototype.step = function step (pos) {
        var box = this.options.box;
        this._setEnd(interpolateValue(box.x1, box.x2, pos));
    };

    ClipAnimation.prototype._setEnd = function _setEnd (x) {
        var element = this.element;
        var segments = element.segments;
        var topRight = segments[1].anchor();
        var bottomRight = segments[2].anchor();

        element.suspend();
        topRight.setX(x);
        element.resume();
        bottomRight.setX(x);
    };

    return ClipAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ClipAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register("clip", ClipAnimation);

function anyHasZIndex(elements) {
    for (var idx = 0; idx < elements.length; idx++) {
        if (defined(elements[idx].zIndex)) {
            return true;
        }
    }
}

var ClipAnimationMixin = {
    createAnimation: function() {
        var root = this.getRoot();
        if (root && (root.options || {}).transitions !== false) {
            var box = root.size();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(box.toRect());
            this.visual.clip(clipPath);
            this.animation = new ClipAnimation(clipPath, {
                box: box
            });
            if (anyHasZIndex(this.options.series)) {
                this._setChildrenAnimation(clipPath);
            }
        }
    },

    _setChildrenAnimation: function(clipPath) {
        var points = this.animationPoints();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point && point.visual && defined(point.visual.options.zIndex)) {
                point.visual.clip(clipPath);
            }
        }
    }
};

var LineChart = (function (CategoricalChart$$1) {
    function LineChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) LineChart.__proto__ = CategoricalChart$$1;
    LineChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    LineChart.prototype.constructor = LineChart;

    LineChart.prototype.render = function render () {

        CategoricalChart$$1.prototype.render.call(this);

        this.updateStackRange();
        this.renderSegments();
    };

    LineChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    LineChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var missingValues = this.seriesMissingValues(series);
        var value = data.valueFields.value;

        if (!defined(value) || value === null) {
            if (missingValues === ZERO) {
                value = 0;
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    LineChart.prototype.plotRange = function plotRange (point) {
        var this$1 = this;

        var plotValue = this.plotValue(point);

        if (this.options.isStacked) {
            var categoryIx = point.categoryIx;
            var categoryPoints = this.categoryPoints[categoryIx];

            for (var i = 0; i < categoryPoints.length; i++) {
                var other = categoryPoints[i];

                if (point === other) {
                    break;
                }

                plotValue += this$1.plotValue(other);

                if (this$1.options.isStacked100) {
                    plotValue = Math.min(plotValue, 1);
                }
            }

        }

        return [ plotValue, plotValue ];
    };

    LineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === STEP) {
            pointType = StepLineSegment;
        } else if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    LineChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result.concat(this._segments);
    };

    return LineChart;
}(CategoricalChart));

deepExtend(LineChart.prototype, LineChartMixin, ClipAnimationMixin);

var AreaSegment = (function (LineSegment$$1) {
    function AreaSegment(linePoints, currentSeries, seriesIx, prevSegment, stackPoints) {
        LineSegment$$1.call(this, linePoints, currentSeries, seriesIx);

        this.prevSegment = prevSegment;
        this.stackPoints = stackPoints;
    }

    if ( LineSegment$$1 ) AreaSegment.__proto__ = LineSegment$$1;
    AreaSegment.prototype = Object.create( LineSegment$$1 && LineSegment$$1.prototype );
    AreaSegment.prototype.constructor = AreaSegment;

    AreaSegment.prototype.createVisual = function createVisual () {
        var series = this.series;
        var defaults = series._defaults;
        var lineOptions = series.line || {};
        var color = series.color;

        if (isFunction(color) && defaults) {
            color = defaults.color;
        }

        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: series.zIndex
        });

        this.createFill({
            fill: {
                color: color,
                opacity: series.opacity
            },
            stroke: null
        });

        if (lineOptions.width > 0 && lineOptions.visible !== false) {
            this.createStroke({
                stroke: deepExtend({
                    color: color,
                    opacity: series.opacity,
                    lineCap: "butt"
                }, lineOptions)
            });
        }
    };

    AreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            segments = this._strokeSegments = this.createStrokeSegments();
        }

        return segments;
    };

    AreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.points());
    };

    AreaSegment.prototype.stackSegments = function stackSegments () {
        if (this.prevSegment) {
            return this.prevSegment.createStackSegments(this.stackPoints);
        }

        return this.createStackSegments(this.stackPoints);
    };

    AreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.toGeometryPoints(stackPoints)).reverse();
    };

    AreaSegment.prototype.segmentsFromPoints = function segmentsFromPoints (points) {
        return points.map(function (point) { return new _progress_kendoDrawing.geometry.Segment(point); });
    };

    AreaSegment.prototype.createStroke = function createStroke (style) {
        var stroke = new _progress_kendoDrawing.drawing.Path(style);
        stroke.segments.push.apply(stroke.segments, this.strokeSegments());

        this.visual.append(stroke);
    };

    AreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return this.prevSegment || (this.stackPoints && this.stackPoints.length);
    };

    AreaSegment.prototype.createFill = function createFill (style) {
        var strokeSegments = this.strokeSegments();
        var fillSegments = strokeSegments.slice(0);
        var hasStackSegments = this.hasStackSegment();

        if (hasStackSegments) {
            var stackSegments = this.stackSegments();

            append$1(fillSegments, stackSegments);
        }

        var fill = new _progress_kendoDrawing.drawing.Path(style);
        fill.segments.push.apply(fill.segments, fillSegments);

        if (!hasStackSegments && strokeSegments.length > 1) {
            this.fillToAxes(fill);
        }

        this.visual.append(fill);
    };

    AreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var chart = this.parent;
        var invertAxes = chart.options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.series);
        var crossingValue = chart.categoryAxisCrossingValue(valueAxis);
        var endSlot = valueAxis.getSlot(crossingValue, crossingValue, true);
        var segments = this.strokeSegments();
        var firstPoint = segments[0].anchor();
        var lastPoint = last(segments).anchor();
        var end = invertAxes ? endSlot.x1 : endSlot.y1;

        if (invertAxes) {
            fillPath.lineTo(end, lastPoint.y)
                    .lineTo(end, firstPoint.y);
        } else {
            fillPath.lineTo(lastPoint.x, end)
                    .lineTo(firstPoint.x, end);
        }
    };

    return AreaSegment;
}(LineSegment));

var StepAreaSegment = (function (AreaSegment$$1) {
    function StepAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) StepAreaSegment.__proto__ = AreaSegment$$1;
    StepAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    StepAreaSegment.prototype.constructor = StepAreaSegment;

    StepAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints));
    };

    StepAreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {
        return this.segmentsFromPoints(this.calculateStepPoints(stackPoints)).reverse();
    };

    return StepAreaSegment;
}(AreaSegment));

deepExtend(StepAreaSegment.prototype, StepLineMixin);

var SplineAreaSegment = (function (AreaSegment$$1) {
    function SplineAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) SplineAreaSegment.__proto__ = AreaSegment$$1;
    SplineAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    SplineAreaSegment.prototype.constructor = SplineAreaSegment;

    SplineAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        var curveProcessor = new CurveProcessor(this.options.closed);
        var linePoints = this.points();

        return curveProcessor.process(linePoints);
    };

    SplineAreaSegment.prototype.createStackSegments = function createStackSegments () {
        var strokeSegments = this.strokeSegments();
        var stackSegments = [];
        for (var idx = strokeSegments.length - 1; idx >= 0; idx--) {
            var segment = strokeSegments[idx];
            stackSegments.push(new _progress_kendoDrawing.geometry.Segment(
                segment.anchor(),
                segment.controlOut(),
                segment.controlIn()
            ));
        }

        return stackSegments;
    };

    return SplineAreaSegment;
}(AreaSegment));

var AreaChart = (function (LineChart$$1) {
    function AreaChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) AreaChart.__proto__ = LineChart$$1;
    AreaChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    AreaChart.prototype.constructor = AreaChart;

    AreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;

        var stackPoints;
        if (isStacked && seriesIx > 0 && prevSegment) {
            var missingValues = this.seriesMissingValues(currentSeries);
            if (missingValues !== "gap") {
                stackPoints = prevSegment.linePoints;
                previousSegment = prevSegment;
            } else {
                stackPoints = this._gapStackPoints(linePoints, seriesIx, style);
            }
        }

        var pointType;
        if (style === STEP) {
            pointType = StepAreaSegment;
        } else if (style === SMOOTH) {
            pointType = SplineAreaSegment;
        } else {
            pointType = AreaSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
    };

    AreaChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        LineChart$$1.prototype.reflow.call(this, targetBox);

        var stackPoints = this._stackPoints;
        if (stackPoints) {
            for (var idx = 0; idx < stackPoints.length; idx++) {
                var stackPoint = stackPoints[idx];
                var pointSlot = this$1.categoryAxis.getSlot(stackPoint.categoryIx);
                stackPoint.reflow(pointSlot);
            }
        }
    };

    AreaChart.prototype._gapStackPoints = function _gapStackPoints (linePoints, seriesIx, style) {
        var this$1 = this;

        var seriesPoints = this.seriesPoints;
        var startIdx = linePoints[0].categoryIx;
        var length = linePoints.length;
        if (startIdx < 0) {
            startIdx = 0;
            length--;
        }

        var endIdx = startIdx + length;
        var pointOffset = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0;
        var stackPoints = [];

        this._stackPoints = this._stackPoints || [];
        for (var categoryIx = startIdx; categoryIx < endIdx; categoryIx++) {
            var pointIx = categoryIx + pointOffset;
            var currentSeriesIx = seriesIx;
            var point = (void 0);

            do {
                currentSeriesIx--;
                point = seriesPoints[currentSeriesIx][pointIx];
            } while (currentSeriesIx > 0 && !point);

            if (point) {
                if (style !== STEP && categoryIx > startIdx && !seriesPoints[currentSeriesIx][pointIx - 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx - 1, currentSeriesIx));
                }

                stackPoints.push(point);

                if (style !== STEP && categoryIx + 1 < endIdx && !seriesPoints[currentSeriesIx][pointIx + 1]) {
                    stackPoints.push(this$1._previousSegmentPoint(categoryIx, pointIx, pointIx + 1, currentSeriesIx));
                }
            } else {
                var gapStackPoint = this$1._createGapStackPoint(categoryIx);
                this$1._stackPoints.push(gapStackPoint);
                stackPoints.push(gapStackPoint);
            }
        }

        return stackPoints;
    };

    AreaChart.prototype._previousSegmentPoint = function _previousSegmentPoint (categoryIx, pointIx, segmentIx, seriesIdx) {
        var seriesPoints = this.seriesPoints;
        var index = seriesIdx;
        var point;

        while (index > 0 && !point) {
            index--;
            point = seriesPoints[index][segmentIx];
        }

        if (!point) {
            point = this._createGapStackPoint(categoryIx);
            this._stackPoints.push(point);
        } else {
            point = seriesPoints[index][pointIx];
        }

        return point;
    };

    AreaChart.prototype._createGapStackPoint = function _createGapStackPoint (categoryIx) {
        var options = this.pointOptions({}, 0);
        var point = new LinePoint(0, options);
        point.categoryIx = categoryIx;
        point.series = {};

        return point;
    };

    AreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    return AreaChart;
}(LineChart));

var AxisGroupRangeTracker = (function (Class$$1) {
    function AxisGroupRangeTracker() {
        Class$$1.call(this);

        this.axisRanges = {};
    }

    if ( Class$$1 ) AxisGroupRangeTracker.__proto__ = Class$$1;
    AxisGroupRangeTracker.prototype = Object.create( Class$$1 && Class$$1.prototype );
    AxisGroupRangeTracker.prototype.constructor = AxisGroupRangeTracker;

    AxisGroupRangeTracker.prototype.update = function update (chartAxisRanges) {
        var axisRanges = this.axisRanges;

        for (var axisName in chartAxisRanges) {
            var chartRange = chartAxisRanges[axisName];
            var range = axisRanges[axisName];
            axisRanges[axisName] = range = range || { min: MAX_VALUE, max: MIN_VALUE };

            range.min = Math.min(range.min, chartRange.min);
            range.max = Math.max(range.max, chartRange.max);
        }
    };

    AxisGroupRangeTracker.prototype.reset = function reset (axisName) {
        this.axisRanges[axisName] = undefined;
    };

    AxisGroupRangeTracker.prototype.query = function query (axisName) {
        return this.axisRanges[axisName];
    };

    return AxisGroupRangeTracker;
}(_progress_kendoDrawing.Class));

var BarLabel = (function (ChartElement$$1) {
    function BarLabel(content, options, pointData) {
        ChartElement$$1.call(this, options);

        this.textBox = new TextBox(content, this.options, pointData);
        this.append(this.textBox);
    }

    if ( ChartElement$$1 ) BarLabel.__proto__ = ChartElement$$1;
    BarLabel.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    BarLabel.prototype.constructor = BarLabel;

    BarLabel.prototype.createVisual = function createVisual () {
        this.textBox.options.noclip = this.options.noclip;
    };

    BarLabel.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var vertical = options.vertical;
        var aboveAxis = options.aboveAxis;
        var text = this.children[0];
        var textOptions = text.options;
        var box = text.box;
        var padding = text.options.padding;
        var labelBox = targetBox;

        textOptions.align = vertical ? CENTER : LEFT;
        textOptions.vAlign = vertical ? TOP : CENTER;

        if (options.position === INSIDE_END) {
            if (vertical) {
                textOptions.vAlign = TOP;

                if (!aboveAxis && box.height() < targetBox.height()) {
                    textOptions.vAlign = BOTTOM;
                }
            } else {
                textOptions.align = aboveAxis ? RIGHT : LEFT;
            }
        } else if (options.position === CENTER) {
            textOptions.vAlign = CENTER;
            textOptions.align = CENTER;
        } else if (options.position === INSIDE_BASE) {
            if (vertical) {
                textOptions.vAlign = aboveAxis ? BOTTOM : TOP;
            } else {
                textOptions.align = aboveAxis ? LEFT : RIGHT;
            }
        } else if (options.position === OUTSIDE_END) {
            if (vertical) {
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y1 - box.height(),
                        targetBox.x2, targetBox.y1
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1, targetBox.y2,
                        targetBox.x2, targetBox.y2 + box.height()
                    );
                }
            } else {
                textOptions.align = CENTER;
                if (aboveAxis) {
                    labelBox = new Box(
                        targetBox.x2, targetBox.y1,
                        targetBox.x2 + box.width(), targetBox.y2
                    );
                } else {
                    labelBox = new Box(
                        targetBox.x1 - box.width(), targetBox.y1,
                        targetBox.x1, targetBox.y2
                    );
                }
            }
        }

        if (!options.rotation) {
            if (vertical) {
                padding.left = padding.right =
                    (labelBox.width() - text.contentBox.width()) / 2;
            } else {
                padding.top = padding.bottom =
                    (labelBox.height() - text.contentBox.height()) / 2;
            }
        }

        text.reflow(labelBox);
    };

    BarLabel.prototype.alignToClipBox = function alignToClipBox (clipBox) {
        var vertical = this.options.vertical;
        var field = vertical ? Y : X;
        var start = field + "1";
        var end = field + "2";
        var text = this.children[0];
        var parentBox = this.parent.box;

        if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {
            var targetBox = text.paddingBox.clone();
            targetBox[start] = Math.max(parentBox[start], clipBox[start]);
            targetBox[end] = Math.min(parentBox[end], clipBox[end]);

            this.reflow(targetBox);
        }
    };

    return BarLabel;
}(ChartElement));

setDefaultOptions(BarLabel, {
    position: OUTSIDE_END,
    margin: getSpacing(3),
    padding: getSpacing(4),
    color: BLACK,
    background: "",
    border: {
        width: 1,
        color: ""
    },
    aboveAxis: true,
    vertical: false,
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    },
    zIndex: 2
});

function hasGradientOverlay(options) {
    var overlay = options.overlay;

    return overlay && overlay.gradient && overlay.gradient !== "none";
}

var BAR_ALIGN_MIN_WIDTH = 6;

var Bar = (function (ChartElement$$1) {
    function Bar(value, options) {
        ChartElement$$1.call(this);

        this.options = options;
        this.color = options.color || WHITE;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.value = value;
    }

    if ( ChartElement$$1 ) Bar.__proto__ = ChartElement$$1;
    Bar.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bar.prototype.constructor = Bar;

    Bar.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        this.createLabel();
        this.createNote();

        if (this.errorBar) {
            this.append(this.errorBar);
        }
    };

    Bar.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labels = options.labels;

        if (labels.visible) {
            var pointData = this.pointData();
            var labelTemplate = getTemplate(labels);
            var labelText;

            if (labelTemplate) {
                labelText = labelTemplate(pointData);
            } else {
                labelText = this.formatValue(labels.format);
            }

            this.label = new BarLabel(labelText,
                deepExtend({
                    vertical: options.vertical
                },
                labels
            ), pointData);
            this.append(this.label);
        }
    };

    Bar.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Bar.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        this.render();

        var label = this.label;

        this.box = targetBox;

        if (label) {
            label.options.aboveAxis = this.aboveAxis;
            label.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }

        if (this.errorBars) {
            for (var i = 0; i < this.errorBars.length; i++) {
                this$1.errorBars[i].reflow(targetBox);
            }
        }
    };

    Bar.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var box = ref.box;
        var options = ref.options;
        var customVisual = options.visual;

        if (this.visible !== false) {
            ChartElement$$1.prototype.createVisual.call(this);

            if (customVisual) {
                var visual = this.rectVisual = customVisual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    sender: this.getSender(),
                    series: this.series,
                    percentage: this.percentage,
                    stackValue: this.stackValue,
                    runningTotal: this.runningTotal,
                    total: this.total,
                    rect: box.toRect(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createRect(group);
                        return group;
                    },
                    options: options
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else if (box.width() > 0 && box.height() > 0) {
                this.createRect(this.visual);
            }
        }
    };

    Bar.prototype.createRect = function createRect (visual) {
        var options = this.options;
        var border = options.border;
        var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;
        var rect = this.box.toRect();

        rect.size.width = Math.round(rect.size.width);

        var path = this.rectVisual = _progress_kendoDrawing.drawing.Path.fromRect(rect, {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: {
                color: this.getBorderColor(),
                width: border.width,
                opacity: strokeOpacity,
                dashType: border.dashType
            }
        });

        var width = this.box.width();
        var height = this.box.height();

        var size = options.vertical ? width : height;

        if (size > BAR_ALIGN_MIN_WIDTH) {
            alignPathToPixel(path);

            // Fixes lineJoin issue in firefox when the joined lines are parallel
            if (width < 1 || height < 1) {
                path.options.stroke.lineJoin = "round";
            }
        }

        visual.append(path);

        if (hasGradientOverlay(options)) {
            var overlay = this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay));

            visual.append(overlay);
        }
    };

    Bar.prototype.createHighlight = function createHighlight (style) {
        var highlight = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);

        return alignPathToPixel(highlight);
    };

    Bar.prototype.highlightVisual = function highlightVisual () {
        return this.rectVisual;
    };

    Bar.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this.rectVisual
        };
    };

    Bar.prototype.getBorderColor = function getBorderColor () {
        var color = this.color;
        var border = this.options.border;
        var brightness = border._brightness || BORDER_BRIGHTNESS;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(color).brightness(brightness).toHex();
        }

        return borderColor;
    };

    Bar.prototype.tooltipAnchor = function tooltipAnchor () {
        var ref = this;
        var options = ref.options;
        var box = ref.box;
        var aboveAxis = ref.aboveAxis;
        var clipBox = this.owner.pane.clipBox() || box;
        var horizontalAlign = LEFT;
        var verticalAlign = TOP;
        var x, y;

        if (options.vertical) {
            x = Math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;
            if (aboveAxis) {
                y = Math.max(box.y1, clipBox.y1);
            } else {
                y = Math.min(box.y2, clipBox.y2);
                verticalAlign = BOTTOM;
            }
        } else {
            var x1 = Math.max(box.x1, clipBox.x1);
            var x2 = Math.min(box.x2, clipBox.x2);

            if (options.isStacked) {
                verticalAlign = BOTTOM;
                if (aboveAxis) {
                    horizontalAlign = RIGHT;
                    x = x2;
                } else {
                    x = x1;
                }
                y = Math.max(box.y1, clipBox.y1) - TOOLTIP_OFFSET;
            } else {
                if (aboveAxis) {
                    x = x2 + TOOLTIP_OFFSET;
                } else {
                    x = x1 - TOOLTIP_OFFSET;
                    horizontalAlign = RIGHT;
                }
                y = Math.max(box.y1, clipBox.y1);
            }
        }

        return {
            point: new Point(x, y),
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    Bar.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    Bar.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            percentage: this.percentage,
            stackValue: this.stackValue,
            runningTotal: this.runningTotal,
            total: this.total,
            series: this.series
        };
    };

    return Bar;
}(ChartElement));

deepExtend(Bar.prototype, PointEventsMixin);
deepExtend(Bar.prototype, NoteMixin);

Bar.prototype.defaults = {
    border: {
        width: 1
    },
    vertical: true,
    overlay: {
        gradient: "glass"
    },
    labels: {
        visible: false,
        format: "{0}"
    },
    opacity: 1,
    notes: {
        label: {}
    }
};

function forEach(elements, callback) {
    elements.forEach(callback);
}

function forEachReverse(elements, callback) {
    var length = elements.length;

    for (var idx = length - 1; idx >= 0; idx--) {
        callback(elements[idx], idx - length - 1);
    }
}

var ClusterLayout = (function (ChartElement$$1) {
    function ClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) ClusterLayout.__proto__ = ChartElement$$1;
    ClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ClusterLayout.prototype.constructor = ClusterLayout;

    ClusterLayout.prototype.reflow = function reflow (box) {
        var ref = this.options;
        var vertical = ref.vertical;
        var gap = ref.gap;
        var spacing = ref.spacing;
        var children = this.children;
        var count = children.length;
        var axis = vertical ? Y : X;
        var slots = count + gap + (spacing * (count - 1));
        var slotSize = (vertical ? box.height() : box.width()) / slots;
        var position = box[axis + 1] + slotSize * (gap / 2);

        this.forEach(children, function (child, idx) {
            var childBox = (child.box || box).clone();

            childBox[axis + 1] = position;
            childBox[axis + 2] = position + slotSize;

            child.reflow(childBox);
            if (idx < count - 1) {
                position += (slotSize * spacing);
            }

            position += slotSize;
        });
    };

    return ClusterLayout;
}(ChartElement));

setDefaultOptions(ClusterLayout, {
    vertical: false,
    gap: 0,
    spacing: 0
});

var StackWrap = (function (ChartElement$$1) {
    function StackWrap () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) StackWrap.__proto__ = ChartElement$$1;
    StackWrap.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    StackWrap.prototype.constructor = StackWrap;

    StackWrap.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var positionAxis = this.options.vertical ? X : Y;
        var children = this.children;
        var childrenCount = children.length;
        var box = this.box = new Box();

        for (var i = 0; i < childrenCount; i++) {
            var currentChild = children[i];

            if (currentChild.visible !== false) {
                var childBox = currentChild.box.clone();
                childBox.snapTo(targetBox, positionAxis);

                if (i === 0) {
                    box = this$1.box = childBox.clone();
                }

                currentChild.reflow(childBox);
                box.wrap(childBox);
            }
        }
    };

    return StackWrap;
}(ChartElement));

setDefaultOptions(StackWrap, {
    vertical: true
});

var BarChart = (function (CategoricalChart$$1) {
    function BarChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) BarChart.__proto__ = CategoricalChart$$1;
    BarChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BarChart.prototype.constructor = BarChart;

    BarChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);
        this.updateStackRange();
    };

    BarChart.prototype.pointType = function pointType () {
        return Bar;
    };

    BarChart.prototype.clusterType = function clusterType () {
        return ClusterLayout;
    };

    BarChart.prototype.stackType = function stackType () {
        return StackWrap;
    };

    BarChart.prototype.stackLimits = function stackLimits (axisName, stackName) {
        var limits = CategoricalChart$$1.prototype.stackLimits.call(this, axisName, stackName);

        return limits;
    };

    BarChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var isStacked = options.isStacked;
        var value = this.pointValue(data);
        var pointOptions = this.pointOptions(series, seriesIx);

        var labelOptions = pointOptions.labels;
        if (isStacked) {
            if (labelOptions.position === OUTSIDE_END) {
                labelOptions.position = INSIDE_END;
            }
        }

        pointOptions.isStacked = isStacked;

        var color = data.fields.color || series.color;
        if (value < 0 && pointOptions.negativeColor) {
            color = pointOptions.negativeColor;
        }

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var pointType = this.pointType();
        var point = new pointType(value, pointOptions);
        point.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            var clusterType = this.clusterType();
            cluster = new clusterType({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (isStacked) {
            var stackWrap = this.getStackWrap(series, cluster);
            stackWrap.append(point);
        } else {
            cluster.append(point);
        }

        return point;
    };

    BarChart.prototype.getStackWrap = function getStackWrap (series, cluster) {
        var stack = series.stack;
        var stackGroup = stack ? stack.group || stack : stack;
        var wraps = cluster.children;
        var stackWrap;

        if (typeof stackGroup === STRING) {
            for (var i = 0; i < wraps.length; i++) {
                if (wraps[i]._stackGroup === stackGroup) {
                    stackWrap = wraps[i];
                    break;
                }
            }
        } else {
            stackWrap = wraps[0];
        }

        if (!stackWrap) {
            var stackType = this.stackType();
            stackWrap = new stackType({
                vertical: !this.options.invertAxes
            });
            stackWrap._stackGroup = stackGroup;
            cluster.append(stackWrap);
        }

        return stackWrap;
    };

    BarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx, valueAxis) {
        var options = this.options;
        var categorySlot = categoryAxis.getSlot(categoryIx);
        var startValue = valueAxis.startValue();

        if (options.isStacked) {
            var zeroSlot = valueAxis.getSlot(startValue, startValue, true);
            var stackAxis = options.invertAxes ? X : Y;
            categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];
        }

        return categorySlot;
    };

    BarChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BarChart.prototype.createAnimation = function createAnimation () {
        this._setAnimationOptions();
        CategoricalChart$$1.prototype.createAnimation.call(this);

        if (anyHasZIndex(this.options.series)) {
            this._setChildrenAnimation();
        }
    };

    BarChart.prototype._setChildrenAnimation = function _setChildrenAnimation () {
        var this$1 = this;

        var points = this.points;

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            var pointVisual = point.visual;
            if (pointVisual && defined(pointVisual.options.zIndex)) {
                point.options.animation = this$1.options.animation;
                point.createAnimation();
            }
        }
    };

    BarChart.prototype._setAnimationOptions = function _setAnimationOptions () {
        var options = this.options;
        var animation = options.animation || {};
        var origin;

        if (options.isStacked) {
            var valueAxis = this.seriesValueAxis(options.series[0]);
            origin = valueAxis.getSlot(valueAxis.startValue());
        } else {
            origin = this.categoryAxis.getSlot(0);
        }

        animation.origin = new _progress_kendoDrawing.geometry.Point(origin.x1, origin.y1);
        animation.vertical = !options.invertAxes;
    };

    return BarChart;
}(CategoricalChart));

setDefaultOptions(BarChart, {
    animation: {
        type: BAR
    }
});

var Candlestick = (function (ChartElement$$1) {
    function Candlestick(value, options) {
        ChartElement$$1.call(this, options);
        this.value = value;
    }

    if ( ChartElement$$1 ) Candlestick.__proto__ = ChartElement$$1;
    Candlestick.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Candlestick.prototype.constructor = Candlestick;

    Candlestick.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var ocSlot = valueAxis.getSlot(value.open, value.close);
        var lhSlot = valueAxis.getSlot(value.low, value.high);

        ocSlot.x1 = lhSlot.x1 = box.x1;
        ocSlot.x2 = lhSlot.x2 = box.x2;

        this.realBody = ocSlot;

        var mid = lhSlot.center().x;
        var points = [];

        points.push([ [ mid, lhSlot.y1 ], [ mid, ocSlot.y1 ] ]);
        points.push([ [ mid, ocSlot.y2 ], [ mid, lhSlot.y2 ] ]);

        this.lines = points;

        this.box = lhSlot.clone().wrap(ocSlot);

        if (!this._rendered) {
            this._rendered = true;
            this.createNote();
        }

        this.reflowNote();
    };

    Candlestick.prototype.reflowNote = function reflowNote () {
        if (this.note) {
            this.note.reflow(this.box);
        }
    };

    Candlestick.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);
        this._mainVisual = this.mainVisual(this.options);
        this.visual.append(
            this._mainVisual
        );

        this.createOverlay();
    };

    Candlestick.prototype.mainVisual = function mainVisual (options) {
        var group = new _progress_kendoDrawing.drawing.Group();

        this.createBody(group, options);
        this.createLines(group, options);

        return group;
    };

    Candlestick.prototype.createBody = function createBody (container, options) {
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.realBody.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: this.getBorderColor(),
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        alignPathToPixel(body);
        container.append(body);

        if (hasGradientOverlay(options)) {
            container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({
                end: !options.vertical ? [ 0, 1 ] : undefined
            }, options.overlay)));
        }
    };

    Candlestick.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.lines, options.line);
    };

    Candlestick.prototype.drawLines = function drawLines (container, options, lines, lineOptions) {
        if (!lines) {
            return;
        }

        var lineStyle = {
            stroke: {
                color: lineOptions.color || this.color,
                opacity: valueOrDefault(lineOptions.opacity, options.opacity),
                width: lineOptions.width,
                dashType: lineOptions.dashType,
                lineCap: "butt"
            }
        };

        for (var i = 0; i < lines.length; i++) {
            var line = _progress_kendoDrawing.drawing.Path.fromPoints(lines[i], lineStyle);
            alignPathToPixel(line);
            container.append(line);
        }
    };

    Candlestick.prototype.getBorderColor = function getBorderColor () {
        var border = this.options.border;
        var borderColor = border.color;

        if (!defined(borderColor)) {
            borderColor = new _progress_kendoDrawing.Color(this.color).brightness(border._brightness).toHex();
        }

        return borderColor;
    };

    Candlestick.prototype.createOverlay = function createOverlay () {
        var overlay = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null
        });

        this.visual.append(overlay);
    };

    Candlestick.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var normalColor = this.color;

        this.color = highlight.color || this.color;
        var overlay = this.mainVisual(
            deepExtend({}, this.options, {
                line: {
                    color: this.getBorderColor()
                }
            }, highlight)
        );
        this.color = normalColor;

        return overlay;
    };

    Candlestick.prototype.highlightVisual = function highlightVisual () {
        return this._mainVisual;
    };

    Candlestick.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            rect: this.box.toRect(),
            visual: this._mainVisual
        };
    };

    Candlestick.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        var clipBox = this.owner.pane.clipBox() || box;

        return {
            point: new Point(box.x2 + TOOLTIP_OFFSET, Math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET),
            align: {
                horizontal: LEFT,
                vertical: TOP
            }
        };
    };

    Candlestick.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    Candlestick.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    return Candlestick;
}(ChartElement));

setDefaultOptions(Candlestick, {
    vertical: true,
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{4:d}</th></tr>" +
                    "<tr><td>Open:</td><td>{0:C}</td></tr>" +
                    "<tr><td>High:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Low:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Close:</td><td>{3:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    }
});

deepExtend(Candlestick.prototype, PointEventsMixin);
deepExtend(Candlestick.prototype, NoteMixin);

function areNumbers(values) {
    return countNumbers(values) === values.length;
}

var CandlestickChart = (function (CategoricalChart$$1) {
    function CandlestickChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) CandlestickChart.__proto__ = CategoricalChart$$1;
    CandlestickChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    CandlestickChart.prototype.constructor = CandlestickChart;

    CandlestickChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    CandlestickChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
            point.noteText = data.fields.noteText;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    CandlestickChart.prototype.pointType = function pointType () {
        return Candlestick;
    };

    CandlestickChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var pointType = this.pointType();
        var value = data.valueFields;
        var pointOptions = deepExtend({}, series);
        var color = data.fields.color || series.color;

        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        if (series.type === CANDLESTICK) {
            if (value.open > value.close) {
                color = data.fields.downColor || series.downColor || series.color;
            }
        }

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.vertical = !this.options.invertAxes;

        var point = new pointType(value, pointOptions);
        point.color = color;

        return point;
    };

    CandlestickChart.prototype.splitValue = function splitValue (value) {
        return [ value.low, value.open, value.close, value.high ];
    };

    CandlestickChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var parts = this.splitValue(value);
        var axisRange = this.valueAxisRanges[axisName];

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    CandlestickChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.open, value.high,
            value.low, value.close, point.category
        );
    };

    CandlestickChart.prototype.animationPoints = function animationPoints () {
        return this.points;
    };

    return CandlestickChart;
}(CategoricalChart));

deepExtend(CandlestickChart.prototype, ClipAnimationMixin);

var BoxPlot = (function (Candlestick$$1) {
    function BoxPlot(value, options) {
        Candlestick$$1.call(this, value, options);

        this.createNote();
    }

    if ( Candlestick$$1 ) BoxPlot.__proto__ = Candlestick$$1;
    BoxPlot.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    BoxPlot.prototype.constructor = BoxPlot;

    BoxPlot.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var whiskerSlot, boxSlot;

        this.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);
        this.realBody = boxSlot;
        this.reflowBoxSlot(box);

        this.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);
        this.reflowWhiskerSlot(box);

        var medianSlot = valueAxis.getSlot(value.median);

        if (value.mean) {
            var meanSlot = valueAxis.getSlot(value.mean);
            this.meanPoints = this.calcMeanPoints(box, meanSlot);
        }

        this.whiskerPoints = this.calcWhiskerPoints(boxSlot, whiskerSlot);
        this.medianPoints = this.calcMedianPoints(box, medianSlot);

        this.box = whiskerSlot.clone().wrap(boxSlot);
        this.reflowNote();
    };

    BoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.x1 = box.x1;
        this.boxSlot.x2 = box.x2;
    };

    BoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.x1 = box.x1;
        this.whiskerSlot.x2 = box.x2;
    };

    BoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ box.x1, meanSlot.y1 ], [ box.x2, meanSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().x;
        return [ [
            [ mid - 5, whiskerSlot.y1 ], [ mid + 5, whiskerSlot.y1 ],
            [ mid, whiskerSlot.y1 ], [ mid, boxSlot.y1 ]
        ], [
            [ mid - 5, whiskerSlot.y2 ], [ mid + 5, whiskerSlot.y2 ],
            [ mid, whiskerSlot.y2 ], [ mid, boxSlot.y2 ]
        ] ];
    };

    BoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ box.x1, medianSlot.y1 ], [ box.x2, medianSlot.y1 ] ]
        ];
    };

    BoxPlot.prototype.renderOutliers = function renderOutliers (options) {
        var this$1 = this;

        var value = this.value;
        var outliers = value.outliers || [];
        var outerFence = Math.abs(value.q3 - value.q1) * 3;
        var elements = [];
        var markers = options.markers || {};

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i];
            if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {
                markers = options.outliers;
            } else {
                markers = options.extremes;
            }
            var markersBorder = deepExtend({}, markers.border);

            if (!defined(markersBorder.color)) {
                if (defined(this$1.color)) {
                    markersBorder.color = this$1.color;
                } else {
                    markersBorder.color =
                        new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex();
                }
            }

            var shape = new ShapeElement({
                type: markers.type,
                width: markers.size,
                height: markers.size,
                rotation: markers.rotation,
                background: markers.background,
                border: markersBorder,
                opacity: markers.opacity
            });

            shape.value = outlierValue;

            elements.push(shape);
        }

        this.reflowOutliers(elements);
        return elements;
    };

    BoxPlot.prototype.reflowOutliers = function reflowOutliers (outliers) {
        var this$1 = this;

        var valueAxis = this.owner.seriesValueAxis(this.options);
        var center = this.box.center();

        for (var i = 0; i < outliers.length; i++) {
            var outlierValue = outliers[i].value;
            var markerBox = valueAxis.getSlot(outlierValue);

            if (this$1.options.vertical) {
                markerBox.move(center.x);
            } else {
                markerBox.move(undefined, center.y);
            }

            this$1.box = this$1.box.wrap(markerBox);
            outliers[i].reflow(markerBox);
        }
    };

    BoxPlot.prototype.mainVisual = function mainVisual (options) {
        var group = Candlestick$$1.prototype.mainVisual.call(this, options);
        var outliers = this.renderOutliers(options);

        for (var i = 0; i < outliers.length; i++) {
            var element = outliers[i].getElement();
            if (element) {
                group.append(element);
            }
        }

        return group;
    };

    BoxPlot.prototype.createLines = function createLines (container, options) {
        this.drawLines(container, options, this.whiskerPoints, options.whiskers);
        this.drawLines(container, options, this.medianPoints, options.median);
        this.drawLines(container, options, this.meanPoints, options.mean);
    };

    BoxPlot.prototype.getBorderColor = function getBorderColor () {
        if ((this.options.border || {}).color) {
            return this.options.border.color;
        }

        if (this.color) {
            return this.color;
        }

        return Candlestick$$1.prototype.getBorderColor.call(this);
    };

    return BoxPlot;
}(Candlestick));

setDefaultOptions(BoxPlot, {
    border: {
        _brightness: 0.8
    },
    line: {
        width: 2
    },
    median: {
        color: "#f6f6f6"
    },
    mean: {
        width: 2,
        dashType: "dash",
        color: "#f6f6f6"
    },
    overlay: {
        gradient: "glass"
    },
    tooltip: {
        format: "<table>" +
                    "<tr><th colspan='2'>{6:d}</th></tr>" +
                    "<tr><td>Lower:</td><td>{0:C}</td></tr>" +
                    "<tr><td>Q1:</td><td>{1:C}</td></tr>" +
                    "<tr><td>Median:</td><td>{2:C}</td></tr>" +
                    "<tr><td>Mean:</td><td>{5:C}</td></tr>" +
                    "<tr><td>Q3:</td><td>{3:C}</td></tr>" +
                    "<tr><td>Upper:</td><td>{4:C}</td></tr>" +
                "</table>"
    },
    highlight: {
        opacity: 1,
        border: {
            width: 1,
            opacity: 1
        },
        line: {
            width: 1,
            opacity: 1
        }
    },
    notes: {
        visible: true,
        label: {}
    },
    outliers: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CROSS,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    },
    extremes: {
        visible: true,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        background: WHITE,
        border: {
            width: 2,
            opacity: 1
        },
        opacity: 0
    }
});

deepExtend(BoxPlot.prototype, PointEventsMixin);

var VerticalBoxPlot = (function (BoxPlot$$1) {
    function VerticalBoxPlot () {
        BoxPlot$$1.apply(this, arguments);
    }

    if ( BoxPlot$$1 ) VerticalBoxPlot.__proto__ = BoxPlot$$1;
    VerticalBoxPlot.prototype = Object.create( BoxPlot$$1 && BoxPlot$$1.prototype );
    VerticalBoxPlot.prototype.constructor = VerticalBoxPlot;

    VerticalBoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {
        this.boxSlot.y1 = box.y1;
        this.boxSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {
        this.whiskerSlot.y1 = box.y1;
        this.whiskerSlot.y2 = box.y2;
    };

    VerticalBoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {
        return [
            [ [ meanSlot.x1, box.y1 ], [ meanSlot.x1, box.y2 ] ]
        ];
    };

    VerticalBoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {
        var mid = whiskerSlot.center().y;
        return [ [
            [ whiskerSlot.x1, mid - 5 ], [ whiskerSlot.x1, mid + 5 ],
            [ whiskerSlot.x1, mid ], [ boxSlot.x1, mid ]
        ], [
            [ whiskerSlot.x2, mid - 5 ], [ whiskerSlot.x2, mid + 5 ],
            [ whiskerSlot.x2, mid ], [ boxSlot.x2, mid ]
        ] ];
    };

    VerticalBoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {
        return [
            [ [ medianSlot.x1, box.y1 ], [ medianSlot.x1, box.y2 ] ]
        ];
    };

    return VerticalBoxPlot;
}(BoxPlot));

var BoxPlotChart = (function (CandlestickChart$$1) {
    function BoxPlotChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) BoxPlotChart.__proto__ = CandlestickChart$$1;
    BoxPlotChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    BoxPlotChart.prototype.constructor = BoxPlotChart;

    BoxPlotChart.prototype.addValue = function addValue (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var value = data.valueFields;
        var valueParts = this.splitValue(value);
        var hasValue = areNumbers(valueParts);
        var dataItem = series.data[categoryIx];
        var categoryPoints = this.categoryPoints[categoryIx];
        var point;

        if (!categoryPoints) {
            this.categoryPoints[categoryIx] = categoryPoints = [];
        }

        if (hasValue) {
            point = this.createPoint(data, fields);
        }

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        if (point) {
            this.updateRange(value, fields);

            cluster.append(point);

            point.categoryIx = categoryIx;
            point.category = category;
            point.series = series;
            point.seriesIx = seriesIx;
            point.owner = this;
            point.dataItem = dataItem;
        }

        this.points.push(point);
        categoryPoints.push(point);
    };

    BoxPlotChart.prototype.pointType = function pointType () {
        if (this.options.invertAxes) {
            return VerticalBoxPlot;
        }

        return BoxPlot;
    };

    BoxPlotChart.prototype.splitValue = function splitValue (value) {
        return [
            value.lower, value.q1, value.median,
            value.q3, value.upper
        ];
    };

    BoxPlotChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];
        var parts = this.splitValue(value).concat(this.filterOutliers(value.outliers));

        if (defined(value.mean)) {
            parts = parts.concat(value.mean);
        }

        axisRange = this.valueAxisRanges[axisName] =
            axisRange || { min: MAX_VALUE, max: MIN_VALUE };

        axisRange = this.valueAxisRanges[axisName] = {
            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),
            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))
        };
    };

    BoxPlotChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format,
            value.lower, value.q1, value.median,
            value.q3, value.upper, value.mean, point.category
        );
    };

    BoxPlotChart.prototype.filterOutliers = function filterOutliers (items) {
        var length = (items || []).length;
        var result = [];

        for (var i = 0; i < length; i++) {
            var item = items[i];
            if (defined(item) && item !== null) {
                result.push(item);
            }
        }

        return result;
    };

    return BoxPlotChart;
}(CandlestickChart));

var ScatterErrorBar = (function (ErrorBarBase$$1) {
    function ScatterErrorBar () {
        ErrorBarBase$$1.apply(this, arguments);
    }

    if ( ErrorBarBase$$1 ) ScatterErrorBar.__proto__ = ErrorBarBase$$1;
    ScatterErrorBar.prototype = Object.create( ErrorBarBase$$1 && ErrorBarBase$$1.prototype );
    ScatterErrorBar.prototype.constructor = ScatterErrorBar;

    ScatterErrorBar.prototype.getAxis = function getAxis () {
        var axes = this.chart.seriesAxes(this.series);
        var axis = this.isVertical ? axes.y : axes.x;

        return axis;
    };

    return ScatterErrorBar;
}(ErrorBarBase));

function hasValue(value) {
    return defined(value) && value !== null;
}

var ScatterChart = (function (ChartElement$$1) {
    function ScatterChart(plotArea, options) {

        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this._initFields();

        this.render();
    }

    if ( ChartElement$$1 ) ScatterChart.__proto__ = ChartElement$$1;
    ScatterChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ScatterChart.prototype.constructor = ScatterChart;

    ScatterChart.prototype._initFields = function _initFields () {
        // X and Y axis ranges grouped by name, e.g.:
        // primary: { min: 0, max: 1 }
        this.xAxisRanges = {};
        this.yAxisRanges = {};

        this.points = [];
        this.seriesPoints = [];
        this.seriesOptions = [];
        this._evalSeries = [];
    };

    ScatterChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    ScatterChart.prototype.addErrorBar = function addErrorBar (point, field, fields) {
        var value = point.value[field];
        var valueErrorField = field + "Value";
        var lowField = field + "ErrorLow";
        var highField = field + "ErrorHigh";
        var seriesIx = fields.seriesIx;
        var series = fields.series;
        var errorBars = point.options.errorBars;
        var lowValue = fields[lowField];
        var highValue = fields[highField];

        if (isNumber(value)) {
            var errorRange;
            if (isNumber(lowValue) && isNumber(highValue)) {
                errorRange = { low: lowValue, high: highValue };
            }

            if (errorBars && defined(errorBars[valueErrorField])) {
                this.seriesErrorRanges = this.seriesErrorRanges || { x: [], y: [] };
                this.seriesErrorRanges[field][seriesIx] = this.seriesErrorRanges[field][seriesIx] ||
                    new ErrorRangeCalculator(errorBars[valueErrorField], series, field);

                errorRange = this.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);
            }

            if (errorRange) {
                this.addPointErrorBar(errorRange, point, field);
            }
        }
    };

    ScatterChart.prototype.addPointErrorBar = function addPointErrorBar (errorRange, point, field) {
        var low = errorRange.low;
        var high = errorRange.high;
        var series = point.series;
        var options = point.options.errorBars;
        var isVertical = field === Y;
        var item = {};

        point[field + "Low"] = low;
        point[field + "High"] = high;

        point.errorBars = point.errorBars || [];
        var errorBar = new ScatterErrorBar(low, high, isVertical, this, series, options);
        point.errorBars.push(errorBar);
        point.append(errorBar);

        item[field] = low;
        this.updateRange(item, series);
        item[field] = high;
        this.updateRange(item, series);
    };

    ScatterChart.prototype.addValue = function addValue (value, fields) {
        var x = value.x;
        var y = value.y;
        var seriesIx = fields.seriesIx;
        var series = this.options.series[seriesIx];
        var missingValues = this.seriesMissingValues(series);
        var seriesPoints = this.seriesPoints[seriesIx];

        var pointValue = value;
        if (!(hasValue(x) && hasValue(y))) {
            pointValue = this.createMissingValue(pointValue, missingValues);
        }

        var point;
        if (pointValue) {
            point = this.createPoint(pointValue, fields);
            if (point) {
                Object.assign(point, fields);
                this.addErrorBar(point, X, fields);
                this.addErrorBar(point, Y, fields);
            }
            this.updateRange(pointValue, fields.series);
        }

        this.points.push(point);
        seriesPoints.push(point);
    };

    ScatterChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues;
    };

    ScatterChart.prototype.createMissingValue = function createMissingValue () {};

    ScatterChart.prototype.updateRange = function updateRange (value, series) {
        var intlService = this.chartService.intl;
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var x = value.x;
        var y = value.y;
        var xAxisRange = this.xAxisRanges[xAxisName];
        var yAxisRange = this.yAxisRanges[yAxisName];

        if (hasValue(x)) {
            xAxisRange = this.xAxisRanges[xAxisName] =
                xAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(x)) {
                x = parseDate(intlService, x);
            }

            xAxisRange.min = Math.min(xAxisRange.min, x);
            xAxisRange.max = Math.max(xAxisRange.max, x);
        }

        if (hasValue(y)) {
            yAxisRange = this.yAxisRanges[yAxisName] =
                yAxisRange || { min: MAX_VALUE, max: MIN_VALUE };

            if (isString(y)) {
                y = parseDate(intlService, y);
            }

            yAxisRange.min = Math.min(yAxisRange.min, y);
            yAxisRange.max = Math.max(yAxisRange.max, y);
        }
    };

    ScatterChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var state = { defaults: series._defaults, excluded: [ "data", "tooltip", "content", "template", "visual", "toggle", "_outOfRangeMinPoint", "_outOfRangeMaxPoint" ] };

        var doEval = this._evalSeries[seriesIx];
        if (!defined(doEval)) {
            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);
        }

        var pointOptions = options;
        if (doEval) {
            pointOptions = deepExtend({}, options);
            evalOptions(pointOptions, {
                value: value,
                series: series,
                dataItem: fields.dataItem
            }, state);
        }

        return pointOptions;
    };

    ScatterChart.prototype.pointType = function pointType () {
        return LinePoint;
    };

    ScatterChart.prototype.pointOptions = function pointOptions (series, seriesIx) {
        var options = this.seriesOptions[seriesIx];
        if (!options) {
            var defaults = this.pointType().prototype.defaults;
            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {
                markers: {
                    opacity: series.opacity
                },
                tooltip: {
                    format: this.options.tooltip.format
                },
                labels: {
                    format: this.options.labels.format
                }
            }, series);
        }

        return options;
    };

    ScatterChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointOptions = this.pointOptions(series, fields.seriesIx);
        var color = fields.color || series.color;

        pointOptions = this.evalPointOptions(pointOptions, value, fields);

        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new LinePoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    ScatterChart.prototype.seriesAxes = function seriesAxes (series) {
        var xAxisName = series.xAxis;
        var yAxisName = series.yAxis;
        var plotArea = this.plotArea;
        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;
        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;

        if (!xAxis) {
            throw new Error("Unable to locate X axis with name " + xAxisName);
        }

        if (!yAxis) {
            throw new Error("Unable to locate Y axis with name " + yAxisName);
        }

        return {
            x: xAxis,
            y: yAxis
        };
    };

    ScatterChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var chartPoints = this.points;
        var limit = !this.options.clip;
        var pointIx = 0;


        this.traverseDataPoints(function (value, fields) {
            var point = chartPoints[pointIx++];
            var seriesAxes = this$1.seriesAxes(fields.series);
            var slotX = seriesAxes.x.getSlot(value.x, value.x, limit);
            var slotY = seriesAxes.y.getSlot(value.y, value.y, limit);

            if (point) {
                if (slotX && slotY) {
                    var pointSlot = this$1.pointSlot(slotX, slotY);
                    point.reflow(pointSlot);
                } else {
                    point.visible = false;
                }
            }
        });

        this.box = targetBox;
    };

    ScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);
    };

    ScatterChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var seriesPoints = ref.seriesPoints;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var currentSeriesPoints = seriesPoints[seriesIx];
            if (!currentSeriesPoints) {
                seriesPoints[seriesIx] = [];
            }

            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {
                var ref$1 = this$1._bindPoint(currentSeries, seriesIx, pointIx);
                var value = ref$1.valueFields;
                var fields = ref$1.fields;

                callback(value, deepExtend({
                    pointIx: pointIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: currentSeries.data[pointIx],
                    owner: this$1
                }, fields));
            }
        }
    };

    ScatterChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y);
    };

    ScatterChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            result.push((points[idx] || {}).marker);
        }
        return result;
    };

    return ScatterChart;
}(ChartElement));
setDefaultOptions(ScatterChart, {
    series: [],
    tooltip: {
        format: "{0}, {1}"
    },
    labels: {
        format: "{0}, {1}"
    },
    clip: true
});
deepExtend(ScatterChart.prototype, ClipAnimationMixin, {
    _bindPoint: CategoricalChart.prototype._bindPoint
});

var Bubble = (function (LinePoint$$1) {
    function Bubble(value, options) {
        LinePoint$$1.call(this, value, options);

        this.category = value.category;
    }

    if ( LinePoint$$1 ) Bubble.__proto__ = LinePoint$$1;
    Bubble.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    Bubble.prototype.constructor = Bubble;

    Bubble.prototype.createHighlight = function createHighlight () {
        var highlight = this.options.highlight;
        var border = highlight.border;
        var markers = this.options.markers;
        var center = this.box.center();
        var radius = (markers.size + markers.border.width + border.width) / 2;
        var highlightGroup = new _progress_kendoDrawing.drawing.Group();
        var shadow = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y + radius / 5 + border.width / 2 ], radius + border.width / 2), {
            stroke: {
                color: 'none'
            },
            fill: this.createGradient({
                gradient: 'bubbleShadow',
                color: markers.background,
                stops: [ {
                    offset: 0,
                    color: markers.background,
                    opacity: 0.3
                }, {
                    offset: 1,
                    color: markers.background,
                    opacity: 0
                } ]
            })
        });
        var overlay = new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle([ center.x, center.y ], radius), {
            stroke: {
                color: border.color ||
                    new _progress_kendoDrawing.Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex(),
                width: border.width,
                opacity: border.opacity
            },
            fill: {
                color: markers.background,
                opacity: highlight.opacity
            }
        });

        highlightGroup.append(shadow, overlay);

        return highlightGroup;
    };

    return Bubble;
}(LinePoint));

Bubble.prototype.defaults = deepExtend({}, Bubble.prototype.defaults, {
    labels: {
        position: CENTER
    },
    highlight: {
        opacity: 1,
        border: {
            color: "#fff",
            width: 2,
            opacity: 1
        }
    }
});

Bubble.prototype.defaults.highlight.zIndex = undefined;

var BubbleChart = (function (ScatterChart$$1) {
    function BubbleChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) BubbleChart.__proto__ = ScatterChart$$1;
    BubbleChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    BubbleChart.prototype.constructor = BubbleChart;

    BubbleChart.prototype._initFields = function _initFields () {
        this._maxSize = MIN_VALUE;
        ScatterChart$$1.prototype._initFields.call(this);
    };

    BubbleChart.prototype.addValue = function addValue (value, fields) {
        if (value.size !== null && (value.size > 0 || (value.size < 0 && fields.series.negativeValues.visible))) {
            this._maxSize = Math.max(this._maxSize, Math.abs(value.size));
            ScatterChart$$1.prototype.addValue.call(this, value, fields);
        } else {
            this.points.push(null);
            this.seriesPoints[fields.seriesIx].push(null);
        }
    };

    BubbleChart.prototype.reflow = function reflow (box) {
        this.updateBubblesSize(box);
        ScatterChart$$1.prototype.reflow.call(this, box);
    };

    BubbleChart.prototype.pointType = function pointType () {
        return Bubble;
    };

    BubbleChart.prototype.createPoint = function createPoint (value, fields) {
        var series = fields.series;
        var pointsCount = series.data.length;
        var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);
        var animationOptions = {
            delay: delay,
            duration: INITIAL_ANIMATION_DURATION - delay,
            type: BUBBLE
        };

        var color = fields.color || series.color;
        if (value.size < 0 && series.negativeValues.visible) {
            color = valueOrDefault(
                series.negativeValues.color, color
            );
        }

        var pointOptions = deepExtend({
            labels: {
                animation: {
                    delay: delay,
                    duration: INITIAL_ANIMATION_DURATION - delay
                }
            }
        }, this.pointOptions(series, fields.seriesIx), {
            markers: {
                type: CIRCLE,
                border: series.border,
                opacity: series.opacity,
                animation: animationOptions
            }
        });

        pointOptions = this.evalPointOptions(pointOptions, value, fields);
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        pointOptions.markers.background = color;

        var point = new Bubble(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    BubbleChart.prototype.updateBubblesSize = function updateBubblesSize (box) {
        var this$1 = this;

        var ref = this;
        var series = ref.options.series;
        var boxSize = Math.min(box.width(), box.height());

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesPoints = this$1.seriesPoints[seriesIx];
            var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);
            var maxSize = currentSeries.maxSize || boxSize * 0.2;
            var minR = minSize / 2;
            var maxR = maxSize / 2;
            var minArea = Math.PI * minR * minR;
            var maxArea = Math.PI * maxR * maxR;
            var areaRange = maxArea - minArea;
            var areaRatio = areaRange / this$1._maxSize;

            for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {
                var point = seriesPoints[pointIx];
                if (point) {
                    var area = Math.abs(point.value.size) * areaRatio;
                    var radius = Math.sqrt((minArea + area) / Math.PI);
                    var baseZIndex = valueOrDefault(point.options.zIndex, 0);
                    var zIndex = baseZIndex + (1 - radius / maxR);

                    deepExtend(point.options, {
                        zIndex: zIndex,
                        markers: {
                            size: radius * 2,
                            zIndex: zIndex
                        },
                        labels: {
                            zIndex: zIndex + 1
                        }
                    });
                }
            }
        }
    };

    BubbleChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;
        return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);
    };

    BubbleChart.prototype.createAnimation = function createAnimation () {};
    BubbleChart.prototype.createVisual = function createVisual () {};

    return BubbleChart;
}(ScatterChart));

setDefaultOptions(BubbleChart, {
    tooltip: {
        format: "{3}"
    },
    labels: {
        format: "{3}"
    }
});

var Target = (function (ShapeElement$$1) {
	function Target () {
		ShapeElement$$1.apply(this, arguments);
	}if ( ShapeElement$$1 ) Target.__proto__ = ShapeElement$$1;
	Target.prototype = Object.create( ShapeElement$$1 && ShapeElement$$1.prototype );
	Target.prototype.constructor = Target;

	

	return Target;
}(ShapeElement));

deepExtend(Target.prototype, PointEventsMixin);

var Bullet = (function (ChartElement$$1) {
    function Bullet(value, options) {
        ChartElement$$1.call(this, options);

        this.aboveAxis = this.options.aboveAxis;
        this.color = options.color || WHITE;
        this.value = value;
    }

    if ( ChartElement$$1 ) Bullet.__proto__ = ChartElement$$1;
    Bullet.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Bullet.prototype.constructor = Bullet;

    Bullet.prototype.render = function render () {
        var options = this.options;

        if (!this._rendered) {
            this._rendered = true;

            if (defined(this.value.target)) {
                this.target = new Target({
                    type: options.target.shape,
                    background: options.target.color || this.color,
                    opacity: options.opacity,
                    zIndex: options.zIndex,
                    border: options.target.border,
                    vAlign: TOP,
                    align: RIGHT
                });

                this.target.value = this.value;
                this.target.dataItem = this.dataItem;
                this.target.series = this.series;

                this.append(this.target);
            }

            this.createNote();
        }
    };

    Bullet.prototype.reflow = function reflow (box) {
        this.render();

        var ref = this;
        var options = ref.options;
        var target = ref.target;
        var chart = ref.owner;
        var invertAxes = options.invertAxes;
        var valueAxis = chart.seriesValueAxis(this.options);
        var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);
        var targetValueSlot = valueAxis.getSlot(this.value.target);
        var targetSlotX = invertAxes ? targetValueSlot : categorySlot;
        var targetSlotY = invertAxes ? categorySlot : targetValueSlot;

        if (target) {
            var targetSlot = new Box(
                targetSlotX.x1, targetSlotY.y1,
                targetSlotX.x2, targetSlotY.y2
            );
            target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;
            target.options.width = invertAxes ? options.target.line.width : targetSlot.width();
            target.reflow(targetSlot);
        }

        if (this.note) {
            this.note.reflow(box);
        }

        this.box = box;
    };

    Bullet.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        var body = _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), {
            fill: {
                color: this.color,
                opacity: options.opacity
            },
            stroke: null
        });

        if (options.border.width > 0) {
            body.options.set("stroke", {
                color: options.border.color || this.color,
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: valueOrDefault(options.border.opacity, options.opacity)
            });
        }

        this.bodyVisual = body;

        alignPathToPixel(body);
        this.visual.append(body);
    };

    Bullet.prototype.createAnimation = function createAnimation () {
        if (this.bodyVisual) {
            this.animation = _progress_kendoDrawing.drawing.Animation.create(
                this.bodyVisual, this.options.animation
            );
        }
    };

    Bullet.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromRect(this.box.toRect(), style);
    };

    Bullet.prototype.highlightVisual = function highlightVisual () {
        return this.bodyVisual;
    };

    Bullet.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            rect: this.box.toRect(),
            visual: this.bodyVisual,
            options: this.options
        };
    };

    Bullet.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    return Bullet;
}(ChartElement));

Bullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;

setDefaultOptions(Bullet, {
    border: {
        width: 1
    },
    vertical: false,
    opacity: 1,
    target: {
        shape: "",
        border: {
            width: 0,
            color: "green"
        },
        line: {
            width: 2
        }
    },
    tooltip: {
        format: "Current: {0}<br />Target: {1}"
    }
});

deepExtend(Bullet.prototype, PointEventsMixin);
deepExtend(Bullet.prototype, NoteMixin);

var BulletChart = (function (CategoricalChart$$1) {
    function BulletChart(plotArea, options) {

        wrapData(options);

        CategoricalChart$$1.call(this, plotArea, options);
    }

    if ( CategoricalChart$$1 ) BulletChart.__proto__ = CategoricalChart$$1;
    BulletChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    BulletChart.prototype.constructor = BulletChart;

    BulletChart.prototype.reflowCategories = function reflowCategories (categorySlots) {
        var children = this.children;
        var childrenLength = children.length;

        for (var i = 0; i < childrenLength; i++) {
            children[i].reflow(categorySlots[i]);
        }
    };

    BulletChart.prototype.plotRange = function plotRange (point) {
        var series = point.series;
        var valueAxis = this.seriesValueAxis(series);
        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);

        return [ axisCrossingValue, point.value.current || axisCrossingValue ];
    };

    BulletChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var value = data.valueFields;

        var bulletOptions = deepExtend({
            vertical: !options.invertAxes,
            overlay: series.overlay,
            categoryIx: categoryIx,
            invertAxes: options.invertAxes
        }, series);

        var color = data.fields.color || series.color;
        bulletOptions = this.evalPointOptions(
            bulletOptions, value, category, categoryIx, series, seriesIx
        );

        if (isFunction(series.color)) {
            color = bulletOptions.color;
        }

        var bullet = new Bullet(value, bulletOptions);
        bullet.color = color;

        var cluster = children[categoryIx];
        if (!cluster) {
            cluster = new ClusterLayout({
                vertical: options.invertAxes,
                gap: options.gap,
                spacing: options.spacing,
                rtl: !options.invertAxes && (this.chartService || {}).rtl
            });
            this.append(cluster);
        }

        cluster.append(bullet);

        return bullet;
    };

    BulletChart.prototype.updateRange = function updateRange (value, fields) {
        var current = value.current;
        var target = value.target;
        var axisName = fields.series.axis;
        var axisRange = this.valueAxisRanges[axisName];

        if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {
            axisRange = this.valueAxisRanges[axisName] =
                axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, current, target);
            axisRange.max = Math.max(axisRange.max, current, target);
        }
    };

    BulletChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value.current, point.value.target);
    };

    BulletChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields.current;
    };

    BulletChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value.current;

        return value > 0;
    };

    BulletChart.prototype.createAnimation = function createAnimation () {
        var this$1 = this;

        var points = this.points;

        this._setAnimationOptions();

        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            point.options.animation = this$1.options.animation;
            point.createAnimation();
        }
    };

    return BulletChart;
}(CategoricalChart));

BulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;

setDefaultOptions(BulletChart, {
    animation: {
        type: BAR
    }
});

function wrapData(options) {
    var series = options.series;

    for (var i = 0; i < series.length; i++) {
        var seriesItem = series[i];
        var data = seriesItem.data;
        if (data && !isArray(data[0]) && !isObject(data[0])) {
            seriesItem.data = [ data ];
        }
    }
}

var BaseTooltip = (function (Class$$1) {
    function BaseTooltip(chartService, options) {
        Class$$1.call(this);

        this.chartService = chartService;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) BaseTooltip.__proto__ = Class$$1;
    BaseTooltip.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseTooltip.prototype.constructor = BaseTooltip;

    BaseTooltip.prototype.getStyle = function getStyle (options, point) {
        var background = options.background;
        var border = options.border.color;

        if (point) {
            var pointColor = point.color || point.options.color;
            background = valueOrDefault(background, pointColor);
            border = valueOrDefault(border, pointColor);
        }

        var padding = getSpacing(options.padding || {}, "auto");

        return {
            backgroundColor: background,
            borderColor: border,
            font: options.font,
            color: options.color,
            opacity: options.opacity,
            borderWidth: styleValue(options.border.width),
            paddingTop: styleValue(padding.top),
            paddingBottom: styleValue(padding.bottom),
            paddingLeft: styleValue(padding.left),
            paddingRight: styleValue(padding.right)
        };
    };

    BaseTooltip.prototype.show = function show (options, tooltipOptions, point) {
        options.format = tooltipOptions.format;

        var style = this.getStyle(tooltipOptions, point);
        options.style = style;

        if (!defined(tooltipOptions.color) && new _progress_kendoDrawing.Color(style.backgroundColor).percBrightness() > 180) {
            options.className = "k-chart-tooltip-inverse";
        }

        this.chartService.notify(SHOW_TOOLTIP, options);

        this.visible = true;
    };

    BaseTooltip.prototype.hide = function hide () {
        if (this.chartService) {
            this.chartService.notify(HIDE_TOOLTIP);
        }

        this.visible = false;
    };

    BaseTooltip.prototype.destroy = function destroy () {
        delete this.chartService;
    };

    return BaseTooltip;
}(_progress_kendoDrawing.Class));

setDefaultOptions(BaseTooltip, {
    border: {
        width: 1
    },
    opacity: 1
});

var CrosshairTooltip = (function (BaseTooltip$$1) {
    function CrosshairTooltip(chartService, crosshair, options) {
        BaseTooltip$$1.call(this, chartService, options);

        this.crosshair = crosshair;
        this.formatService = chartService.format;
        this.initAxisName();
    }

    if ( BaseTooltip$$1 ) CrosshairTooltip.__proto__ = BaseTooltip$$1;
    CrosshairTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    CrosshairTooltip.prototype.constructor = CrosshairTooltip;

    CrosshairTooltip.prototype.initAxisName = function initAxisName () {
        var axis = this.crosshair.axis;
        var plotArea = axis.plotArea;
        var name;
        if (plotArea.categoryAxis) {
            name = axis.getCategory ? "categoryAxis" : "valueAxis";
        } else {
            name = axis.options.vertical ? "yAxis" : "xAxis";
        }
        this.axisName = name;
    };

    CrosshairTooltip.prototype.showAt = function showAt (point) {
        var ref = this;
        var axis = ref.crosshair.axis;
        var options = ref.options;
        var value = axis[options.stickyMode ? "getCategory" : "getValue"](point);
        var formattedValue = value;

        if (options.format) {
            formattedValue = this.formatService.auto(options.format, value);
        } else if (axis.options.type === DATE) {
            formattedValue = this.formatService.auto(axis.options.labels.dateFormats[axis.options.baseUnit], value);
        }

        this.show({
            point: point,
            anchor: this.getAnchor(),
            crosshair: this.crosshair,
            value: formattedValue,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        }, this.options);
    };

    CrosshairTooltip.prototype.hide = function hide () {
        this.chartService.notify(HIDE_TOOLTIP, {
            crosshair: this.crosshair,
            axisName: this.axisName,
            axisIndex: this.crosshair.axis.axisIndex
        });
    };

    CrosshairTooltip.prototype.getAnchor = function getAnchor () {
        var ref = this;
        var crosshair = ref.crosshair;
        var ref_options = ref.options;
        var position = ref_options.position;
        var padding = ref_options.padding;
        var vertical = !crosshair.axis.options.vertical;
        var lineBox = crosshair.line.bbox();
        var horizontalAlign, verticalAlign, point;

        if (vertical) {
            horizontalAlign = CENTER;
            if (position === BOTTOM) {
                verticalAlign = TOP;
                point = lineBox.bottomLeft().translate(0, padding);
            } else {
                verticalAlign = BOTTOM;
                point = lineBox.topLeft().translate(0, -padding);
            }
        } else {
            verticalAlign = CENTER;
            if (position === LEFT) {
                horizontalAlign = RIGHT;
                point = lineBox.topLeft().translate(-padding, 0);
            } else {
                horizontalAlign = LEFT;
                point = lineBox.topRight().translate(padding, 0);
            }
        }

        return {
            point: point,
            align: {
                horizontal: horizontalAlign,
                vertical: verticalAlign
            }
        };
    };

    return CrosshairTooltip;
}(BaseTooltip));

setDefaultOptions(CrosshairTooltip, {
    padding: 10
});

var Crosshair = (function (ChartElement$$1) {
    function Crosshair(chartService, axis, options) {
        ChartElement$$1.call(this, options);

        this.axis = axis;
        this.stickyMode = axis instanceof CategoryAxis;

        var tooltipOptions = this.options.tooltip;

        if (tooltipOptions.visible) {
            this.tooltip = new CrosshairTooltip(chartService, this,
                deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode })
            );
        }
    }

    if ( ChartElement$$1 ) Crosshair.__proto__ = ChartElement$$1;
    Crosshair.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Crosshair.prototype.constructor = Crosshair;

    Crosshair.prototype.showAt = function showAt (point) {
        this.point = point;
        this.moveLine();
        this.line.visible(true);

        if (this.tooltip) {
            this.tooltip.showAt(point);
        }
    };

    Crosshair.prototype.hide = function hide () {
        this.line.visible(false);

        if (this.tooltip) {
            this.tooltip.hide();
        }
    };

    Crosshair.prototype.moveLine = function moveLine () {
        var ref = this;
        var axis = ref.axis;
        var point = ref.point;
        var vertical = axis.options.vertical;
        var box = this.getBox();
        var dim = vertical ? Y : X;
        var lineStart = new _progress_kendoDrawing.geometry.Point(box.x1, box.y1);
        var lineEnd;

        if (vertical) {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x2, box.y1);
        } else {
            lineEnd = new _progress_kendoDrawing.geometry.Point(box.x1, box.y2);
        }

        if (point) {
            if (this.stickyMode) {
                var slot = axis.getSlot(axis.pointCategoryIndex(point));
                lineStart[dim] = lineEnd[dim] = slot.center()[dim];
            } else {
                lineStart[dim] = lineEnd[dim] = point[dim];
            }
        }

        this.box = box;

        this.line.moveTo(lineStart).lineTo(lineEnd);
    };

    Crosshair.prototype.getBox = function getBox () {
        var axis = this.axis;
        var axes = axis.pane.axes;
        var length = axes.length;
        var vertical = axis.options.vertical;
        var box = axis.lineBox().clone();
        var dim = vertical ? X : Y;
        var axisLineBox;

        for (var i = 0; i < length; i++) {
            var currentAxis = axes[i];
            if (currentAxis.options.vertical !== vertical) {
                if (!axisLineBox) {
                    axisLineBox = currentAxis.lineBox().clone();
                } else {
                    axisLineBox.wrap(currentAxis.lineBox());
                }
            }
        }

        box[dim + 1] = axisLineBox[dim + 1];
        box[dim + 2] = axisLineBox[dim + 2];

        return box;
    };

    Crosshair.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options;
        this.line = new _progress_kendoDrawing.drawing.Path({
            stroke: {
                color: options.color,
                width: options.width,
                opacity: options.opacity,
                dashType: options.dashType
            },
            visible: false
        });

        this.moveLine();
        this.visual.append(this.line);
    };

    Crosshair.prototype.destroy = function destroy () {
        if (this.tooltip) {
            this.tooltip.destroy();
        }

        ChartElement$$1.prototype.destroy.call(this);
    };

    return Crosshair;
}(ChartElement));

setDefaultOptions(Crosshair, {
    color: BLACK,
    width: 2,
    zIndex: -1,
    tooltip: {
        visible: false
    }
});

var ChartContainer = (function (ChartElement$$1) {
    function ChartContainer(options, pane) {
        ChartElement$$1.call(this, options);
        this.pane = pane;
    }

    if ( ChartElement$$1 ) ChartContainer.__proto__ = ChartElement$$1;
    ChartContainer.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    ChartContainer.prototype.constructor = ChartContainer;

    ChartContainer.prototype.shouldClip = function shouldClip () {
        var children = this.children;
        var length = children.length;

        for (var i = 0; i < length; i++) {
            if (children[i].options.clip === true) {
                return true;
            }
        }
        return false;
    };

    ChartContainer.prototype._clipBox = function _clipBox () {
        return this.pane.chartsBox();
    };

    ChartContainer.prototype.createVisual = function createVisual () {
        this.visual = new _progress_kendoDrawing.drawing.Group({
            zIndex: 0
        });

        if (this.shouldClip()) {
            var clipBox = this.clipBox = this._clipBox();
            var clipRect = clipBox.toRect();
            var clipPath = _progress_kendoDrawing.drawing.Path.fromRect(clipRect);
            alignPathToPixel(clipPath);

            this.visual.clip(clipPath);
            this.unclipLabels();
        }
    };

    ChartContainer.prototype.stackRoot = function stackRoot () {
        return this;
    };

    ChartContainer.prototype.unclipLabels = function unclipLabels () {
        var ref = this;
        var charts = ref.children;
        var clipBox = ref.clipBox;

        for (var i = 0; i < charts.length; i++) {
            var points = charts[i].points || {};
            var length = points.length;

            for (var j = 0; j < length; j++) {
                var point = points[j];
                if (point && point.visible !== false && point.overlapsBox && point.overlapsBox(clipBox)) {
                    if (point.unclipElements) {
                        point.unclipElements();
                    } else {
                        var label = point.label;
                        var note = point.note;

                        if (label && label.options.visible) {
                            if (label.alignToClipBox) {
                                label.alignToClipBox(clipBox);
                            }
                            label.options.noclip = true;
                        }

                        if (note && note.options.visible) {
                            note.options.noclip = true;
                        }
                    }
                }
            }
        }
    };

    ChartContainer.prototype.destroy = function destroy () {
        ChartElement$$1.prototype.destroy.call(this);

        delete this.parent;
    };

    return ChartContainer;
}(ChartElement));

ChartContainer.prototype.isStackRoot = true;

var Pane = (function (BoxElement$$1) {
    function Pane(options) {
        BoxElement$$1.call(this, options);

        this.id = paneID();

        this.createTitle();

        this.content = new ChartElement();

        this.chartContainer = new ChartContainer({}, this);
        this.append(this.content);

        this.axes = [];
        this.charts = [];
    }

    if ( BoxElement$$1 ) Pane.__proto__ = BoxElement$$1;
    Pane.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    Pane.prototype.constructor = Pane;

    Pane.prototype.createTitle = function createTitle () {
        var titleOptions = this.options.title;
        if (isObject(titleOptions)) {
            titleOptions = deepExtend({}, titleOptions, {
                align: titleOptions.position,
                position: TOP
            });
        }

        this.title = Title.buildTitle(titleOptions, this, Pane.prototype.options.title);
    };

    Pane.prototype.appendAxis = function appendAxis (axis) {
        this.content.append(axis);
        this.axes.push(axis);
        axis.pane = this;
    };

    Pane.prototype.appendAxisAt = function appendAxisAt (axis, pos) {
        this.content.append(axis);
        this.axes.splice(pos, 0, axis);
        axis.pane = this;
    };

    Pane.prototype.appendChart = function appendChart (chart) {
        if (this.chartContainer.parent !== this.content) {
            this.content.append(this.chartContainer);
        }

        this.charts.push(chart);
        this.chartContainer.append(chart);
        chart.pane = this;
    };

    Pane.prototype.empty = function empty () {
        var this$1 = this;

        var plotArea = this.parent;

        if (plotArea) {
            for (var i = 0; i < this.axes.length; i++) {
                plotArea.removeAxis(this$1.axes[i]);
            }

            for (var i$1 = 0; i$1 < this.charts.length; i$1++) {
                plotArea.removeChart(this$1.charts[i$1]);
            }
        }

        this.axes = [];
        this.charts = [];

        this.content.destroy();
        this.content.children = [];
        this.chartContainer.children = [];
    };

    Pane.prototype.reflow = function reflow (targetBox) {
        // Content (such as charts) is rendered, but excluded from reflows
        var content;
        if (last(this.children) === this.content) {
            content = this.children.pop();
        }

        BoxElement$$1.prototype.reflow.call(this, targetBox);

        if (content) {
            this.children.push(content);
        }

        if (this.title) {
            this.contentBox.y1 += this.title.box.height();
        }
    };

    Pane.prototype.visualStyle = function visualStyle () {
        var style = BoxElement$$1.prototype.visualStyle.call(this);
        style.zIndex = -10;

        return style;
    };

    Pane.prototype.renderComplete = function renderComplete () {
        if (this.options.visible) {
            this.createGridLines();
        }
    };

    Pane.prototype.stackRoot = function stackRoot () {
        return this;
    };

    Pane.prototype.clipRoot = function clipRoot () {
        return this;
    };

    Pane.prototype.createGridLines = function createGridLines () {
        var axes = this.axes;
        var allAxes = axes.concat(this.parent.axes);
        var vGridLines = [];
        var hGridLines = [];

        // TODO
        // Is full combination really necessary?
        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var vertical = axis.options.vertical;
            var gridLines = vertical ? vGridLines : hGridLines;
            for (var j = 0; j < allAxes.length; j++) {
                if (gridLines.length === 0) {
                    var altAxis = allAxes[j];
                    if (vertical !== altAxis.options.vertical) {
                        append$1(gridLines, axis.createGridLines(altAxis));
                    }
                }
            }
        }
    };

    Pane.prototype.refresh = function refresh () {
        this.visual.clear();

        this.content.parent = null;
        this.content.createGradient = this.createGradient.bind(this);
        this.content.renderVisual();
        this.content.parent = this;

        if (this.title) {
            this.visual.append(this.title.visual);
        }

        this.visual.append(this.content.visual);

        this.renderComplete();
        this.notifyRender();
    };

    Pane.prototype.chartsBox = function chartsBox () {
        var axes = this.axes;
        var length = axes.length;
        var chartsBox = new Box();

        for (var idx = 0; idx < length; idx++) {
            var axis = axes[idx];
            var axisValueField = axis.options.vertical ? Y : X;
            var lineBox = axis.lineBox();
            chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];
            chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];
        }

        if (chartsBox.x2 === 0) {
            var allAxes = this.parent.axes;
            var length$1 = allAxes.length;

            for (var idx$1 = 0; idx$1 < length$1; idx$1++) {
                var axis$1 = allAxes[idx$1];
                if (!axis$1.options.vertical) {
                    var lineBox$1 = axis$1.lineBox();
                    chartsBox.x1 = lineBox$1.x1;
                    chartsBox.x2 = lineBox$1.x2;
                }
            }
        }
        return chartsBox;
    };

    Pane.prototype.clipBox = function clipBox () {
        return this.chartContainer.clipBox;
    };

    Pane.prototype.notifyRender = function notifyRender () {
        var service = this.getService();
        if (service) {
            service.notify(PANE_RENDER, {
                pane: new ChartPane(this),
                index: this.paneIndex,
                name: this.options.name
            });
        }
    };

    return Pane;
}(BoxElement));

var ID = 1;

function paneID() {
    return "pane" + ID++;
}

Pane.prototype.isStackRoot = true;

setDefaultOptions(Pane, {
    zIndex: -1,
    shrinkToFit: true,
    title: {
        align: LEFT
    },
    visible: true
});

function appendIfNotNull(array, element) {
    if (element !== null) {
        array.push(element);
    }
}

function segmentVisible(series, fields, index) {
    var visible = fields.visible;
    if (defined(visible)) {
        return visible;
    }

    var pointVisibility = series.pointVisibility;
    if (pointVisibility) {
        return pointVisibility[index];
    }
}

function bindSegments(series) {
    var data = series.data;
    var points = [];
    var sum = 0;
    var count = 0;

    for (var idx = 0; idx < data.length; idx++) {
        var pointData = SeriesBinder.current.bindPoint(series, idx);
        var value = pointData.valueFields.value;


        if (isString(value)) {
            value = parseFloat(value);
        }

        if (isNumber(value)) {
            pointData.visible = segmentVisible(series, pointData.fields, idx) !== false;

            pointData.value = Math.abs(value);
            points.push(pointData);

            if (pointData.visible) {
                sum += pointData.value;
            }

            if (value !== 0) {
                count++;
            }
        } else {
            points.push(null);
        }
    }

    return {
        total: sum,
        points: points,
        count: count
    };
}

function equalsIgnoreCase(a, b) {
    if (a && b) {
        return a.toLowerCase() === b.toLowerCase();
    }

    return a === b;
}

function filterSeriesByType(series, types) {
    var result = [];

    var seriesTypes = [].concat(types);
    for (var idx = 0; idx < series.length; idx++) {
        var currentSeries = series[idx];
        if (inArray(currentSeries.type, seriesTypes)) {
            result.push(currentSeries);
        }
    }

    return result;
}

function getDateField(field, row, intlService) {
    if (row === null) {
        return row;
    }

    var key = "_date_" + field;
    var value = row[key];

    if (!value) {
        value = parseDate(intlService, getter(field, true)(row));
        row[key] = value;
    }

    return value;
}

function isDateAxis(axisOptions, sampleCategory) {
    var type = axisOptions.type;
    var dateCategory = sampleCategory instanceof Date;

    return (!type && dateCategory) || equalsIgnoreCase(type, DATE);
}

function singleItemOrArray(array) {
    return array.length === 1 ? array[0] : array;
}

var AREA_REGEX = /area/i;

function seriesMissingValues$1(series) {
    if (series.missingValues) {
        return series.missingValues;
    }

    return AREA_REGEX.test(series.type) || series.stack ? ZERO : INTERPOLATE;
}

function hasValue$1(series, item) {
    var fields = SeriesBinder.current.bindPoint(series, null, item);
    var valueFields = fields.valueFields;

    for (var field in valueFields) {
        if (convertableToNumber(valueFields[field])) {
            return true;
        }
    }
}

function findNext(ref) {
    var start = ref.start;
    var dir = ref.dir;
    var min = ref.min;
    var max = ref.max;
    var getter$$1 = ref.getter;
    var hasItem = ref.hasItem;
    var series = ref.series;

    var pointHasValue, outPoint;
    var idx = start;
    do {
        idx += dir;
        //aggregating and binding the item takes too much time for large number of categories
        //will assume that if the aggregation does not create value for a missing item for one it will not create for others
        if (hasItem(idx)) {
            outPoint = getter$$1(idx);
            pointHasValue = hasValue$1(series, outPoint.item);
        }
    } while (min <= idx && idx <= max && !pointHasValue);

    if (pointHasValue) {
        return outPoint;
    }
}

function createOutOfRangePoints(series, range, count, getter$$1, hasItem) {
    var min = range.min;
    var max = range.max;
    var hasMinPoint = min > 0 && min < count;
    var hasMaxPoint = max + 1 < count;

    if (hasMinPoint || hasMaxPoint) {
        var missingValues = seriesMissingValues$1(series);
        var minPoint, maxPoint;
        if (missingValues !== INTERPOLATE) {
            if (hasMinPoint) {
                minPoint = getter$$1(min - 1);
            }

            if (hasMaxPoint) {
                maxPoint = getter$$1(max + 1);
            }
        } else {
            var outPoint, pointHasValue;
            if (hasMinPoint) {
                outPoint = getter$$1(min - 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    minPoint = findNext({
                        start: min,
                        dir: -1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    minPoint = outPoint;
                }
            }

            if (hasMaxPoint) {
                outPoint = getter$$1(max + 1);
                pointHasValue = hasValue$1(series, outPoint.item);
                if (!pointHasValue) {
                    maxPoint = findNext({
                        start: max,
                        dir: 1,
                        min: 0,
                        max: count - 1,
                        getter: getter$$1,
                        hasItem: hasItem,
                        series: series
                    });
                } else {
                    maxPoint = outPoint;
                }
            }
        }

        if (minPoint) {
            series._outOfRangeMinPoint = minPoint;
        }

        if (maxPoint) {
            series._outOfRangeMaxPoint = maxPoint;
        }
    }
}

var PlotAreaBase = (function (ChartElement$$1) {
    function PlotAreaBase(series, options, chartService) {
        ChartElement$$1.call(this, options);

        this.initFields(series, options);
        this.series = series;
        this.initSeries();
        this.charts = [];
        this.options.legend = this.options.legend || {};
        this.options.legend.items = [];
        this.axes = [];
        this.crosshairs = [];
        this.chartService = chartService;
        this.originalOptions = options;

        this.createPanes();
        this.render();
        this.createCrosshairs();
    }

    if ( ChartElement$$1 ) PlotAreaBase.__proto__ = ChartElement$$1;
    PlotAreaBase.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PlotAreaBase.prototype.constructor = PlotAreaBase;

    PlotAreaBase.prototype.initFields = function initFields () { };

    PlotAreaBase.prototype.initSeries = function initSeries () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            series[i].index = i;
        }
    };

    PlotAreaBase.prototype.createPanes = function createPanes () {
        var this$1 = this;

        var defaults = { title: { color: (this.options.title || {}).color } };
        var panes = [];
        var paneOptions = this.options.panes || [];
        var panesLength = Math.max(paneOptions.length, 1);

        function setTitle(options, defaults) {
            if (isString(options.title)) {
                options.title = {
                    text: options.title
                };
            }

            options.title = deepExtend({}, defaults.title, options.title);
        }

        for (var i = 0; i < panesLength; i++) {
            var options = paneOptions[i] || {};
            setTitle(options, defaults);

            var currentPane = new Pane(options);
            currentPane.paneIndex = i;

            panes.push(currentPane);
            this$1.append(currentPane);
        }

        this.panes = panes;
    };

    PlotAreaBase.prototype.createCrosshairs = function createCrosshairs (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            for (var j = 0; j < pane.axes.length; j++) {
                var axis = pane.axes[j];
                if (axis.options.crosshair && axis.options.crosshair.visible) {
                    var currentCrosshair = new Crosshair(this$1.chartService, axis, axis.options.crosshair);

                    this$1.crosshairs.push(currentCrosshair);
                    pane.content.append(currentCrosshair);
                }
            }
        }
    };

    PlotAreaBase.prototype.removeCrosshairs = function removeCrosshairs (pane) {
        var crosshairs = this.crosshairs;
        var axes = pane.axes;

        for (var i = crosshairs.length - 1; i >= 0; i--) {
            for (var j = 0; j < axes.length; j++) {
                if (crosshairs[i].axis === axes[j]) {
                    crosshairs.splice(i, 1);
                    break;
                }
            }
        }
    };

    PlotAreaBase.prototype.hideCrosshairs = function hideCrosshairs () {
        var crosshairs = this.crosshairs;
        for (var idx = 0; idx < crosshairs.length; idx++) {
            crosshairs[idx].hide();
        }
    };

    PlotAreaBase.prototype.findPane = function findPane (name) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].options.name === name) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane || panes[0];
    };

    PlotAreaBase.prototype.findPointPane = function findPointPane (point) {
        var panes = this.panes;
        var matchingPane;

        for (var i = 0; i < panes.length; i++) {
            if (panes[i].box.containsPoint(point)) {
                matchingPane = panes[i];
                break;
            }
        }

        return matchingPane;
    };

    PlotAreaBase.prototype.appendAxis = function appendAxis (axis) {
        var pane = this.findPane(axis.options.pane);

        pane.appendAxis(axis);
        this.axes.push(axis);
        axis.plotArea = this;
    };

    PlotAreaBase.prototype.removeAxis = function removeAxis (axisToRemove) {
        var this$1 = this;

        var filteredAxes = [];

        for (var i = 0; i < this.axes.length; i++) {
            var axis = this$1.axes[i];
            if (axisToRemove !== axis) {
                filteredAxes.push(axis);
            } else {
                axis.destroy();
            }
        }

        this.axes = filteredAxes;
    };

    PlotAreaBase.prototype.appendChart = function appendChart (chart, pane) {
        this.charts.push(chart);
        if (pane) {
            pane.appendChart(chart);
        } else {
            this.append(chart);
        }
    };

    PlotAreaBase.prototype.removeChart = function removeChart (chartToRemove) {
        var this$1 = this;

        var filteredCharts = [];

        for (var i = 0; i < this.charts.length; i++) {
            var chart = this$1.charts[i];
            if (chart !== chartToRemove) {
                filteredCharts.push(chart);
            } else {
                chart.destroy();
            }
        }

        this.charts = filteredCharts;
    };

    PlotAreaBase.prototype.addToLegend = function addToLegend (series) {
        var count = series.length;
        var legend = this.options.legend;
        var labels = legend.labels || {};
        var inactiveItems = legend.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};
        var data = [];

        for (var i = 0; i < count; i++) {
            var currentSeries = series[i];
            var seriesVisible = currentSeries.visible !== false;
            if (currentSeries.visibleInLegend === false) {
                continue;
            }

            var text = currentSeries.name;
            var labelTemplate = seriesVisible ? getTemplate(labels) : getTemplate(inactiveItemsLabels) || getTemplate(labels);
            if (labelTemplate) {
                text = labelTemplate({
                    text: hasValue(text) ? text : "",
                    series: currentSeries
                });
            }

            var defaults = currentSeries._defaults;
            var color = currentSeries.color;
            if (isFunction(color) && defaults) {
                color = defaults.color;
            }

            var itemLabelOptions = (void 0), markerColor = (void 0);
            if (seriesVisible) {
                itemLabelOptions = {};
                markerColor = color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = inactiveItems.markers.color;
            }

            if (hasValue(text) && text !== "") {
                data.push({
                    text: text,
                    labels: itemLabelOptions,
                    markerColor: markerColor,
                    series: currentSeries,
                    active: seriesVisible
                });
            }
        }

        append$1(legend.items, data);
    };

    PlotAreaBase.prototype.groupAxes = function groupAxes (panes) {
        var xAxes = [];
        var yAxes = [];

        for (var paneIx = 0; paneIx < panes.length; paneIx++) {
            var paneAxes = panes[paneIx].axes;
            for (var axisIx = 0; axisIx < paneAxes.length; axisIx++) {
                var axis = paneAxes[axisIx];
                if (axis.options.vertical) {
                    yAxes.push(axis);
                } else {
                    xAxes.push(axis);
                }
            }
        }

        return { x: xAxes, y: yAxes, any: xAxes.concat(yAxes) };
    };

    PlotAreaBase.prototype.groupSeriesByPane = function groupSeriesByPane () {
        var this$1 = this;

        var series = this.series;
        var seriesByPane = {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var pane = this$1.seriesPaneName(currentSeries);

            if (seriesByPane[pane]) {
                seriesByPane[pane].push(currentSeries);
            } else {
                seriesByPane[pane] = [ currentSeries ];
            }
        }

        return seriesByPane;
    };

    PlotAreaBase.prototype.filterVisibleSeries = function filterVisibleSeries (series) {
        var result = [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (currentSeries.visible !== false) {
                result.push(currentSeries);
            }
        }

        return result;
    };

    PlotAreaBase.prototype.reflow = function reflow (targetBox) {
        var options = this.options.plotArea;
        var panes = this.panes;
        var margin = getSpacing(options.margin);

        this.box = targetBox.clone().unpad(margin);
        this.reflowPanes();

        this.detachLabels();
        this.reflowAxes(panes);
        this.reflowCharts(panes);
    };

    PlotAreaBase.prototype.redraw = function redraw (panes) {
        var this$1 = this;

        var panesArray = [].concat(panes);
        this.initSeries();

        //prevents leak during partial redraws. the cached gradients observers retain reference to the destroyed elements.
        var root = this.getRoot();
        if (root) {
            root.cleanGradients();
        }

        for (var i = 0; i < panesArray.length; i++) {
            this$1.removeCrosshairs(panesArray[i]);
            panesArray[i].empty();
        }

        this.render(panesArray);
        this.detachLabels();
        this.reflowAxes(this.panes);
        this.reflowCharts(panesArray);

        this.createCrosshairs(panesArray);

        for (var i$1 = 0; i$1 < panesArray.length; i$1++) {
            panesArray[i$1].refresh();
        }
    };

    PlotAreaBase.prototype.axisCrossingValues = function axisCrossingValues (axis, crossingAxes) {
        var options = axis.options;
        var crossingValues = [].concat(
            options.axisCrossingValues || options.axisCrossingValue
        );
        var valuesToAdd = crossingAxes.length - crossingValues.length;
        var defaultValue = crossingValues[0] || 0;

        for (var i = 0; i < valuesToAdd; i++) {
            crossingValues.push(defaultValue);
        }

        return crossingValues;
    };

    PlotAreaBase.prototype.alignAxisTo = function alignAxisTo (axis, targetAxis, crossingValue, targetCrossingValue) {
        var slot = axis.getSlot(crossingValue, crossingValue, true);
        var slotEdge = axis.options.reverse ? 2 : 1;
        var targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true);
        var targetEdge = targetAxis.options.reverse ? 2 : 1;
        var axisBox = axis.box.translate(
            targetSlot[X + targetEdge] - slot[X + slotEdge],
            targetSlot[Y + targetEdge] - slot[Y + slotEdge]
        );

        if (axis.pane !== targetAxis.pane) {
            axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);
        }

        axis.reflow(axisBox);
    };

    PlotAreaBase.prototype.alignAxes = function alignAxes (xAxes, yAxes) {
        var this$1 = this;

        var xAnchor = xAxes[0];
        var yAnchor = yAxes[0];
        var xAnchorCrossings = this.axisCrossingValues(xAnchor, yAxes);
        var yAnchorCrossings = this.axisCrossingValues(yAnchor, xAxes);
        var leftAnchors = {};
        var rightAnchors = {};
        var topAnchors = {};
        var bottomAnchors = {};

        for (var i = 0; i < yAxes.length; i++) {
            var axis = yAxes[i];
            var pane = axis.pane;
            var paneId = pane.id;
            var visible = axis.options.visible !== false;

            // Locate pane anchor, if any, and use its axisCrossingValues
            var anchor = paneAnchor(xAxes, pane) || xAnchor;
            var anchorCrossings = xAnchorCrossings;

            if (anchor !== xAnchor) {
                anchorCrossings = this$1.axisCrossingValues(anchor, yAxes);
            }

            this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

            if (axis.options._overlap) {
                continue;
            }

            if (round(axis.lineBox().x1) === round(anchor.lineBox().x1)) {
                // Push the axis to the left the previous y-axis so they don't overlap
                if (leftAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(leftAnchors[paneId].box, LEFT)
                        .translate(-axis.options.margin, 0)
                    );
                }

                if (visible) {
                    leftAnchors[paneId] = axis;
                }
            }

            if (round(axis.lineBox().x2) === round(anchor.lineBox().x2)) {
                // Flip the labels on the right if we're at the right end of the pane
                if (!axis._mirrored) {
                    axis.options.labels.mirror = !axis.options.labels.mirror;
                    axis._mirrored = true;
                }

                this$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);

                // Push the axis to the right the previous y-axis so they don't overlap
                if (rightAnchors[paneId]) {
                    axis.reflow(axis.box
                        .alignTo(rightAnchors[paneId].box, RIGHT)
                        .translate(axis.options.margin, 0)
                    );
                }

                if (visible) {
                    rightAnchors[paneId] = axis;
                }
            }

            if (i !== 0 && yAnchor.pane === axis.pane) {
                axis.alignTo(yAnchor);
                axis.reflow(axis.box);
            }
        }

        for (var i$1 = 0; i$1 < xAxes.length; i$1++) {
            var axis$1 = xAxes[i$1];
            var pane$1 = axis$1.pane;
            var paneId$1 = pane$1.id;
            var visible$1 = axis$1.options.visible !== false;

            // Locate pane anchor and use its axisCrossingValues
            var anchor$1 = paneAnchor(yAxes, pane$1) || yAnchor;
            var anchorCrossings$1 = yAnchorCrossings;
            if (anchor$1 !== yAnchor) {
                anchorCrossings$1 = this$1.axisCrossingValues(anchor$1, xAxes);
            }

            this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

            if (axis$1.options._overlap) {
                continue;
            }

            if (round(axis$1.lineBox().y1) === round(anchor$1.lineBox().y1)) {
                // Flip the labels on top if we're at the top of the pane
                if (!axis$1._mirrored) {
                    axis$1.options.labels.mirror = !axis$1.options.labels.mirror;
                    axis$1._mirrored = true;
                }
                this$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);

                // Push the axis above the previous x-axis so they don't overlap
                if (topAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(topAnchors[paneId$1].box, TOP)
                        .translate(0, -axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    topAnchors[paneId$1] = axis$1;
                }
            }

            if (round(axis$1.lineBox().y2, COORD_PRECISION) === round(anchor$1.lineBox().y2, COORD_PRECISION)) {
                // Push the axis below the previous x-axis so they don't overlap
                if (bottomAnchors[paneId$1]) {
                    axis$1.reflow(axis$1.box
                        .alignTo(bottomAnchors[paneId$1].box, BOTTOM)
                        .translate(0, axis$1.options.margin)
                    );
                }

                if (visible$1) {
                    bottomAnchors[paneId$1] = axis$1;
                }
            }

            if (i$1 !== 0) {
                axis$1.alignTo(xAnchor);
                axis$1.reflow(axis$1.box);
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisWidth = function shrinkAxisWidth (panes) {
        var axes = this.groupAxes(panes).any;
        var axisBox = axisGroupBox(axes);
        var overflowX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];

            if (currentPane.axes.length > 0) {
                overflowX = Math.max(
                    overflowX,
                    axisBox.width() - currentPane.contentBox.width()
                );
            }
        }

        if (overflowX !== 0) {
            for (var i$1 = 0; i$1 < axes.length; i$1++) {
                var currentAxis = axes[i$1];

                if (!currentAxis.options.vertical) {
                    currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));
                }
            }
        }
    };

    PlotAreaBase.prototype.shrinkAxisHeight = function shrinkAxisHeight (panes) {
        var shrinked;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var axes = currentPane.axes;
            var overflowY = Math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());

            if (overflowY !== 0) {
                for (var j = 0; j < axes.length; j++) {
                    var currentAxis = axes[j];

                    if (currentAxis.options.vertical) {
                        currentAxis.reflow(
                            currentAxis.box.shrink(0, overflowY)
                        );
                    }
                }
                shrinked = true;
            }
        }

        return shrinked;
    };

    PlotAreaBase.prototype.fitAxes = function fitAxes (panes) {
        var axes = this.groupAxes(panes).any;
        var offsetX = 0;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            var paneAxes = currentPane.axes;
            var paneBox = currentPane.contentBox;

            if (paneAxes.length > 0) {
                var axisBox = axisGroupBox(paneAxes);
                // OffsetY is calculated and applied per pane
                var offsetY = Math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);

                // OffsetX is calculated and applied globally
                offsetX = Math.max(offsetX, paneBox.x1 - axisBox.x1);


                for (var j = 0; j < paneAxes.length; j++) {
                    var currentAxis = paneAxes[j];

                    currentAxis.reflow(
                        currentAxis.box.translate(0, offsetY)
                    );
                }
            }
        }

        for (var i$1 = 0; i$1 < axes.length; i$1++) {
            var currentAxis$1 = axes[i$1];

            currentAxis$1.reflow(
                currentAxis$1.box.translate(offsetX, 0)
            );
        }
    };

    PlotAreaBase.prototype.reflowAxes = function reflowAxes (panes) {
        var this$1 = this;

        var axes = this.groupAxes(panes);

        for (var i = 0; i < panes.length; i++) {
            this$1.reflowPaneAxes(panes[i]);
        }

        if (axes.x.length > 0 && axes.y.length > 0) {
            this.alignAxes(axes.x, axes.y);
            this.shrinkAxisWidth(panes);

            this.autoRotateAxisLabels(axes);

            this.alignAxes(axes.x, axes.y);
            if (this.shrinkAxisWidth(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.shrinkAxisHeight(panes);
            this.alignAxes(axes.x, axes.y);

            if (this.shrinkAxisHeight(panes)) {
                this.alignAxes(axes.x, axes.y);
            }

            this.fitAxes(panes);
        }
    };

    PlotAreaBase.prototype.autoRotateAxisLabels = function autoRotateAxisLabels (groupedAxes) {
        var this$1 = this;

        var ref = this;
        var panes = ref.panes;
        var axes = allPaneAxes(panes);
        var rotated;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            if (axis.autoRotateLabels()) {
                rotated = true;
            }
        }

        if (rotated) {
            for (var idx$1 = 0; idx$1 < panes.length; idx$1++) {
                this$1.reflowPaneAxes(panes[idx$1]);
            }

            if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {
                this.alignAxes(groupedAxes.x, groupedAxes.y);
                this.shrinkAxisWidth(panes);
            }
        }
    };

    PlotAreaBase.prototype.reflowPaneAxes = function reflowPaneAxes (pane) {
        var axes = pane.axes;
        var length = axes.length;

        if (length > 0) {
            for (var i = 0; i < length; i++) {
                axes[i].reflow(pane.contentBox);
            }
        }
    };

    PlotAreaBase.prototype.reflowCharts = function reflowCharts (panes) {
        var charts = this.charts;
        var count = charts.length;
        var box = this.box;

        for (var i = 0; i < count; i++) {
            var chartPane = charts[i].pane;
            if (!chartPane || inArray(chartPane, panes)) {
                charts[i].reflow(box);
            }
        }
    };

    PlotAreaBase.prototype.reflowPanes = function reflowPanes () {
        var ref = this;
        var box = ref.box;
        var panes = ref.panes;
        var panesLength = panes.length;
        var remainingHeight = box.height();
        var remainingPanes = panesLength;
        var autoHeightPanes = 0;
        var top = box.y1;

        for (var i = 0; i < panesLength; i++) {
            var currentPane = panes[i];
            var height = currentPane.options.height;

            currentPane.options.width = box.width();

            if (!currentPane.options.height) {
                autoHeightPanes++;
            } else {
                if (height.indexOf && height.indexOf("%")) {
                    var percents = parseInt(height, 10) / 100;
                    currentPane.options.height = percents * box.height();
                }

                currentPane.reflow(box.clone());

                remainingHeight -= currentPane.options.height;
            }
        }

        for (var i$1 = 0; i$1 < panesLength; i$1++) {
            var currentPane$1 = panes[i$1];

            if (!currentPane$1.options.height) {
                currentPane$1.options.height = remainingHeight / autoHeightPanes;
            }
        }

        for (var i$2 = 0; i$2 < panesLength; i$2++) {
            var currentPane$2 = panes[i$2];
            var paneBox = box
                .clone()
                .move(box.x1, top);

            currentPane$2.reflow(paneBox);

            remainingPanes--;
            top += currentPane$2.options.height;
        }
    };

    PlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        var axes = this.axes;
        var axesCount = axes.length;
        var box;

        for (var i = 0; i < axesCount; i++) {
            var axisA = axes[i];

            for (var j = 0; j < axesCount; j++) {
                var axisB = axes[j];

                if (axisA.options.vertical !== axisB.options.vertical) {
                    var lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());

                    if (!box) {
                        box = lineBox;
                    } else {
                        box = box.wrap(lineBox);
                    }
                }
            }
        }

        return box || this.box;
    };

    PlotAreaBase.prototype.chartsBoxes = function chartsBoxes () {
        var panes = this.panes;
        var boxes = [];

        for (var idx = 0; idx < panes.length; idx++) {
            boxes.push(panes[idx].chartsBox());
        }

        return boxes;
    };

    PlotAreaBase.prototype.addBackgroundPaths = function addBackgroundPaths (multipath) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            multipath.paths.push(_progress_kendoDrawing.drawing.Path.fromRect(boxes[idx].toRect()));
        }
    };

    PlotAreaBase.prototype.backgroundContainsPoint = function backgroundContainsPoint (point) {
        var boxes = this.chartsBoxes();
        for (var idx = 0; idx < boxes.length; idx++) {
            if (boxes[idx].containsPoint(point)) {
                return true;
            }
        }
    };

    PlotAreaBase.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var options = this.options.plotArea;
        var opacity = options.opacity;
        var background = options.background;
        var border = options.border; if ( border === void 0 ) border = {};
        if (isTransparent(background)) {
            background = WHITE;
            opacity = 0;
        }

        var bg = this._bgVisual = new _progress_kendoDrawing.drawing.MultiPath({
            fill: {
                color: background,
                opacity: opacity
            },
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType
            },
            zIndex: -1
        });

        this.addBackgroundPaths(bg);

        this.appendVisual(bg);
    };

    PlotAreaBase.prototype.pointsByCategoryIndex = function pointsByCategoryIndex (categoryIndex) {
        var charts = this.charts;
        var result = [];

        if (categoryIndex !== null) {
            for (var i = 0; i < charts.length; i++) {
                var chart = charts[i];
                if (chart.pane.options.name === "_navigator") {
                    continue;
                }

                var points = charts[i].categoryPoints[categoryIndex];
                if (points && points.length) {
                    for (var j = 0; j < points.length; j++) {
                        var point = points[j];
                        if (point && defined(point.value) && point.value !== null) {
                            result.push(point);
                        }
                    }
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.pointsBySeriesIndex = function pointsBySeriesIndex (seriesIndex) {
        return this.filterPoints(function(point) {
            return point.series.index === seriesIndex;
        });
    };

    PlotAreaBase.prototype.pointsBySeriesName = function pointsBySeriesName (name) {
        return this.filterPoints(function(point) {
            return point.series.name === name;
        });
    };

    PlotAreaBase.prototype.filterPoints = function filterPoints (callback) {
        var charts = this.charts;
        var result = [];

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    result.push(point);
                }
            }
        }

        return result;
    };

    PlotAreaBase.prototype.findPoint = function findPoint (callback) {
        var charts = this.charts;

        for (var i = 0; i < charts.length; i++) {
            var chart = charts[i];
            var points = chart.points;
            for (var j = 0; j < points.length; j++) {
                var point = points[j];
                if (point && point.visible !== false && callback(point)) {
                    return point;
                }
            }
        }
    };

    PlotAreaBase.prototype.paneByPoint = function paneByPoint (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            if (pane.box.containsPoint(point)) {
                return pane;
            }
        }
    };

    PlotAreaBase.prototype.detachLabels = function detachLabels () {
        var axes = this.groupAxes(this.panes);
        var xAxes = axes.x;
        var yAxes = axes.y;

        this.detachAxisGroupLabels(yAxes, xAxes);
        this.detachAxisGroupLabels(xAxes, yAxes);
    };

    PlotAreaBase.prototype.detachAxisGroupLabels = function detachAxisGroupLabels (axes, crossingAxes) {
        var this$1 = this;

        var labelAxisCount = 0;

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var pane = axis.pane;
            var anchor = paneAnchor(crossingAxes, pane) || crossingAxes[0];
            var axisIndex = i + labelAxisCount;
            var labelAxis = this$1.createLabelAxis(axis, axisIndex, anchor);

            if (labelAxis) {
                labelAxisCount++;

                var pos = pane.axes.indexOf(axis) + labelAxisCount;
                pane.appendAxisAt(labelAxis, pos);
            }
        }
    };

    PlotAreaBase.prototype.createLabelAxis = function createLabelAxis (axis, axisIndex, anchor) {
        var labelOptions = axis.options.labels;
        var position = labelOptions.position;
        var onAxis = position !== END && position !== START;
        var visible = labelOptions.visible;

        if (onAxis || visible === false) {
            return null;
        }

        var allAxes = this.groupAxes(this.panes);
        var crossingAxes = anchor.options.vertical ? allAxes.x : allAxes.y;
        var anchorCrossings = this.axisCrossingValues(anchor, crossingAxes);
        var end = position === END;
        var range = anchor.range();
        var edge = end ? range.max : range.min;
        var crossingValue = limitValue(anchorCrossings[axisIndex], range.min, range.max);

        if (crossingValue - edge === 0) {
            return null;
        }

        anchorCrossings.splice(axisIndex + 1, 0, edge);
        anchor.options.axisCrossingValues = anchorCrossings;

        var labelAxis = axis.clone();
        axis.clear();

        labelAxis.options.name = undefined;
        labelAxis.options.line.visible = false;

        labelAxis.options.crosshair = undefined;
        labelAxis.options.notes = undefined;
        labelAxis.options.plotBands = undefined;

        return labelAxis;
    };

    return PlotAreaBase;
}(ChartElement));

function isSingleAxis(axis) {
    return !axis.pane.axes.some(function (a) { return a.options.vertical === axis.options.vertical && a !== axis && a.options.visible !== false; }
    );
}

function axisGroupBox(axes) {
    var length = axes.length;
    var box;

    for (var i = 0; i < length; i++) {
        var axis = axes[i];
        var visible = axis.options.visible !== false;
        if (visible || isSingleAxis(axis)) {
            var axisBox = visible ? axis.contentBox() : axis.lineBox();

            if (!box) {
                box = axisBox.clone();
            } else {
                box.wrap(axisBox);
            }
        }
    }

    return box || new Box();
}

function paneAnchor(axes, pane) {
    for (var i = 0; i < axes.length; i++) {
        var anchor = axes[i];
        if (anchor && anchor.pane === pane) {
            return anchor;
        }
    }
}

function isTransparent(color) {
    return color === "" || color === null || color === "none" || color === "transparent" || !defined(color);
}

var allPaneAxes = function (panes) { return panes.reduce(function (acc, pane) { return acc.concat(pane.axes); }, []); };

setDefaultOptions(PlotAreaBase, {
    series: [],
    plotArea: {
        margin: {}
    },
    background: "",
    border: {
        color: BLACK,
        width: 0
    },
    legend: {
        inactiveItems: {
            labels: {
                color: "#919191"
            },
            markers: {
                color: "#919191"
            }
        }
    }
});

var PlotAreaEventsMixin = {
    hover: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_HOVER);
    },

    click: function(chart, e) {
        this._dispatchEvent(chart, e, PLOT_AREA_CLICK);
    }
};

var SeriesAggregator = (function (Class$$1) {
    function SeriesAggregator(series, binder, defaultAggregates) {
        Class$$1.call(this);

        var canonicalFields = binder.canonicalFields(series);
        var valueFields = binder.valueFields(series);
        var sourceFields = binder.sourceFields(series, canonicalFields);
        var seriesFields = this._seriesFields = [];
        var defaults = defaultAggregates.query(series.type);
        var rootAggregate = series.aggregate || defaults;

        this._series = series;
        this._binder = binder;

        for (var i = 0; i < canonicalFields.length; i++) {
            var field = canonicalFields[i];
            var fieldAggregate = (void 0);

            if (isObject(rootAggregate)) {
                fieldAggregate = rootAggregate[field];
            } else if (i === 0 || inArray(field, valueFields)) {
                fieldAggregate = rootAggregate;
            } else {
                break;
            }

            if (fieldAggregate) {
                seriesFields.push({
                    canonicalName: field,
                    name: sourceFields[i],
                    transform: isFunction(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]
                });
            }
        }
    }

    if ( Class$$1 ) SeriesAggregator.__proto__ = Class$$1;
    SeriesAggregator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SeriesAggregator.prototype.constructor = SeriesAggregator;

    SeriesAggregator.prototype.aggregatePoints = function aggregatePoints (srcPoints, group) {
        var this$1 = this;

        var ref = this;
        var series = ref._series;
        var seriesFields = ref._seriesFields;
        var data = this._bindPoints(srcPoints || []);
        var firstDataItem = data.dataItems[0];
        var result = {};

        if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {
            var fn = function() {};
            fn.prototype = firstDataItem;
            result = new fn();
        }

        for (var i = 0; i < seriesFields.length; i++) {
            var field = seriesFields[i];
            var srcValues = this$1._bindField(data.values, field.canonicalName);
            var value = field.transform(srcValues, series, data.dataItems, group);

            if (value !== null && isObject(value) && !defined(value.length) && !(value instanceof Date)) {
                result = value;
                break;
            } else {
                if (defined(value)) {
                    setValue(field.name, result, value);
                }
            }
        }

        return result;
    };

    SeriesAggregator.prototype._bindPoints = function _bindPoints (points) {
        var ref = this;
        var binder = ref._binder;
        var series = ref._series;
        var values = [];
        var dataItems = [];

        for (var i = 0; i < points.length; i++) {
            var pointIx = points[i];

            values.push(binder.bindPoint(series, pointIx));
            dataItems.push(series.data[pointIx]);
        }

        return {
            values: values,
            dataItems: dataItems
        };
    };

    SeriesAggregator.prototype._bindField = function _bindField (data, field) {
        var values = [];
        var count = data.length;

        for (var i = 0; i < count; i++) {
            var item = data[i];
            var valueFields = item.valueFields;
            var value = (void 0);

            if (defined(valueFields[field])) {
                value = valueFields[field];
            } else {
                value = item.fields[field];
            }

            values.push(value);
        }

        return values;
    };

    return SeriesAggregator;
}(_progress_kendoDrawing.Class));

function setValue(fieldName, target, value) {
    var parentObj = target;
    var field = fieldName;

    if (fieldName.indexOf(".") > -1) {
        var parts = fieldName.split(".");

        while (parts.length > 1) {
            field = parts.shift();
            if (!defined(parentObj[field])) {
                parentObj[field] = {};
            }
            parentObj = parentObj[field];
        }
        field = parts.shift();
    }

    parentObj[field] = value;
}

var DefaultAggregates = (function (Class$$1) {
    function DefaultAggregates() {
        Class$$1.call(this);

        this._defaults = {};
    }

    if ( Class$$1 ) DefaultAggregates.__proto__ = Class$$1;
    DefaultAggregates.prototype = Object.create( Class$$1 && Class$$1.prototype );
    DefaultAggregates.prototype.constructor = DefaultAggregates;

    DefaultAggregates.prototype.register = function register (seriesTypes, aggregates) {
        var this$1 = this;

        for (var i = 0; i < seriesTypes.length; i++) {
            this$1._defaults[seriesTypes[i]] = aggregates;
        }
    };

    DefaultAggregates.prototype.query = function query (seriesType) {
        return this._defaults[seriesType];
    };

    return DefaultAggregates;
}(_progress_kendoDrawing.Class));

DefaultAggregates.current = new DefaultAggregates();

var RangeBar = (function (Bar$$1) {
    function RangeBar () {
        Bar$$1.apply(this, arguments);
    }

    if ( Bar$$1 ) RangeBar.__proto__ = Bar$$1;
    RangeBar.prototype = Object.create( Bar$$1 && Bar$$1.prototype );
    RangeBar.prototype.constructor = RangeBar;

    RangeBar.prototype.createLabel = function createLabel () {
        var labels = this.options.labels;
        var fromOptions = deepExtend({}, labels, labels.from);
        var toOptions = deepExtend({}, labels, labels.to);

        if (fromOptions.visible) {
            this.labelFrom = this._createLabel(fromOptions);
            this.append(this.labelFrom);
        }

        if (toOptions.visible) {
            this.labelTo = this._createLabel(toOptions);
            this.append(this.labelTo);
        }
    };

    RangeBar.prototype._createLabel = function _createLabel (options) {
        var labelTemplate = getTemplate(options);
        var pointData = this.pointData();

        var labelText;

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else {
            labelText = this.formatValue(options.format);
        }

        return new BarLabel(labelText,
            deepExtend({
                vertical: this.options.vertical
            },
            options
        ), pointData);
    };

    RangeBar.prototype.reflow = function reflow (targetBox) {
        this.render();

        var ref = this;
        var labelFrom = ref.labelFrom;
        var labelTo = ref.labelTo;
        var value = ref.value;

        this.box = targetBox;

        if (labelFrom) {
            labelFrom.options.aboveAxis = value.from > value.to;
            labelFrom.reflow(targetBox);
        }

        if (labelTo) {
            labelTo.options.aboveAxis = value.to > value.from;
            labelTo.reflow(targetBox);
        }

        if (this.note) {
            this.note.reflow(targetBox);
        }
    };

    return RangeBar;
}(Bar));

RangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {
    labels: {
        format: "{0} - {1}"
    },
    tooltip: {
        format: "{1}"
    }
});

var RangeBarChart = (function (BarChart$$1) {
    function RangeBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RangeBarChart.__proto__ = BarChart$$1;
    RangeBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RangeBarChart.prototype.constructor = RangeBarChart;

    RangeBarChart.prototype.pointType = function pointType () {
        return RangeBar;
    };

    RangeBarChart.prototype.pointValue = function pointValue (data) {
        return data.valueFields;
    };

    RangeBarChart.prototype.formatPointValue = function formatPointValue (point, format) {
        if (point.value.from === null && point.value.to === null) {
            return "";
        }

        return this.chartService.format.auto(format, point.value.from, point.value.to);
    };

    RangeBarChart.prototype.plotRange = function plotRange (point) {
        if (!point) {
            return 0;
        }

        return [ point.value.from, point.value.to ];
    };

    RangeBarChart.prototype.updateRange = function updateRange (value, fields) {
        var axisName = fields.series.axis;
        var from = value.from;
        var to = value.to;
        var axisRange = this.valueAxisRanges[axisName];

        if (value !== null && isNumber(from) && isNumber(to)) {
            axisRange = this.valueAxisRanges[axisName] = axisRange || { min: MAX_VALUE, max: MIN_VALUE };

            axisRange.min = Math.min(axisRange.min, from);
            axisRange.max = Math.max(axisRange.max, from);

            axisRange.min = Math.min(axisRange.min, to);
            axisRange.max = Math.max(axisRange.max, to);
        }
    };

    RangeBarChart.prototype.aboveAxis = function aboveAxis (point) {
        var value = point.value;
        return value.from < value.to;
    };

    return RangeBarChart;
}(BarChart));

RangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;

var RangeLinePoint = (function (LinePoint$$1) {
    function RangeLinePoint () {
        LinePoint$$1.apply(this, arguments);
    }

    if ( LinePoint$$1 ) RangeLinePoint.__proto__ = LinePoint$$1;
    RangeLinePoint.prototype = Object.create( LinePoint$$1 && LinePoint$$1.prototype );
    RangeLinePoint.prototype.constructor = RangeLinePoint;

    RangeLinePoint.prototype.aliasFor = function aliasFor () {
        return this.parent;
    };

    return RangeLinePoint;
}(LinePoint));

var AUTO$1 = 'auto';
var DEFAULT_FROM_FORMAT = '{0}';
var DEFAULT_TO_FORMAT = '{1}';

var RangeAreaPoint = (function (ChartElement$$1) {
    function RangeAreaPoint(value, options) {
        ChartElement$$1.call(this);

        this.value = value;
        this.options = options;
        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);
        this.tooltipTracking = true;
        this.initLabelsFormat();
    }

    if ( ChartElement$$1 ) RangeAreaPoint.__proto__ = ChartElement$$1;
    RangeAreaPoint.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RangeAreaPoint.prototype.constructor = RangeAreaPoint;

    RangeAreaPoint.prototype.render = function render () {
        if (this._rendered) {
            return;
        }

        this._rendered = true;

        var ref = this.options;
        var markers = ref.markers;
        var labels = ref.labels;
        var value = this.value;

        var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.from,
            markers: markers.from
        }));

        var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {
            labels: labels.to,
            markers: markers.to
        }));

        this.copyFields(fromPoint);
        this.copyFields(toPoint);

        this.append(fromPoint);
        this.append(toPoint);
    };

    RangeAreaPoint.prototype.reflow = function reflow (targetBox) {
        this.render();

        var fromBox = targetBox.from;
        var toBox = targetBox.to;

        this.positionLabels(fromBox, toBox);

        this.fromPoint.reflow(fromBox);
        this.toPoint.reflow(toBox);

        this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());
    };

    RangeAreaPoint.prototype.createHighlight = function createHighlight () {
        var group = new _progress_kendoDrawing.drawing.Group();
        group.append(this.fromPoint.createHighlight());
        group.append(this.toPoint.createHighlight());

        return group;
    };

    RangeAreaPoint.prototype.highlightVisual = function highlightVisual () {
        return this.visual;
    };

    RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {
        return {
            options: this.options,
            from: this.fromPoint.highlightVisualArgs(),
            to: this.toPoint.highlightVisualArgs()
        };
    };

    RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor () {
        var clipBox = this.owner.pane.clipBox();
        var showTooltip = !clipBox || clipBox.overlaps(this.box);

        if (showTooltip) {
            var box = this.box;
            var center = box.center();
            var horizontalAlign = LEFT;
            var x, y, verticalAlign;

            if (this.options.vertical) {
                x = center.x;
                y = box.y1 - TOOLTIP_OFFSET;
                verticalAlign = BOTTOM;
            } else {
                x = box.x2 + TOOLTIP_OFFSET;
                y = center.y;
                verticalAlign = CENTER;
            }

            return {
                point: new Point(x, y),
                align: {
                    horizontal: horizontalAlign,
                    vertical: verticalAlign
                }
            };
        }
    };

    RangeAreaPoint.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    RangeAreaPoint.prototype.overlapsBox = function overlapsBox (box) {
        return this.box.overlaps(box);
    };

    RangeAreaPoint.prototype.unclipElements = function unclipElements () {
        this.fromPoint.unclipElements();
        this.toPoint.unclipElements();
    };

    RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat () {
        var labels = this.options.labels;
        if (!labels.format) {
            if (!labels.from || !labels.from.format) {
                labels.from = Object.assign({}, labels.from, {
                    format: DEFAULT_FROM_FORMAT
                });
            }

            if (!labels.to || !labels.to.format) {
                labels.to = Object.assign({}, labels.to, {
                    format: DEFAULT_TO_FORMAT
                });
            }
        }
    };

    RangeAreaPoint.prototype.positionLabels = function positionLabels (fromBox, toBox) {
        var ref = this.options;
        var labels = ref.labels;
        var vertical = ref.vertical;

        if (labels.position === AUTO$1) {
            var fromLabelPosition, toLabelPosition;
            if (vertical) {
                if (toBox.y1 <= fromBox.y1) {
                    toLabelPosition = ABOVE;
                    fromLabelPosition = BELOW;
                } else {
                    toLabelPosition = BELOW;
                    fromLabelPosition = ABOVE;
                }
            } else {
                if (toBox.x1 <= fromBox.x1) {
                    toLabelPosition = LEFT;
                    fromLabelPosition = RIGHT;
                } else {
                    toLabelPosition = RIGHT;
                    fromLabelPosition = LEFT;
                }
            }

            if (!labels.from || !labels.from.position) {
                this.fromPoint.options.labels.position = fromLabelPosition;
            }

            if (!labels.to || !labels.to.position) {
                this.toPoint.options.labels.position = toLabelPosition;
            }
        }
    };

    RangeAreaPoint.prototype.copyFields = function copyFields (point) {
        point.dataItem = this.dataItem;
        point.category = this.category;
        point.series = this.series;
        point.color = this.color;
        point.owner = this.owner;
    };

    return RangeAreaPoint;
}(ChartElement));

deepExtend(RangeAreaPoint.prototype, PointEventsMixin);
deepExtend(RangeAreaPoint.prototype, NoteMixin);

RangeAreaPoint.prototype.defaults = {
    markers: {
        visible: false,
        background: WHITE,
        size: LINE_MARKER_SIZE,
        type: CIRCLE,
        border: {
            width: 2
        },
        opacity: 1
    },
    labels: {
        visible: false,
        margin: getSpacing(3),
        padding: getSpacing(4),
        animation: {
            type: FADEIN,
            delay: INITIAL_ANIMATION_DURATION
        },
        position: AUTO$1
    },
    notes: {
        label: {}
    },
    highlight: {
        markers: {
            border: {
                color: WHITE,
                width: 2
            }
        },
        zIndex: HIGHLIGHT_ZINDEX
    },
    tooltip: {
        format: '{0} - {1}'
    }
};

var RangeAreaSegment = (function (AreaSegment$$1) {
    function RangeAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RangeAreaSegment.__proto__ = AreaSegment$$1;
    RangeAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RangeAreaSegment.prototype.constructor = RangeAreaSegment;

    RangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()));
    };

    RangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()));
        }

        return fromSegments;
    };

    RangeAreaSegment.prototype.createStroke = function createStroke (style) {
        var toPath = new _progress_kendoDrawing.drawing.Path(style);
        var fromPath = new _progress_kendoDrawing.drawing.Path(style);

        toPath.segments.push.apply(toPath.segments, this.strokeSegments());
        fromPath.segments.push.apply(fromPath.segments, this.stackSegments());

        this.visual.append(toPath);
        this.visual.append(fromPath);
    };

    RangeAreaSegment.prototype.hasStackSegment = function hasStackSegment () {
        return true;
    };

    RangeAreaSegment.prototype.fromPoints = function fromPoints () {
        return this.linePoints.map(function (point) { return point.fromPoint; });
    };

    RangeAreaSegment.prototype.toPoints = function toPoints () {
        return this.linePoints.map(function (point) { return point.toPoint; });
    };

    return RangeAreaSegment;
}(AreaSegment));

var SplineRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function SplineRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) SplineRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    SplineRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    SplineRangeAreaSegment.prototype.constructor = SplineRangeAreaSegment;

    SplineRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.createCurveSegments(this.toPoints());
    };

    SplineRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.createCurveSegments(this.fromPoints().reverse());
        }

        return fromSegments;
    };

    SplineRangeAreaSegment.prototype.createCurveSegments = function createCurveSegments (points) {
        var curveProcessor = new CurveProcessor();

        return curveProcessor.process(this.toGeometryPoints(points));
    };

    return SplineRangeAreaSegment;
}(RangeAreaSegment));

var StepRangeAreaSegment = (function (RangeAreaSegment$$1) {
    function StepRangeAreaSegment () {
        RangeAreaSegment$$1.apply(this, arguments);
    }

    if ( RangeAreaSegment$$1 ) StepRangeAreaSegment.__proto__ = RangeAreaSegment$$1;
    StepRangeAreaSegment.prototype = Object.create( RangeAreaSegment$$1 && RangeAreaSegment$$1.prototype );
    StepRangeAreaSegment.prototype.constructor = StepRangeAreaSegment;

    StepRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {
        return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()));
    };

    StepRangeAreaSegment.prototype.stackSegments = function stackSegments () {
        var fromSegments = this.fromSegments;
        if (!this.fromSegments) {
            fromSegments = this.fromSegments = this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));
            fromSegments.reverse();
        }

        return fromSegments;
    };

    return StepRangeAreaSegment;
}(RangeAreaSegment));

deepExtend(StepRangeAreaSegment.prototype, StepLineMixin);

var RangeAreaChart = (function (CategoricalChart$$1) {
    function RangeAreaChart () {
        CategoricalChart$$1.apply(this, arguments);
    }

    if ( CategoricalChart$$1 ) RangeAreaChart.__proto__ = CategoricalChart$$1;
    RangeAreaChart.prototype = Object.create( CategoricalChart$$1 && CategoricalChart$$1.prototype );
    RangeAreaChart.prototype.constructor = RangeAreaChart;

    RangeAreaChart.prototype.render = function render () {
        CategoricalChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    RangeAreaChart.prototype.pointType = function pointType () {
        return RangeAreaPoint;
    };

    RangeAreaChart.prototype.createPoint = function createPoint (data, fields) {
        var categoryIx = fields.categoryIx;
        var category = fields.category;
        var series = fields.series;
        var seriesIx = fields.seriesIx;
        var value = data.valueFields;

        if (!hasValue(value.from) && !hasValue(value.to)) {
            if (this.seriesMissingValues(series) === ZERO) {
                value = {
                    from: 0,
                    to: 0
                };
            } else {
                return null;
            }
        }

        var pointOptions = this.pointOptions(series, seriesIx);
        pointOptions = this.evalPointOptions(
            pointOptions, value, category, categoryIx, series, seriesIx
        );

        var color = data.fields.color || series.color;
        if (isFunction(series.color)) {
            color = pointOptions.color;
        }

        var point = new RangeAreaPoint(value, pointOptions);
        point.color = color;

        this.append(point);

        return point;
    };

    RangeAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segmentType;
        if (style === "smooth") {
            segmentType = SplineRangeAreaSegment;
        } else if (style === "step") {
            segmentType = StepRangeAreaSegment;
        } else {
            segmentType = RangeAreaSegment;
        }

        return new segmentType(linePoints, currentSeries, seriesIx);
    };

    RangeAreaChart.prototype.plotRange = function plotRange (point, startValue) {
        if (!point) {
            return [ startValue, startValue ];
        }

        return [ point.value.from, point.value.to ];
    };

    RangeAreaChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {
        var fromSlot = valueAxis.getSlot(plotRange[0], plotRange[0], !this.options.clip);
        var toSlot = valueAxis.getSlot(plotRange[1], plotRange[1], !this.options.clip);
        if (fromSlot && toSlot) {
            return {
                from: fromSlot,
                to: toSlot
            };
        }
    };

    RangeAreaChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var from = valueSlot.from;
        var to = valueSlot.to;
        var fromSlot, toSlot;

        if (this.options.invertAxes) {
            fromSlot = new Box(from.x1, categorySlot.y1, from.x2, categorySlot.y2);
            toSlot = new Box(to.x1, categorySlot.y1, to.x2, categorySlot.y2);
        } else {
            fromSlot = new Box(categorySlot.x1, from.y1, categorySlot.x2, from.y2);
            toSlot = new Box(categorySlot.x1, to.y1, categorySlot.x2, to.y2);
        }

        return {
            from: fromSlot,
            to: toSlot
        };
    };

    RangeAreaChart.prototype.addValue = function addValue (data, fields) {
        var valueFields = data.valueFields;
        if (!isNumber(valueFields.from)) {
            valueFields.from = valueFields.to;
        }

        if (!isNumber(valueFields.to)) {
            valueFields.to = valueFields.from;
        }

        CategoricalChart$$1.prototype.addValue.call(this, data, fields);
    };

    RangeAreaChart.prototype.updateRange = function updateRange (value, fields) {
        if (value !== null && isNumber(value.from) && isNumber(value.to)) {
            var axisName = fields.series.axis;
            var axisRange = this.valueAxisRanges[axisName] = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };
            var from = value.from;
            var to = value.to;

            axisRange.min = Math.min(axisRange.min, from, to);
            axisRange.max = Math.max(axisRange.max, from, to);
        }
    };

    RangeAreaChart.prototype.formatPointValue = function formatPointValue (point, format) {
        var value = point.value;

        return this.chartService.format.auto(format, value.from, value.to);
    };

    RangeAreaChart.prototype.animationPoints = function animationPoints () {
        var points = this.points;
        var result = [];
        for (var idx = 0; idx < points.length; idx++) {
            var point = points[idx];
            if (point) {
                result.push((point.fromPoint || {}).marker);
                result.push((point.toPoint || {}).marker);
            }
        }

        return result.concat(this._segments);
    };

    return RangeAreaChart;
}(CategoricalChart));

deepExtend(RangeAreaChart.prototype, LineChartMixin, ClipAnimationMixin);

var OHLCPoint = (function (Candlestick$$1) {
    function OHLCPoint () {
        Candlestick$$1.apply(this, arguments);
    }

    if ( Candlestick$$1 ) OHLCPoint.__proto__ = Candlestick$$1;
    OHLCPoint.prototype = Object.create( Candlestick$$1 && Candlestick$$1.prototype );
    OHLCPoint.prototype.constructor = OHLCPoint;

    OHLCPoint.prototype.reflow = function reflow (box) {
        var ref = this;
        var options = ref.options;
        var value = ref.value;
        var chart = ref.owner;
        var valueAxis = chart.seriesValueAxis(options);
        var oPoints = [];
        var cPoints = [];
        var lhPoints = [];

        var lhSlot = valueAxis.getSlot(value.low, value.high);
        var oSlot = valueAxis.getSlot(value.open, value.open);
        var cSlot = valueAxis.getSlot(value.close, value.close);

        oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;
        oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;

        var mid = lhSlot.center().x;

        oPoints.push([ oSlot.x1, oSlot.y1 ]);
        oPoints.push([ mid, oSlot.y1 ]);
        cPoints.push([ mid, cSlot.y1 ]);
        cPoints.push([ cSlot.x2, cSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y1 ]);
        lhPoints.push([ mid, lhSlot.y2 ]);

        this.lines = [
            oPoints, cPoints, lhPoints
        ];

        this.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));

        this.reflowNote();
    };

    OHLCPoint.prototype.createBody = function createBody () {};

    return OHLCPoint;
}(Candlestick));

var OHLCChart = (function (CandlestickChart$$1) {
    function OHLCChart () {
        CandlestickChart$$1.apply(this, arguments);
    }

    if ( CandlestickChart$$1 ) OHLCChart.__proto__ = CandlestickChart$$1;
    OHLCChart.prototype = Object.create( CandlestickChart$$1 && CandlestickChart$$1.prototype );
    OHLCChart.prototype.constructor = OHLCChart;

    OHLCChart.prototype.pointType = function pointType () {
        return OHLCPoint;
    };

    return OHLCChart;
}(CandlestickChart));

var WaterfallSegment = (function (ChartElement$$1) {
    function WaterfallSegment(from, to, series) {
        ChartElement$$1.call(this);

        this.from = from;
        this.to = to;
        this.series = series;
    }

    if ( ChartElement$$1 ) WaterfallSegment.__proto__ = ChartElement$$1;
    WaterfallSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    WaterfallSegment.prototype.constructor = WaterfallSegment;

    WaterfallSegment.prototype.linePoints = function linePoints () {
        var from = this.from;
        var ref = this;
        var fromBox = ref.from.box;
        var toBox = ref.to.box;
        var points = [];

        if (from.isVertical) {
            var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;
            points.push(
                [ fromBox.x1, y ],
                [ toBox.x2, y ]
            );
        } else {
            var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;
            points.push(
                [ x, fromBox.y1 ],
                [ x, toBox.y2 ]
            );
        }

        return points;
    };

    WaterfallSegment.prototype.createVisual = function createVisual () {
        ChartElement$$1.prototype.createVisual.call(this);

        var line = this.series.line || {};

        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.linePoints(), {
            stroke: {
                color: line.color,
                width: line.width,
                opacity: line.opacity,
                dashType: line.dashType
            }
        });

        alignPathToPixel(path);
        this.visual.append(path);
    };

    return WaterfallSegment;
}(ChartElement));

setDefaultOptions(WaterfallSegment, {
    animation: {
        type: FADEIN,
        delay: INITIAL_ANIMATION_DURATION
    }
});

var WaterfallChart = (function (BarChart$$1) {
    function WaterfallChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) WaterfallChart.__proto__ = BarChart$$1;
    WaterfallChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    WaterfallChart.prototype.constructor = WaterfallChart;

    WaterfallChart.prototype.render = function render () {
        BarChart$$1.prototype.render.call(this);
        this.createSegments();
    };

    WaterfallChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var series = this.options.series;
        var totalCategories = categoriesCount$1(series);
        var isVertical = !this.options.invertAxes;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var total = 0;
            var runningTotal = 0;

            for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {
                var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);
                var value = data.valueFields.value;
                var summary = data.fields.summary;
                var from = total;
                var to = (void 0);

                if (summary) {
                    if (summary.toLowerCase() === "total") {
                        data.valueFields.value = total;
                        from = 0;
                        to = total;
                    } else {
                        data.valueFields.value = runningTotal;
                        to = from - runningTotal;
                        runningTotal = 0;
                    }
                } else if (isNumber(value)) {
                    runningTotal += value;
                    total += value;
                    to = total;
                }

                callback(data, {
                    category: this$1.categoryAxis.categoryAt(categoryIx),
                    categoryIx: categoryIx,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    total: total,
                    runningTotal: runningTotal,
                    from: from,
                    to: to,
                    isVertical: isVertical
                });
            }
        }
    };

    WaterfallChart.prototype.updateRange = function updateRange (value, fields) {
        BarChart$$1.prototype.updateRange.call(this, { value: fields.to }, fields);
    };

    WaterfallChart.prototype.aboveAxis = function aboveAxis (point) {
        return point.value >= 0;
    };

    WaterfallChart.prototype.plotRange = function plotRange (point) {
        return [ point.from, point.to ];
    };

    WaterfallChart.prototype.createSegments = function createSegments () {
        var this$1 = this;

        var series = this.options.series;
        var seriesPoints = this.seriesPoints;
        var segments = this.segments = [];

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var points = seriesPoints[seriesIx];

            if (points) {
                var prevPoint = (void 0);
                for (var pointIx = 0; pointIx < points.length; pointIx++) {
                    var point = points[pointIx];

                    if (point && prevPoint) {
                        var segment = new WaterfallSegment(prevPoint, point, currentSeries);
                        segments.push(segment);
                        this$1.append(segment);
                    }

                    prevPoint = point;
                }
            }
        }
    };

    return WaterfallChart;
}(BarChart));

var AREA_SERIES = [ AREA, VERTICAL_AREA, RANGE_AREA, VERTICAL_RANGE_AREA ];
var OUT_OF_RANGE_SERIES = [ LINE, VERTICAL_LINE ].concat(AREA_SERIES);

var CategoricalPlotArea = (function (PlotAreaBase$$1) {
    function CategoricalPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) CategoricalPlotArea.__proto__ = PlotAreaBase$$1;
    CategoricalPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    CategoricalPlotArea.prototype.constructor = CategoricalPlotArea;

    CategoricalPlotArea.prototype.initFields = function initFields (series) {
        var this$1 = this;

        this.namedCategoryAxes = {};
        this.namedValueAxes = {};
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();

        if (series.length > 0) {
            this.invertAxes = inArray(
                series[0].type, [ BAR, BULLET, VERTICAL_LINE, VERTICAL_AREA, VERTICAL_RANGE_AREA,
                                 RANGE_BAR, HORIZONTAL_WATERFALL, VERTICAL_BOX_PLOT ]
            );

            for (var i = 0; i < series.length; i++) {
                var stack = series[i].stack;
                if (stack && stack.type === "100%") {
                    this$1.stack100 = true;
                    break;
                }
            }
        }

    };

    CategoricalPlotArea.prototype.render = function render (panes) {
        if ( panes === void 0 ) panes = this.panes;

        this.createCategoryAxes(panes);
        this.aggregateCategories(panes);
        this.createCategoryAxesLabels(panes);
        this.createCharts(panes);
        this.createValueAxes(panes);
    };

    CategoricalPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis instanceof CategoryAxis) {
            delete this.namedCategoryAxes[axisName];
        } else {
            this.valueAxisRangeTracker.reset(axisName);
            delete this.namedValueAxes[axisName];
        }

        if (axis === this.categoryAxis) {
            delete this.categoryAxis;
        }

        if (axis === this.valueAxis) {
            delete this.valueAxis;
        }
    };

    CategoricalPlotArea.prototype.createCharts = function createCharts (panes) {
        var this$1 = this;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);

            var visibleSeries = this$1.filterVisibleSeries(paneSeries);
            if (!visibleSeries) {
                continue;
            }

            var groups = this$1.groupSeriesByCategoryAxis(visibleSeries);
            for (var groupIx = 0; groupIx < groups.length; groupIx++) {
                this$1.createChartGroup(groups[groupIx], pane);
            }
        }
    };

    CategoricalPlotArea.prototype.createChartGroup = function createChartGroup (series, pane) {
        this.createAreaChart(
            filterSeriesByType(series, [ AREA, VERTICAL_AREA ]), pane
        );

        this.createRangeAreaChart(
            filterSeriesByType(series, [ RANGE_AREA, VERTICAL_RANGE_AREA ]), pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ COLUMN, BAR ]), pane
        );

        this.createRangeBarChart(
            filterSeriesByType(series, [ RANGE_COLUMN, RANGE_BAR ]), pane
        );

        this.createBulletChart(
            filterSeriesByType(series, [ BULLET, VERTICAL_BULLET ]), pane
        );

        this.createCandlestickChart(
            filterSeriesByType(series, CANDLESTICK), pane
        );

        this.createBoxPlotChart(
            filterSeriesByType(series, [ BOX_PLOT, VERTICAL_BOX_PLOT ]), pane
        );

        this.createOHLCChart(
            filterSeriesByType(series, OHLC), pane
        );

        this.createWaterfallChart(
            filterSeriesByType(series, [ WATERFALL, HORIZONTAL_WATERFALL ]), pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ LINE, VERTICAL_LINE ]), pane
        );
    };

    CategoricalPlotArea.prototype.aggregateCategories = function aggregateCategories (panes) {
        var this$1 = this;

        var series = this.srcSeries || this.series;
        var processedSeries = [];
        this._currentPointsCache = {};
        this._seriesPointsCache = this._seriesPointsCache || {};

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var categoryAxis = this$1.seriesCategoryAxis(currentSeries);
            var axisPane = this$1.findPane(categoryAxis.options.pane);
            var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);

            if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {
                currentSeries = this$1.aggregateSeries(currentSeries, categoryAxis);
            } else {
                currentSeries = this$1.filterSeries(currentSeries, categoryAxis);
            }

            processedSeries.push(currentSeries);
        }

        this._seriesPointsCache = this._currentPointsCache;
        this._currentPointsCache = null;

        this.srcSeries = series;
        this.series = processedSeries;
    };

    CategoricalPlotArea.prototype.filterSeries = function filterSeries (series, categoryAxis) {
        var dataLength = (series.data || {}).length;
        categoryAxis._seriesMax = Math.max(categoryAxis._seriesMax || 0, dataLength);

        if (!(isNumber(categoryAxis.options.min) || isNumber(categoryAxis.options.max))) {
            return series;
        }

        var range = categoryAxis.currentRangeIndices();
        var outOfRangePoints = inArray(series.type, OUT_OF_RANGE_SERIES);
        var currentSeries = deepExtend({}, series);

        currentSeries.data = (currentSeries.data || []).slice(range.min, range.max + 1);

        if (outOfRangePoints) {
            createOutOfRangePoints(currentSeries, range, dataLength, function (idx) { return ({
                item: series.data[idx],
                category: categoryAxis.categoryAt(idx, true),
                categoryIx: idx - range.min
            }); }, function (idx) { return defined(series.data[idx]); });
        }

        return currentSeries;
    };

    CategoricalPlotArea.prototype.clearSeriesPointsCache = function clearSeriesPointsCache () {
        this._seriesPointsCache = {};
    };

    CategoricalPlotArea.prototype.seriesSourcePoints = function seriesSourcePoints (series, categoryAxis) {
        var this$1 = this;

        var key = (series.index) + ";" + (categoryAxis.categoriesHash());
        if (this._seriesPointsCache[key]) {
            this._currentPointsCache[key] = this._seriesPointsCache[key];
            return this._seriesPointsCache[key];
        }

        var axisOptions = categoryAxis.options;
        var srcCategories = axisOptions.srcCategories;
        var dateAxis = equalsIgnoreCase(axisOptions.type, DATE);
        var srcData = series.data;
        var getFn = dateAxis ? getDateField : getField;
        var result = [];
        if (!dateAxis) {
            categoryAxis.mapCategories();//fixes major performance issue caused by searching for the index for large data
        }

        for (var idx = 0; idx < srcData.length; idx++) {
            var category = (void 0);
            if (series.categoryField) {
                category = getFn(series.categoryField, srcData[idx], this$1.chartService.intl);
            } else {
                category = srcCategories[idx];
            }

            if (defined(category) && category !== null) {
                var categoryIx = categoryAxis.totalIndex(category);
                result[categoryIx] = result[categoryIx] || { items: [], category: category };
                result[categoryIx].items.push(idx);
            }
        }

        this._currentPointsCache[key] = result;

        return result;
    };

    CategoricalPlotArea.prototype.aggregateSeries = function aggregateSeries (series, categoryAxis) {
        var srcData = series.data;
        if (!srcData.length) {
            return series;
        }

        var srcPoints = this.seriesSourcePoints(series, categoryAxis);
        var result = deepExtend({}, series);
        var aggregator = new SeriesAggregator(deepExtend({}, series), SeriesBinder.current, DefaultAggregates.current);
        var data = result.data = [];
        var dataItems = categoryAxis.options.dataItems || [];

        var range = categoryAxis.currentRangeIndices();
        var categoryItem = function (idx) {
            var categoryIdx = idx - range.min;
            var point = srcPoints[idx];
            if (!point) {
                point = srcPoints[idx] = {};
            }

            point.categoryIx = categoryIdx;

            if (!point.item) {
                var category = categoryAxis.categoryAt(idx, true);
                point.category = category;
                point.item = aggregator.aggregatePoints(point.items, category);
            }

            return point;
        };

        for (var idx = range.min; idx <= range.max; idx++) {
            var point = categoryItem(idx);
            data[point.categoryIx] = point.item;

            if (point.items && point.items.length) {
                dataItems[point.categoryIx] = point.item;
            }
        }

        if (inArray(result.type, OUT_OF_RANGE_SERIES)) {
            createOutOfRangePoints(result, range, categoryAxis.totalCount(), categoryItem, function (idx) { return srcPoints[idx]; });
        }

        categoryAxis.options.dataItems = dataItems;

        return result;
    };

    CategoricalPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        var series = chart.options.series;
        var categoryAxis = this.seriesCategoryAxis(series[0]);
        var categories = categoryAxis.options.categories;
        var categoriesToAdd = Math.max(0, categoriesCount$1(series) - categories.length);

        if (categoriesToAdd > 0) {//consider setting an option to axis instead of adding fake categories
            categories = categoryAxis.options.categories = categoryAxis.options.categories.slice(0);
            while (categoriesToAdd--) {
                categories.push("");
            }
        }

        this.valueAxisRangeTracker.update(chart.valueAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    // TODO: Refactor, optionally use series.pane option
    CategoricalPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var axisName = series.axis;
        var axisOptions = [].concat(options.valueAxis);
        var axis = grep(axisOptions, function(a) { return a.name === axisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = (panes[0] || {}).name || "default";
        var paneName = (axis || {}).pane || defaultPaneName;

        return paneName;
    };

    CategoricalPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis (series) {
        var axisName = series.categoryAxis;
        var axis = axisName ? this.namedCategoryAxes[axisName] : this.categoryAxis;

        if (!axis) {
            throw new Error("Unable to locate category axis with name " + axisName);
        }

        return axis;
    };

    CategoricalPlotArea.prototype.stackableChartOptions = function stackableChartOptions (firstSeries, pane) {
        var stack = firstSeries.stack;
        var isStacked100 = stack && stack.type === "100%";
        var clip = pane.options.clip;

        return {
            isStacked: stack,
            isStacked100: isStacked100,
            clip: clip
        };
    };

    CategoricalPlotArea.prototype.groupSeriesByCategoryAxis = function groupSeriesByCategoryAxis (series) {
        var categoryAxes = [];
        var unique = {};
        for (var idx = 0; idx < series.length; idx++) {
            var name = series[idx].categoryAxis || "$$default$$";
            if (!unique.hasOwnProperty(name)) {
                unique[name] = true;
                categoryAxes.push(name);
            }
        }

        var groups = [];
        for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {
            var axis = categoryAxes[axisIx];
            var axisSeries = groupSeries(series, axis, axisIx);
            if (axisSeries.length === 0) {
                continue;
            }

            groups.push(axisSeries);
        }

        return groups;
    };

    CategoricalPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var barChart = new BarChart(this, Object.assign({
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(barChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeBarChart = function createRangeBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var rangeColumnChart = new RangeBarChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(rangeColumnChart, pane);
    };

    CategoricalPlotArea.prototype.createBulletChart = function createBulletChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var bulletChart = new BulletChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(bulletChart, pane);
    };

    CategoricalPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var lineChart = new LineChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(lineChart, pane);
    };

    CategoricalPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var areaChart = new AreaChart(this, Object.assign({
            invertAxes: this.invertAxes,
            series: series
        }, this.stackableChartOptions(firstSeries, pane)));

        this.appendChart(areaChart, pane);
    };

    CategoricalPlotArea.prototype.createRangeAreaChart = function createRangeAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var rangeAreaChart = new RangeAreaChart(this, {
            invertAxes: this.invertAxes,
            series: series,
            clip: pane.options.clip
        });

        this.appendChart(rangeAreaChart, pane);
    };

    CategoricalPlotArea.prototype.createOHLCChart = function createOHLCChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new OHLCChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createCandlestickChart = function createCandlestickChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new CandlestickChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createBoxPlotChart = function createBoxPlotChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var chart = new BoxPlotChart(this, {
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            series: series,
            spacing: firstSeries.spacing,
            clip: pane.options.clip
        });

        this.appendChart(chart, pane);
    };

    CategoricalPlotArea.prototype.createWaterfallChart = function createWaterfallChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var waterfallChart = new WaterfallChart(this, {
            series: series,
            invertAxes: this.invertAxes,
            gap: firstSeries.gap,
            spacing: firstSeries.spacing
        });

        this.appendChart(waterfallChart, pane);
    };

    CategoricalPlotArea.prototype.axisRequiresRounding = function axisRequiresRounding (categoryAxisName, categoryAxisIndex) {
        var this$1 = this;

        var centeredSeries = filterSeriesByType(this.series, EQUALLY_SPACED_SERIES);

        for (var seriesIx = 0; seriesIx < this.series.length; seriesIx++) {
            var currentSeries = this$1.series[seriesIx];
            if (inArray(currentSeries.type, AREA_SERIES)) {
                var line = currentSeries.line;
                if (line && line.style === STEP) {
                    centeredSeries.push(currentSeries);
                }
            }
        }

        for (var seriesIx$1 = 0; seriesIx$1 < centeredSeries.length; seriesIx$1++) {
            var seriesAxis = centeredSeries[seriesIx$1].categoryAxis || "";
            if (seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.aggregatedAxis = function aggregatedAxis (categoryAxisName, categoryAxisIndex) {
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var seriesAxis = series[seriesIx].categoryAxis || "";
            if ((seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) && series[seriesIx].categoryField) {
                return true;
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        var axes = this.axes;
        for (var i = 0; i < axes.length; i++) {
            if (axes[i] instanceof CategoryAxis) {
                axes[i].createLabels();
            }
        }
    };

    CategoricalPlotArea.prototype.createCategoryAxes = function createCategoryAxes (panes) {
        var this$1 = this;

        var invertAxes = this.invertAxes;
        var definitions = [].concat(this.options.categoryAxis);
        var axes = [];

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var categories = axisOptions.categories; if ( categories === void 0 ) categories = [];
                axisOptions = deepExtend({
                    vertical: invertAxes,
                    reverse: !invertAxes && this$1.chartService.rtl,
                    axisCrossingValue: invertAxes ? MAX_VALUE : 0
                }, axisOptions);

                if (!defined(axisOptions.justified)) {
                    axisOptions.justified = this$1.isJustified();
                }

                if (this$1.axisRequiresRounding(name, i)) {
                    axisOptions.justified = false;
                }

                var categoryAxis = (void 0);

                if (isDateAxis(axisOptions, categories[0])) {
                    categoryAxis = new DateCategoryAxis(axisOptions, this$1.chartService);
                } else {
                    categoryAxis = new CategoryAxis(axisOptions, this$1.chartService);
                }

                definitions[i].categories = categoryAxis.options.srcCategories;

                if (name) {
                    if (this$1.namedCategoryAxes[name]) {
                        throw new Error(("Category axis with name " + name + " is already defined"));
                    }
                    this$1.namedCategoryAxes[name] = categoryAxis;
                }

                categoryAxis.axisIndex = i;
                axes.push(categoryAxis);
                this$1.appendAxis(categoryAxis);
            }
        }

        var primaryAxis = this.categoryAxis || axes[0];
        this.categoryAxis = primaryAxis;

        if (invertAxes) {
            this.axisY = primaryAxis;
        } else {
            this.axisX = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype.isJustified = function isJustified () {
        var series = this.series;

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            if (!inArray(currentSeries.type, AREA_SERIES)) {
                return false;
            }
        }

        return true;
    };

    CategoricalPlotArea.prototype.createValueAxes = function createValueAxes (panes) {
        var this$1 = this;

        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var definitions = [].concat(this.options.valueAxis);
        var invertAxes = this.invertAxes;
        var baseOptions = { vertical: !invertAxes, reverse: invertAxes && this.chartService.rtl };
        var axes = [];

        if (this.stack100) {
            baseOptions.roundToMajorUnit = false;
            baseOptions.labels = { format: "P0" };
        }

        for (var i = 0; i < definitions.length; i++) {
            var axisOptions = definitions[i];
            var axisPane = this$1.findPane(axisOptions.pane);

            if (inArray(axisPane, panes)) {
                var name = axisOptions.name;
                var defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
                var range = tracker.query(name) || defaultRange || defaultAxisRange;

                if (i === 0 && range && defaultRange) {
                    range.min = Math.min(range.min, defaultRange.min);
                    range.max = Math.max(range.max, defaultRange.max);
                }

                var axisType = (void 0);
                if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {
                    axisType = LogarithmicAxis;
                } else {
                    axisType = NumericAxis;
                }

                var valueAxis = new axisType(range.min, range.max,
                    deepExtend({}, baseOptions, axisOptions),
                    this$1.chartService
                );

                if (name) {
                    if (this$1.namedValueAxes[name]) {
                        throw new Error(("Value axis with name " + name + " is already defined"));
                    }
                    this$1.namedValueAxes[name] = valueAxis;
                }
                valueAxis.axisIndex = i;

                axes.push(valueAxis);
                this$1.appendAxis(valueAxis);
            }
        }

        var primaryAxis = this.valueAxis || axes[0];
        this.valueAxis = primaryAxis;

        if (invertAxes) {
            this.axisX = primaryAxis;
        } else {
            this.axisY = primaryAxis;
        }
    };

    CategoricalPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var pane = this.pointPane(point);
        var categories = [];
        var values = [];

        if (!pane) {
            return;
        }

        var allAxes = pane.axes;
        for (var i = 0; i < allAxes.length; i++) {
            var axis = allAxes[i];
            if (axis.getValue) {
                appendIfNotNull(values, axis.getValue(point));
            } else {
                appendIfNotNull(categories, axis.getCategory(point));
            }
        }

        if (categories.length === 0) {
            appendIfNotNull(categories, this.categoryAxis.getCategory(point));
        }

        if (categories.length > 0 && values.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                category: singleItemOrArray(categories),
                value: singleItemOrArray(values)
            });
        }
    };

    CategoricalPlotArea.prototype.pointPane = function pointPane (point) {
        var panes = this.panes;

        for (var i = 0; i < panes.length; i++) {
            var currentPane = panes[i];
            if (currentPane.contentBox.containsPoint(point)) {
                return currentPane;
            }
        }
    };

    CategoricalPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        updateAxisOptions(this.options, axis, options);
        updateAxisOptions(this.originalOptions, axis, options);
    };

    return CategoricalPlotArea;
}(PlotAreaBase));

function updateAxisOptions(targetOptions, axis, options) {
    var axesOptions = axis instanceof CategoryAxis ? [].concat(targetOptions.categoryAxis) : [].concat(targetOptions.valueAxis);
    deepExtend(axesOptions[axis.axisIndex], options);
}

function groupSeries(series, axis, axisIx) {
    return grep(series, function(s) {
        return (axisIx === 0 && !s.categoryAxis) || (s.categoryAxis === axis);
    });
}

setDefaultOptions(CategoricalPlotArea, {
    categoryAxis: {},
    valueAxis: {}
});

deepExtend(CategoricalPlotArea.prototype, PlotAreaEventsMixin);

var Highlight = (function (Class$$1) {
    function Highlight() {
        Class$$1.call(this);

        this._points = [];
    }

    if ( Class$$1 ) Highlight.__proto__ = Class$$1;
    Highlight.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Highlight.prototype.constructor = Highlight;

    Highlight.prototype.destroy = function destroy () {
        this._points = [];
    };

    Highlight.prototype.show = function show (points) {
        var this$1 = this;

        var arrayPoints = [].concat(points);
        this.hide();

        for (var i = 0; i < arrayPoints.length; i++) {
            var point = arrayPoints[i];
            if (point && point.toggleHighlight && point.hasHighlight()) {
                this$1.togglePointHighlight(point, true);
                this$1._points.push(point);
            }
        }
    };

    Highlight.prototype.togglePointHighlight = function togglePointHighlight (point, show) {
        var toggleHandler = (point.options.highlight || {}).toggle;
        if (toggleHandler) {
            var eventArgs = {
                category: point.category,
                series: point.series,
                dataItem: point.dataItem,
                value: point.value,
                stackValue: point.stackValue,
                preventDefault: preventDefault,
                visual: point.highlightVisual(),
                show: show
            };
            toggleHandler(eventArgs);
            if (!eventArgs._defaultPrevented) {
                point.toggleHighlight(show);
            }
        } else {
            point.toggleHighlight(show);
        }
    };

    Highlight.prototype.hide = function hide () {
        var this$1 = this;

        var points = this._points;
        while (points.length) {
            this$1.togglePointHighlight(points.pop(), false);
        }
    };

    Highlight.prototype.isHighlighted = function isHighlighted (element) {
        var points = this._points;

        for (var i = 0; i < points.length; i++) {
            var point = points[i];
            if (element === point) {
                return true;
            }
        }

        return false;
    };

    return Highlight;
}(_progress_kendoDrawing.Class));

function preventDefault() {
    this._defaultPrevented = true;
}

function acceptKey(e, mouseKey) {
    var key = (mouseKey || "").toLowerCase();
    var event = e.event;
    var accept = (key === "none" && !(event.ctrlKey || event.shiftKey || event.altKey)) || event[key + "Key"];

    return accept;
}

function toChartAxisRanges(axisRanges) {
    var ranges = {};
    for (var idx = 0; idx < axisRanges.length; idx++) {
        var axisRange = axisRanges[idx];
        if (axisRange.axis.options.name) {
            ranges[axisRange.axis.options.name] = {
                min: axisRange.range.min,
                max: axisRange.range.max
            };
        }
    }
    return ranges;
}

var Pannable = (function (Class$$1) {
    function Pannable(plotArea, options) {
        Class$$1.call(this);

        this.plotArea = plotArea;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) Pannable.__proto__ = Class$$1;
    Pannable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pannable.prototype.constructor = Pannable;

    Pannable.prototype.start = function start (e) {
        this._active = acceptKey(e, this.options.key);
        return this._active;
    };

    Pannable.prototype.move = function move (e) {
        if (this._active) {
            var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));
            if (axisRanges.length) {
                this.axisRanges = axisRanges;
                return toChartAxisRanges(axisRanges);
            }
        }
    };

    Pannable.prototype.end = function end () {
        var active = this._active;
        this._active = false;

        return active;
    };

    Pannable.prototype.pan = function pan () {
        var ref = this;
        var plotArea = ref.plotArea;
        var axisRanges = ref.axisRanges;
        if (axisRanges.length) {
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var range = axisRanges[idx];
                plotArea.updateAxisOptions(range.axis, range.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    Pannable.prototype.destroy = function destroy () {
        delete this.plotArea;
    };

    Pannable.prototype._panAxes = function _panAxes (e, position) {
        var plotArea = this.plotArea;
        var delta = -e[position].delta;
        var lock = (this.options.lock || "").toLowerCase();
        var updatedAxes = [];

        if (delta !== 0 && (lock || "").toLowerCase() !== position) {
            var axes = plotArea.axes;
            for (var idx = 0; idx < axes.length; idx++) {
                var axis = axes[idx];

                if (position === X && !axis.options.vertical || position === Y && axis.options.vertical) {
                    var range = axis.pan(delta);

                    if (range) {
                        range.limitRange = true;
                        updatedAxes.push({
                            axis: axis,
                            range: range
                        });
                    }
                }
            }
        }

        return updatedAxes;
    };

    return Pannable;
}(_progress_kendoDrawing.Class));

Pannable.prototype.options = {
    key: "none",
    lock: "none"
};

var ZoomSelection = (function (Class$$1) {
    function ZoomSelection(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({}, this.options, options);
        this.createElement();
    }

    if ( Class$$1 ) ZoomSelection.__proto__ = Class$$1;
    ZoomSelection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ZoomSelection.prototype.constructor = ZoomSelection;

    ZoomSelection.prototype.createElement = function createElement () {
        var marquee = this._marquee = document.createElement("div");
        marquee.className = "k-marquee";
        var marqueeColor = document.createElement("div");
        marqueeColor.className = "k-marquee-color";
        marquee.appendChild(marqueeColor);
    };

    ZoomSelection.prototype.removeElement = function removeElement () {
        if (this._marquee.parentNode) {
            this._marquee.parentNode.removeChild(this._marquee);
        }
    };

    ZoomSelection.prototype.setStyles = function setStyles (styles) {
        elementStyles(this._marquee, styles);
    };

    ZoomSelection.prototype.start = function start (e) {
        if (acceptKey(e, this.options.key)) {
            var chart = this.chart;
            var point = chart._eventCoordinates(e);
            var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);
            var clipBox = zoomPane ? zoomPane.chartsBox().clone() : null;

            if (zoomPane && clipBox) {
                var offset = this._elementOffset();

                clipBox.translate(offset.left, offset.top);
                this._zoomPaneClipBox = clipBox;

                document.body.appendChild(this._marquee);
                this.setStyles({
                    left: e.pageX + 1,
                    top: e.pageY + 1,
                    width: 0,
                    height: 0
                });

                return true;
            }
        }
        return false;
    };

    ZoomSelection.prototype._elementOffset = function _elementOffset () {
        var chartElement = this.chart.element;
        var ref = elementStyles(chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref.paddingLeft;
        var paddingTop = ref.paddingTop;
        var offset = elementOffset(chartElement);

        return {
            left: paddingLeft + offset.left,
            top: paddingTop + offset.top
        };
    };

    ZoomSelection.prototype.move = function move (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            this.setStyles(this._selectionPosition(e));
        }
    };

    ZoomSelection.prototype.end = function end (e) {
        var zoomPane = this._zoomPane;
        if (zoomPane) {
            var elementOffset$$1 = this._elementOffset();
            var selectionPosition = this._selectionPosition(e);
            selectionPosition.left -= elementOffset$$1.left;
            selectionPosition.top -= elementOffset$$1.top;

            var start = { x: selectionPosition.left, y: selectionPosition.top };
            var end = { x: selectionPosition.left + selectionPosition.width, y: selectionPosition.top + selectionPosition.height };
            this._updateAxisRanges(start, end);

            this.removeElement();
            delete this._zoomPane;

            return toChartAxisRanges(this.axisRanges);
        }
    };

    ZoomSelection.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        if (axisRanges && axisRanges.length) {
            var plotArea = this.chart._plotArea;
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    ZoomSelection.prototype.destroy = function destroy () {
        this.removeElement();
        delete this._marquee;
        delete this.chart;
    };

    ZoomSelection.prototype._updateAxisRanges = function _updateAxisRanges (start, end) {
        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];

        var axes = this._zoomPane.axes;
        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;
            if (!(lock === X && !vertical) && !(lock === Y && vertical) && defined(axis.axisIndex)) {
                var range = axis.pointsRange(start, end);
                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
    };

    ZoomSelection.prototype._selectionPosition = function _selectionPosition (e) {
        var clipBox = this._zoomPaneClipBox;
        var startLocation = {
            x: e.x.startLocation,
            y: e.y.startLocation
        };
        var pageX = e.x.location;
        var pageY = e.y.location;
        var lock = (this.options.lock || "").toLowerCase();
        var left = Math.min(startLocation.x, pageX);
        var top = Math.min(startLocation.y, pageY);
        var width = Math.abs(startLocation.x - pageX);
        var height = Math.abs(startLocation.y - pageY);

        if (lock === X) {
            left = clipBox.x1;
            width = clipBox.width();
        }
        if (lock === Y) {
            top = clipBox.y1;
            height = clipBox.height();
        }

        if (pageX > clipBox.x2) {
            width = clipBox.x2 - startLocation.x;
        }

        if (pageX < clipBox.x1) {
            width = startLocation.x - clipBox.x1;
        }

        if (pageY > clipBox.y2) {
            height = clipBox.y2 - startLocation.y;
        }

        if (pageY < clipBox.y1) {
            height = startLocation.y - clipBox.y1;
        }

        return {
            left: Math.max(left, clipBox.x1),
            top: Math.max(top, clipBox.y1),
            width: width,
            height: height
        };
    };

    return ZoomSelection;
}(_progress_kendoDrawing.Class));

ZoomSelection.prototype.options = {
    key: "shift",
    lock: "none"
};

var MousewheelZoom = (function (Class$$1) {
    function MousewheelZoom(chart, options) {
        Class$$1.call(this);

        this.chart = chart;
        this.options = deepExtend({}, this.options, options);
    }

    if ( Class$$1 ) MousewheelZoom.__proto__ = Class$$1;
    MousewheelZoom.prototype = Object.create( Class$$1 && Class$$1.prototype );
    MousewheelZoom.prototype.constructor = MousewheelZoom;

    MousewheelZoom.prototype.updateRanges = function updateRanges (delta) {
        var lock = (this.options.lock || "").toLowerCase();
        var axisRanges = [];
        var axes = this.chart._plotArea.axes;

        for (var idx = 0; idx < axes.length; idx++) {
            var axis = axes[idx];
            var vertical = axis.options.vertical;

            if (!(lock === X && !vertical) && !(lock === Y && vertical) && axis.zoomRange) {
                var range = axis.zoomRange(-delta);

                if (range) {
                    axisRanges.push({
                        axis: axis,
                        range: range
                    });
                }
            }
        }

        this.axisRanges = axisRanges;
        return toChartAxisRanges(axisRanges);
    };

    MousewheelZoom.prototype.zoom = function zoom () {
        var axisRanges = this.axisRanges;
        var plotArea = this.chart._plotArea;

        if (axisRanges && axisRanges.length && plotArea.updateAxisOptions) {
            for (var idx = 0; idx < axisRanges.length; idx++) {
                var axisRange = axisRanges[idx];
                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);
            }
            plotArea.redraw(plotArea.panes);
        }
    };

    MousewheelZoom.prototype.destroy = function destroy () {
        delete this.chart;
    };

    return MousewheelZoom;
}(_progress_kendoDrawing.Class));

var LegendLayout = (function (ChartElement$$1) {
    function LegendLayout(options, chartService) {
        ChartElement$$1.call(this, options);

        this.chartService = chartService;
    }

    if ( ChartElement$$1 ) LegendLayout.__proto__ = ChartElement$$1;
    LegendLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    LegendLayout.prototype.constructor = LegendLayout;

    LegendLayout.prototype.render = function render () {
        var ref = this;
        var children = ref.children;
        var options = ref.options;
        var vertical = options.vertical;

        this.visual = new _progress_kendoDrawing.drawing.Layout(null, {
            spacing: vertical ? 0 : options.spacing,
            lineSpacing: vertical ? options.spacing : 0,
            orientation: vertical ? "vertical" : "horizontal",
            reverse: options.rtl,
            alignItems: vertical ? "start" : "center"
        });

        for (var idx = 0; idx < children.length; idx++) {
            var legendItem = children[idx];
            legendItem.reflow(new Box());
            legendItem.renderVisual();
        }
    };

    LegendLayout.prototype.reflow = function reflow (box) {
        this.visual.rect(box.toRect());
        this.visual.reflow();
        var bbox = this.visual.clippedBBox();

        if (bbox) {
            this.box = rectToBox(bbox);
        } else {
            this.box = new Box();
        }
    };

    LegendLayout.prototype.renderVisual = function renderVisual () {
        this.addVisual();
    };

    LegendLayout.prototype.createVisual = function createVisual () {};

    return LegendLayout;
}(ChartElement));

var LegendItem = (function (BoxElement$$1) {
    function LegendItem(options) {
        BoxElement$$1.call(this, options);

        this.createContainer();
        if (!options.rtl) {
            this.createMarker();
            this.createLabel();
        } else {
            this.createLabel();
            this.createMarker();
        }
    }

    if ( BoxElement$$1 ) LegendItem.__proto__ = BoxElement$$1;
    LegendItem.prototype = Object.create( BoxElement$$1 && BoxElement$$1.prototype );
    LegendItem.prototype.constructor = LegendItem;

    LegendItem.prototype.createContainer = function createContainer () {
        this.container = new FloatElement({ vertical: false, wrap: false, align: CENTER, spacing: this.options.spacing });
        this.append(this.container);
    };

    LegendItem.prototype.createMarker = function createMarker () {
        this.container.append(new ShapeElement(this.markerOptions()));
    };

    LegendItem.prototype.markerOptions = function markerOptions () {
        var options = this.options;
        var markerColor = options.markerColor;
        return deepExtend({}, options.markers, {
            background: markerColor,
            border: {
                color: markerColor
            }
        });
    };

    LegendItem.prototype.createLabel = function createLabel () {
        var options = this.options;
        var labelOptions = deepExtend({}, options.labels);

        this.container.append(new TextBox(options.text, labelOptions));
    };

    LegendItem.prototype.renderComplete = function renderComplete () {
        BoxElement$$1.prototype.renderComplete.call(this);

        var cursor = this.options.cursor || {};
        var eventSink = this._itemOverlay = _progress_kendoDrawing.drawing.Path.fromRect(this.container.box.toRect(), {
            fill: {
                color: WHITE,
                opacity: 0
            },
            stroke: null,
            cursor: cursor.style || cursor
        });

        this.appendVisual(eventSink);
    };

    LegendItem.prototype.click = function click (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_CLICK, args) && e && e.type === 'contextmenu') {
            e.preventDefault();
        }
    };

    LegendItem.prototype.over = function over (widget, e) {
        var args = this.eventArgs(e);

        if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {
            widget._legendItemHover(args.seriesIndex, args.pointIndex);
        }

        // Don't trigger point hover for legend items
        return true;
    };

    LegendItem.prototype.out = function out (widget, e) {
        widget._unsetActivePoint();

        widget.trigger(LEGEND_ITEM_LEAVE, this.eventArgs(e));
    };

    LegendItem.prototype.eventArgs = function eventArgs (e) {
        var options = this.options;

        return {
            element: eventElement(e),
            text: options.text,
            series: options.series,
            seriesIndex: options.series.index,
            pointIndex: options.pointIndex
        };
    };

    LegendItem.prototype.renderVisual = function renderVisual () {
        var this$1 = this;

        var options = this.options;
        var customVisual = options.visual;

        if (customVisual) {
            this.visual = customVisual({
                active: options.active,
                series: options.series,
                sender: this.getSender(),
                pointIndex: options.pointIndex,
                options: {
                    markers: this.markerOptions(),
                    labels: options.labels
                },
                createVisual: function () {
                    this$1.createVisual();
                    this$1.renderChildren();
                    this$1.renderComplete();

                    var defaultVisual = this$1.visual;

                    delete this$1.visual;

                    return defaultVisual;
                }
            });
            this.addVisual();
        } else {
            BoxElement$$1.prototype.renderVisual.call(this);
        }
    };

    return LegendItem;
}(BoxElement));

var HORIZONTAL = "horizontal";
var POINTER = "pointer";
var CUSTOM = "custom";

var Legend = (function (ChartElement$$1) {
    function Legend(options, chartService) {
        if ( chartService === void 0 ) chartService = {};

        ChartElement$$1.call(this, options);

        this.chartService = chartService;

        if (!inArray(this.options.position, [ TOP, RIGHT, BOTTOM, LEFT, CUSTOM ])) {
            this.options.position = RIGHT;
        }

        this.createContainer();

        this.createItems();
    }

    if ( ChartElement$$1 ) Legend.__proto__ = ChartElement$$1;
    Legend.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    Legend.prototype.constructor = Legend;

    Legend.prototype.createContainer = function createContainer () {
        var options = this.options;
        var position = options.position;
        var userAlign = options.align;
        var align = position;
        var vAlign = CENTER;

        if (position === CUSTOM) {
            align = LEFT;
        } else if (inArray(position, [ TOP, BOTTOM ])) {
            if (userAlign === "start") {
                align = LEFT;
            } else if (userAlign === "end") {
                align = RIGHT;
            } else {
                align = CENTER;
            }
            vAlign = position;
        } else if (userAlign) {
            if (userAlign === "start") {
                vAlign = TOP;
            } else if (userAlign === "end") {
                vAlign = BOTTOM;
            }
        }

        this.container = new BoxElement({
            margin: options.margin,
            padding: options.padding,
            background: options.background,
            border: options.border,
            vAlign: vAlign,
            align: align,
            zIndex: options.zIndex,
            shrinkToFit: true
        });

        this.append(this.container);
    };

    Legend.prototype.createItems = function createItems () {
        var chartService = this.getService();
        var options = this.options;
        var vertical = this.isVertical();
        var innerElement = new LegendLayout({
            vertical: vertical,
            spacing: options.spacing,
            rtl: chartService.rtl
        }, chartService);
        var items = options.items;

        if (options.reverse) {
            items = items.slice(0).reverse();
        }

        var count = items.length;

        for (var i = 0; i < count; i++) {
            var item = items[i];

            innerElement.append(new LegendItem(deepExtend({}, {
                markers: options.markers,
                labels: options.labels,
                rtl: chartService.rtl
            }, options.item, item)));
        }

        innerElement.render();

        this.container.append(innerElement);
    };

    Legend.prototype.isVertical = function isVertical () {
        var ref = this.options;
        var orientation = ref.orientation;
        var position = ref.position;
        var vertical = (position === CUSTOM && orientation !== HORIZONTAL) ||
               (defined(orientation) ? orientation !== HORIZONTAL : inArray(position, [ LEFT, RIGHT ]));

        return vertical;
    };

    Legend.prototype.hasItems = function hasItems () {
        return this.container.children[0].children.length > 0;
    };

    Legend.prototype.reflow = function reflow (targetBox) {
        var options = this.options;
        var legendBox = targetBox.clone();

        if (!this.hasItems()) {
            this.box = legendBox;
            return;
        }

        if (options.position === CUSTOM) {
            this.containerCustomReflow(legendBox);
            this.box = legendBox;
        } else {
            this.containerReflow(legendBox);
        }
    };

    Legend.prototype.containerReflow = function containerReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var position = options.position;
        var width = options.width;
        var height = options.height;
        var pos = position === TOP || position === BOTTOM ? X : Y;
        var vertical = this.isVertical();
        var alignTarget = targetBox.clone();
        var containerBox = targetBox.clone();

        if (position === LEFT || position === RIGHT) {
            containerBox.y1 = alignTarget.y1 = 0;
        }

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
            containerBox.align(alignTarget, Y, container.options.vAlign);
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
            containerBox.align(alignTarget, X, container.options.align);
        }

        container.reflow(containerBox);
        containerBox = container.box;

        var box = containerBox.clone();

        if (options.offsetX || options.offsetY) {
            containerBox.translate(options.offsetX, options.offsetY);
            this.container.reflow(containerBox);
        }

        box[pos + 1] = targetBox[pos + 1];
        box[pos + 2] = targetBox[pos + 2];

        this.box = box;
    };

    Legend.prototype.containerCustomReflow = function containerCustomReflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var container = ref.container;
        var offsetX = options.offsetX;
        var offsetY = options.offsetY;
        var width = options.width;
        var height = options.height;
        var vertical = this.isVertical();
        var containerBox = targetBox.clone();

        if (vertical && height) {
            containerBox.y2 = containerBox.y1 + height;
        } else if (!vertical && width) {
            containerBox.x2 = containerBox.x1 + width;
        }
        container.reflow(containerBox);
        containerBox = container.box;

        container.reflow(new Box(
            offsetX, offsetY,
            offsetX + containerBox.width(), offsetY + containerBox.height()
        ));
    };

    Legend.prototype.renderVisual = function renderVisual () {
        if (this.hasItems()) {
            ChartElement$$1.prototype.renderVisual.call(this);
        }
    };

    return Legend;
}(ChartElement));

setDefaultOptions(Legend, {
    position: RIGHT,
    items: [],
    offsetX: 0,
    offsetY: 0,
    margin: getSpacing(5),
    padding: getSpacing(5),
    border: {
        color: BLACK,
        width: 0
    },
    item: {
        cursor: POINTER,
        spacing: 6
    },
    spacing: 6,
    background: "",
    zIndex: 1,
    markers: {
        border: {
            width: 0
        },
        width: 15,
        height: 3,
        type: "rect",
        align: LEFT,
        vAlign: CENTER
    }
});

var PlotAreaFactory = (function (Class$$1) {
    function PlotAreaFactory() {
        Class$$1.call(this);

        this._registry = [];
    }

    if ( Class$$1 ) PlotAreaFactory.__proto__ = Class$$1;
    PlotAreaFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    PlotAreaFactory.prototype.constructor = PlotAreaFactory;

    PlotAreaFactory.prototype.register = function register (type, seriesTypes) {
        this._registry.push({
            type: type,
            seriesTypes: seriesTypes
        });
    };

    PlotAreaFactory.prototype.create = function create (srcSeries, options, chartService) {
        var registry = this._registry;
        var match = registry[0];
        var series;

        for (var idx = 0; idx < registry.length; idx++) {
            var entry = registry[idx];
            series = filterSeriesByType(srcSeries, entry.seriesTypes);

            if (series.length > 0) {
                match = entry;
                break;
            }
        }

        return new match.type(series, options, chartService);
    };

    return PlotAreaFactory;
}(_progress_kendoDrawing.Class));

PlotAreaFactory.current = new PlotAreaFactory();

var ZOOM_ACCELERATION = 3;
var SELECTOR_HEIGHT_ADJUST = 0.1;

function createDiv(className) {
    var element = document.createElement("div");
    if (className) {
        element.className = className;
    }

    return element;
}

function closestHandle(element) {
    var current = element;
    while (current && !hasClasses(current, "k-handle")) {
        current = current.parentNode;
    }

    return current;
}

var Selection = (function (Class$$1) {
    function Selection(chart, categoryAxis, options, observer) {
        Class$$1.call(this);

        var chartElement = chart.element;

        this.options = deepExtend({}, this.options, options);
        this.chart = chart;
        this.observer = observer;
        this.chartElement = chartElement;
        this.categoryAxis = categoryAxis;
        this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;

        this.initOptions();

        this.visible = this.options.visible && chartElement.offsetHeight;

        if (this.visible) {
            this.createElements();

            this.set(this._index(this.options.from), this._index(this.options.to));

            this.bindEvents();
        }
    }

    if ( Class$$1 ) Selection.__proto__ = Class$$1;
    Selection.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Selection.prototype.constructor = Selection;

    Selection.prototype.onPane = function onPane (pane) {
        return this.categoryAxis.pane === pane;
    };

    Selection.prototype.createElements = function createElements () {
        var options = this.options;
        var wrapper = this.wrapper = createDiv("k-selector");
        elementStyles(wrapper, {
            top: options.offset.top,
            left: options.offset.left,
            width: options.width,
            height: options.height,
            direction: 'ltr'
        });
        var selection = this.selection = createDiv("k-selection");
        this.leftMask = createDiv("k-mask");
        this.rightMask = createDiv("k-mask");

        wrapper.appendChild(this.leftMask);
        wrapper.appendChild(this.rightMask);
        wrapper.appendChild(selection);

        selection.appendChild(createDiv("k-selection-bg"));

        var leftHandle = this.leftHandle = createDiv("k-handle k-left-handle");
        var rightHandle = this.rightHandle = createDiv("k-handle k-right-handle");
        leftHandle.appendChild(createDiv());
        rightHandle.appendChild(createDiv());

        selection.appendChild(leftHandle);
        selection.appendChild(rightHandle);

        this.chartElement.appendChild(wrapper);
        var selectionStyles = elementStyles(selection, [ "borderLeftWidth", "borderRightWidth", "height" ]);
        var leftHandleHeight = elementStyles(leftHandle, "height").height;
        var rightHandleHeight = elementStyles(rightHandle, "height").height;

        options.selection = {
            border: {
                left: selectionStyles.borderLeftWidth,
                right: selectionStyles.borderRightWidth
            }
        };

        elementStyles(leftHandle, {
            top: (selectionStyles.height - leftHandleHeight) / 2
        });

        elementStyles(rightHandle, {
            top: (selectionStyles.height - rightHandleHeight) / 2
        });

        wrapper.style.cssText = wrapper.style.cssText;
    };

    Selection.prototype.bindEvents = function bindEvents$1 () {
        if (this.options.mousewheel !== false) {
            this._mousewheelHandler = this._mousewheel.bind(this);
            var obj;
            bindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
        }

        this._domEvents = DomEventsBuilder.create(this.wrapper, {
            stopPropagation: true, // applicable for the jQuery UserEvents
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            press: this._press.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });
    };

    Selection.prototype.initOptions = function initOptions () {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var box = categoryAxis.pane.chartsBox();
        var intlService = this.chart.chartService.intl;

        if (this._dateAxis) {
            deepExtend(options, {
                min: parseDate(intlService, options.min),
                max: parseDate(intlService, options.max),
                from: parseDate(intlService, options.from),
                to: parseDate(intlService, options.to)
            });
        }

        var ref$1 = elementStyles(this.chartElement, [ "paddingLeft", "paddingTop" ]);
        var paddingLeft = ref$1.paddingLeft;
        var paddingTop = ref$1.paddingTop;

        this.options = deepExtend({}, {
            width: box.width(),
            height: box.height() + SELECTOR_HEIGHT_ADJUST, //workaround for sub-pixel hover on the paths in chrome
            padding: {
                left: paddingLeft,
                top: paddingTop
            },
            offset: {
                left: box.x1 + paddingLeft,
                top: box.y1 + paddingTop
            },
            from: options.min,
            to: options.max
        }, options);
    };

    Selection.prototype.destroy = function destroy () {
        if (this._domEvents) {
            this._domEvents.destroy();
            delete this._domEvents;
        }

        clearTimeout(this._mwTimeout);
        this._state = null;

        if (this.wrapper) {
            if (this._mousewheelHandler) {
                var obj;
                unbindEvents(this.wrapper, ( obj = {}, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj ));
                this._mousewheelHandler = null;
            }
            this.chartElement.removeChild(this.wrapper);
            this.wrapper = null;
        }
    };

    Selection.prototype._rangeEventArgs = function _rangeEventArgs (range) {

        return {
            axis: this.categoryAxis.options,
            from: this._value(range.from),
            to: this._value(range.to)
        };
    };

    Selection.prototype._start = function _start (e) {
        var options = this.options;
        var target = eventElement(e);

        if (this._state || !target) {
            return;
        }

        this.chart._unsetActivePoint();
        this._state = {
            moveTarget: closestHandle(target) || target,
            startLocation: e.x ? e.x.location : 0,
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };

        var args = this._rangeEventArgs({
            from: this._index(options.from),
            to: this._index(options.to)
        });

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        }
    };

    Selection.prototype._press = function _press (e) {
        var handle;
        if (this._state) {
            handle = this._state.moveTarget;
        } else {
            handle = closestHandle(eventElement(e));
        }
        if (handle) {
            addClass(handle, "k-handle-active");
        }
    };

    Selection.prototype._move = function _move (e) {
        if (!this._state) {
            return;
        }

        var ref = this;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var target = state.moveTarget;
        var reverse = categoryAxis.options.reverse;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var delta = state.startLocation - e.x.location;
        var oldRange = { from: range.from, to: range.to };
        var span = range.to - range.from;
        var scale = elementStyles(this.wrapper, "width").width / (categoryAxis.categoriesCount() - 1);
        var offset = Math.round(delta / scale) * (reverse ? -1 : 1);

        if (!target) {
            return;
        }

        var leftHandle = hasClasses(target, "k-left-handle");
        var rightHandle = hasClasses(target, "k-right-handle");

        if (hasClasses(target, "k-selection k-selection-bg")) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - span
            );
            range.to = Math.min(
                range.from + span,
                max
            );
        } else if ((leftHandle && !reverse) || (rightHandle && reverse)) {
            range.from = Math.min(
                Math.max(min, from - offset),
                max - 1
            );
            range.to = Math.max(range.from + 1, range.to);
        } else if ((leftHandle && reverse) || (rightHandle && !reverse)) {
            range.to = Math.min(
                Math.max(min + 1, to - offset),
                max
            );
            range.from = Math.min(range.to - 1, range.from);
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.move(range.from, range.to);
            this.trigger(SELECT, this._rangeEventArgs(range));
        }
    };

    Selection.prototype._end = function _end () {
        if (this._state) {
            var moveTarget = this._state.moveTarget;
            if (moveTarget) {
                removeClass(moveTarget, "k-handle-active");
            }

            var range = this._state.range;
            this.set(range.from, range.to);
            this.trigger(SELECT_END, this._rangeEventArgs(range));

            delete this._state;
        }
    };

    Selection.prototype._tap = function _tap (e) {
        var ref = this;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var coords = this.chart._eventCoordinates(e);
        var categoryIx = categoryAxis.pointCategoryIndex(new Point(coords.x, categoryAxis.box.y1));
        var from = this._index(options.from);
        var to = this._index(options.to);
        var min = this._index(options.min);
        var max = this._index(options.max);
        var span = to - from;
        var mid = from + span / 2;
        var range = {};
        var rightClick = e.event.which === 3;
        var offset = Math.round(mid - categoryIx);

        if (this._state || rightClick) {
            return;
        }


        this.chart._unsetActivePoint();

        if (!categoryAxis.options.justified) {
            offset--;
        }

        range.from = Math.min(
            Math.max(min, from - offset),
            max - span
        );

        range.to = Math.min(range.from + span, max);

        this._start(e);
        if (this._state) {
            this._state.range = range;
            this.trigger(SELECT, this._rangeEventArgs(range));
            this._end();
        }
    };

    Selection.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);

        this._start({ target: this.selection });

        if (this._state) {
            var range = this._state.range;

            e.preventDefault();
            e.stopPropagation();

            if (Math.abs(delta) > 1) {
                delta *= ZOOM_ACCELERATION;
            }

            if (this.options.mousewheel.reverse) {
                delta *= -1;
            }

            if (this.expand(delta)) {
                this.trigger(SELECT, {
                    axis: this.categoryAxis.options,
                    delta: delta,
                    originalEvent: e,
                    from: this._value(range.from),
                    to: this._value(range.to)
                });
            }

            if (this._mwTimeout) {
                clearTimeout(this._mwTimeout);
            }

            this._mwTimeout = setTimeout(function () {
                this$1._end();
            }, MOUSEWHEEL_DELAY);
        }
    };

    Selection.prototype._gesturestart = function _gesturestart (e) {
        var options = this.options;

        this._state = {
            range: {
                from: this._index(options.from),
                to: this._index(options.to)
            }
        };
        var args = this._rangeEventArgs(this._state.range);

        if (this.trigger(SELECT_START, args)) {
            this._state = null;
        } else {
            e.preventDefault();
        }
    };

    Selection.prototype._gestureend = function _gestureend () {
        if (this._state) {
            this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));
            delete this._state;
        }
    };

    Selection.prototype._gesturechange = function _gesturechange (e) {
        var ref = this;
        var chart = ref.chart;
        var state = ref._state;
        var options = ref.options;
        var categoryAxis = ref.categoryAxis;
        var range = state.range;
        var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;
        var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;
        var left = Math.min(p0, p1);
        var right = Math.max(p0, p1);

        e.preventDefault();

        range.from = categoryAxis.pointCategoryIndex(new Point(left)) || options.min;

        range.to = categoryAxis.pointCategoryIndex(new Point(right)) || options.max;

        this.move(range.from, range.to);

        this.trigger(SELECT, this._rangeEventArgs(range));
    };

    Selection.prototype._index = function _index (value) {
        var index = value;

        if (value instanceof Date) {
            index = this.categoryAxis.categoryIndex(value);
        }

        return index;
    };

    Selection.prototype._value = function _value (index) {
        var value = index;
        if (this._dateAxis) {
            value = this.categoryAxis.categoryAt(index);
            if (value > this.options.max) {
                value = this.options.max;
            }
        }

        return value;
    };

    Selection.prototype._slot = function _slot (value) {
        var categoryAxis = this.categoryAxis;
        var index = this._index(value);

        return categoryAxis.getSlot(index, index, true);
    };

    Selection.prototype.move = function move (from, to) {
        var options = this.options;
        var reverse = this.categoryAxis.options.reverse;
        var offset = options.offset;
        var padding = options.padding;
        var border = options.selection.border;
        var left = reverse ? to : from;
        var right = reverse ? from : to;
        var edge = 'x' + (reverse ? 2 : 1);

        var box = this._slot(left);
        var leftMaskWidth = round(box[edge] - offset.left + padding.left);

        elementStyles(this.leftMask, {
            width: leftMaskWidth
        });
        elementStyles(this.selection, {
            left: leftMaskWidth
        });

        box = this._slot(right);

        var rightMaskWidth = round(options.width - (box[edge] - offset.left + padding.left));
        elementStyles(this.rightMask, {
            width: rightMaskWidth
        });

        var distance = options.width - rightMaskWidth;
        if (distance !== options.width) {
            distance += border.right;
        }

        elementStyles(this.rightMask, {
            left: distance
        });
        elementStyles(this.selection, {
            width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)
        });
    };

    Selection.prototype.set = function set (from, to) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var fromValue = limitValue(this._index(from), min, max);
        var toValue = limitValue(this._index(to), fromValue + 1, max);

        if (options.visible) {
            this.move(fromValue, toValue);
        }

        options.from = this._value(fromValue);
        options.to = this._value(toValue);
    };

    Selection.prototype.expand = function expand (delta) {
        var options = this.options;
        var min = this._index(options.min);
        var max = this._index(options.max);
        var zDir = options.mousewheel.zoom;
        var from = this._index(options.from);
        var to = this._index(options.to);
        var range = { from: from, to: to };
        var oldRange = deepExtend({}, range);

        if (this._state) {
            range = this._state.range;
        }

        if (zDir !== RIGHT) {
            range.from = limitValue(
                limitValue(from - delta, 0, to - 1),
                min, max
            );
        }

        if (zDir !== LEFT) {
            range.to = limitValue(
                limitValue(to + delta, range.from + 1, max),
                min,
                max
             );
        }

        if (range.from !== oldRange.from || range.to !== oldRange.to) {
            this.set(range.from, range.to);
            return true;
        }
    };

    Selection.prototype.trigger = function trigger (name, args) {
        return (this.observer || this.chart).trigger(name, args);
    };

    return Selection;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Selection, {
    visible: true,
    mousewheel: {
        zoom: "both"
    },
    min: MIN_VALUE,
    max: MAX_VALUE
});

var Tooltip = (function (BaseTooltip$$1) {
    function Tooltip () {
        BaseTooltip$$1.apply(this, arguments);
    }

    if ( BaseTooltip$$1 ) Tooltip.__proto__ = BaseTooltip$$1;
    Tooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    Tooltip.prototype.constructor = Tooltip;

    Tooltip.prototype.show = function show (point) {
        if (!point || !point.tooltipAnchor || (this._current && this._current === point)) {
            return;
        }

        var options = deepExtend({}, this.options, point.options.tooltip);
        var anchor = point.tooltipAnchor();

        if (anchor) {
            this._current = point;
            BaseTooltip$$1.prototype.show.call(this, {
                point: point,
                anchor: anchor
            }, options, point);
        } else {
            this.hide();
        }
    };

    Tooltip.prototype.hide = function hide () {
        delete this._current;
        BaseTooltip$$1.prototype.hide.call(this);
    };

    return Tooltip;
}(BaseTooltip));

var SharedTooltip = (function (BaseTooltip$$1) {
    function SharedTooltip(plotArea, options) {
        BaseTooltip$$1.call(this, plotArea.chartService, options);

        this.plotArea = plotArea;
        this.formatService = plotArea.chartService.format;
    }

    if ( BaseTooltip$$1 ) SharedTooltip.__proto__ = BaseTooltip$$1;
    SharedTooltip.prototype = Object.create( BaseTooltip$$1 && BaseTooltip$$1.prototype );
    SharedTooltip.prototype.constructor = SharedTooltip;

    SharedTooltip.prototype.showAt = function showAt (points, coords) {
        var tooltipPoints = grep(points, function(point) {
            var tooltip = point.series.tooltip;
            var excluded = tooltip && tooltip.visible === false;

            return !excluded;
        });

        if (tooltipPoints.length > 0) {
            var point = tooltipPoints[0];
            var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);

            var anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);

            this.show({
                anchor: anchor,
                shared: true,
                points: points,
                category: point.category,
                categoryText: this.formatService.auto(this.options.categoryFormat, point.category),
                series: this.plotArea.series
            }, this.options);
        }
    };

    SharedTooltip.prototype._slotAnchor = function _slotAnchor (point, slot) {
        var axis = this.plotArea.categoryAxis;
        var align = {
            horizontal: "left",
            vertical: "center"
        };

        if (!axis.options.vertical) {
            point.x = slot.center().x;
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        var box = point.owner.pane.chartsBox();
        var vertical = this.plotArea.categoryAxis.options.vertical;
        var center = box.center();
        var slotCenter = slot.center();
        var align = {
            horizontal: "center",
            vertical: "center"
        };

        var centerPoint;
        if (vertical) {
            centerPoint = new Point(center.x, slotCenter.y);
        } else {
            centerPoint = new Point(slotCenter.x, center.y);
        }

        return {
            point: centerPoint,
            align: align
        };
    };

    return SharedTooltip;
}(BaseTooltip));

setDefaultOptions(SharedTooltip, {
    categoryFormat: '{0:d}'
});

var BarChartAnimation = (function (superclass) {
    function BarChartAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarChartAnimation.__proto__ = superclass;
    BarChartAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarChartAnimation.prototype.constructor = BarChartAnimation;

    BarChartAnimation.prototype.setup = function setup () {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var bbox = element.bbox();

        if (bbox) {
            this.origin = options.origin;
            var axis = options.vertical ? Y : X;

            var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(1, 1);
            fromScale[axis] = START_SCALE;

            element.transform(_progress_kendoDrawing.geometry.transform()
                .scale(fromScale.x, fromScale.y)
            );
        } else {
            this.abort();
        }
    };

    BarChartAnimation.prototype.step = function step (pos) {
        var scaleX = interpolateValue(this.fromScale.x, 1, pos);
        var scaleY = interpolateValue(this.fromScale.y, 1, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(scaleX, scaleY, this.origin)
        );
    };

    BarChartAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        this.element.transform(null);
    };

    return BarChartAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarChartAnimation, {
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR, BarChartAnimation);

var BubbleAnimation = (function (superclass) {
    function BubbleAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BubbleAnimation.__proto__ = superclass;
    BubbleAnimation.prototype = Object.create( superclass && superclass.prototype );
    BubbleAnimation.prototype.constructor = BubbleAnimation;

    BubbleAnimation.prototype.setup = function setup () {
        var center = this.center = this.element.bbox().center();
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, center)
        );
    };

    BubbleAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.center)
        );
    };

    return BubbleAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BubbleAnimation, {
    easing: "easeOutElastic"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BUBBLE, BubbleAnimation);

var FadeInAnimation = (function (superclass) {
    function FadeInAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeInAnimation.__proto__ = superclass;
    FadeInAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeInAnimation.prototype.constructor = FadeInAnimation;

    FadeInAnimation.prototype.setup = function setup () {
        this.fadeTo = this.element.opacity();
        this.element.opacity(0);
    };

    FadeInAnimation.prototype.step = function step (pos) {
        this.element.opacity(pos * this.fadeTo);
    };

    return FadeInAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(FadeInAnimation, {
    duration: 200,
    easing: "linear"
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(FADEIN, FadeInAnimation);

var PieAnimation = (function (superclass) {
    function PieAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) PieAnimation.__proto__ = superclass;
    PieAnimation.prototype = Object.create( superclass && superclass.prototype );
    PieAnimation.prototype.constructor = PieAnimation;

    PieAnimation.prototype.setup = function setup () {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(START_SCALE, START_SCALE, this.options.center)
        );
    };

    PieAnimation.prototype.step = function step (pos) {
        this.element.transform(_progress_kendoDrawing.geometry.transform()
            .scale(pos, pos, this.options.center)
        );
    };

    return PieAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(PieAnimation, {
    easing: "easeOutElastic",
    duration: INITIAL_ANIMATION_DURATION
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(PIE, PieAnimation);

var ScatterLineChart = (function (ScatterChart$$1) {
    function ScatterLineChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) ScatterLineChart.__proto__ = ScatterChart$$1;
    ScatterLineChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    ScatterLineChart.prototype.constructor = ScatterLineChart;

    ScatterLineChart.prototype.render = function render () {
        ScatterChart$$1.prototype.render.call(this);

        this.renderSegments();
    };

    ScatterLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        return new pointType(linePoints, currentSeries, seriesIx);
    };

    ScatterLineChart.prototype.animationPoints = function animationPoints () {
        var points = ScatterChart$$1.prototype.animationPoints.call(this);
        return points.concat(this._segments);
    };

    ScatterLineChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        if (missingValues === ZERO) {
            var missingValue = {
                x: value.x,
                y: value.y
            };
            if (!hasValue(missingValue.x)) {
                missingValue.x = 0;
            }
            if (!hasValue(missingValue.y)) {
                missingValue.y = 0;
            }
            return missingValue;
        }
    };

    return ScatterLineChart;
}(ScatterChart));

deepExtend(ScatterLineChart.prototype, LineChartMixin);

var XYPlotArea = (function (PlotAreaBase$$1) {
    function XYPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) XYPlotArea.__proto__ = PlotAreaBase$$1;
    XYPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    XYPlotArea.prototype.constructor = XYPlotArea;

    XYPlotArea.prototype.initFields = function initFields () {
        this.namedXAxes = {};
        this.namedYAxes = {};

        this.xAxisRangeTracker = new AxisGroupRangeTracker();
        this.yAxisRangeTracker = new AxisGroupRangeTracker();
    };

    XYPlotArea.prototype.render = function render (panes) {
        var this$1 = this;
        if ( panes === void 0 ) panes = this.panes;

        var seriesByPane = this.groupSeriesByPane();

        for (var i = 0; i < panes.length; i++) {
            var pane = panes[i];
            var paneSeries = seriesByPane[pane.options.name || "default"] || [];
            this$1.addToLegend(paneSeries);
            var filteredSeries = this$1.filterVisibleSeries(paneSeries);

            if (!filteredSeries) {
                continue;
            }

            this$1.createScatterChart(
                filterSeriesByType(filteredSeries, SCATTER),
                pane
            );

            this$1.createScatterLineChart(
                filterSeriesByType(filteredSeries, SCATTER_LINE),
                pane
            );

            this$1.createBubbleChart(
                filterSeriesByType(filteredSeries, BUBBLE),
                pane
            );
        }

        this.createAxes(panes);
    };

    XYPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.xAxisRangeTracker.update(chart.xAxisRanges);
        this.yAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
    };

    XYPlotArea.prototype.removeAxis = function removeAxis (axis) {
        var axisName = axis.options.name;

        PlotAreaBase$$1.prototype.removeAxis.call(this, axis);

        if (axis.options.vertical) {
            this.yAxisRangeTracker.reset(axisName);
            delete this.namedYAxes[axisName];
        } else {
            this.xAxisRangeTracker.reset(axisName);
            delete this.namedXAxes[axisName];
        }

        if (axis === this.axisX) {
            delete this.axisX;
        }

        if (axis === this.axisY) {
            delete this.axisY;
        }
    };

    // TODO: Refactor, optionally use series.pane option
    XYPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {
        var options = this.options;
        var xAxisName = series.xAxis;
        var xAxisOptions = [].concat(options.xAxis);
        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];
        var yAxisName = series.yAxis;
        var yAxisOptions = [].concat(options.yAxis);
        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];
        var panes = options.panes || [ {} ];
        var defaultPaneName = panes[0].name || "default";
        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;

        return paneName;
    };

    XYPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createScatterLineChart = function createScatterLineChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new ScatterLineChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createBubbleChart = function createBubbleChart (series, pane) {
        if (series.length > 0) {
            this.appendChart(
                new BubbleChart(this, { series: series, clip: pane.options.clip }),
                pane
            );
        }
    };

    XYPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {
        var axisName = options.name;
        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;
        var tracker = vertical ? this.yAxisRangeTracker : this.xAxisRangeTracker;
        var axisOptions = deepExtend({ reverse: !vertical && this.chartService.rtl }, options, { vertical: vertical });
        var isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC);
        var defaultRange = tracker.query();
        var defaultAxisRange = isLog ? { min: 0.1, max: 1 } : { min: 0, max: 1 };
        var range = tracker.query(axisName) || defaultRange || defaultAxisRange;
        var typeSamples = [ axisOptions.min, axisOptions.max ];
        var series = this.series;

        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {
            var currentSeries = series[seriesIx];
            var seriesAxisName = currentSeries[vertical ? "yAxis" : "xAxis"];
            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {
                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;
                typeSamples.push(firstPointValue[vertical ? "y" : "x"]);

                break;
            }
        }

        if (axisIndex === 0 && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var inferredDate;

        for (var i = 0; i < typeSamples.length; i++) {
            if (typeSamples[i] instanceof Date) {
                inferredDate = true;
                break;
            }
        }

        var axisType;
        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {
            axisType = DateValueAxis;
        } else if (isLog) {
            axisType = LogarithmicAxis;
        } else {
            axisType = NumericAxis;
        }

        var axis = new axisType(range.min, range.max, axisOptions, this.chartService);
        axis.axisIndex = axisIndex;

        if (axisName) {
            if (namedAxes[axisName]) {
                throw new Error(((vertical ? "Y" : "X") + " axis with name " + axisName + " is already defined"));
            }
            namedAxes[axisName] = axis;
        }

        this.appendAxis(axis);

        return axis;
    };

    XYPlotArea.prototype.createAxes = function createAxes (panes) {
        var this$1 = this;

        var options = this.options;
        var xAxesOptions = [].concat(options.xAxis);
        var xAxes = [];
        var yAxesOptions = [].concat(options.yAxis);
        var yAxes = [];

        for (var idx = 0; idx < xAxesOptions.length; idx++) {
            var axisPane = this$1.findPane(xAxesOptions[idx].pane);
            if (inArray(axisPane, panes)) {
                xAxes.push(this$1.createXYAxis(xAxesOptions[idx], false, idx));
            }
        }

        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {
            var axisPane$1 = this$1.findPane(yAxesOptions[idx$1].pane);
            if (inArray(axisPane$1, panes)) {
                yAxes.push(this$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));
            }
        }

        this.axisX = this.axisX || xAxes[0];
        this.axisY = this.axisY || yAxes[0];
    };

    XYPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var allAxes = this.axes;
        var length = allAxes.length;
        var xValues = [];
        var yValues = [];

        for (var i = 0; i < length; i++) {
            var axis = allAxes[i];
            var values = axis.options.vertical ? yValues : xValues;
            var currentValue = axis.getValue(point);
            if (currentValue !== null) {
                values.push(currentValue);
            }
        }

        if (xValues.length > 0 && yValues.length > 0) {
            chart.trigger(eventType, {
                element: eventElement(e),
                originalEvent: e,
                x: singleItemOrArray(xValues),
                y: singleItemOrArray(yValues)
            });
        }
    };

    XYPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {
        var vertical = axis.options.vertical;
        var axes = this.groupAxes(this.panes);
        var index = (vertical ? axes.y : axes.x).indexOf(axis);

        updateAxisOptions$1$1(this.options, index, vertical, options);
        updateAxisOptions$1$1(this.originalOptions, index, vertical, options);
    };

    return XYPlotArea;
}(PlotAreaBase));

function updateAxisOptions$1$1(targetOptions, axisIndex, vertical, options) {
    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];
    deepExtend(axisOptions, options);
}

setDefaultOptions(XYPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(XYPlotArea.prototype, PlotAreaEventsMixin);

var PieSegment = (function (ChartElement$$1) {
    function PieSegment(value, sector, options) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.sector = sector;
    }

    if ( ChartElement$$1 ) PieSegment.__proto__ = ChartElement$$1;
    PieSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieSegment.prototype.constructor = PieSegment;

    PieSegment.prototype.render = function render () {
        var labels = this.options.labels;
        var chartService = this.owner.chartService;
        var labelText = this.value;

        if (this._rendered || this.visible === false) {
            return;
        }
        this._rendered = true;

        var labelTemplate = getTemplate(labels);
        var pointData = this.pointData();

        if (labelTemplate) {
            labelText = labelTemplate(pointData);
        } else if (labels.format) {
            labelText = chartService.format.auto(labels.format, labelText);
        }

        if (labels.visible && (labelText || labelText === 0)) {
            if (labels.position === CENTER || labels.position === INSIDE_END) {
                if (!labels.color) {
                    var brightnessValue = new _progress_kendoDrawing.Color(this.options.color).percBrightness();
                    if (brightnessValue > 180) {
                        labels.color = BLACK;
                    } else {
                        labels.color = WHITE;
                    }
                }
                if (!labels.background) {
                    labels.background = this.options.color;
                }
            } else {
                var themeLabels = chartService.theme.seriesDefaults.labels;
                labels.color = labels.color || themeLabels.color;
                labels.background = labels.background || themeLabels.background;
            }


            this.label = new TextBox(labelText, deepExtend({}, labels, {
                align: CENTER,
                vAlign: "",
                animation: {
                    type: FADEIN,
                    delay: this.animationDelay
                }
            }), pointData);

            this.append(this.label);
        }
    };

    PieSegment.prototype.reflow = function reflow (targetBox) {
        this.render();
        this.box = targetBox;
        this.reflowLabel();
    };

    PieSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var labelsDistance = labelsOptions.distance;
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            var labelWidth = label.box.width();
            var lp;

            if (labelsOptions.position === CENTER) {
                sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else if (labelsOptions.position === INSIDE_END) {
                sector.radius = sector.radius - labelHeight / 2;
                lp = sector.point(angle);
                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                var x1;
                lp = sector.clone().expand(labelsDistance).point(angle);
                if (lp.x >= sector.center.x) {
                    x1 = lp.x + labelWidth;
                    label.orientation = RIGHT;
                } else {
                    x1 = lp.x - labelWidth;
                    label.orientation = LEFT;
                }
                label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));
            }
        }
    };

    PieSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var sector = ref.sector;
        var options = ref.options;

        ChartElement$$1.prototype.createVisual.call(this);

        if (this.value) {
            if (options.visual) {
                var startAngle = (sector.startAngle + 180) % 360;
                var visual = options.visual({
                    category: this.category,
                    dataItem: this.dataItem,
                    value: this.value,
                    series: this.series,
                    percentage: this.percentage,
                    center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
                    radius: sector.radius,
                    innerRadius: sector.innerRadius,
                    startAngle: startAngle,
                    endAngle: startAngle + sector.angle,
                    options: options,
                    sender: this.getSender(),
                    createVisual: function () {
                        var group = new _progress_kendoDrawing.drawing.Group();
                        this$1.createSegmentVisual(group);

                        return group;
                    }
                });

                if (visual) {
                    this.visual.append(visual);
                }
            } else {
                this.createSegmentVisual(this.visual);
            }
        }
    };

    PieSegment.prototype.createSegmentVisual = function createSegmentVisual (group) {
        var ref = this;
        var sector = ref.sector;
        var options = ref.options;
        var borderOptions = options.border || {};
        var border = borderOptions.width > 0 ? {
            stroke: {
                color: borderOptions.color,
                width: borderOptions.width,
                opacity: borderOptions.opacity,
                dashType: borderOptions.dashType
            }
        } : {};
        var color = options.color;
        var fill = {
            color: color,
            opacity: options.opacity
        };
        var visual = this.createSegment(sector, deepExtend({
            fill: fill,
            stroke: {
                opacity: options.opacity
            },
            zIndex: options.zIndex
        }, border));

        group.append(visual);

        if (hasGradientOverlay(options)) {
            group.append(this.createGradientOverlay(visual, {
                baseColor: color,
                fallbackFill: fill
            }, deepExtend({
                center: [ sector.center.x, sector.center.y ],
                innerRadius: sector.innerRadius,
                radius: sector.radius,
                userSpace: true
            }, options.overlay)));
        }
    };

    PieSegment.prototype.createSegment = function createSegment (sector, options) {
        if (options.singleSegment) {
            return new _progress_kendoDrawing.drawing.Circle(new _progress_kendoDrawing.geometry.Circle(new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y), sector.radius), options);
        }

        return ShapeBuilder.current.createRing(sector, options);
    };

    PieSegment.prototype.createAnimation = function createAnimation () {
        var ref = this;
        var options = ref.options;
        var center = ref.sector.center;

        deepExtend(options, {
            animation: {
                center: [ center.x, center.y ],
                delay: this.animationDelay
            }
        });

        ChartElement$$1.prototype.createAnimation.call(this);
    };

    PieSegment.prototype.createHighlight = function createHighlight (options) {
        var highlight = this.options.highlight || {};
        var border = highlight.border || {};

        return this.createSegment(this.sector, deepExtend({}, options, {
            fill: {
                color: highlight.color,
                opacity: highlight.opacity
            },
            stroke: {
                opacity: border.opacity,
                width: border.width,
                color: border.color
            }
        }));
    };

    PieSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var sector = this.sector;

        return {
            options: this.options,
            radius: sector.radius,
            innerRadius: sector.innerRadius,
            center: new _progress_kendoDrawing.geometry.Point(sector.center.x, sector.center.y),
            startAngle: sector.startAngle,
            endAngle: sector.angle + sector.startAngle,
            visual: this.visual
        };
    };

    PieSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var sector = this.sector.clone().expand(TOOLTIP_OFFSET);
        var midAndle = sector.middle();
        var midPoint = sector.point(midAndle);

        return {
            point: midPoint,
            align: tooltipAlignment(midAndle + 180)
        };
    };

    PieSegment.prototype.formatValue = function formatValue (format) {
        return this.owner.formatPointValue(this, format);
    };

    PieSegment.prototype.pointData = function pointData () {
        return {
            dataItem: this.dataItem,
            category: this.category,
            value: this.value,
            series: this.series,
            percentage: this.percentage
        };
    };

    return PieSegment;
}(ChartElement));

var RAD_30 = round(rad(30), DEFAULT_PRECISION);
var RAD_60 = round(rad(60), DEFAULT_PRECISION);

function tooltipAlignment(angle) {
    var radians = rad(angle);
    var sine = round(Math.sin(radians), DEFAULT_PRECISION);
    var cosine = round(Math.cos(radians), DEFAULT_PRECISION);


    var horizontal;
    if (Math.abs(sine) > RAD_60) {
        horizontal = CENTER;
    } else if (cosine < 0) {
        horizontal = RIGHT;
    } else {
        horizontal = LEFT;
    }

    var vertical;
    if (Math.abs(sine) < RAD_30) {
        vertical = CENTER;
    } else if (sine < 0) {
        vertical = BOTTOM;
    } else {
        vertical = TOP;
    }

    return {
        horizontal: horizontal,
        vertical: vertical
    };
}

setDefaultOptions(PieSegment, {
    color: WHITE,
    overlay: {
        gradient: "roundedBevel"
    },
    border: {
        width: 0.5
    },
    labels: {
        visible: false,
        distance: 35,
        font: DEFAULT_FONT,
        margin: getSpacing(0.5),
        align: CIRCLE,
        zIndex: 1,
        position: OUTSIDE_END
    },
    animation: {
        type: PIE
    },
    highlight: {
        visible: true,
        border: {
            width: 1
        }
    },
    visible: true
});

deepExtend(PieSegment.prototype, PointEventsMixin);

var PieChartMixin = {
    createLegendItem: function(value, point, options) {
        var legendOptions = this.options.legend || {};
        var labelsOptions = legendOptions.labels || {};
        var inactiveItems = legendOptions.inactiveItems || {};
        var inactiveItemsLabels = inactiveItems.labels || {};

        if (options && options.visibleInLegend !== false) {
            var pointVisible = options.visible !== false;
            var labelTemplate = pointVisible ? getTemplate(labelsOptions) :
                getTemplate(inactiveItemsLabels) || getTemplate(labelsOptions);
            var text = options.category;

            if (labelTemplate) {
                text = labelTemplate({
                    text: text,
                    series: options.series,
                    dataItem: options.dataItem,
                    percentage: options.percentage,
                    value: value
                });
            }

            var itemLabelOptions, markerColor;
            if (pointVisible) {
                itemLabelOptions = {};
                markerColor = point.color;
            } else {
                itemLabelOptions = {
                    color: inactiveItemsLabels.color,
                    font: inactiveItemsLabels.font
                };
                markerColor = (inactiveItems.markers || {}).color;
            }

            if (hasValue(text) && text !== "") {
                this.legendItems.push({
                    active: pointVisible,
                    pointIndex: options.index,
                    text: text,
                    series: options.series,
                    markerColor: markerColor,
                    labels: itemLabelOptions
                });
            }
        }
    }
};

var PIE_SECTOR_ANIM_DELAY = 70;

var PieChart = (function (ChartElement$$1) {
    function PieChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.chartService = plotArea.chartService;
        this.points = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) PieChart.__proto__ = ChartElement$$1;
    PieChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    PieChart.prototype.constructor = PieChart;

    PieChart.prototype.render = function render () {
        this.traverseDataPoints(this.addValue.bind(this));
    };

    PieChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var colorsCount = seriesColors.length;
        var series = options.series;
        var seriesCount = series.length;

        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {
            var currentSeries = series[seriesIx];
            var data = currentSeries.data;
            var ref$1 = bindSegments(currentSeries);
            var total = ref$1.total;
            var points = ref$1.points;
            var count = ref$1.count;
            var anglePerValue = 360 / total;
            var constantAngle = (void 0);
            if (!isFinite(anglePerValue)) {
                constantAngle = 360 / count;
            }
            var currentAngle = (void 0);

            if (defined(currentSeries.startAngle)) {
                currentAngle = currentSeries.startAngle;
            } else {
                currentAngle = options.startAngle;
            }

            if (seriesIx !== seriesCount - 1) {
                if (currentSeries.labels.position === OUTSIDE_END) {
                    currentSeries.labels.position = CENTER;
                }
            }

            for (var i = 0; i < points.length; i++) {
                var pointData = points[i];
                if (!pointData) {
                    continue;
                }

                var fields = pointData.fields;
                var value = pointData.value;
                var visible = pointData.visible;
                var angle = value !== 0 ? (constantAngle || (value * anglePerValue)) : 0;
                var explode = data.length !== 1 && Boolean(fields.explode);

                if (!isFunction(currentSeries.color)) {
                    currentSeries.color = fields.color || seriesColors[i % colorsCount];
                }

                callback(pointData.valueFields.value, new Ring(null, 0, 0, currentAngle, angle), {
                    owner: this$1,
                    category: defined(fields.category) ? fields.category : "",
                    index: i,
                    series: currentSeries,
                    seriesIx: seriesIx,
                    dataItem: data[i],
                    percentage: total !== 0 ? value / total : 0,
                    explode: explode,
                    visibleInLegend: fields.visibleInLegend,
                    visible: visible,
                    zIndex: seriesCount - seriesIx,
                    animationDelay: this$1.animationDelay(i, seriesIx, seriesCount)
                });

                if (visible !== false) {
                    currentAngle += angle;
                }
            }
        }
    };

    PieChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            category: fields.category,
            percentage: fields.percentage
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "visual", "toggle" ] });
    };

    PieChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (fields.visible === false) {
            return;
        }

        var segment = new PieSegment(value, sector, segmentOptions);
        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    PieChart.prototype.reflow = function reflow (targetBox) {
        var ref = this;
        var options = ref.options;
        var points = ref.points;
        var seriesConfigs = ref.seriesConfigs; if ( seriesConfigs === void 0 ) seriesConfigs = [];
        var count = points.length;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var newBox = new Box(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth);
        var newBoxCenter = newBox.center();
        var boxCenter = box.center();
        var seriesCount = options.series.length;
        var leftSideLabels = [];
        var rightSideLabels = [];
        var padding = valueOrDefault(options.padding, defaultPadding);

        this.targetBox = targetBox;

        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;
        newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);

        var radius = halfMinWidth - padding;
        var center = new Point(
            radius + newBox.x1 + padding,
            radius + newBox.y1 + padding
        );

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var seriesIndex = segment.seriesIx;
            sector.radius = radius;
            sector.center = center;

            if (seriesConfigs.length) {
                var seriesConfig = seriesConfigs[seriesIndex];
                sector.innerRadius = seriesConfig.innerRadius;
                sector.radius = seriesConfig.radius;
            }

            if (seriesIndex === seriesCount - 1 && segment.explode) {
                sector.center = sector.clone().setRadius(sector.radius * 0.15).point(sector.middle());
            }

            segment.reflow(newBox);

            var label = segment.label;
            if (label) {
                if (label.options.position === OUTSIDE_END) {
                    if (seriesIndex === seriesCount - 1) {
                        if (label.orientation === RIGHT) {
                            rightSideLabels.push(label);
                        } else {
                            leftSideLabels.push(label);
                        }
                    }
                }
            }
        }

        if (leftSideLabels.length > 0) {
            leftSideLabels.sort(this.labelComparator(true));
            this.leftLabelsReflow(leftSideLabels);
        }

        if (rightSideLabels.length > 0) {
            rightSideLabels.sort(this.labelComparator(false));
            this.rightLabelsReflow(rightSideLabels);
        }

        this.box = newBox;
    };

    PieChart.prototype.leftLabelsReflow = function leftLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.rightLabelsReflow = function rightLabelsReflow (labels) {
        var distances = this.distanceBetweenLabels(labels);

        this.distributeLabels(distances, labels);
    };

    PieChart.prototype.distanceBetweenLabels = function distanceBetweenLabels (labels) {
        var segment = last(this.points);
        var sector = segment.sector;
        var count = labels.length - 1;
        var lr = sector.radius + segment.options.labels.distance;
        var distances = [];
        var firstBox = labels[0].box;
        var distance = round(firstBox.y1 - (sector.center.y - lr - firstBox.height() - firstBox.height() / 2));

        distances.push(distance);

        for (var i = 0; i < count; i++) {
            var secondBox = labels[i + 1].box;

            firstBox = labels[i].box;
            distance = round(secondBox.y1 - firstBox.y2);
            distances.push(distance);
        }
        distance = round(sector.center.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);
        distances.push(distance);

        return distances;
    };

    PieChart.prototype.distributeLabels = function distributeLabels (distances, labels) {
        var this$1 = this;

        var count = distances.length;
        var left, right, remaining;

        for (var i = 0; i < count; i++) {
            remaining = -distances[i];
            left = right = i;

            while (remaining > 0 && (left >= 0 || right < count)) {
                remaining = this$1._takeDistance(distances, i, --left, remaining);
                remaining = this$1._takeDistance(distances, i, ++right, remaining);
            }
        }

        this.reflowLabels(distances, labels);
    };

    PieChart.prototype._takeDistance = function _takeDistance (distances, anchor, position, amount) {
        var result = amount;
        if (distances[position] > 0) {
            var available = Math.min(distances[position], result);
            result -= available;
            distances[position] -= available;
            distances[anchor] += available;
        }

        return result;
    };

    PieChart.prototype.reflowLabels = function reflowLabels (distances, labels) {
        var this$1 = this;

        var segment = last(this.points);
        var sector = segment.sector;
        var labelOptions = segment.options.labels;
        var labelsCount = labels.length;
        var labelDistance = labelOptions.distance;
        var boxY = sector.center.y - (sector.radius + labelDistance) - labels[0].box.height();
        var boxX;

        distances[0] += 2;
        for (var i = 0; i < labelsCount; i++) {
            var label = labels[i];
            var box = label.box;

            boxY += distances[i];
            boxX = this$1.hAlignLabel(
                box.x2,
                sector.clone().expand(labelDistance),
                boxY,
                boxY + box.height(),
                label.orientation === RIGHT);

            if (label.orientation === RIGHT) {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.radius + sector.center.x + labelDistance;
                }
                label.reflow(new Box(boxX + box.width(), boxY, boxX, boxY));
            } else {
                if (labelOptions.align !== CIRCLE) {
                    boxX = sector.center.x - sector.radius - labelDistance;
                }
                label.reflow(new Box(boxX - box.width(), boxY, boxX, boxY));
            }

            boxY += box.height();
        }
    };

    PieChart.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var ref = this;
        var connectors = ref.options.connectors;
        var points = ref.points;
        var count = points.length;
        var space = 4;

        ChartElement$$1.prototype.createVisual.call(this);

        this._connectorLines = [];

        for (var i = 0; i < count; i++) {
            var segment = points[i];
            var sector = segment.sector;
            var label = segment.label;
            var angle = sector.middle();
            var connectorsColor = (segment.options.connectors || {}).color || connectors.color;

            if (label) {
                var connectorLine = new _progress_kendoDrawing.drawing.Path({
                    stroke: {
                        color: connectorsColor,
                        width: connectors.width
                    },
                    animation: {
                        type: FADEIN,
                        delay: segment.animationDelay
                    }
                });

                if (label.options.position === OUTSIDE_END) {
                    var box = label.box;
                    var centerPoint = sector.center;
                    var start = sector.point(angle);
                    var middle = new Point(box.x1, box.center().y);
                    var sr = (void 0), end = (void 0), crossing = (void 0);

                    start = sector.clone().expand(connectors.padding).point(angle);
                    connectorLine.moveTo(start.x, start.y);
                    // TODO: Extract into a method to remove duplication
                    if (label.orientation === RIGHT) {
                        end = new Point(box.x1 - connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x - space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.min(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x < sector.center.x) {
                            sr = sector.center.x + sector.radius + space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr < middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x + space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    } else {
                        end = new Point(box.x2 + connectors.padding, box.center().y);
                        crossing = intersection(centerPoint, start, middle, end);
                        middle = new Point(end.x + space, end.y);
                        crossing = crossing || middle;
                        crossing.x = Math.max(crossing.x, middle.x);

                        if (this$1.pointInCircle(crossing, sector.center, sector.radius + space) ||
                            crossing.x > sector.center.x) {
                            sr = sector.center.x - sector.radius - space;
                            if (segment.options.labels.align !== COLUMN) {
                                if (sr > middle.x) {
                                    connectorLine.lineTo(sr, start.y);
                                } else {
                                    connectorLine.lineTo(start.x - space * 2, start.y);
                                }
                            } else {
                                connectorLine.lineTo(sr, start.y);
                            }
                            connectorLine.lineTo(middle.x, end.y);
                        } else {
                            crossing.y = end.y;
                            connectorLine.lineTo(crossing.x, crossing.y);
                        }
                    }

                    connectorLine.lineTo(end.x, end.y);

                    this$1._connectorLines.push(connectorLine);
                    this$1.visual.append(connectorLine);
                }
            }
        }
    };

    PieChart.prototype.renderVisual = function renderVisual () {
        ChartElement$$1.prototype.renderVisual.call(this);

        if (this.options.series.find(function (options) { return options.autoFit; })) {
            var targetBox = this.targetBox;
            var pieCenter = this.box.center();
            var bbox = this.visual.bbox();
            if (!bbox) {
                return;
            }

            var bboxBottom = bbox.bottomRight();

            var scale = Math.min(
                (pieCenter.y - targetBox.y1) / (pieCenter.y - bbox.origin.y),
                (targetBox.y2 - pieCenter.y) / (bboxBottom.y - pieCenter.y),
                (pieCenter.x - targetBox.x1) / (pieCenter.x - bbox.origin.x),
                (targetBox.x2 - pieCenter.x) / (bboxBottom.x - pieCenter.x)
            );

            if (scale < 1) {
                this.visual.transform(_progress_kendoDrawing.geometry.transform().scale(scale, scale, [ pieCenter.x, pieCenter.y ]));
            }
        }
    };

    PieChart.prototype.labelComparator = function labelComparator (reverse) {
        var reverseValue = reverse ? -1 : 1;

        return function(a, b) {
            var first = (a.parent.sector.middle() + 270) % 360;
            var second = (b.parent.sector.middle() + 270) % 360;
            return (first - second) * reverseValue;
        };
    };

    PieChart.prototype.hAlignLabel = function hAlignLabel (originalX, sector, y1, y2, direction) {
        var radius = sector.radius;
        var sector_center = sector.center;
        var cx = sector_center.x;
        var cy = sector_center.y;
        var t = Math.min(Math.abs(cy - y1), Math.abs(cy - y2));

        if (t > radius) {
            return originalX;
        }

        return cx + Math.sqrt((radius * radius) - (t * t)) * (direction ? 1 : -1);
    };

    PieChart.prototype.pointInCircle = function pointInCircle (point, center, radius) {
        return Math.pow(center.x - point.x, 2) + Math.pow(center.y - point.y, 2) < Math.pow(radius, 2);
    };

    PieChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format, point.value);
    };

    PieChart.prototype.animationDelay = function animationDelay (categoryIndex) {
        return categoryIndex * PIE_SECTOR_ANIM_DELAY;
    };

    PieChart.prototype.stackRoot = function stackRoot () {
        return this;
    };

    return PieChart;
}(ChartElement));

function intersection(a1, a2, b1, b2) {
    var uat = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);
    var ub = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);

    var result;
    if (ub !== 0) {
        var ua = (uat / ub);

        result = new Point(
            a1.x + ua * (a2.x - a1.x),
            a1.y + ua * (a2.y - a1.y)
        );
    }

    return result;
}

setDefaultOptions(PieChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    },
    inactiveItems: {
        markers: {},
        labels: {}
    }
});

deepExtend(PieChart.prototype, PieChartMixin);

PieChart.prototype.isStackRoot = true;

var PiePlotArea = (function (PlotAreaBase$$1) {
    function PiePlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PiePlotArea.__proto__ = PlotAreaBase$$1;
    PiePlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PiePlotArea.prototype.constructor = PiePlotArea;

    PiePlotArea.prototype.render = function render () {
        this.createPieChart(this.series);
    };

    PiePlotArea.prototype.createPieChart = function createPieChart (series) {
        var firstSeries = series[0];
        var pieChart = new PieChart(this, {
            series: series,
            padding: firstSeries.padding,
            startAngle: firstSeries.startAngle,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(pieChart);
    };

    PiePlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return PiePlotArea;
}(PlotAreaBase));

var DonutSegment = (function (PieSegment$$1) {
    function DonutSegment () {
        PieSegment$$1.apply(this, arguments);
    }

    if ( PieSegment$$1 ) DonutSegment.__proto__ = PieSegment$$1;
    DonutSegment.prototype = Object.create( PieSegment$$1 && PieSegment$$1.prototype );
    DonutSegment.prototype.constructor = DonutSegment;

    DonutSegment.prototype.reflowLabel = function reflowLabel () {
        var ref = this;
        var labelsOptions = ref.options.labels;
        var label = ref.label;
        var sector = this.sector.clone();
        var angle = sector.middle();

        if (label) {
            var labelHeight = label.box.height();
            if (labelsOptions.position === CENTER) {
                sector.radius -= (sector.radius - sector.innerRadius) / 2;

                var lp = sector.point(angle);

                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));
            } else {
                PieSegment$$1.prototype.reflowLabel.call(this);
            }
        }
    };

    DonutSegment.prototype.createSegment = function createSegment (sector, options) {
        return ShapeBuilder.current.createRing(sector, options);
    };

    return DonutSegment;
}(PieSegment));

setDefaultOptions(DonutSegment, {
    overlay: {
        gradient: "roundedGlass"
    },
    labels: {
        position: CENTER
    },
    animation: {
        type: PIE
    }
});

deepExtend(DonutSegment.prototype, PointEventsMixin);

var DONUT_SECTOR_ANIM_DELAY = 50;

var DonutChart = (function (PieChart$$1) {
    function DonutChart () {
        PieChart$$1.apply(this, arguments);
    }

    if ( PieChart$$1 ) DonutChart.__proto__ = PieChart$$1;
    DonutChart.prototype = Object.create( PieChart$$1 && PieChart$$1.prototype );
    DonutChart.prototype.constructor = DonutChart;

    DonutChart.prototype.addValue = function addValue (value, sector, fields) {
        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });
        this.evalSegmentOptions(segmentOptions, value, fields);

        this.createLegendItem(value, segmentOptions, fields);

        if (!value || fields.visible === false) {
            return;
        }

        var segment = new DonutSegment(value, sector, segmentOptions);

        Object.assign(segment, fields);
        this.append(segment);
        this.points.push(segment);
    };

    DonutChart.prototype.reflow = function reflow (targetBox) {
        var this$1 = this;

        var options = this.options;
        var box = targetBox.clone();
        var space = 5;
        var minWidth = Math.min(box.width(), box.height());
        var halfMinWidth = minWidth / 2;
        var defaultPadding = minWidth - minWidth * 0.85;
        var series = options.series;
        var seriesCount = series.length;

        var padding = valueOrDefault(options.padding, defaultPadding);
        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;

        var totalSize = halfMinWidth - padding;
        var seriesWithoutSize = 0;
        var holeSize;

        for (var i = 0; i < seriesCount; i++) {
            var currentSeries = series[i];
            if (i === 0) {
                if (defined(currentSeries.holeSize)) {
                    holeSize = currentSeries.holeSize;
                    totalSize -= currentSeries.holeSize;
                }
            }

            if (defined(currentSeries.size)) {
                totalSize -= currentSeries.size;
            } else {
                seriesWithoutSize++;
            }

            if (defined(currentSeries.margin) && i !== seriesCount - 1) {
                totalSize -= currentSeries.margin;
            }
        }

        if (!defined(holeSize)) {
            var currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);
            holeSize = currentSize * 0.75;
            totalSize -= holeSize;
        }

        var innerRadius = holeSize;
        var margin = 0;
        var size, radius;

        this.seriesConfigs = [];

        for (var i$1 = 0; i$1 < seriesCount; i$1++) {
            var currentSeries$1 = series[i$1];
            size = valueOrDefault(currentSeries$1.size, totalSize / seriesWithoutSize);
            innerRadius += margin;
            radius = innerRadius + size;
            this$1.seriesConfigs.push({ innerRadius: innerRadius, radius: radius });
            margin = currentSeries$1.margin || 0;
            innerRadius = radius;
        }

        PieChart$$1.prototype.reflow.call(this, targetBox);
    };

    DonutChart.prototype.animationDelay = function animationDelay (categoryIndex, seriesIndex, seriesCount) {
        return categoryIndex * DONUT_SECTOR_ANIM_DELAY +
            (INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1));
    };

    return DonutChart;
}(PieChart));


setDefaultOptions(DonutChart, {
    startAngle: 90,
    connectors: {
        width: 2,
        color: "#939393",
        padding: 8
    }
});

var DonutPlotArea = (function (PiePlotArea$$1) {
    function DonutPlotArea () {
        PiePlotArea$$1.apply(this, arguments);
    }

    if ( PiePlotArea$$1 ) DonutPlotArea.__proto__ = PiePlotArea$$1;
    DonutPlotArea.prototype = Object.create( PiePlotArea$$1 && PiePlotArea$$1.prototype );
    DonutPlotArea.prototype.constructor = DonutPlotArea;

    DonutPlotArea.prototype.render = function render () {
        this.createDonutChart(this.series);
    };

    DonutPlotArea.prototype.createDonutChart = function createDonutChart (series) {
        var firstSeries = series[0];
        var donutChart = new DonutChart(this, {
            series: series,
            padding: firstSeries.padding,
            connectors: firstSeries.connectors,
            legend: this.options.legend
        });

        this.appendChart(donutChart);
    };

    return DonutPlotArea;
}(PiePlotArea));

var DEFAULT_PADDING = 0.15;

var PolarPlotAreaBase = (function (PlotAreaBase$$1) {
    function PolarPlotAreaBase () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) PolarPlotAreaBase.__proto__ = PlotAreaBase$$1;
    PolarPlotAreaBase.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    PolarPlotAreaBase.prototype.constructor = PolarPlotAreaBase;

    PolarPlotAreaBase.prototype.initFields = function initFields () {
        this.valueAxisRangeTracker = new AxisGroupRangeTracker();
    };

    PolarPlotAreaBase.prototype.render = function render () {
        this.addToLegend(this.series);
        this.createPolarAxis();
        this.createCharts();
        this.createValueAxis();
    };

    PolarPlotAreaBase.prototype.alignAxes = function alignAxes () {
        var axis = this.valueAxis;
        var range = axis.range();
        var crossingValue = axis.options.reverse ? range.max : range.min;
        var slot = axis.getSlot(crossingValue);
        var center = this.polarAxis.getSlot(0).center;
        var axisBox = axis.box.translate(
            center.x - slot.x1,
            center.y - slot.y1
        );

        axis.reflow(axisBox);
    };

    PolarPlotAreaBase.prototype.createValueAxis = function createValueAxis () {
        var tracker = this.valueAxisRangeTracker;
        var defaultRange = tracker.query();
        var axisOptions = this.valueAxisOptions({
            roundToMajorUnit: false,
            zIndex: -1
        });
        var axisType, axisDefaultRange;

        if (axisOptions.type === LOGARITHMIC) {
            axisType = RadarLogarithmicAxis;
            axisDefaultRange = { min: 0.1, max: 1 };
        } else {
            axisType = RadarNumericAxis;
            axisDefaultRange = { min: 0, max: 1 };
        }

        var range = tracker.query(name) || defaultRange || axisDefaultRange;

        if (range && defaultRange) {
            range.min = Math.min(range.min, defaultRange.min);
            range.max = Math.max(range.max, defaultRange.max);
        }

        var valueAxis = new axisType(
            range.min, range.max,
            axisOptions,
            this.chartService
        );

        this.valueAxis = valueAxis;
        this.appendAxis(valueAxis);
    };

    PolarPlotAreaBase.prototype.reflowAxes = function reflowAxes () {
        var ref = this;
        var options = ref.options.plotArea;
        var valueAxis = ref.valueAxis;
        var polarAxis = ref.polarAxis;
        var box = ref.box;
        var defaultPadding = Math.min(box.width(), box.height()) * DEFAULT_PADDING;
        var padding = getSpacing(options.padding || {}, defaultPadding);
        var paddingBox = box.clone().unpad(padding);
        var axisBox = paddingBox.clone();

        axisBox.y2 = axisBox.y1 + Math.min(axisBox.width(), axisBox.height());
        axisBox.align(paddingBox, Y, CENTER);

        var valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);

        polarAxis.reflow(axisBox);
        valueAxis.reflow(valueAxisBox);
        var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();
        valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));

        this.axisBox = axisBox;
        this.alignAxes(axisBox);
    };

    PolarPlotAreaBase.prototype.backgroundBox = function backgroundBox () {
        return this.box;
    };

    PolarPlotAreaBase.prototype.detachLabels = function detachLabels () {};

    return PolarPlotAreaBase;
}(PlotAreaBase));

var PolarScatterChart = (function (ScatterChart$$1) {
    function PolarScatterChart () {
        ScatterChart$$1.apply(this, arguments);
    }

    if ( ScatterChart$$1 ) PolarScatterChart.__proto__ = ScatterChart$$1;
    PolarScatterChart.prototype = Object.create( ScatterChart$$1 && ScatterChart$$1.prototype );
    PolarScatterChart.prototype.constructor = PolarScatterChart;

    PolarScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {
        var valueRadius = slotX.center.y - slotY.y1;
        var slot = Point.onCircle(slotX.center, slotX.startAngle, valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    return PolarScatterChart;
}(ScatterChart));

setDefaultOptions(PolarScatterChart, {
    clip: false
});

var PolarLineChart = (function (ScatterLineChart$$1) {
    function PolarLineChart () {
        ScatterLineChart$$1.apply(this, arguments);
    }if ( ScatterLineChart$$1 ) PolarLineChart.__proto__ = ScatterLineChart$$1;
    PolarLineChart.prototype = Object.create( ScatterLineChart$$1 && ScatterLineChart$$1.prototype );
    PolarLineChart.prototype.constructor = PolarLineChart;

    

    return PolarLineChart;
}(ScatterLineChart));

PolarLineChart.prototype.pointSlot = PolarScatterChart.prototype.pointSlot;

setDefaultOptions(PolarLineChart, {
    clip: false
});

var SplinePolarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplinePolarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplinePolarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplinePolarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplinePolarAreaSegment.prototype.constructor = SplinePolarAreaSegment;

    SplinePolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var center = this._polarAxisCenter();
        fillPath.lineTo(center.x, center.y);
    };

    SplinePolarAreaSegment.prototype._polarAxisCenter = function _polarAxisCenter () {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        return center;
    };

    SplinePolarAreaSegment.prototype.strokeSegments = function strokeSegments () {
        var segments = this._strokeSegments;

        if (!segments) {
            var center = this._polarAxisCenter();
            var curveProcessor = new CurveProcessor(false);
            var linePoints = this.points();

            linePoints.push(center);
            segments = this._strokeSegments = curveProcessor.process(linePoints);
            segments.pop();
        }

        return segments;
    };

    return SplinePolarAreaSegment;
}(SplineAreaSegment));

var PolarAreaSegment = (function (AreaSegment$$1) {
    function PolarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) PolarAreaSegment.__proto__ = AreaSegment$$1;
    PolarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    PolarAreaSegment.prototype.constructor = PolarAreaSegment;

    PolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {
        var polarAxis = this.parent.plotArea.polarAxis;
        var center = polarAxis.box.center();
        var centerSegment = new _progress_kendoDrawing.geometry.Segment([ center.x, center.y ]);

        fillPath.segments.unshift(centerSegment);
        fillPath.segments.push(centerSegment);
    };

    return PolarAreaSegment;
}(AreaSegment));

var PolarAreaChart = (function (PolarLineChart$$1) {
    function PolarAreaChart () {
        PolarLineChart$$1.apply(this, arguments);
    }

    if ( PolarLineChart$$1 ) PolarAreaChart.__proto__ = PolarLineChart$$1;
    PolarAreaChart.prototype = Object.create( PolarLineChart$$1 && PolarLineChart$$1.prototype );
    PolarAreaChart.prototype.constructor = PolarAreaChart;

    PolarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = (currentSeries.line || {}).style;
        var segment;

        if (style === SMOOTH) {
            segment = new SplinePolarAreaSegment(linePoints, currentSeries, seriesIx);
        } else {
            segment = new PolarAreaSegment(linePoints, currentSeries, seriesIx);
        }
        return segment;
    };

    PolarAreaChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {
        var missingValue;

        if (hasValue(value.x) && missingValues !== INTERPOLATE) {
            missingValue = {
                x: value.x,
                y: value.y
            };
            if (missingValues === ZERO) {
                missingValue.y = 0;
            }
        }

        return missingValue;
    };

    PolarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    PolarAreaChart.prototype._hasMissingValuesGap = function _hasMissingValuesGap () {
        var this$1 = this;

        var series = this.options.series;

        for (var idx = 0; idx < series.length; idx++) {
            if (this$1.seriesMissingValues(series[idx]) === GAP) {
                return true;
            }
        }
    };

    PolarAreaChart.prototype.sortPoints = function sortPoints (points) {
        var this$1 = this;

        points.sort(xComparer);

        if (this._hasMissingValuesGap()) {
            for (var idx = 0; idx < points.length; idx++) {
                var point = points[idx];
                if (point) {
                    var value = point.value;
                    if (!hasValue(value.y) && this$1.seriesMissingValues(point.series) === GAP) {
                        delete points[idx];
                    }
                }
            }
        }

        return points;
    };

    return PolarAreaChart;
}(PolarLineChart));

function xComparer(a, b) {
    return a.value.x - b.value.x;
}

var PolarPlotArea = (function (PolarPlotAreaBase$$1) {
    function PolarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) PolarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    PolarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    PolarPlotArea.prototype.constructor = PolarPlotArea;

    PolarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var polarAxis = new PolarAxis(this.options.xAxis, this.chartService);

        this.polarAxis = polarAxis;
        this.axisX = polarAxis;
        this.appendAxis(polarAxis);
    };

    PolarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        return deepExtend(defaults, {
            majorGridLines: { type: ARC },
            minorGridLines: { type: ARC }
        }, this.options.yAxis);
    };

    PolarPlotArea.prototype.createValueAxis = function createValueAxis () {
        PolarPlotAreaBase$$1.prototype.createValueAxis.call(this);
        this.axisY = this.valueAxis;
    };

    PolarPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        this.valueAxisRangeTracker.update(chart.yAxisRanges);

        PlotAreaBase.prototype.appendChart.call(this, chart, pane);
    };

    PolarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createLineChart(
            filterSeriesByType(series, [ POLAR_LINE ]),
            pane
        );

        this.createScatterChart(
            filterSeriesByType(series, [ POLAR_SCATTER ]),
            pane
        );

        this.createAreaChart(
            filterSeriesByType(series, [ POLAR_AREA ]),
            pane
        );
    };

    PolarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new PolarLineChart(this, { series: series });

        this.appendChart(lineChart, pane);
    };

    PolarPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var scatterChart = new PolarScatterChart(this, { series: series });

        this.appendChart(scatterChart, pane);
    };

    PolarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new PolarAreaChart(this, { series: series });

        this.appendChart(areaChart, pane);
    };

    PolarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var xValue = this.axisX.getValue(point);
        var yValue = this.axisY.getValue(point);

        if (xValue !== null && yValue !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                x: xValue,
                y: yValue
            });
        }
    };

    PolarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return PolarPlotArea;
}(PolarPlotAreaBase));

setDefaultOptions(PolarPlotArea, {
    xAxis: {},
    yAxis: {}
});

deepExtend(PolarPlotArea.prototype, PlotAreaEventsMixin);

function groupBySeriesIx(segments) {
    var seriesSegments = [];
    for (var idx = 0; idx < segments.length; idx++) {
        var segment = segments[idx];
        seriesSegments[segment.seriesIx] = seriesSegments[segment.seriesIx] || [];
        seriesSegments[segment.seriesIx].push(segment);
    }

    return seriesSegments;
}

var RadarLineChart = (function (LineChart$$1) {
    function RadarLineChart () {
        LineChart$$1.apply(this, arguments);
    }

    if ( LineChart$$1 ) RadarLineChart.__proto__ = LineChart$$1;
    RadarLineChart.prototype = Object.create( LineChart$$1 && LineChart$$1.prototype );
    RadarLineChart.prototype.constructor = RadarLineChart;

    RadarLineChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var valueRadius = categorySlot.center.y - valueSlot.y1;
        var slot = Point.onCircle(categorySlot.center, categorySlot.middle(), valueRadius);

        return new Box(slot.x, slot.y, slot.x, slot.y);
    };

    RadarLineChart.prototype.renderSegments = function renderSegments () {
        LineChart$$1.prototype.renderSegments.call(this);

        if (this._segments && this._segments.length > 1) {
            var seriesSegments = groupBySeriesIx(this._segments);

            for (var idx = 0; idx < seriesSegments.length; idx++) {
                var segments = seriesSegments[idx];
                if (segments.length > 1) {
                    last(segments).linePoints.push(segments[0].linePoints[0]);
                }
            }
        }
    };

    RadarLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {
        var style = currentSeries.style;
        var pointType;

        if (style === SMOOTH) {
            pointType = SplineSegment;
        } else {
            pointType = LineSegment;
        }

        var segment = new pointType(linePoints, currentSeries, seriesIx);

        if (linePoints.length === currentSeries.data.length) {
            segment.options.closed = true;
        }

        return segment;
    };

    return RadarLineChart;
}(LineChart));

setDefaultOptions(RadarLineChart, {
    clip: false,
    limitPoints: false
});

var SplineRadarAreaSegment = (function (SplineAreaSegment$$1) {
    function SplineRadarAreaSegment () {
        SplineAreaSegment$$1.apply(this, arguments);
    }

    if ( SplineAreaSegment$$1 ) SplineRadarAreaSegment.__proto__ = SplineAreaSegment$$1;
    SplineRadarAreaSegment.prototype = Object.create( SplineAreaSegment$$1 && SplineAreaSegment$$1.prototype );
    SplineRadarAreaSegment.prototype.constructor = SplineRadarAreaSegment;

    SplineRadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return SplineRadarAreaSegment;
}(SplineAreaSegment));

var RadarAreaSegment = (function (AreaSegment$$1) {
    function RadarAreaSegment () {
        AreaSegment$$1.apply(this, arguments);
    }

    if ( AreaSegment$$1 ) RadarAreaSegment.__proto__ = AreaSegment$$1;
    RadarAreaSegment.prototype = Object.create( AreaSegment$$1 && AreaSegment$$1.prototype );
    RadarAreaSegment.prototype.constructor = RadarAreaSegment;

    RadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};

    return RadarAreaSegment;
}(AreaSegment));

var RadarAreaChart = (function (RadarLineChart$$1) {
    function RadarAreaChart () {
        RadarLineChart$$1.apply(this, arguments);
    }

    if ( RadarLineChart$$1 ) RadarAreaChart.__proto__ = RadarLineChart$$1;
    RadarAreaChart.prototype = Object.create( RadarLineChart$$1 && RadarLineChart$$1.prototype );
    RadarAreaChart.prototype.constructor = RadarAreaChart;

    RadarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {
        var isStacked = this.options.isStacked;
        var style = (currentSeries.line || {}).style;
        var previousSegment;
        var stackPoints;
        var segment;

        if (isStacked && seriesIx > 0 && prevSegment) {
            stackPoints = prevSegment.linePoints.slice(0);
            previousSegment = prevSegment;
        }

        if (style === SMOOTH) {
            segment = new SplineRadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
            segment.options.closed = true;
        } else {
            linePoints.push(linePoints[0]);
            segment = new RadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);
        }

        return segment;
    };

    RadarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {
        return series.missingValues || ZERO;
    };

    return RadarAreaChart;
}(RadarLineChart));

var RadarSegment = (function (DonutSegment$$1) {
    function RadarSegment(value, options) {
        DonutSegment$$1.call(this, value, null, options);
    }

    if ( DonutSegment$$1 ) RadarSegment.__proto__ = DonutSegment$$1;
    RadarSegment.prototype = Object.create( DonutSegment$$1 && DonutSegment$$1.prototype );
    RadarSegment.prototype.constructor = RadarSegment;

    return RadarSegment;
}(DonutSegment));

setDefaultOptions(RadarSegment, {
    overlay: {
        gradient: "none"
    },
    labels: {
        distance: 10
    }
});

var RadarClusterLayout = (function (ChartElement$$1) {
    function RadarClusterLayout(options) {
        ChartElement$$1.call(this, options);

        this.forEach = options.rtl ? forEachReverse : forEach;
    }

    if ( ChartElement$$1 ) RadarClusterLayout.__proto__ = ChartElement$$1;
    RadarClusterLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarClusterLayout.prototype.constructor = RadarClusterLayout;

    RadarClusterLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var gap = options.gap;
        var spacing = options.spacing;
        var count = children.length;
        var slots = count + gap + (spacing * (count - 1));
        var slotAngle = sector.angle / slots;
        var angle = sector.startAngle + slotAngle * (gap / 2);

        this.forEach(children, function (child) {
            var slotSector = sector.clone();
            slotSector.startAngle = angle;
            slotSector.angle = slotAngle;

            if (child.sector) {
                slotSector.radius = child.sector.radius;
            }

            child.reflow(slotSector);
            child.sector = slotSector;

            angle += slotAngle + (slotAngle * spacing);
        });
    };

    return RadarClusterLayout;
}(ChartElement));

setDefaultOptions(RadarClusterLayout, {
    gap: 1,
    spacing: 0
});

var RadarStackLayout = (function (ChartElement$$1) {
    function RadarStackLayout () {
        ChartElement$$1.apply(this, arguments);
    }

    if ( ChartElement$$1 ) RadarStackLayout.__proto__ = ChartElement$$1;
    RadarStackLayout.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    RadarStackLayout.prototype.constructor = RadarStackLayout;

    RadarStackLayout.prototype.reflow = function reflow (sector) {
        var ref = this;
        var reverse = ref.options.reverse;
        var children = ref.children;
        var childrenCount = children.length;
        var first = reverse ? childrenCount - 1 : 0;
        var step = reverse ? -1 : 1;

        this.box = new Box();

        for (var i = first; i >= 0 && i < childrenCount; i += step) {
            var childSector = children[i].sector;
            childSector.startAngle = sector.startAngle;
            childSector.angle = sector.angle;
        }
    };

    return RadarStackLayout;
}(ChartElement));

var RadarBarChart = (function (BarChart$$1) {
    function RadarBarChart () {
        BarChart$$1.apply(this, arguments);
    }

    if ( BarChart$$1 ) RadarBarChart.__proto__ = BarChart$$1;
    RadarBarChart.prototype = Object.create( BarChart$$1 && BarChart$$1.prototype );
    RadarBarChart.prototype.constructor = RadarBarChart;

    RadarBarChart.prototype.pointType = function pointType () {
        return RadarSegment;
    };

    RadarBarChart.prototype.clusterType = function clusterType () {
        return RadarClusterLayout;
    };

    RadarBarChart.prototype.stackType = function stackType () {
        return RadarStackLayout;
    };

    RadarBarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {
        return categoryAxis.getSlot(categoryIx);
    };

    RadarBarChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {
        var slot = categorySlot.clone();
        var y = categorySlot.center.y;

        slot.radius = y - valueSlot.y1;
        slot.innerRadius = y - valueSlot.y2;

        return slot;
    };

    RadarBarChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {
        point.sector = pointSlot;
        point.reflow();
    };

    RadarBarChart.prototype.createAnimation = function createAnimation () {
        this.options.animation.center = this.box.toRect().center();
        BarChart$$1.prototype.createAnimation.call(this);
    };

    return RadarBarChart;
}(BarChart));

RadarBarChart.prototype.reflow = CategoricalChart.prototype.reflow;

setDefaultOptions(RadarBarChart, {
    clip: false,
    limitPoints: false,
    animation: {
        type: "pie"
    }
});

var RadarPlotArea = (function (PolarPlotAreaBase$$1) {
    function RadarPlotArea () {
        PolarPlotAreaBase$$1.apply(this, arguments);
    }

    if ( PolarPlotAreaBase$$1 ) RadarPlotArea.__proto__ = PolarPlotAreaBase$$1;
    RadarPlotArea.prototype = Object.create( PolarPlotAreaBase$$1 && PolarPlotAreaBase$$1.prototype );
    RadarPlotArea.prototype.constructor = RadarPlotArea;

    RadarPlotArea.prototype.createPolarAxis = function createPolarAxis () {
        var categoryAxis = new RadarCategoryAxis(this.options.categoryAxis, this.chartService);

        this.polarAxis = categoryAxis;
        this.categoryAxis = categoryAxis;
        this.appendAxis(categoryAxis);
        this.aggregateCategories();
        this.createCategoryAxesLabels();
    };

    RadarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {
        if (this._hasBarCharts) {
            deepExtend(defaults, {
                majorGridLines: { type: ARC },
                minorGridLines: { type: ARC }
            });
        }

        if (this._isStacked100) {
            deepExtend(defaults, {
                roundToMajorUnit: false,
                labels: { format: "P0" }
            });
        }

        return deepExtend(defaults, this.options.valueAxis);
    };

    RadarPlotArea.prototype.aggregateCategories = function aggregateCategories () {
        // No separate panes in radar charts
        CategoricalPlotArea.prototype.aggregateCategories.call(this, this.panes);
    };

    RadarPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {
        CategoricalPlotArea.prototype.createCategoryAxesLabels.call(this, this.panes);
    };

    RadarPlotArea.prototype.filterSeries = function filterSeries (currentSeries) {
        // Not supported for radar charts
        return currentSeries;
    };

    RadarPlotArea.prototype.createCharts = function createCharts () {
        var series = this.filterVisibleSeries(this.series);
        var pane = this.panes[0];

        this.createAreaChart(
            filterSeriesByType(series, [ RADAR_AREA ]),
            pane
        );

        this.createLineChart(
            filterSeriesByType(series, [ RADAR_LINE ]),
            pane
        );

        this.createBarChart(
            filterSeriesByType(series, [ RADAR_COLUMN ]),
            pane
        );
    };

    RadarPlotArea.prototype.chartOptions = function chartOptions (series) {
        var options = { series: series };
        var firstSeries = series[0];
        if (firstSeries) {
            var filteredSeries = this.filterVisibleSeries(series);
            var stack = firstSeries.stack;
            options.isStacked = stack && filteredSeries.length > 1;
            options.isStacked100 = stack && stack.type === "100%" && filteredSeries.length > 1;

            if (options.isStacked100) {
                this._isStacked100 = true;
            }
        }

        return options;
    };

    RadarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var areaChart = new RadarAreaChart(this, this.chartOptions(series));
        this.appendChart(areaChart, pane);
    };

    RadarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var lineChart = new RadarLineChart(this, this.chartOptions(series));
        this.appendChart(lineChart, pane);
    };

    RadarPlotArea.prototype.createBarChart = function createBarChart (series, pane) {
        if (series.length === 0) {
            return;
        }

        var firstSeries = series[0];
        var options = this.chartOptions(series);
        options.gap = firstSeries.gap;
        options.spacing = firstSeries.spacing;

        var barChart = new RadarBarChart(this, options);
        this.appendChart(barChart, pane);

        this._hasBarCharts = true;
    };

    RadarPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis () {
        return this.categoryAxis;
    };

    RadarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {
        var coords = chart._eventCoordinates(e);
        var point = new Point(coords.x, coords.y);
        var category = this.categoryAxis.getCategory(point);
        var value = this.valueAxis.getValue(point);

        if (category !== null && value !== null) {
            chart.trigger(eventType, {
                element: eventElement(e),
                category: category,
                value: value
            });
        }
    };

    RadarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};

    return RadarPlotArea;
}(PolarPlotAreaBase));

deepExtend(RadarPlotArea.prototype, PlotAreaEventsMixin, {
    appendChart: CategoricalPlotArea.prototype.appendChart,
    aggregateSeries: CategoricalPlotArea.prototype.aggregateSeries,
    seriesSourcePoints: CategoricalPlotArea.prototype.seriesSourcePoints
});

setDefaultOptions(RadarPlotArea, {
    categoryAxis: {
        categories: []
    },
    valueAxis: {}
});

var FunnelSegment = (function (ChartElement$$1) {
    function FunnelSegment(value, options, segmentOptions) {
        ChartElement$$1.call(this, options);

        this.value = value;
        this.options.index = segmentOptions.index;
    }

    if ( ChartElement$$1 ) FunnelSegment.__proto__ = ChartElement$$1;
    FunnelSegment.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelSegment.prototype.constructor = FunnelSegment;

    FunnelSegment.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var label = this.children[0];

        this.box = new Box(points[0].x, points[0].y, points[1].x, points[2].y);

        if (label) {
            label.reflow(new Box(chartBox.x1, points[0].y, chartBox.x2, points[2].y));
        }
    };

    FunnelSegment.prototype.createVisual = function createVisual () {
        var this$1 = this;

        var options = this.options;
        var visual;

        ChartElement$$1.prototype.createVisual.call(this);

        if (options.visual) {
            visual = options.visual({
                category: this.category,
                dataItem: this.dataItem,
                value: this.value,
                series: this.series,
                percentage: this.percentage,
                points: this.points,
                options: options,
                sender: this.getSender(),
                createVisual: function () { return this$1.createPath(); }
            });
        } else {
            visual = this.createPath();
        }

        if (visual) {
            this.visual.append(visual);
        }
    };

    FunnelSegment.prototype.createPath = function createPath () {
        var options = this.options;
        var border = options.border;
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points, {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: {
                color: border.color,
                opacity: border.opacity,
                width: border.width
            }
        }).close();

        return path;
    };

    FunnelSegment.prototype.createHighlight = function createHighlight (style) {
        return _progress_kendoDrawing.drawing.Path.fromPoints(this.points, style);
    };

    FunnelSegment.prototype.highlightVisual = function highlightVisual () {
        return this.visual.children[0];
    };

    FunnelSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {
        var path = _progress_kendoDrawing.drawing.Path.fromPoints(this.points).close();

        return {
            options: this.options,
            path: path
        };
    };

    FunnelSegment.prototype.tooltipAnchor = function tooltipAnchor () {
        var box = this.box;
        return {
            point: new Point(box.center().x, box.y1),
            align: {
                horizontal: "center",
                vertical: "top"
            }
        };
    };

    FunnelSegment.prototype.formatValue = function formatValue (format) {
        var point = this;
        return point.owner.formatPointValue(point, format);
    };

    return FunnelSegment;
}(ChartElement));

setDefaultOptions(FunnelSegment, {
    color: WHITE,
    border: {
        width: 1
    }
});

deepExtend(FunnelSegment.prototype, PointEventsMixin);

var FunnelChart = (function (ChartElement$$1) {
    function FunnelChart(plotArea, options) {
        ChartElement$$1.call(this, options);

        this.plotArea = plotArea;
        this.points = [];
        this.labels = [];
        this.legendItems = [];
        this.render();
    }

    if ( ChartElement$$1 ) FunnelChart.__proto__ = ChartElement$$1;
    FunnelChart.prototype = Object.create( ChartElement$$1 && ChartElement$$1.prototype );
    FunnelChart.prototype.constructor = FunnelChart;

    FunnelChart.prototype.formatPointValue = function formatPointValue (point, format) {
        return this.chartService.format.auto(format,point.value);
    };

    FunnelChart.prototype.render = function render () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];
        var series = options.series[0];
        var data = series.data;

        if (!data) {
            return;
        }

        var ref$1 = bindSegments(series);
        var total = ref$1.total;
        var points = ref$1.points;

        for (var i = 0; i < points.length; i++) {
            var pointData = points[i];

            if (!pointData) {
                continue;
            }

            var fields = pointData.fields;

            if (!isFunction(series.color)) {
                series.color = fields.color || seriesColors[i % seriesColors.length];
            }

            fields = deepExtend({
                index: i,
                owner: this$1,
                series: series,
                dataItem: data[i],
                percentage: pointData.value / total
            }, fields, { visible: pointData.visible });

            var value = pointData.valueFields.value;
            var segment = this$1.createSegment(value, fields);
            var label = this$1.createLabel(value, fields);

            if (segment && label) {
                segment.append(label);
            }
        }
    };

    FunnelChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {
        var series = fields.series;

        evalOptions(options, {
            value: value,
            series: series,
            dataItem: fields.dataItem,
            index: fields.index
        }, { defaults: series._defaults, excluded: [ "data", "content", "template", "toggle", "visual" ] });
    };

    FunnelChart.prototype.createSegment = function createSegment (value, fields) {
        var seriesOptions = deepExtend({}, fields.series);
        this.evalSegmentOptions(seriesOptions, value, fields);

        this.createLegendItem(value, seriesOptions, fields);

        if (fields.visible !== false) {

            var segment = new FunnelSegment(value, seriesOptions, fields);
            Object.assign(segment, fields);

            this.append(segment);
            this.points.push(segment);

            return segment;
        }
    };

    FunnelChart.prototype.createLabel = function createLabel (value, fields) {
        var series = fields.series;
        var dataItem = fields.dataItem;
        var labels = deepExtend({}, this.options.labels, series.labels);
        var text = value;

        if (labels.visible) {
            var labelTemplate = getTemplate(labels);
            var data = {
                dataItem: dataItem,
                value: value,
                percentage: fields.percentage,
                category: fields.category,
                series: series
            };
            if (labelTemplate) {
                text = labelTemplate(data);
            } else if (labels.format) {
                text = this.plotArea.chartService.format.auto(labels.format, text);
            }

            if (!labels.color) {
                var brightnessValue = new _progress_kendoDrawing.Color(series.color).percBrightness();
                if (brightnessValue > 180) {
                    labels.color = BLACK;
                } else {
                    labels.color = WHITE;
                }
                if (!labels.background) {
                    labels.background = series.color;
                }
            }

            this.evalSegmentOptions(labels, value, fields);
            var textBox = new TextBox(text, deepExtend({
                vAlign: labels.position
            }, labels), data);

            this.labels.push(textBox);

            return textBox;
        }
    };

    FunnelChart.prototype.labelPadding = function labelPadding () {
        var labels = this.labels;
        var padding = { left: 0, right: 0 };

        for (var i = 0; i < labels.length; i++) {
            var label = labels[i];
            var align = label.options.align;
            if (align !== CENTER) {
                var width = labels[i].box.width();

                if (align === LEFT) {
                    padding.left = Math.max(padding.left, width);
                } else {
                    padding.right = Math.max(padding.right, width);
                }
            }
        }

        return padding;
    };

    FunnelChart.prototype.dynamicSlopeReflow = function dynamicSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var firstSegment = segments[0];
        var maxSegment = firstSegment;

        for (var idx = 0; idx < segments.length; idx++) {
            if (segments[idx].percentage > maxSegment.percentage) {
                maxSegment = segments[idx];
            }
        }

        var lastUpperSide = (firstSegment.percentage / maxSegment.percentage) * width;
        var previousOffset = (width - lastUpperSide) / 2;
        var previousHeight = 0;

        for (var idx$1 = 0; idx$1 < count; idx$1++) {
            var percentage = segments[idx$1].percentage;
            var nextSegment = segments[idx$1 + 1];
            var nextPercentage = (nextSegment ? nextSegment.percentage : percentage);
            var points = segments[idx$1].points = [];
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);
            var offset = (void 0);

            if (!percentage) {
                offset = nextPercentage ? 0 : width / 2;
            } else {
                offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;
            }

            offset = limitValue(offset, 0, width);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + offset, box.y1 + height + previousHeight));

            previousOffset = offset;
            previousHeight += height + options.segmentSpacing;
            lastUpperSide = limitValue(width - 2 * offset, 0, width);
        }
    };

    FunnelChart.prototype.constantSlopeReflow = function constantSlopeReflow (box, width, totalHeight) {
        var ref = this;
        var options = ref.options;
        var segments = ref.points;
        var count = segments.length;
        var decreasingWidth = options.neckRatio <= 1;
        var neckRatio = decreasingWidth ? options.neckRatio * width : width;
        var previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2;
        var topMostWidth = decreasingWidth ? width : width - previousOffset * 2;
        var finalNarrow = (topMostWidth - neckRatio) / 2;
        var previousHeight = 0;

        for (var idx = 0; idx < count; idx++) {
            var points = segments[idx].points = [];
            var percentage = segments[idx].percentage;
            var offset = (options.dynamicHeight) ? (finalNarrow * percentage) : (finalNarrow / count);
            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);

            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset, box.y1 + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));
            points.push(new _progress_kendoDrawing.geometry.Point(box.x1 + previousOffset + offset,box.y1 + height + previousHeight));
            previousOffset += offset;
            previousHeight += height + options.segmentSpacing;
        }
    };

    FunnelChart.prototype.reflow = function reflow (chartBox) {
        var points = this.points;
        var count = points.length;

        if (!count) {
            return;
        }

        var options = this.options;
        var box = chartBox.clone().unpad(this.labelPadding());
        var totalHeight = box.height() - options.segmentSpacing * (count - 1);
        var width = box.width();

        if (options.dynamicSlope) {
            this.dynamicSlopeReflow(box, width, totalHeight);
        } else {
            this.constantSlopeReflow(box, width, totalHeight);
        }

        for (var idx = 0; idx < count; idx++) {
            points[idx].reflow(chartBox);
        }
    };

    return FunnelChart;
}(ChartElement));

setDefaultOptions(FunnelChart, {
    neckRatio: 0.3,
    width: 300,
    dynamicSlope: false,
    dynamicHeight: true,
    segmentSpacing: 0,
    labels: {
        visible: false,
        align: CENTER,
        position: CENTER,
        zIndex: 1
    }
});

deepExtend(FunnelChart.prototype, PieChartMixin);

var FunnelPlotArea = (function (PlotAreaBase$$1) {
    function FunnelPlotArea () {
        PlotAreaBase$$1.apply(this, arguments);
    }

    if ( PlotAreaBase$$1 ) FunnelPlotArea.__proto__ = PlotAreaBase$$1;
    FunnelPlotArea.prototype = Object.create( PlotAreaBase$$1 && PlotAreaBase$$1.prototype );
    FunnelPlotArea.prototype.constructor = FunnelPlotArea;

    FunnelPlotArea.prototype.render = function render () {
        this.createFunnelChart(this.series);
    };

    FunnelPlotArea.prototype.createFunnelChart = function createFunnelChart (series) {
        var firstSeries = series[0];
        var funnelChart = new FunnelChart(this, {
            series: series,
            legend: this.options.legend,
            neckRatio: firstSeries.neckRatio,
            dynamicHeight: firstSeries.dynamicHeight,
            dynamicSlope: firstSeries.dynamicSlope,
            segmentSpacing: firstSeries.segmentSpacing,
            highlight: firstSeries.highlight
        });

        this.appendChart(funnelChart);
    };

    FunnelPlotArea.prototype.appendChart = function appendChart (chart, pane) {
        PlotAreaBase$$1.prototype.appendChart.call(this, chart, pane);
        append$1(this.options.legend.items, chart.legendItems);
    };

    return FunnelPlotArea;
}(PlotAreaBase));

var COLOR = "color";
var FIRST = "first";
var FROM = "from";
var MAX = "max";
var MIN = "min";
var NOTE_TEXT = "noteText";
var SUMMARY_FIELD = "summary";
var TO = "to";

PlotAreaFactory.current.register(CategoricalPlotArea, [
    BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA,
    CANDLESTICK, OHLC, BULLET, VERTICAL_BULLET, BOX_PLOT, VERTICAL_BOX_PLOT,
    RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL, RANGE_AREA, VERTICAL_RANGE_AREA
]);

PlotAreaFactory.current.register(XYPlotArea, [
    SCATTER, SCATTER_LINE, BUBBLE
]);

PlotAreaFactory.current.register(PiePlotArea, [ PIE ]);
PlotAreaFactory.current.register(DonutPlotArea, [ DONUT ]);
PlotAreaFactory.current.register(FunnelPlotArea, [ FUNNEL ]);

PlotAreaFactory.current.register(PolarPlotArea, [ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ]);
PlotAreaFactory.current.register(RadarPlotArea, [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ]);

SeriesBinder.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, ERROR_LOW_FIELD, ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    [ FROM, TO ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ WATERFALL, HORIZONTAL_WATERFALL ],
    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, SUMMARY_FIELD ]
);

SeriesBinder.current.register([ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ], [ X, Y ], [ COLOR ]);
SeriesBinder.current.register([ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ], [ VALUE ], [ COLOR ]);

SeriesBinder.current.register(
    [ FUNNEL ],
    [ VALUE ], [ CATEGORY, COLOR, "visibleInLegend", "visible" ]
);

DefaultAggregates.current.register(
    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA, WATERFALL, HORIZONTAL_WATERFALL ],
    { value: MAX, color: FIRST, noteText: FIRST, errorLow: MIN, errorHigh: MAX }
);

DefaultAggregates.current.register(
    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],
    { from: MIN, to: MAX, color: FIRST, noteText: FIRST }
);

DefaultAggregates.current.register(
    [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ],
    { value: MAX, color: FIRST }
);

SeriesBinder.current.register(
    [ SCATTER, SCATTER_LINE, BUBBLE ],
    [ X, Y ], [ COLOR, NOTE_TEXT, X_ERROR_LOW_FIELD, X_ERROR_HIGH_FIELD, Y_ERROR_LOW_FIELD, Y_ERROR_HIGH_FIELD ]
);

SeriesBinder.current.register(
    [ BUBBLE ], [ X, Y, "size" ], [ COLOR, CATEGORY, NOTE_TEXT ]
);

SeriesBinder.current.register(
    [ CANDLESTICK, OHLC ],
    [ "open", "high", "low", "close" ], [ CATEGORY, COLOR, "downColor", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ CANDLESTICK, OHLC ],
    { open: MAX, high: MAX, low: MIN, close: MAX,
      color: FIRST, downColor: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    [ "lower", "q1", "median", "q3", "upper", "mean", "outliers" ], [ CATEGORY, COLOR, NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BOX_PLOT, VERTICAL_BOX_PLOT ],
    { lower: MAX, q1: MAX, median: MAX, q3: MAX, upper: MAX, mean: MAX, outliers: FIRST,
      color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ BULLET, VERTICAL_BULLET ],
    [ "current", "target" ], [ CATEGORY, COLOR, "visibleInLegend", NOTE_TEXT ]
);

DefaultAggregates.current.register(
    [ BULLET, VERTICAL_BULLET ],
    { current: MAX, target: MAX, color: FIRST, noteText: FIRST }
);

SeriesBinder.current.register(
    [ PIE, DONUT ],
    [ VALUE ], [ CATEGORY, COLOR, "explode", "visibleInLegend", "visible" ]
);

var AXIS_NAMES = [ CATEGORY, VALUE, X, Y ];

var MOUSEMOVE = "mousemove";
var CONTEXTMENU = "contextmenu";
var MOUSELEAVE = "mouseleave";
var MOUSEMOVE_DELAY = 20;

var Chart = (function (Class$$1) {
    function Chart(element, userOptions, themeOptions, context) {
        var this$1 = this;
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.observers = [];
        this.addObserver(context.observer);
        this.chartService = new ChartService(this, context);
        this.chartService.theme = themeOptions;

        this._initElement(element);

        var options = deepExtend({}, this.options, userOptions);
        this._originalOptions = deepExtend({}, options);
        this._theme = themeOptions;
        this._initTheme(options, themeOptions);

        this._initHandlers();
        this._initSurface();

        this.bindCategories();
        FontLoader.preloadFonts(userOptions, function () {
            this$1.fontLoaded = true;
            if (!this$1._destroyed) {
                this$1.trigger('init');
                this$1._redraw();
                this$1._attachEvents();
            }
        });
    }

    if ( Class$$1 ) Chart.__proto__ = Class$$1;
    Chart.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Chart.prototype.constructor = Chart;

    Chart.prototype._initElement = function _initElement (element) {
        this._setElementClass(element);
        element.style.position = "relative";
        while (element.firstChild) {
            element.removeChild(element.firstChild);
        }
        this.element = element;
    };

    Chart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, "k-chart");
    };

    Chart.prototype._initTheme = function _initTheme (options, themeOptions) {
        var seriesCopies = [];
        var series = options.series || [];

        for (var i = 0; i < series.length; i++) {
            seriesCopies.push(Object.assign({}, series[i]));
        }
        options.series = seriesCopies;

        resolveAxisAliases(options);
        this.applyDefaults(options, themeOptions);

        // Clean up default if not overriden by data attributes
        if (options.seriesColors === null) {
            delete options.seriesColors;
        }

        this.options = deepExtend({}, themeOptions, options);
        this.applySeriesColors();
    };

    Chart.prototype.getSize = function getSize () {
        var chartArea = this.options.chartArea || {};
        var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);
        var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);

        return {
            width: width,
            height: height
        };
    };

    Chart.prototype.resize = function resize (force) {
        var size = this.getSize();
        var currentSize = this._size;
        var hasSize = size.width > 0 || size.height > 0;

        if (force || hasSize && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {
            this._size = size;
            this._resize(size, force);
            this.trigger("resize", size);
        } else if (hasSize && this._selections && this._selections.find(function (s) { return !s.visible; })) {
            this._destroySelections();
            this._setupSelection();
        }
    };

    Chart.prototype._resize = function _resize () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.redraw = function redraw (paneName) {
        this.applyDefaults(this.options);
        this.applySeriesColors();

        if (paneName) {
            var plotArea = this._model._plotArea;
            var pane = plotArea.findPane(paneName);
            plotArea.redraw(pane);
        } else {
            this._redraw();
        }
    };

    Chart.prototype.getAxis = function getAxis (name) {
        return findAxisByName(name, this._plotArea.axes);
    };

    Chart.prototype.findAxisByName = function findAxisByName$1 (name) {
        return this.getAxis(name);
    };

    Chart.prototype.findPaneByName = function findPaneByName (name) {
        var panes = this._plotArea.panes;

        for (var idx = 0; idx < panes.length; idx++) {
            if (panes[idx].options.name === name) {
                return new ChartPane(panes[idx]);
            }
        }
    };

    Chart.prototype.findPaneByIndex = function findPaneByIndex (idx) {
        var panes = this._plotArea.panes;
        if (panes[idx]) {
            return new ChartPane(panes[idx]);
        }
    };

    Chart.prototype.plotArea = function plotArea () {
        return new ChartPlotArea(this._plotArea);
    };

    Chart.prototype.toggleHighlight = function toggleHighlight (show, filter) {
        var plotArea = this._plotArea;
        var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];
        var points;

        if (isFunction(filter)) {
            points = plotArea.filterPoints(filter);
        } else {
            var seriesName, categoryName;
            if (isObject(filter)) {
                seriesName = filter.series;
                categoryName = filter.category;
            } else {
                seriesName = categoryName = filter;
            }

            if (firstSeries.type === DONUT) {
                points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);
            } else if (firstSeries.type === PIE || firstSeries.type === FUNNEL) {
                points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);
            } else {
                points = plotArea.pointsBySeriesName(seriesName);
            }
        }

        if (points) {
            this.togglePointsHighlight(show, points);
        }
    };

    Chart.prototype.togglePointsHighlight = function togglePointsHighlight (show, points) {
        var highlight = this._highlight;
        for (var idx = 0; idx < points.length; idx++) {
            highlight.togglePointHighlight(points[idx], show);
        }
    };

    Chart.prototype.showTooltip = function showTooltip (filter) {
        var shared = this._sharedTooltip();
        var ref = this;
        var tooltip = ref._tooltip;
        var plotArea = ref._plotArea;
        var point, categoryIndex;

        if (isFunction(filter)) {
            point = plotArea.findPoint(filter);
            if (point && shared) {
                categoryIndex = point.categoryIx;
            }
        } else if (shared && defined(filter)) {
            categoryIndex = plotArea.categoryAxis.categoryIndex(filter);
        }

        if (shared) {
            if (categoryIndex >= 0) {
                var points = this._plotArea.pointsByCategoryIndex(categoryIndex);
                tooltip.showAt(points);
            }
        } else if (point) {
            tooltip.show(point);
        }
    };

    Chart.prototype.hideTooltip = function hideTooltip () {
        this._tooltip.hide();
    };

    Chart.prototype._initSurface = function _initSurface () {
        var surface = this.surface;
        var wrap = this._surfaceWrap();

        var chartArea = this.options.chartArea || {};
        if (chartArea.width) {
            elementSize$1(wrap, { width: chartArea.width });
        }
        if (chartArea.height) {
            elementSize$1(wrap, { height: chartArea.height });
        }

        if (!surface || surface.options.type !== this.options.renderAs) {
            this._destroySurface();

            this.surface = _progress_kendoDrawing.drawing.Surface.create(wrap, {
                type: this.options.renderAs
            });

            this.surface.bind("mouseenter", this._surfaceMouseenterHandler);
            this.surface.bind("mouseleave", this._surfaceMouseleaveHandler);

        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Chart.prototype._surfaceWrap = function _surfaceWrap () {
        return this.element;
    };

    Chart.prototype._redraw = function _redraw () {
        var model = this._getModel();
        this._size = {
            width: model.options.width,
            height: model.options.height
        };

        this._destroyView();

        this._model = model;
        this._plotArea = model._plotArea;

        model.renderVisual();

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.setup();
                }
            });
        }

        this._initSurface();
        this.surface.draw(model.visual);

        if (this.options.transitions !== false) {
            model.traverse(function(element) {
                if (element.animation) {
                    element.animation.play();
                }
            });
        }

        this._tooltip = this._createTooltip();
        this._highlight = new Highlight();
        this._setupSelection();
        this._createPannable();
        this._createZoomSelection();
        this._createMousewheelZoom();

        this.trigger(RENDER);
        triggerPaneRender(this._plotArea.panes);

        if (!this._navState) {
            this._cancelDomEvents();
        }
    };

    Chart.prototype.exportVisual = function exportVisual (exportOptions) {
        var visual;
        if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {
            var currentOptions = this.options;
            var options = deepExtend({}, exportOptions.options, {
                chartArea: {
                    width: exportOptions.width,
                    height: exportOptions.height
                }
            });

            clearMissingValues(this._originalOptions, options);
            this.options = deepExtend({}, this._originalOptions, options);
            this._initTheme(this.options, this._theme);
            this.bindCategories();

            var model = this._getModel();

            model.renderVisual();
            triggerPaneRender(model._plotArea.panes);

            visual = model.visual;

            this.options = currentOptions;
        } else {
            visual = this.surface.exportVisual();
        }

        return visual;
    };

    Chart.prototype._sharedTooltip = function _sharedTooltip () {
        return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;
    };

    Chart.prototype._createPannable = function _createPannable () {
        var options = this.options;
        if (options.pannable !== false) {
            this._pannable = new Pannable(this._plotArea, options.pannable);
        }
    };

    Chart.prototype._createZoomSelection = function _createZoomSelection () {
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        if (zoomable !== false && selection !== false) {
            this._zoomSelection = new ZoomSelection(this, selection);
        }
    };

    Chart.prototype._createMousewheelZoom = function _createMousewheelZoom () {
        var zoomable = this.options.zoomable;
        var mousewheel = (zoomable || {}).mousewheel;
        if (zoomable !== false && mousewheel !== false) {
            this._mousewheelZoom = new MousewheelZoom(this, mousewheel);
        }
    };

    Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        var pannable = this.options.pannable;
        var zoomable = this.options.zoomable;
        var selection = (zoomable || {}).selection;
        var mousewheel = (zoomable || {}).mousewheel;
        var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ]);
        var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ ZOOM_START, ZOOM, ZOOM_END ]);
        var element = this.element;

        if (this._dragZoomEnabled && allowDrag && allowZoom) {
            element.style.touchAction = this._touchAction || '';
            this._dragZoomEnabled = false;
        } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {
            element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }

        this._toggleDomEvents(!allowDrag, !allowZoom);
    };

    Chart.prototype._toggleDomEvents = function _toggleDomEvents (drag, zoom) {
        var domEvents = this.domEvents;
        if (!domEvents) {
            return;
        }

        if (domEvents.toggleDrag) {
            domEvents.toggleDrag(drag);
        }

        if (domEvents.toggleZoom) {
            domEvents.toggleZoom(zoom);
        }
    };

    Chart.prototype._createTooltip = function _createTooltip () {
        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var tooltip;

        if (this._sharedTooltip()) {
            tooltip = this._createSharedTooltip(tooltipOptions);
        } else {
            tooltip = new Tooltip(this.chartService, tooltipOptions);
        }

        return tooltip;
    };

    Chart.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip(this._plotArea, options);
    };

    Chart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        applyAxisDefaults(options, themeOptions);
        applySeriesDefaults(options, themeOptions);
    };

    Chart.prototype.applySeriesColors = function applySeriesColors () {
        var options = this.options;
        var series = options.series;
        var colors = options.seriesColors || [];

        for (var i = 0; i < series.length; i++) {
            var currentSeries = series[i];
            var seriesColor = colors[i % colors.length];
            var defaults = currentSeries._defaults;

            currentSeries.color = currentSeries.color || seriesColor;
            if (defaults) {
                defaults.color = defaults.color || seriesColor;
            }
        }
    };

    Chart.prototype._getModel = function _getModel () {
        var options = this.options;
        var plotArea = this._createPlotArea();
        var model = new RootElement(this._modelOptions());
        model.chart = this;
        model._plotArea = plotArea;

        Title.buildTitle(options.title, model);

        if (options.legend && options.legend.visible) {
            model.append(new Legend(plotArea.options.legend, this.chartService));
        }
        model.append(plotArea);
        model.reflow();

        return model;
    };

    Chart.prototype._modelOptions = function _modelOptions () {
        var options = this.options;
        var size = this.getSize();

        return deepExtend({
            transitions: options.transitions,
            width: size.width || DEFAULT_WIDTH,
            height: size.height || DEFAULT_HEIGHT
        }, options.chartArea);
    };

    Chart.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var options = this.options;

        var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);

        return plotArea;
    };

    Chart.prototype._setupSelection = function _setupSelection () {
        var this$1 = this;

        var ref = this;
        var axes = ref._plotArea.axes;
        var selections = this._selections = [];

        for (var i = 0; i < axes.length; i++) {
            var axis = axes[i];
            var options = axis.options;
            if (axis instanceof CategoryAxis && options.select && !options.vertical) {
                var range = axis.range();

                var selection = new Selection(this$1, axis,
                    deepExtend({ min: range.min, max: range.max }, options.select)
                );

                selections.push(selection);
            }
        }
    };

    Chart.prototype._selectStart = function _selectStart (e) {
        return this.trigger(SELECT_START, e);
    };

    Chart.prototype._select = function _select (e) {
        return this.trigger(SELECT, e);
    };

    Chart.prototype._selectEnd = function _selectEnd (e) {
        return this.trigger(SELECT_END, e);
    };

    Chart.prototype._initHandlers = function _initHandlers () {
        this._clickHandler = this._click.bind(this);
        this._mousewheelHandler = this._mousewheel.bind(this);
        this._mouseleaveHandler = this._mouseleave.bind(this);
        this._surfaceMouseenterHandler = this._mouseover.bind(this);
        this._surfaceMouseleaveHandler = this._mouseout.bind(this);

        this._mousemove = _progress_kendoDrawing.throttle(
            this._mousemove.bind(this),
            MOUSEMOVE_DELAY
        );
    };

    Chart.prototype.addObserver = function addObserver (observer) {
        if (observer) {
            this.observers.push(observer);
        }
    };

    Chart.prototype.removeObserver = function removeObserver (observer) {
        var index = this.observers.indexOf(observer);
        if (index >= 0) {
            this.observers.splice(index, 1);
        }
    };

    Chart.prototype.requiresHandlers = function requiresHandlers (eventNames) {
        var observers = this.observers;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].requiresHandlers(eventNames)) {
                return true;
            }
        }
    };

    Chart.prototype.trigger = function trigger (name, args) {
        if ( args === void 0 ) args = {};

        if (name === SHOW_TOOLTIP) {
            args.anchor.point = this._toDocumentCoordinates(args.anchor.point);
        }
        args.sender = this;

        var observers = this.observers;
        var isDefaultPrevented = false;
        for (var idx = 0; idx < observers.length; idx++) {
            if (observers[idx].trigger(name, args)) {
                isDefaultPrevented = true;
            }
        }

        return isDefaultPrevented;
    };

    Chart.prototype._attachEvents = function _attachEvents () {
        var element = this.element;

        this._touchAction = element.style.touchAction;

        var obj;
        bindEvents(element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents(element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }

        this.domEvents = DomEventsBuilder.create(this.element, {
            start: this._start.bind(this),
            move: this._move.bind(this),
            end: this._end.bind(this),
            tap: this._tap.bind(this),
            gesturestart: this._gesturestart.bind(this),
            gesturechange: this._gesturechange.bind(this),
            gestureend: this._gestureend.bind(this)
        });

        this._toggleDragZoomEvents();
    };

    Chart.prototype._mouseleave = function _mouseleave (e) {
        if (this._hoveredPoint) {
            this._hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (this._plotArea.hovered) {
            this.trigger(PLOT_AREA_LEAVE);
            this._plotArea.hovered = false;
        }
    };

    Chart.prototype._cancelDomEvents = function _cancelDomEvents () {
        if (this.domEvents && this.domEvents.cancel) {
            this.domEvents.cancel();
        }
    };

    Chart.prototype._gesturestart = function _gesturestart (e) {
        if (this._mousewheelZoom && !this._stopChartHandlers(e)) {
            this._gestureDistance = e.distance;
            this._unsetActivePoint();
            this.surface.suspendTracking();
        }
    };

    Chart.prototype._gestureend = function _gestureend (e) {
        if (this._zooming && !this._stopChartHandlers(e)) {
            if (this.surface) {
                this.surface.resumeTracking();
            }
            this._zooming = false;
            this.trigger(ZOOM_END, {});
        }
    };

    Chart.prototype._gesturechange = function _gesturechange (e) {
        var mousewheelZoom = this._mousewheelZoom;

        if (mousewheelZoom && !this._stopChartHandlers(e)) {
            e.preventDefault();
            var previousGestureDistance = this._gestureDistance;
            var scaleDelta = -e.distance / previousGestureDistance + 1;

            if (Math.abs(scaleDelta) >= 0.1) {
                scaleDelta = Math.round(scaleDelta * 10);

                this._gestureDistance = e.distance;
                var args = { delta: scaleDelta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
                if (this._zooming || !this.trigger(ZOOM_START, args)) {

                    if (!this._zooming) {
                        this._zooming = true;
                    }

                    var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta);
                    if (ranges && !this.trigger(ZOOM, args)) {
                        mousewheelZoom.zoom();
                    }
                }
            }
        }
    };

    Chart.prototype._mouseout = function _mouseout (e) {
        if (e.element) {
            var element = this._drawingChartElement(e.element, e);

            if (element && element.leave) {
                element.leave(this, e.originalEvent);
            }
        }
    };

    Chart.prototype._start = function _start (e) {
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }


        if (this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ])) {
            this._startNavigation(e, coords, DRAG_START);
        }

        if (this._pannable && this._pannable.start(e)) {
            this.surface.suspendTracking();
            this._unsetActivePoint();
            this._suppressHover = true;
            this.chartService.panning = true;
        }

        if (this._zoomSelection) {
            if (this._zoomSelection.start(e)) {
                this.trigger(ZOOM_START, { axisRanges: axisRanges(this._plotArea.axes), originalEvent: e });
            }
        }
    };

    Chart.prototype._move = function _move (e) {
        var ref = this;
        var state = ref._navState;
        var pannable = ref._pannable;

        if (this._stopChartHandlers(e)) {
            return;
        }

        if (pannable) {
            var ranges = pannable.move(e);

            if (ranges && !this.trigger(DRAG, { axisRanges: ranges, originalEvent: e })) {
                pannable.pan();
            }
        } else if (state) {
            var ranges$1 = {};
            var axes = state.axes;

            for (var i = 0; i < axes.length; i++) {
                var currentAxis = axes[i];
                var axisName = currentAxis.options.name;
                if (axisName) {
                    var axis = currentAxis.options.vertical ? e.y : e.x;
                    var delta = axis.startLocation - axis.location;

                    if (delta !== 0) {
                        ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);
                    }
                }
            }

            state.axisRanges = ranges$1;
            this.trigger(DRAG, {
                axisRanges: ranges$1,
                originalEvent: e
            });
        }

        if (this._zoomSelection) {
            this._zoomSelection.move(e);
        }
    };

    Chart.prototype._end = function _end (e) {
        if (this._stopChartHandlers(e)) {
            return;
        }

        var pannable = this._pannable;
        if (pannable && pannable.end(e)) {
            this.surface.resumeTracking();
            this.trigger(DRAG_END, {
                axisRanges: axisRanges(this._plotArea.axes),
                originalEvent: e
            });
            this._suppressHover = false;
            this.chartService.panning = false;
        } else {
            this._endNavigation(e, DRAG_END);
        }

        if (this._zoomSelection) {
            var ranges = this._zoomSelection.end(e);
            if (ranges && !this.trigger(ZOOM, { axisRanges: ranges, originalEvent: e })) {
                this._zoomSelection.zoom();
                this.trigger(ZOOM_END, { axisRanges: ranges, originalEvent: e });
            }
        }
    };

    Chart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var selections = this._selections || [];
        if (!selections.length) {
            return false;
        }

        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);
        if (pane) {
            for (var idx = 0; idx < selections.length; idx++) {
                if (selections[idx].onPane(pane)) {
                    return true;
                }
            }
        }
    };

    Chart.prototype._mousewheel = function _mousewheel (e) {
        var this$1 = this;

        var delta = mousewheelDelta(e);
        var mousewheelZoom = this._mousewheelZoom;
        var coords = this._eventCoordinates(e);

        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {
            return;
        }

        if (mousewheelZoom) {
            var args = { delta: delta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };
            if (this._zooming || !this.trigger(ZOOM_START, args)) {
                e.preventDefault();

                if (!this._zooming) {
                    this._unsetActivePoint();
                    this.surface.suspendTracking();
                    this._zooming = true;
                }

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                args.axisRanges = mousewheelZoom.updateRanges(delta);
                if (args.axisRanges && !this.trigger(ZOOM, args)) {
                    mousewheelZoom.zoom();
                }

                this._mwTimeout = setTimeout(function () {
                    this$1.trigger(ZOOM_END, args);
                    this$1._zooming = false;
                    if (this$1.surface) {
                        this$1.surface.resumeTracking();
                    }
                }, MOUSEWHEEL_DELAY);
            }
        } else {
            var state = this._navState;
            if (!state) {
                var prevented = this._startNavigation(e, coords, ZOOM_START);
                if (!prevented) {
                    state = this._navState;
                }
            }

            if (state) {
                var totalDelta = state.totalDelta || delta;
                state.totalDelta = totalDelta + delta;

                var axes = this._navState.axes;
                var ranges = {};

                for (var i = 0; i < axes.length; i++) {
                    var currentAxis = axes[i];
                    var axisName = currentAxis.options.name;
                    if (axisName) {
                        ranges[axisName] = currentAxis.scaleRange(-totalDelta);
                    }
                }

                this.trigger(ZOOM, {
                    delta: delta,
                    axisRanges: ranges,
                    originalEvent: e
                });

                if (this._mwTimeout) {
                    clearTimeout(this._mwTimeout);
                }

                this._mwTimeout = setTimeout(function () {
                    this$1._endNavigation(e, ZOOM_END);
                }, MOUSEWHEEL_DELAY);
            }
        }
    };

    Chart.prototype._startNavigation = function _startNavigation (e, coords, chartEvent) {
        var plotArea = this._model._plotArea;
        var pane = plotArea.findPointPane(coords);
        var axes = plotArea.axes.slice(0);

        if (!pane) {
            return;
        }

        var ranges = axisRanges(axes);

        var prevented = this.trigger(chartEvent, {
            axisRanges: ranges,
            originalEvent: e
        });

        if (prevented) {
            this._cancelDomEvents();
        } else {
            this._suppressHover = true;
            this._unsetActivePoint();
            this._navState = {
                axisRanges: ranges,
                pane: pane,
                axes: axes
            };
        }
    };

    Chart.prototype._endNavigation = function _endNavigation (e, chartEvent) {
        if (this._navState) {
            this.trigger(chartEvent, {
                axisRanges: this._navState.axisRanges,
                originalEvent: e
            });
            this._suppressHover = false;
            this._navState = null;
        }
    };

    Chart.prototype._getChartElement = function _getChartElement (e, match) {
        var element = this.surface.eventTarget(e);
        if (element) {
            return this._drawingChartElement(element, e, match);
        }
    };

    Chart.prototype._drawingChartElement = function _drawingChartElement (element, e, match) {
        var current = element;
        var chartElement;
        while (current && !chartElement) {
            chartElement = current.chartElement;
            current = current.parent;
        }

        if (chartElement) {
            if (chartElement.aliasFor) {
                chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));
            }

            if (match) {
                chartElement = chartElement.closest(match);
                if (chartElement && chartElement.aliasFor) {
                    chartElement = chartElement.aliasFor();
                }
            }

            return chartElement;
        }
    };

    Chart.prototype._eventCoordinates = function _eventCoordinates (e) {
        var coordinates = eventCoordinates(e);
        return this._toModelCoordinates(coordinates.x, coordinates.y);
    };

    Chart.prototype._elementPadding = function _elementPadding () {
        if (!this._padding) {
            var ref = elementStyles(this.element, [ "paddingLeft", "paddingTop" ]);
            var paddingLeft = ref.paddingLeft;
            var paddingTop = ref.paddingTop;
            this._padding = {
                top: paddingTop,
                left: paddingLeft
            };
        }

        return this._padding;
    };

    Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {
        var padding = this._elementPadding();
        var offset = elementOffset(this.element);

        return {
            left: round(point.x + padding.left + offset.left),
            top: round(point.y + padding.top + offset.top)
        };
    };

    Chart.prototype._toModelCoordinates = function _toModelCoordinates (clientX, clientY) {
        var element = this.element;
        var offset = elementOffset(element);
        var padding = this._elementPadding();

        return new Point(
            clientX - offset.left - padding.left,
            clientY - offset.top - padding.top
        );
    };

    Chart.prototype._tap = function _tap (e) {
        var this$1 = this;

        var drawingElement = this.surface.eventTarget(e);
        var element = this._drawingChartElement(drawingElement, e);
        var sharedTooltip = this._sharedTooltip();

        if (!this._startHover(drawingElement, e) && !sharedTooltip) {
            this._unsetActivePoint();
        }

        if (sharedTooltip) {
            this._trackSharedTooltip(this._eventCoordinates(e), e, true);
        }

        this._propagateClick(element, e);

        //part of fix for hover issue on windows touch
        this.handlingTap = true;
        setTimeout(function () {
            this$1.handlingTap = false;
        }, 0);
    };

    Chart.prototype._click = function _click (e) {
        var element = this._getChartElement(e);
        this._propagateClick(element, e);
    };

    Chart.prototype._propagateClick = function _propagateClick (element, e) {
        var this$1 = this;

        var current = element;
        while (current) {
            if (current.click) {
                current.click(this$1, e);
            }

            current = current.parent;
        }
    };

    Chart.prototype._startHover = function _startHover (element, e) {
        if (this._suppressHover) {
            return false;
        }

        var point = this._drawingChartElement(element, e, function(element) {
            return (element.hover || element.over) && !(element instanceof PlotAreaBase);
        });

        var activePoint = this._activePoint;
        var hoveredPoint = this._hoveredPoint;

        if (hoveredPoint && hoveredPoint !== point) {
            hoveredPoint.out(this, e);
            this._hoveredPoint = null;
        }

        if (point && hoveredPoint !== point && point.over) {
            this._hoveredPoint = point;
            point.over(this, e);
        }

        if (point && activePoint !== point && point.hover) {
            this._activePoint = point;

            if (!this._sharedTooltip() && !point.hover(this, e)) {
                var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);
                if (tooltipOptions.visible) {
                    this._tooltip.show(point);
                }

                this._highlight.show(point);
            }
        }

        return point;
    };

    Chart.prototype._mouseover = function _mouseover (e) {
        var point = this._startHover(e.element, e.originalEvent);

        if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {
            this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);
            var obj;
            bindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
        }
    };

    Chart.prototype._mouseMoveTracking = function _mouseMoveTracking (e) {
        var ref = this;
        var options = ref.options;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;
        var point = ref._activePoint;
        var coords = this._eventCoordinates(e);

        if (this._plotArea.box.containsPoint(coords)) {
            if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {
                var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);
                if (seriesPoint && seriesPoint !== point) {
                    this._activePoint = seriesPoint;

                    if (!seriesPoint.hover(this, e)) {
                        var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);
                        if (tooltipOptions.visible) {
                            tooltip.show(seriesPoint);
                        }

                        highlight.show(seriesPoint);
                    }
                }
            }
        } else {
            var obj;
            unbindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));
            this._unsetActivePoint();
            this._mouseMoveTrackHandler = null;
        }
    };

    Chart.prototype._mousemove = function _mousemove (e) {
        var coords = this._eventCoordinates(e);
        var plotArea = this._plotArea;

        this._trackCrosshairs(coords);

        if (plotArea.hover) {
            var overPlotArea = plotArea.backgroundContainsPoint(coords);
            if (overPlotArea) {
                plotArea.hovered = true;
                this._plotArea.hover(this, e);
            } else if (plotArea.hovered && !overPlotArea) {
                this.trigger(PLOT_AREA_LEAVE);
                plotArea.hovered = false;
            }
        }

        if (this._sharedTooltip()) {
            this._trackSharedTooltip(coords, e);
        }
    };

    Chart.prototype._trackCrosshairs = function _trackCrosshairs (coords) {
        var crosshairs = this._plotArea.crosshairs;

        for (var i = 0; i < crosshairs.length; i++) {
            var current = crosshairs[i];

            if (current.box.containsPoint(coords)) {
                current.showAt(coords);
            } else {
                current.hide();
            }
        }
    };

    Chart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords, e, toggle) {
        if (this._suppressHover) {
            return;
        }

        var ref = this;
        var tooltipOptions = ref.options.tooltip;
        var plotArea = ref._plotArea;
        var categoryAxis = ref._plotArea.categoryAxis;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        if (plotArea.backgroundContainsPoint(coords)) {
            var index = categoryAxis.pointCategoryIndex(coords);
            if (index !== this._tooltipCategoryIx || (!this._sharedHighlight && toggle)) {
                var points = plotArea.pointsByCategoryIndex(index);
                var pointArgs = points.map(function(point) {
                    return point.eventArgs(e);
                });
                var hoverArgs = pointArgs[0] || {};
                hoverArgs.categoryPoints = pointArgs;

                if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {
                    if (tooltipOptions.visible) {
                        tooltip.showAt(points, coords);
                    }

                    highlight.show(points);

                    this._sharedHighlight = true;
                } else {
                    tooltip.hide();
                }

                this._tooltipCategoryIx = index;
            } else if (toggle && this._sharedHighlight) {
                highlight.hide();
                tooltip.hide();
                this._sharedHighlight = false;
            }
        } else if (this._sharedHighlight) {
            highlight.hide();
            tooltip.hide();
            this._tooltipCategoryIx = null;
            this._sharedHighlight = false;
        }
    };

    Chart.prototype.hideElements = function hideElements () {
        var plotArea = this._plotArea;
        this._mousemove.cancel();

        plotArea.hideCrosshairs();

        this._unsetActivePoint();
    };

    Chart.prototype._unsetActivePoint = function _unsetActivePoint () {
        var ref = this;
        var tooltip = ref._tooltip;
        var highlight = ref._highlight;

        this._activePoint = null;
        this._hoveredPoint = null;

        if (tooltip) {
            tooltip.hide();
        }

        this._tooltipCategoryIx = null;
        this._sharedHighlight = false;

        if (highlight) {
            highlight.hide();
        }
    };

    Chart.prototype._deferRedraw = function _deferRedraw () {
        this._redraw();
    };

    Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout () {
        if (this._redrawTimeout) {
            clearInterval(this._redrawTimeout);
            this._redrawTimeout = null;
        }
    };

    Chart.prototype.bindCategories = function bindCategories () {
        var this$1 = this;

        var options = this.options;
        var definitions = [].concat(options.categoryAxis);

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.autoBind !== false) {
                this$1.bindCategoryAxisFromSeries(axis, axisIx);
            }
        }
    };

    Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries (axis, axisIx) {
        var this$1 = this;

        var series = this.options.series;
        var seriesLength = series.length;
        var uniqueCategories = new HashMap();//perf improvement in case type category with dates
        var items = [];
        var bindable = false;
        var dateAxis;

        for (var seriesIx = 0; seriesIx < seriesLength; seriesIx++) {
            var s = series[seriesIx];
            var onAxis = s.categoryAxis === axis.name || (!s.categoryAxis && axisIx === 0);
            var data = s.data;
            var dataLength = data.length;
            var bind = s.categoryField && onAxis;
            bindable = bind || bindable;

            if (bind && dataLength > 0) {
                dateAxis = isDateAxis(axis, getField(s.categoryField, data[0]));

                var getFn = dateAxis ? getDateField : getField;

                for (var dataIx = 0; dataIx < dataLength; dataIx++) {
                    var dataRow = data[dataIx];
                    var category = getFn(s.categoryField, dataRow, this$1.chartService.intl);

                    if (dateAxis || !uniqueCategories.get(category)) {
                        items.push([ category, dataRow ]);

                        if (!dateAxis) {
                            uniqueCategories.set(category, true);
                        }
                    }
                }
            }
        }

        if (items.length > 0) {
            if (dateAxis) {
                items = uniqueDates(items, function(a, b) {
                    return dateComparer(a[0], b[0]);
                });
            }

            var result = transpose(items);
            axis.categories = result[0];
        } else if (bindable) {
            axis.categories = [];
        }
    };

    Chart.prototype._isBindable = function _isBindable (series) {
        var valueFields = SeriesBinder.current.valueFields(series);
        var result = true;

        for (var i = 0; i < valueFields.length; i++) {
            var field = valueFields[i];
            if (field === VALUE) {
                field = "field";
            } else {
                field = field + "Field";
            }

            if (!defined(series[field])) {
                result = false;
                break;
            }
        }

        return result;
    };

    Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw () {
        var options = this.options;
        var transitionsState;

        if (options.transitions !== false) {
            options.transitions = false;
            transitionsState = true;
        }

        this._redraw();

        if (transitionsState) {
            options.transitions = true;
        }
    };

    Chart.prototype._legendItemHover = function _legendItemHover (seriesIndex, pointIndex) {
        var ref = this;
        var plotArea = ref._plotArea;
        var highlight = ref._highlight;
        var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];
        var items;

        if (inArray(currentSeries.type, [ PIE, DONUT, FUNNEL ])) {
            items = plotArea.findPoint(function(point) {
                return point.series.index === seriesIndex && point.index === pointIndex;
            });
        } else {
            items = plotArea.pointsBySeriesIndex(seriesIndex);
        }

        highlight.show(items);
    };

    Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove () {
        return this._plotArea.crosshairs.length || (this._tooltip && this._sharedTooltip()) || this.requiresHandlers([ PLOT_AREA_HOVER, PLOT_AREA_LEAVE ]);
    };

    Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler () {
        var obj;
        unbindEvents(this.element, ( obj = {}, obj[ MOUSEMOVE ] = this._mousemove, obj ));

        if (this._shouldAttachMouseMove()) {
            var obj$1;
            bindEvents(this.element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));
        }
    };

    Chart.prototype.applyOptions = function applyOptions (options, theme) {
        clearMissingValues(this._originalOptions, options);
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        if (theme) {
            this._theme = theme;
            this.chartService.theme = theme;
        }
        this._initTheme(this.options, this._theme);

        this._toggleDragZoomEvents();
    };

    Chart.prototype.setOptions = function setOptions (options, theme) {
        this.applyOptions(options, theme);
        this.bindCategories();
        this.redraw();
        this.updateMouseMoveHandler();
    };

    Chart.prototype.setDirection = function setDirection (rtl) {
        this.chartService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this._destroySurface();
        }
    };

    Chart.prototype.setIntlService = function setIntlService (intl) {
        this.chartService.intl = intl;
    };

    Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        this._noTransitionsRedraw();
    };

    Chart.prototype.destroy = function destroy () {
        this._destroyed = true;

        var obj;
        unbindEvents(this.element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL ] = this._mousewheelHandler, obj[ MOUSEMOVE ] = this._mousemove, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj ));

        if (this.domEvents) {
            this.domEvents.destroy();
            delete this.domEvents;
        }

        if (this._mouseMoveTrackHandler) {
            var obj$1;
            unbindEvents(document, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj$1 ));
        }

        this._destroyView();

        this._destroySurface();

        this._clearRedrawTimeout();
    };

    Chart.prototype._destroySurface = function _destroySurface () {
        var surface = this.surface;
        if (surface) {
            surface.unbind("mouseenter", this._surfaceMouseenterHandler);
            surface.unbind("mouseleave", this._surfaceMouseleaveHandler);
            surface.destroy();

            this.surface = null;
        }
    };

    Chart.prototype._destroySelections = function _destroySelections () {
        var selections = this._selections;

        if (selections) {
            while (selections.length > 0) {
                selections.shift().destroy();
            }
        }
    };

    Chart.prototype._destroyView = function _destroyView () {
        var model = this._model;

        if (model) {
            model.destroy();
            this._model = null;
        }

        this._unsetActivePoint();

        this._destroySelections();

        if (this._tooltip) {
            this._tooltip.destroy();
        }

        if (this._highlight) {
            this._highlight.destroy();
        }

        if (this._zoomSelection) {
            this._zoomSelection.destroy();
            delete this._zoomSelection;
        }

        if (this._pannable) {
            this._pannable.destroy();
            delete this._pannable;
        }

        if (this._mousewheelZoom) {
            this._mousewheelZoom.destroy();
            delete this._mousewheelZoom;
        }
    };

    return Chart;
}(_progress_kendoDrawing.Class));

function resolveAxisAliases(options) {
    var aliases = AXIS_NAMES;

    for (var idx = 0; idx < aliases.length; idx++) {
        var alias = aliases[idx] + "Axes";
        if (options[alias]) {
            options[aliases[idx] + "Axis"] = options[alias];
            delete options[alias];
        }
    }
}

function pointByCategoryName(points, name) {
    if (points) {
        for (var idx = 0; idx < points.length; idx++) {
            if (points[idx].category === name) {
                return [ points[idx] ];
            }
        }
    }
}

function applyAxisDefaults(options, themeOptions) {
    var themeAxisDefaults = ((themeOptions || {}).axisDefaults) || {};
    var axisName, axisDefaults, axes;

    function mapAxisOptions(axisOptions) {
        var axisColor = (axisOptions || {}).color || axisDefaults.color;
        var result = deepExtend({},
            themeAxisDefaults,
            themeAxisDefaults[axisName],
            axisDefaults,
            axisDefaults[axisName], {
                line: { color: axisColor },
                labels: { color: axisColor },
                title: { color: axisColor }
            },
            axisOptions
        );

        delete result[axisName];

        return result;
    }

    for (var idx = 0; idx < AXIS_NAMES.length; idx++) {
        axisName = AXIS_NAMES[idx] + "Axis";
        axisDefaults = options.axisDefaults || {};
        axes = [].concat(options[axisName]);

        axes = axes.map(mapAxisOptions);

        options[axisName] = axes.length > 1 ? axes : axes[0];
    }
}

function applySeriesDefaults(options, themeOptions) {
    var series = options.series;
    var seriesLength = series.length;
    var seriesDefaults = options.seriesDefaults;
    var commonDefaults = deepExtend({}, options.seriesDefaults);
    var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};
    var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);

    cleanupNestedSeriesDefaults(commonDefaults);
    cleanupNestedSeriesDefaults(commonThemeDefaults);

    for (var i = 0; i < seriesLength; i++) {
        var seriesType = series[i].type || options.seriesDefaults.type;

        var baseOptions = deepExtend(
            { data: [] },
            commonThemeDefaults,
            themeSeriesDefaults[seriesType],
            { tooltip: options.tooltip },
            commonDefaults,
            seriesDefaults[seriesType]
        );

        series[i]._defaults = baseOptions;
        series[i] = deepExtend({}, baseOptions, series[i]);
        series[i].data = series[i].data || [];
    }
}

function cleanupNestedSeriesDefaults(seriesDefaults) {
    delete seriesDefaults.bar;
    delete seriesDefaults.column;
    delete seriesDefaults.rangeColumn;
    delete seriesDefaults.line;
    delete seriesDefaults.verticalLine;
    delete seriesDefaults.pie;
    delete seriesDefaults.donut;
    delete seriesDefaults.area;
    delete seriesDefaults.verticalArea;
    delete seriesDefaults.scatter;
    delete seriesDefaults.scatterLine;
    delete seriesDefaults.bubble;
    delete seriesDefaults.candlestick;
    delete seriesDefaults.ohlc;
    delete seriesDefaults.boxPlot;
    delete seriesDefaults.bullet;
    delete seriesDefaults.verticalBullet;
    delete seriesDefaults.polarArea;
    delete seriesDefaults.polarLine;
    delete seriesDefaults.radarArea;
    delete seriesDefaults.radarLine;
    delete seriesDefaults.waterfall;
}


function axisRanges(axes) {
    var ranges = {};

    for (var i = 0; i < axes.length; i++) {
        var axis = axes[i];
        var axisName = axis.options.name;
        if (axisName) {
            ranges[axisName] = axis.range();
        }
    }

    return ranges;
}

function sortDates(dates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    for (var i = 1, length = dates.length; i < length; i++) {
        if (comparer(dates[i], dates[i - 1]) < 0) {
            dates.sort(comparer);
            break;
        }
    }

    return dates;
}

function uniqueDates(srcDates, comparer) {
    if ( comparer === void 0 ) comparer = dateComparer;

    var dates = sortDates(srcDates, comparer);
    var length = dates.length;
    var result = length > 0 ? [ dates[0] ] : [];

    for (var i = 1; i < length; i++) {
        if (comparer(dates[i], last(result)) !== 0) {
            result.push(dates[i]);
        }
    }

    return result;
}

function transpose(rows) {
    var rowCount = rows.length;
    var result = [];

    for (var rowIx = 0; rowIx < rowCount; rowIx++) {
        var row = rows[rowIx];
        var colCount = row.length;

        for (var colIx = 0; colIx < colCount; colIx++) {
            result[colIx] = result[colIx] || [];
            result[colIx].push(row[colIx]);
        }
    }

    return result;
}

var DATA_FIELDS = [ 'data', 'categories' ];

function clearMissingValues(originalOptions, options) {
    for (var field in options) {
        if (!inArray(field, DATA_FIELDS) && options.hasOwnProperty(field)) {
            var fieldValue = options[field];
            var originalValue = originalOptions[field];
            if (defined(originalValue)) {
                var nullValue = fieldValue === null;
                if ((nullValue || !defined(fieldValue))) {
                    delete originalOptions[field];
                    if (nullValue) {
                        delete options[field];
                    }
                } else if (originalValue && isObject(fieldValue)) {
                    if (isObject(originalValue)) {
                        clearMissingValues(originalValue, fieldValue);
                    }
                }
            }
        }
    }
}

function triggerPaneRender(panes) {
    for (var idx = 0; idx < panes.length; idx++) {
        panes[idx].notifyRender();
    }
}

setDefaultOptions(Chart, {
    renderAs: "",
    chartArea: {},
    legend: {
        visible: true,
        labels: {}
    },
    categoryAxis: {},
    seriesDefaults: {
        type: COLUMN,
        data: [],
        highlight: {
            visible: true
        },
        labels: {},
        negativeValues: {
            visible: false
        }
    },
    series: [],
    seriesColors: null,
    tooltip: {
        visible: false
    },
    transitions: true,
    valueAxis: {},
    plotArea: {},
    title: {},
    xAxis: {},
    yAxis: {},
    panes: [ {} ],
    pannable: false,
    zoomable: false
});

var TOP_OFFSET = -2;

var SharedTooltip$1 = (function (ChartSharedTooltip) {
    function SharedTooltip$$1 () {
        ChartSharedTooltip.apply(this, arguments);
    }

    if ( ChartSharedTooltip ) SharedTooltip$$1.__proto__ = ChartSharedTooltip;
    SharedTooltip$$1.prototype = Object.create( ChartSharedTooltip && ChartSharedTooltip.prototype );
    SharedTooltip$$1.prototype.constructor = SharedTooltip$$1;

    SharedTooltip$$1.prototype._slotAnchor = function _slotAnchor (coords, slot) {
        var axis = this.plotArea.categoryAxis;
        var vertical = axis.options.vertical;
        var align = vertical ? {
            horizontal: "left",
            vertical: "center"
        } : {
            horizontal: "center",
            vertical: "bottom"
        };

        var point;

        if (vertical) {
            point = new Point(this.plotArea.box.x2, slot.center().y);
        } else {
            point = new Point(slot.center().x, TOP_OFFSET);
        }

        return {
            point: point,
            align: align
        };
    };

    SharedTooltip$$1.prototype._defaultAnchor = function _defaultAnchor (point, slot) {
        return this._slotAnchor({}, slot);
    };

    return SharedTooltip$$1;
}(SharedTooltip));

var DEAULT_BAR_WIDTH = 150;
var DEAULT_BULLET_WIDTH = 150;
var NO_CROSSHAIR = [ BAR, BULLET ];

function hide$1(children) {
    var state = [];
    for (var idx = 0; idx < children.length; idx++) {
        var child = children[idx];
        state[idx] = child.style.display;
        child.style.display = "none";
    }

    return state;
}

function show$1(children, state) {
    for (var idx = 0; idx < children.length; idx++) {
        children[idx].style.display = state[idx];
    }
}

function wrapNumber(value) {
    return isNumber(value) ? [ value ] : value;
}

var Sparkline = (function (Chart$$1) {
    function Sparkline () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) Sparkline.__proto__ = Chart$$1;
    Sparkline.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    Sparkline.prototype.constructor = Sparkline;

    Sparkline.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-sparkline');
    };

    Sparkline.prototype._initElement = function _initElement (element) {
        Chart$$1.prototype._initElement.call(this, element);

        this._initialWidth = Math.floor(elementSize$1(element).width);
    };

    Sparkline.prototype._resize = function _resize () {
        var element = this.element;
        var state = hide$1(element.childNodes);

        this._initialWidth = Math.floor(elementSize$1(element).width);

        show$1(element.childNodes, state);

        Chart$$1.prototype._resize.call(this);
    };

    Sparkline.prototype._modelOptions = function _modelOptions () {
        var chartOptions = this.options;
        var stage = this._surfaceWrap();
        var displayState = hide$1(stage.childNodes);

        var space = document.createElement('span');
        space.innerHTML = '&nbsp;';

        stage.appendChild(space);

        var options = deepExtend({
            width: this._autoWidth,
            height: elementSize$1(stage).height,
            transitions: chartOptions.transitions
        }, chartOptions.chartArea, {
            inline: true,
            align: false
        });

        elementSize$1(stage, {
            width: options.width,
            height: options.height
        });

        stage.removeChild(space);

        show$1(stage.childNodes, displayState);

        if (this.surface) {
            this.surface.resize();
        }

        return options;
    };

    Sparkline.prototype._surfaceWrap = function _surfaceWrap () {
        if (!this.stage) {
            var stage = this.stage = document.createElement('span');
            this.element.appendChild(stage);
        }
        return this.stage;
    };

    Sparkline.prototype._createPlotArea = function _createPlotArea (skipSeries) {
        var plotArea = Chart$$1.prototype._createPlotArea.call(this, skipSeries);
        this._autoWidth = this._initialWidth || this._calculateWidth(plotArea);

        return plotArea;
    };

    Sparkline.prototype._calculateWidth = function _calculateWidth (plotArea) {
        var options = this.options;
        var margin = getSpacing(options.chartArea.margin);
        var charts = plotArea.charts;
        var stage = this._surfaceWrap();
        var total = 0;


        for (var i = 0; i < charts.length; i++) {
            var currentChart = charts[i];
            var firstSeries = (currentChart.options.series || [])[0];
            if (!firstSeries) {
                continue;
            }

            if (firstSeries.type === BAR) {
                return DEAULT_BAR_WIDTH;
            }

            if (firstSeries.type === BULLET) {
                return DEAULT_BULLET_WIDTH;
            }

            if (firstSeries.type === PIE) {
                return elementSize$1(stage).height;
            }

            var categoryAxis = currentChart.categoryAxis;
            if (categoryAxis) {
                var pointsCount = categoryAxis.categoriesCount() *
                    (!currentChart.options.isStacked && inArray(firstSeries.type, [ COLUMN, VERTICAL_BULLET ]) ? currentChart.seriesOptions.length : 1);

                total = Math.max(total, pointsCount);
            }
        }

        var size = total * options.pointWidth;
        if (size > 0) {
            size += margin.left + margin.right;
        }

        return size;
    };

    Sparkline.prototype._createSharedTooltip = function _createSharedTooltip (options) {
        return new SharedTooltip$1(this._plotArea, options);
    };

    Sparkline.normalizeOptions = function normalizeOptions (userOptions) {
        var options = wrapNumber(userOptions);

        if (isArray(options)) {
            options = { seriesDefaults: { data: options } };
        } else {
            options = deepExtend({}, options);
        }

        if (!options.series) {
            options.series = [ { data: wrapNumber(options.data) } ];
        }

        deepExtend(options, {
            seriesDefaults: {
                type: options.type
            }
        });

        if (inArray(options.series[0].type, NO_CROSSHAIR) ||
            inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {
            options = deepExtend({}, {
                categoryAxis: {
                    crosshair: {
                        visible: false
                    }
                }
            }, options);
        }

        return options;
    };

    return Sparkline;
}(Chart));

setDefaultOptions(Sparkline, {
    chartArea: {
        margin: 2
    },
    axisDefaults: {
        visible: false,
        majorGridLines: {
            visible: false
        },
        valueAxis: {
            narrowRange: true
        }
    },
    seriesDefaults: {
        type: "line",
        area: {
            line: {
                width: 0.5
            }
        },
        bar: {
            stack: true
        },
        padding: 2,
        width: 0.5,
        overlay: {
            gradient: null
        },
        highlight: {
            visible: false
        },
        border: {
            width: 0
        },
        markers: {
            size: 2,
            visible: false
        }
    },
    tooltip: {
        visible: true,
        shared: true
    },
    categoryAxis: {
        crosshair: {
            visible: true,
            tooltip: {
                visible: false
            }
        }
    },
    legend: {
        visible: false
    },
    transitions: false,

    pointWidth: 5,

    panes: [ { clip: false } ]
});

var FadeOutAnimation = (function (superclass) {
    function FadeOutAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) FadeOutAnimation.__proto__ = superclass;
    FadeOutAnimation.prototype = Object.create( superclass && superclass.prototype );
    FadeOutAnimation.prototype.constructor = FadeOutAnimation;

    FadeOutAnimation.prototype.setup = function setup () {
        this._initialOpacity = parseFloat(elementStyles(this.element, 'opacity').opacity);
    };

    FadeOutAnimation.prototype.step = function step (pos) {
        elementStyles(this.element, {
            opacity: String(interpolateValue(this._initialOpacity, 0, pos))
        });
    };

    FadeOutAnimation.prototype.abort = function abort () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            display: 'none',
            opacity: String(this._initialOpacity)
        });
    };

    FadeOutAnimation.prototype.cancel = function cancel () {
        superclass.prototype.abort.call(this);
        elementStyles(this.element, {
            opacity: String(this._initialOpacity)
        });
    };

    return FadeOutAnimation;
}(_progress_kendoDrawing.drawing.Animation));

function createDiv$1(className, style) {
    var div = document.createElement("div");
    div.className = className;
    if (style) {
        div.style.cssText = style;
    }

    return div;
}

var NavigatorHint = (function (Class$$1) {
    function NavigatorHint(container, chartService, options) {
        Class$$1.call(this);

        this.options = deepExtend({}, this.options, options);
        this.container = container;
        this.chartService = chartService;

        var padding = elementStyles(container, [ "paddingLeft", "paddingTop" ]);
        this.chartPadding = {
            top: padding.paddingTop,
            left: padding.paddingLeft
        };

        this.createElements();
        container.appendChild(this.element);
    }

    if ( Class$$1 ) NavigatorHint.__proto__ = Class$$1;
    NavigatorHint.prototype = Object.create( Class$$1 && Class$$1.prototype );
    NavigatorHint.prototype.constructor = NavigatorHint;

    NavigatorHint.prototype.createElements = function createElements () {
        var element = this.element = createDiv$1('k-navigator-hint', 'display: none; position: absolute; top: 1px; left: 1px;');
        var tooltip = this.tooltip = createDiv$1('k-tooltip k-chart-tooltip');
        var scroll = this.scroll = createDiv$1('k-scroll');

        tooltip.innerHTML = '&nbsp;';

        element.appendChild(tooltip);
        element.appendChild(scroll);
    };

    NavigatorHint.prototype.show = function show (from, to, bbox) {
        var ref = this;
        var element = ref.element;
        var options = ref.options;
        var scroll = ref.scroll;
        var tooltip = ref.tooltip;
        var middle = toDate(toTime(from) + toTime(to - from) / 2);
        var scrollWidth = bbox.width() * 0.4;
        var minPos = bbox.center().x - scrollWidth;
        var maxPos = bbox.center().x;
        var posRange = maxPos - minPos;
        var range = options.max - options.min;
        var scale = posRange / range;
        var offset = middle - options.min;
        var text = this.chartService.intl.format(options.format, from, to);
        var template = getTemplate(options);

        this.clearHideTimeout();

        if (!this._visible) {
            elementStyles(element, {
                visibility: 'hidden',
                display: 'block'
            });
            this._visible = true;
        }

        if (template) {
            text = template({
                from: from,
                to: to
            });
        }

        tooltip.innerHTML = text;
        elementStyles(tooltip, {
            left: bbox.center().x - tooltip.offsetWidth / 2,
            top: bbox.y1
        });

        var tooltipStyle = elementStyles(tooltip, [ 'marginTop', 'borderTopWidth', 'height' ]);

        elementStyles(scroll, {
            width: scrollWidth,
            left: minPos + offset * scale,
            top: bbox.y1 + tooltipStyle.marginTop + tooltipStyle.borderTopWidth + tooltipStyle.height / 2
        });

        elementStyles(element, {
            visibility: 'visible'
        });
    };

    NavigatorHint.prototype.clearHideTimeout = function clearHideTimeout () {
        if (this._hideTimeout) {
            clearTimeout(this._hideTimeout);
        }

        if (this._hideAnimation) {
            this._hideAnimation.cancel();
        }
    };

    NavigatorHint.prototype.hide = function hide () {
        var this$1 = this;

        this.clearHideTimeout();

        this._hideTimeout = setTimeout(function () {
            this$1._visible = false;
            this$1._hideAnimation = new FadeOutAnimation(this$1.element);
            this$1._hideAnimation.setup();
            this$1._hideAnimation.play();
        }, this.options.hideDelay);
    };

    NavigatorHint.prototype.destroy = function destroy () {
        this.clearHideTimeout();
        if (this.container) {
            this.container.removeChild(this.element);
        }
        delete this.container;
        delete this.chartService;
        delete this.element;
        delete this.tooltip;
        delete this.scroll;
    };

    return NavigatorHint;
}(_progress_kendoDrawing.Class));

setDefaultOptions(NavigatorHint, {
    format: "{0:d} - {1:d}",
    hideDelay: 500
});

var NAVIGATOR_PANE = "_navigator";
var NAVIGATOR_AXIS = NAVIGATOR_PANE;



var constants = Object.freeze({
	NAVIGATOR_AXIS: NAVIGATOR_AXIS,
	NAVIGATOR_PANE: NAVIGATOR_PANE
});

var ZOOM_ACCELERATION$1 = 3;

var Navigator = (function (Class$$1) {
    function Navigator(chart) {
        Class$$1.call(this);

        this.chart = chart;
        var options = this.options = deepExtend({}, this.options, chart.options.navigator);
        var select = options.select;
        if (select) {
            select.from = this.parseDate(select.from);
            select.to = this.parseDate(select.to);
        }

        if (!defined(options.hint.visible)) {
            options.hint.visible = options.visible;
        }

        var obj;
        this.chartObserver = new InstanceObserver(this, ( obj = {}, obj[DRAG] = '_drag', obj[DRAG_END] = '_dragEnd', obj[ZOOM] = '_zoom', obj[ZOOM_END] = '_zoomEnd', obj ));
        chart.addObserver(this.chartObserver);
    }

    if ( Class$$1 ) Navigator.__proto__ = Class$$1;
    Navigator.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Navigator.prototype.constructor = Navigator;

    Navigator.prototype.parseDate = function parseDate$1 (value) {
        return parseDate(this.chart.chartService.intl, value);
    };

    Navigator.prototype.clean = function clean () {
        if (this.selection) {
            this.selection.destroy();
            this.selection = null;
        }

        if (this.hint) {
            this.hint.destroy();
            this.hint = null;
        }
    };

    Navigator.prototype.destroy = function destroy () {
        if (this.chart) {
            this.chart.removeObserver(this.chartObserver);
            delete this.chart;
        }

        this.clean();
    };

    Navigator.prototype.redraw = function redraw () {
        this._redrawSelf();
        this.initSelection();
    };

    Navigator.prototype.initSelection = function initSelection () {
        var ref = this;
        var chart = ref.chart;
        var options = ref.options;
        var axis = this.mainAxis();
        var ref$1 = axis.roundedRange();
        var min = ref$1.min;
        var max = ref$1.max;
        var ref$2 = options.select;
        var from = ref$2.from;
        var to = ref$2.to;
        var mousewheel = ref$2.mousewheel;
        var axisClone = clone$1(axis);

        if (axis.categoriesCount() === 0) {
            return;
        }

        this.clean();

        // "Freeze" the selection axis position until the next redraw
        axisClone.box = axis.box;

        this.selection = new Selection(chart, axisClone, {
            min: min,
            max: max,
            from: from || min,
            to: to || max,
            mousewheel: valueOrDefault(mousewheel, { zoom: "left" }),
            visible: options.visible
        }, new InstanceObserver(this, {
            selectStart: '_selectStart',
            select: '_select',
            selectEnd: '_selectEnd'
        }));

        if (options.hint.visible) {
            this.hint = new NavigatorHint(chart.element, chart.chartService, {
                min: min,
                max: max,
                template: getTemplate(options.hint),
                format: options.hint.format
            });
        }
    };

    Navigator.prototype.setRange = function setRange () {
        var plotArea = this.chart._createPlotArea(true);
        var axis = plotArea.namedCategoryAxes[NAVIGATOR_AXIS];

        var ref = axis.roundedRange();
        var min = ref.min;
        var max = ref.max;

        var select = this.options.select || {};
        var from = select.from || min;
        if (from < min) {
            from = min;
        }

        var to = select.to || max;
        if (to > max) {
            to = max;
        }

        this.options.select = deepExtend({}, select, {
            from: from,
            to: to
        });

        this.filterAxes();
    };

    Navigator.prototype._redrawSelf = function _redrawSelf (silent) {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            plotArea.redraw(last(plotArea.panes), silent);
        }
    };

    Navigator.prototype.redrawSlaves = function redrawSlaves () {
        var chart = this.chart;
        var plotArea = chart._plotArea;
        var slavePanes = plotArea.panes.slice(0, -1);

        // Update the original series and categoryAxis before partial refresh.
        plotArea.srcSeries = chart.options.series;
        plotArea.options.categoryAxis = chart.options.categoryAxis;
        plotArea.clearSeriesPointsCache();

        plotArea.redraw(slavePanes);
    };

    Navigator.prototype._drag = function _drag (e) {
        var ref = this;
        var chart = ref.chart;
        var selection = ref.selection;
        var coords = chart._eventCoordinates(e.originalEvent);
        var navigatorAxis = this.mainAxis();
        var naviRange = navigatorAxis.roundedRange();
        var inNavigator = navigatorAxis.pane.box.containsPoint(coords);
        var axis = chart._plotArea.categoryAxis;
        var range = e.axisRanges[axis.options.name];
        var select = this.options.select;
        var duration$$1;

        if (!range || inNavigator || !selection) {
            return;
        }

        if (select.from && select.to) {
            duration$$1 = toTime(select.to) - toTime(select.from);
        } else {
            duration$$1 = toTime(selection.options.to) - toTime(selection.options.from);
        }

        var from = toDate(limitValue(
            toTime(range.min),
            naviRange.min, toTime(naviRange.max) - duration$$1
        ));

        var to = toDate(limitValue(
            toTime(from) + duration$$1,
            toTime(naviRange.min) + duration$$1, naviRange.max
        ));

        this.options.select = { from: from, to: to };

        if (this.options.liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(from, to);

        this.showHint(from, to);
    };

    Navigator.prototype._dragEnd = function _dragEnd () {
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        if (this.hint) {
            this.hint.hide();
        }
    };

    Navigator.prototype.readSelection = function readSelection () {
        var ref = this;
        var ref_selection_options = ref.selection.options;
        var from = ref_selection_options.from;
        var to = ref_selection_options.to;
        var select = ref.options.select;

        select.from = from;
        select.to = to;
    };

    Navigator.prototype.filterAxes = function filterAxes () {
        var ref = this;
        var select = ref.options.select; if ( select === void 0 ) select = { };
        var chart = ref.chart;
        var allAxes = chart.options.categoryAxis;
        var from = select.from;
        var to = select.to;

        for (var idx = 0; idx < allAxes.length; idx++) {
            var axis = allAxes[idx];
            if (axis.pane !== NAVIGATOR_PANE) {
                axis.min = from;
                axis.max = to;
            }
        }
    };

    Navigator.prototype.filter = function filter () {
        var ref = this;
        var chart = ref.chart;
        var select = ref.options.select;

        if (!chart.requiresHandlers([ "navigatorFilter" ])) {
            return;
        }

        var mainAxis = this.mainAxis();
        var args = {
            from: select.from,
            to: select.to
        };

        if (mainAxis.options.type !== 'category') {
            var axisOptions = new DateCategoryAxis(deepExtend({
                baseUnit: "fit"
            }, chart.options.categoryAxis[0], {
                categories: [ select.from, select.to ]
            }), chart.chartService).options;

            args.from = addDuration(axisOptions.min, -axisOptions.baseUnitStep, axisOptions.baseUnit);
            args.to = addDuration(axisOptions.max, axisOptions.baseUnitStep, axisOptions.baseUnit);
        }

        this.chart.trigger("navigatorFilter", args);
    };

    Navigator.prototype._zoom = function _zoom (e) {
        var ref = this;
        var axis = ref.chart._plotArea.categoryAxis;
        var selection = ref.selection;
        var ref_options = ref.options;
        var select = ref_options.select;
        var liveDrag = ref_options.liveDrag;
        var mainAxis = this.mainAxis();
        var delta = e.delta;

        if (!selection) {
            return;
        }

        var fromIx = mainAxis.categoryIndex(selection.options.from);
        var toIx = mainAxis.categoryIndex(selection.options.to);

        e.originalEvent.preventDefault();

        if (Math.abs(delta) > 1) {
            delta *= ZOOM_ACCELERATION$1;
        }

        if (toIx - fromIx > 1) {
            selection.expand(delta);
            this.readSelection();
        } else {
            axis.options.min = select.from;
            select.from = axis.scaleRange(-e.delta).min;
        }

        if (liveDrag) {
            this.filterAxes();
            this.redrawSlaves();
        }

        selection.set(select.from, select.to);

        this.showHint(this.options.select.from, this.options.select.to);
    };

    Navigator.prototype._zoomEnd = function _zoomEnd (e) {
        this._dragEnd(e);
    };

    Navigator.prototype.showHint = function showHint (from, to) {
        var plotArea = this.chart._plotArea;

        if (this.hint) {
            this.hint.show(from, to, plotArea.backgroundBox());
        }
    };

    Navigator.prototype._selectStart = function _selectStart (e) {
        return this.chart._selectStart(e);
    };

    Navigator.prototype._select = function _select (e) {
        this.showHint(e.from, e.to);

        return this.chart._select(e);
    };

    Navigator.prototype._selectEnd = function _selectEnd (e) {
        if (this.hint) {
            this.hint.hide();
        }

        this.readSelection();
        this.filterAxes();
        this.filter();
        this.redrawSlaves();

        return this.chart._selectEnd(e);
    };

    Navigator.prototype.mainAxis = function mainAxis () {
        var plotArea = this.chart._plotArea;

        if (plotArea) {
            return plotArea.namedCategoryAxes[NAVIGATOR_AXIS];
        }
    };

    Navigator.prototype.select = function select (from, to) {
        var select = this.options.select;

        if (from && to) {
            select.from = this.parseDate(from);
            select.to = this.parseDate(to);

            this.filterAxes();
            this.filter();
            this.redrawSlaves();

            this.selection.set(from, to);
        }

        return {
            from: select.from,
            to: select.to
        };
    };

    Navigator.setup = function setup (options, themeOptions) {
        if ( options === void 0 ) options = {};
        if ( themeOptions === void 0 ) themeOptions = {};

        if (options.__navi) {
            return;
        }
        options.__navi = true;

        var naviOptions = deepExtend({}, themeOptions.navigator, options.navigator);
        var panes = options.panes = [].concat(options.panes);
        var paneOptions = deepExtend({}, naviOptions.pane, { name: NAVIGATOR_PANE });

        if (!naviOptions.visible) {
            paneOptions.visible = false;
            paneOptions.height = 0.1;
        }

        panes.push(paneOptions);

        Navigator.attachAxes(options, naviOptions);
        Navigator.attachSeries(options, naviOptions, themeOptions);
    };

    Navigator.attachAxes = function attachAxes (options, naviOptions) {
        var series = naviOptions.series || [];
        var categoryAxes = options.categoryAxis = [].concat(options.categoryAxis);
        var valueAxes = options.valueAxis = [].concat(options.valueAxis);

        var equallySpacedSeries = filterSeriesByType(series, EQUALLY_SPACED_SERIES);
        var justifyAxis = equallySpacedSeries.length === 0;

        var base = deepExtend({
            type: "date",
            pane: NAVIGATOR_PANE,
            roundToBaseUnit: !justifyAxis,
            justified: justifyAxis,
            _collapse: false,
            majorTicks: { visible: true },
            tooltip: { visible: false },
            labels: { step: 1 },
            autoBind: naviOptions.autoBindElements,
            autoBaseUnitSteps: {
                minutes: [ 1 ],
                hours: [ 1, 2 ],
                days: [ 1, 2 ],
                weeks: [],
                months: [ 1 ],
                years: [ 1 ]
            }
        });
        var user = naviOptions.categoryAxis;

        categoryAxes.push(
            deepExtend({}, base, {
                maxDateGroups: 200
            }, user, {
                name: NAVIGATOR_AXIS,
                title: null,
                baseUnit: "fit",
                baseUnitStep: "auto",
                labels: { visible: false },
                majorTicks: { visible: false }
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_labels",
                maxDateGroups: 20,
                baseUnitStep: "auto",
                labels: { position: "" },
                plotBands: [],
                autoBaseUnitSteps: {
                    minutes: []
                },
                _overlap: true
            }), deepExtend({}, base, user, {
                name: NAVIGATOR_AXIS + "_ticks",
                maxDateGroups: 200,
                majorTicks: {
                    width: 0.5
                },
                plotBands: [],
                title: null,
                labels: { visible: false, mirror: true },
                _overlap: true
            })
        );

        valueAxes.push(deepExtend({
            name: NAVIGATOR_AXIS,
            pane: NAVIGATOR_PANE,
            majorGridLines: {
                visible: false
            },
            visible: false
        }, naviOptions.valueAxis));
    };

    Navigator.attachSeries = function attachSeries (options, naviOptions, themeOptions) {
        var series = options.series = options.series || [];
        var navigatorSeries = [].concat(naviOptions.series || []);
        var seriesColors = themeOptions.seriesColors;
        var defaults = naviOptions.seriesDefaults;

        for (var idx = 0; idx < navigatorSeries.length; idx++) {
            series.push(
                deepExtend({
                    color: seriesColors[idx % seriesColors.length],
                    categoryField: naviOptions.dateField,
                    visibleInLegend: false,
                    tooltip: {
                        visible: false
                    }
                }, defaults, navigatorSeries[idx], {
                    axis: NAVIGATOR_AXIS,
                    categoryAxis: NAVIGATOR_AXIS,
                    autoBind: naviOptions.autoBindElements
                })
            );
        }
    };

    return Navigator;
}(_progress_kendoDrawing.Class));

function ClonedObject() { }
function clone$1(obj) {
    ClonedObject.prototype = obj;
    return new ClonedObject();
}

var AUTO_CATEGORY_WIDTH = 28;

var StockChart = (function (Chart$$1) {
    function StockChart () {
        Chart$$1.apply(this, arguments);
    }

    if ( Chart$$1 ) StockChart.__proto__ = Chart$$1;
    StockChart.prototype = Object.create( Chart$$1 && Chart$$1.prototype );
    StockChart.prototype.constructor = StockChart;

    StockChart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {
        var width = elementSize$1(this.element).width || DEFAULT_WIDTH;
        var theme = themeOptions;

        var stockDefaults = {
            seriesDefaults: {
                categoryField: options.dateField
            },
            axisDefaults: {
                categoryAxis: {
                    name: "default",
                    majorGridLines: {
                        visible: false
                    },
                    labels: {
                        step: 2
                    },
                    majorTicks: {
                        visible: false
                    },
                    maxDateGroups: Math.floor(width / AUTO_CATEGORY_WIDTH)
                }
            }
        };

        if (theme) {
            theme = deepExtend({}, theme, stockDefaults);
        }

        Navigator.setup(options, theme);

        Chart$$1.prototype.applyDefaults.call(this, options, theme);
    };

    StockChart.prototype._setElementClass = function _setElementClass (element) {
        addClass(element, 'k-chart k-stockchart');
    };

    StockChart.prototype.setOptions = function setOptions (options) {
        this.destroyNavigator();
        Chart$$1.prototype.setOptions.call(this, options);
    };

    StockChart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this.options.transitions = false;
        this._fullRedraw();
        this.options.transitions = transitions;
    };

    StockChart.prototype._resize = function _resize () {
        this.noTransitionsRedraw();
    };

    StockChart.prototype._redraw = function _redraw () {
        var navigator = this.navigator;

        if (!this._dirty() && navigator && navigator.options.partialRedraw) {
            navigator.redrawSlaves();
        } else {
            this._fullRedraw();
        }
    };

    StockChart.prototype._dirty = function _dirty () {
        var options = this.options;
        var series = [].concat(options.series, options.navigator.series);
        var seriesCount = grep(series, function(s) { return s && s.visible; }).length;
        var dirty = this._seriesCount !== seriesCount;
        this._seriesCount = seriesCount;

        return dirty;
    };

    StockChart.prototype._fullRedraw = function _fullRedraw () {
        var navigator = this.navigator;

        if (!navigator) {
            navigator = this.navigator = new Navigator(this);
            this.trigger("navigatorCreated", { navigator: navigator });
        }

        navigator.clean();
        navigator.setRange();

        Chart$$1.prototype._redraw.call(this);

        navigator.initSelection();
    };

    StockChart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords) {
        var plotArea = this._plotArea;
        var pane = plotArea.paneByPoint(coords);

        if (pane && pane.options.name === NAVIGATOR_PANE) {
            this._unsetActivePoint();
        } else {
            Chart$$1.prototype._trackSharedTooltip.call(this, coords);
        }
    };

    StockChart.prototype.bindCategories = function bindCategories () {
        Chart$$1.prototype.bindCategories.call(this);
        this.copyNavigatorCategories();
    };

    StockChart.prototype.copyNavigatorCategories = function copyNavigatorCategories () {
        var definitions = [].concat(this.options.categoryAxis);
        var categories;

        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {
            var axis = definitions[axisIx];
            if (axis.name === NAVIGATOR_AXIS) {
                categories = axis.categories;
            } else if (categories && axis.pane === NAVIGATOR_PANE) {
                axis.categories = categories;
            }
        }
    };

    StockChart.prototype.destroyNavigator = function destroyNavigator () {
        if (this.navigator) {
            this.navigator.destroy();
            this.navigator = null;
        }
    };

    StockChart.prototype.destroy = function destroy () {
        this.destroyNavigator();
        Chart$$1.prototype.destroy.call(this);
    };

    StockChart.prototype._stopChartHandlers = function _stopChartHandlers (e) {
        var coords = this._eventCoordinates(e);
        var pane = this._plotArea.paneByPoint(coords);

        return Chart$$1.prototype._stopChartHandlers.call(this, e) || (pane && pane.options.name === NAVIGATOR_PANE);
    };

    StockChart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {
        if (!this._dragZoomEnabled) {
            this.element.style.touchAction = "none";

            this._dragZoomEnabled = true;
        }
    };

    return StockChart;
}(Chart));

setDefaultOptions(StockChart, {
    dateField: "date",
    axisDefaults: {
        categoryAxis: {
            type: "date",
            baseUnit: "fit",
            justified: true
        },
        valueAxis: {
            narrowRange: true,
            labels: {
                format: "C"
            }
        }
    },
    navigator: {
        select: {},
        seriesDefaults: {
            markers: {
                visible: false
            },
            tooltip: {
                visible: true
            },
            line: {
                width: 2
            }
        },
        hint: {},
        visible: true
    },
    tooltip: {
        visible: true
    },
    legend: {
        visible: false
    }
});

var ANGULAR_SPEED = 150;
var LINEAR_SPEED = 250;
var ARROW = "arrow";
var ARROW_POINTER = "arrowPointer";
var BAR_POINTER = "barPointer";
var DEFAULT_HEIGHT$1 = 200;
var DEFAULT_LINE_WIDTH = 0.5;
var DEFAULT_WIDTH$1 = 200;
var DEGREE = Math.PI / 180;
var INSIDE$1 = "inside";
var LINEAR$1 = "linear";
var OUTSIDE$1 = "outside";
var RADIAL_POINTER = "radialPointer";
var RADIAL_RANGE_POINTER = "radialRangePointer";

function pad$1(bbox, value) {
    var origin = bbox.getOrigin();
    var size = bbox.getSize();
    var spacing = getSpacing(value);

    bbox.setOrigin([ origin.x - spacing.left, origin.y - spacing.top ]);
    bbox.setSize([ size.width + (spacing.left + spacing.right), size.height + (spacing.top + spacing.bottom) ]);

    return bbox;
}

var Group = _progress_kendoDrawing.drawing.Group;
var Path$1 = _progress_kendoDrawing.drawing.Path;
var Text$2 = _progress_kendoDrawing.drawing.Text;

function buildLabelElement(label, options) {
    var labelBox = label.box;
    var textBox = label.children[0].box;
    var border = options.border || {};
    var background = options.background || "";

    var wrapper = Path$1.fromRect(new _progress_kendoDrawing.geometry.Rect([ labelBox.x1, labelBox.y1 ], [ labelBox.width(), labelBox.height() ]), {
        stroke: {}
    });

    var text = new Text$2(label.text, new _progress_kendoDrawing.geometry.Point(textBox.x1, textBox.y1), {
        font: options.font,
        fill: { color: options.color }
    });

    var styleGeometry = pad$1(text.bbox().clone(), options.padding);

    var styleBox = Path$1.fromRect(styleGeometry, {
        stroke: {
            color: border.width ? border.color : "",
            width: border.width,
            opacity: border.opacity,
            dashType: border.dashType,
            lineJoin: "round",
            lineCap: "round"
        },
        fill: {
            color: background
        }
    });

    var elements = new Group();
    elements.append(wrapper);
    elements.append(styleBox);
    elements.append(text);

    return elements;
}

function getRange(range, min, max) {
    var from = defined(range.from) ? range.from : MIN_VALUE;
    var to = defined(range.to) ? range.to : MAX_VALUE;

    range.from = Math.max(Math.min(to, from), min);
    range.to = Math.min(Math.max(to, from), max);

    return range;
}

function unpad$1(bbox, value) {
    var spacing = getSpacing(value);

    spacing.left = -spacing.left; spacing.top = -spacing.top;
    spacing.right = -spacing.right; spacing.bottom = -spacing.bottom;

    return pad$1(bbox, spacing);
}

var DEFAULT_MARGIN = 5;
var Path = _progress_kendoDrawing.drawing.Path;
var Surface = _progress_kendoDrawing.drawing.Surface;

var Gauge = (function (Class$$1) {
    function Gauge(element, userOptions, theme, context) {
        if ( context === void 0 ) context = {};

        Class$$1.call(this);

        this.element = element;
        this.theme = theme;
        this.contextService = new ChartService(this, context);
        this._originalOptions = deepExtend({}, this.options, userOptions);
        this.options = deepExtend({}, this._originalOptions);
        this._initTheme(theme);

        this.redraw();
    }

    if ( Class$$1 ) Gauge.__proto__ = Class$$1;
    Gauge.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Gauge.prototype.constructor = Gauge;

    Gauge.prototype.destroy = function destroy () {
        if (this.surface) {
            this.surface.destroy();
            this.surface = null;
        }

        delete this.element;
        delete this.surfaceElement;
    };

    Gauge.prototype.value = function value (pointerValue) {
        var pointer = this.pointers[0];

        if (arguments.length === 0) {
            return pointer.value();
        }

        pointer.value(pointerValue);
        this._setValueOptions(pointerValue);
    };

    Gauge.prototype._draw = function _draw () {
        var surface = this.surface;

        surface.clear();
        surface.draw(this._visuals);
    };

    Gauge.prototype.exportVisual = function exportVisual () {
        return this._visuals;
    };

    Gauge.prototype.allValues = function allValues (values) {
        var pointers = this.pointers;
        var allValues = [];

        if (arguments.length === 0) {
            for (var i = 0; i < pointers.length; i++) {
                allValues.push(pointers[i].value());
            }

            return allValues;
        }

        if (isArray(values)) {
            for (var i$1 = 0; i$1 < values.length; i$1++) {
                if (isNumber(values[i$1])) {
                    pointers[i$1].value(values[i$1]);
                }
            }
        }

        this._setValueOptions(values);
    };

    Gauge.prototype._setValueOptions = function _setValueOptions (values) {
        var pointers = [].concat(this.options.pointer);
        var arrayValues = [].concat(values);

        for (var i = 0; i < arrayValues.length; i++) {
            pointers[i].value = arrayValues[i];
        }
    };

    Gauge.prototype.resize = function resize () {
        this.noTransitionsRedraw();
    };

    Gauge.prototype.noTransitionsRedraw = function noTransitionsRedraw () {
        var transitions = this.options.transitions;

        this._toggleTransitions(false);

        this.redraw();

        this._toggleTransitions(transitions);
    };

    Gauge.prototype.redraw = function redraw () {
        var size = this._surfaceSize();
        var wrapper = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._initSurface();

        this.gaugeArea = this._createGaugeArea();

        this._createModel();

        var bbox = unpad$1(wrapper.bbox(), this._gaugeAreaMargin);
        this.reflow(bbox);
    };

    Gauge.prototype.setOptions = function setOptions (options, theme) {
        this._originalOptions = deepExtend(this._originalOptions, options);
        this.options = deepExtend({}, this._originalOptions);

        this._initTheme(theme);

        this.redraw();
    };

    Gauge.prototype.setDirection = function setDirection (rtl) {
        this.contextService.rtl = Boolean(rtl);
        if (this.surface && this.surface.type === 'svg') {
            this.surface.destroy();
            this.surface = null;
        }
    };

    Gauge.prototype.setIntlService = function setIntlService (intl) {
        this.contextService.intl = intl;
    };

    Gauge.prototype._initTheme = function _initTheme (theme) {
        var currentTheme = theme || this.theme || {};
        this.theme = currentTheme;

        this.options = deepExtend({}, currentTheme, this.options);
        var options = this.options;
        var pointer = options.pointer;

        if (isArray(pointer)) {
            var pointers = [];
            for (var i = 0; i < pointer.length; i++) {
                pointers.push(deepExtend({}, currentTheme.pointer, pointer[i]));
            }
            options.pointer = pointers;
        }
    };

    Gauge.prototype._createGaugeArea = function _createGaugeArea () {
        var options = this.options.gaugeArea;
        var size = this.surface.size();
        var border = options.border || {};
        var areaGeometry = new _progress_kendoDrawing.geometry.Rect([ 0, 0 ], [ size.width, size.height ]);

        this._gaugeAreaMargin = options.margin || DEFAULT_MARGIN;

        if (border.width > 0) {
            areaGeometry = unpad$1(areaGeometry, border.width);
        }

        var gaugeArea = Path.fromRect(areaGeometry, {
            stroke: {
                color: border.width ? border.color : "",
                width: border.width,
                dashType: border.dashType,
                lineJoin: "round",
                lineCap: "round"
            },
            fill: {
                color: options.background
            }
        });

        return gaugeArea;
    };

    Gauge.prototype._initSurface = function _initSurface () {
        var ref = this;
        var options = ref.options;
        var surface = ref.surface;
        var element = this._surfaceElement();
        var size = this._surfaceSize();

        elementSize$1(element, size);

        if (!surface || surface.options.type !== options.renderAs) {
            if (surface) {
                surface.destroy();
            }

            this.surface = Surface.create(element, {
                type: options.renderAs
            });
        } else {
            this.surface.clear();
            this.surface.resize();
        }
    };

    Gauge.prototype._surfaceSize = function _surfaceSize () {
        var options = this.options;
        var size = this._getSize();

        if (options.gaugeArea) {
            deepExtend(size, options.gaugeArea);
        }

        return size;
    };

    Gauge.prototype._surfaceElement = function _surfaceElement () {
        if (!this.surfaceElement) {
            this.surfaceElement = document.createElement('div');
            this.element.appendChild(this.surfaceElement);
        }

        return this.surfaceElement;
    };

    Gauge.prototype.getSize = function getSize () {
        return this._getSize();
    };

    Gauge.prototype._getSize = function _getSize () {
        var element = this.element;
        var defaultSize = this._defaultSize();
        var width = element.offsetWidth;
        var height = element.offsetHeight;

        if (!width) {
            width = defaultSize.width;
        }

        if (!height) {
            height = defaultSize.height;
        }

        return { width: width, height: height };
    };

    Gauge.prototype._defaultSize = function _defaultSize () {
        return {
            width: DEFAULT_WIDTH$1,
            height: DEFAULT_HEIGHT$1
        };
    };

    Gauge.prototype._toggleTransitions = function _toggleTransitions (value) {
        var this$1 = this;

        this.options.transitions = value;
        for (var i = 0; i < this.pointers.length; i++) {
            this$1.pointers[i].options.animation.transitions = value;
        }
    };

    return Gauge;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Gauge, {
    plotArea: {},
    theme: "default",
    renderAs: "",
    pointer: {},
    scale: {},
    gaugeArea: {}
});

var Path$2 = _progress_kendoDrawing.drawing.Path;
var Group$2 = _progress_kendoDrawing.drawing.Group;
var Point$2 = _progress_kendoDrawing.geometry.Point;

function renderAxisTick(tickRenderOptions, tickOptions) {
    var position = tickRenderOptions.position;
    var tickX = tickRenderOptions.tickX;
    var tickY = tickRenderOptions.tickY;
    var start, end;

    if (tickRenderOptions.vertical) {
        start = new Point$2(tickX, position);
        end = new Point$2(tickX + tickOptions.size, position);
    } else {
        start = new Point$2(position, tickY);
        end = new Point$2(position, tickY + tickOptions.size);
    }

    var tickPath = new Path$2({
        stroke: {
            color: tickOptions.color,
            width: tickOptions.width
        }
    }).moveTo(start).lineTo(end);

    return tickPath;
}

function renderTicks$1$1(tickGroup, tickPositions, tickRenderOptions, tickOptions) {
    var count = tickPositions.length;

    if (tickOptions.visible) {
        var mirror = tickRenderOptions.mirror;
        var lineBox = tickRenderOptions.lineBox;
        for (var i = tickOptions.skip; i < count; i += tickOptions.step) {
            if (i % tickOptions.skipUnit === 0) {
                continue;
            }

            tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;
            tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;
            tickRenderOptions.position = tickPositions[i];

            tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));
        }
    }
}

var LinearScale = (function (NumericAxis$$1) {
    function LinearScale(options, service) {
        var scaleOptions = options || {};
        if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {
            scaleOptions = Object.assign({}, scaleOptions, {
                reverse: true
            });
        }

        NumericAxis$$1.call(this, 0, 1, scaleOptions, service);

        this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;
    }

    if ( NumericAxis$$1 ) LinearScale.__proto__ = NumericAxis$$1;
    LinearScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    LinearScale.prototype.constructor = LinearScale;

    LinearScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions = deepExtend({}, scaleOptions , { labels: { mirror: scaleOptions.mirror } });
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);

        return scaleOptions;
    };

    LinearScale.prototype.initFields = function initFields () {
    };

    LinearScale.prototype.render = function render () {
        var elements = this.elements = new Group$2();
        var labels = this.renderLabels();
        var scaleLine = this.renderLine();
        var scaleTicks = this.renderTicks();
        var ranges = this.renderRanges();

        elements.append(scaleLine, labels, scaleTicks, ranges);

        return elements;
    };

    LinearScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var options = this.options;
        var min = options.min;
        var max = options.max;
        var vertical = options.vertical;
        var mirror = options.labels.mirror;
        var ranges = options.ranges || [];
        var elements = new Group$2();
        var count = ranges.length;
        var rangeSize = options.rangeSize || options.minorTicks.size / 2;

        for (var i = 0; i < count; i++) {
            var range = getRange(ranges[i], min, max);
            var slot = this$1.getSlot(range.from, range.to);
            var slotX = vertical ? this$1.lineBox() : slot;
            var slotY = vertical ? slot : this$1.lineBox();
            if (vertical) {
                slotX.x1 -= rangeSize * (mirror ? -1 : 1);
            } else {
                slotY.y2 += rangeSize * (mirror ? -1 : 1);
            }

            elements.append(Path$2.fromRect(new _progress_kendoDrawing.geometry.Rect([ slotX.x1, slotY.y1 ], [ slotX.x2 - slotX.x1, slotY.y2 - slotY.y1 ]), {
                fill: { color: range.color, opacity: range.opacity },
                stroke: { }
            }));
        }

        return elements;
    };

    LinearScale.prototype.renderLabels = function renderLabels () {
        var ref = this;
        var labels = ref.labels;
        var options = ref.options;
        var elements = new Group$2();

        for (var i = 0; i < labels.length; i++) {
            elements.append(buildLabelElement(labels[i], options.labels));
        }

        return elements;
    };

    LinearScale.prototype.renderLine = function renderLine () {
        var line = this.options.line;
        var lineBox = this.lineBox();
        var elements = new Group$2();

        if (line.width > 0 && line.visible) {
            var linePath = new Path$2({
                stroke: {
                    color: line.color,
                    dashType: line.dashType,
                    width: line.width
                }
            });

            linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);
            elements.append(linePath);
        }

        return elements;
    };

    LinearScale.prototype.renderTicks = function renderTicks$1 () {
        var ticks = new Group$2();
        var options = this.options;
        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;
        var tickRenderOptions = {
            vertical: options.vertical,
            mirror: options.labels.mirror,
            lineBox: this.lineBox()
        };

        renderTicks$1$1(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);
        renderTicks$1$1(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {
            skipUnit: majorUnit / options.minorUnit
        }, options.minorTicks));

        return ticks;
    };

    return LinearScale;
}(NumericAxis));

setDefaultOptions(LinearScale, {
    min: 0,
    max: 50,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    line: {
        width: DEFAULT_LINE_WIDTH
    },

    labels: {
        position: INSIDE$1,
        padding: 2
    },
    mirror: false,
    _alignLines: false
});

var Pointer = (function (Class$$1) {
    function Pointer(scale, userOptions) {
        Class$$1.call(this);

        var ref = scale.options;
        var min = ref.min;
        var max = ref.max;
        var options = this.options = deepExtend({}, this.options, userOptions);

        options.fill = options.color;

        this.scale = scale;

        if (defined(options.value)) {
            options.value = limitValue(options.value, min, max);
        } else {
            options.value = min;
        }
    }

    if ( Class$$1 ) Pointer.__proto__ = Class$$1;
    Pointer.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Pointer.prototype.constructor = Pointer;

    Pointer.prototype.value = function value (newValue) {
        var options = this.options;
        var value = options.value;

        if (arguments.length === 0) {
            return value;
        }

        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;

        options._oldValue = defined(options._oldValue) ? options.value : min;
        options.value = limitValue(newValue, min, max);

        if (this.elements) {
            this.repaint();
        }
    };

    return Pointer;
}(_progress_kendoDrawing.Class));

setDefaultOptions(Pointer, {
    color: BLACK
});

var LinearPointer = (function (Pointer$$1) {
    function LinearPointer(scale, options) {
        Pointer$$1.call(this, scale, options);

        this.options = deepExtend({
            track: {
                visible: defined(options.track)
            }
        }, this.options);
    }

    if ( Pointer$$1 ) LinearPointer.__proto__ = Pointer$$1;
    LinearPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    LinearPointer.prototype.constructor = LinearPointer;

    LinearPointer.prototype.reflow = function reflow () {
        var ref = this;
        var options = ref.options;
        var scale = ref.scale;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var scaleLine = scale.lineBox();
        var trackSize = options.track.size || options.size;
        var pointerHalfSize = options.size / 2;
        var margin = getSpacing(options.margin);
        var space = vertical ?
                 margin[mirror ? "left" : "right"] :
                 margin[mirror ? "bottom" : "top"];
        var pointerBox, pointerRangeBox, trackBox;

        space = mirror ? -space : space;

        if (vertical) {
            trackBox = new Box(
                scaleLine.x1 + space, scaleLine.y1,
                scaleLine.x1 + space, scaleLine.y2);

            if (mirror) {
                trackBox.x1 -= trackSize;
            } else {
                trackBox.x2 += trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x2 + space, scaleLine.y1 - pointerHalfSize,
                    scaleLine.x2 + space, scaleLine.y2 + pointerHalfSize
                );
                pointerBox = pointerRangeBox;
            }
        } else {
            trackBox = new Box(
                scaleLine.x1, scaleLine.y1 - space,
                scaleLine.x2, scaleLine.y1 - space);

            if (mirror) {
                trackBox.y2 += trackSize;
            } else {
                trackBox.y1 -= trackSize;
            }

            if (options.shape !== BAR_POINTER) {
                pointerRangeBox = new Box(
                    scaleLine.x1 - pointerHalfSize, scaleLine.y1 - space,
                    scaleLine.x2 + pointerHalfSize, scaleLine.y1 - space
                );
                pointerBox = pointerRangeBox;
            }
        }

        this.trackBox = trackBox;
        this.pointerRangeBox = pointerRangeBox;
        this.box = pointerBox || trackBox.clone().pad(options.border.width);
    };

    LinearPointer.prototype.getElementOptions = function getElementOptions () {
        var options = this.options;

        return {
            fill: {
                color: options.color,
                opacity: options.opacity
            },
            stroke: defined(options.border) ? {
                color: options.border.width ? options.border.color || options.color : "",
                width: options.border.width,
                dashType: options.border.dashType,
                opacity: options.opacity
            } : null
        };
    };

    LinearPointer.prototype._margin = function _margin () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var margin = getSpacing(options.margin);

        var space = vertical ?
            margin[mirror ? "left" : "right"] :
            margin[mirror ? "bottom" : "top"];

        return space;
    };

    return LinearPointer;
}(Pointer));

setDefaultOptions(LinearPointer, {
    shape: BAR_POINTER,

    track: {
        border: {
            width: 1
        }
    },

    color: BLACK,
    border: {
        width: 1
    },
    opacity: 1,

    margin: getSpacing(3),
    animation: {
        type: BAR_POINTER
    },
    visible: true
});

var ArrowLinearPointerAnimation = (function (superclass) {
    function ArrowLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) ArrowLinearPointerAnimation.__proto__ = superclass;
    ArrowLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    ArrowLinearPointerAnimation.prototype.constructor = ArrowLinearPointerAnimation;

    ArrowLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var margin = options.margin;
        var from = options.from;
        var to = options.to;
        var vertical = options.vertical;
        var axis = vertical ? "x1" : "y1";

        if (options.mirror === vertical) {
            from[axis] -= margin; to[axis] -= margin;
        } else {
            from[axis] += margin; to[axis] += margin;
        }

        var fromScale = this.fromScale = new _progress_kendoDrawing.geometry.Point(from.x1, from.y1);
        var toScale = this.toScale = new _progress_kendoDrawing.geometry.Point(to.x1, to.y1);

        if (options.duration !== 0) {
            options.duration = Math.max((fromScale.distanceTo(toScale) / options.duration) * 1000, 1);
        }
    };

    ArrowLinearPointerAnimation.prototype.step = function step (pos) {
        var translateX = interpolateValue(this.fromScale.x, this.toScale.x, pos);
        var translateY = interpolateValue(this.fromScale.y, this.toScale.y, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().translate(translateX, translateY));
    };

    return ArrowLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(ArrowLinearPointerAnimation, {
    easing: LINEAR$1,
    duration: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(ARROW_POINTER, ArrowLinearPointerAnimation);

var Point$3 = _progress_kendoDrawing.geometry.Point;
var Path$3 = _progress_kendoDrawing.drawing.Path;

var ArrowLinearPointer = (function (LinearPointer$$1) {
    function ArrowLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.6;
        }
    }

    if ( LinearPointer$$1 ) ArrowLinearPointer.__proto__ = LinearPointer$$1;
    ArrowLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    ArrowLinearPointer.prototype.constructor = ArrowLinearPointer;

    ArrowLinearPointer.prototype.pointerShape = function pointerShape () {
        var ref = this;
        var scale = ref.scale;
        var size = ref.options.size;
        var halfSize = size / 2;
        var sign = (scale.options.mirror ? -1 : 1);
        var shape;

        if (scale.options.vertical) {
            shape = [
                new Point$3(0, 0 - halfSize), new Point$3(0 - sign * size, 0), new Point$3(0, 0 + halfSize)
            ];
        } else {
            shape = [
                new Point$3(0 - halfSize, 0), new Point$3(0, 0 + sign * size), new Point$3(0 + halfSize, 0)
            ];
        }

        return shape;
    };

    ArrowLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var animation = new ArrowLinearPointerAnimation(this.elements, deepExtend(options.animation, {
            vertical: scale.options.vertical,
            mirror: scale.options.mirror,
            margin: this._margin(options.margin),
            from: scale.getSlot(options._oldValue),
            to: scale.getSlot(options.value)
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    ArrowLinearPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elementOptions = this.getElementOptions();
        var shape = this.pointerShape(options.value);

        options.animation.type = ARROW_POINTER;

        var elements = new Path$3({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        }).moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).close();

        var slot = scale.getSlot(options.value);
        elements.transform(_progress_kendoDrawing.geometry.transform().translate(slot.x1, slot.y1));

        this.elements = elements;

        return elements;
    };

    return ArrowLinearPointer;
}(LinearPointer));

var BarLinearPointerAnimation = (function (superclass) {
    function BarLinearPointerAnimation () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) BarLinearPointerAnimation.__proto__ = superclass;
    BarLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    BarLinearPointerAnimation.prototype.constructor = BarLinearPointerAnimation;

    BarLinearPointerAnimation.prototype.setup = function setup () {
        var options = this.options;
        var axis = this.axis = options.vertical ? Y : X;
        var to = this.to = options.newPoints[0][axis];
        var from = this.from = options.oldPoints[0][axis];

        if (options.duration !== 0) {
            options.duration = Math.max((Math.abs(to - from) / options.speed) * 1000, 1);
        }

        this._set(from);
    };

    BarLinearPointerAnimation.prototype.step = function step (pos) {
        var value = interpolateValue(this.from, this.to, pos);
        this._set(value);
    };

    BarLinearPointerAnimation.prototype._set = function _set (value) {
        var setter = "set" + this.axis.toUpperCase();
        var points = this.options.newPoints;

        points[0][setter](value);
        points[1][setter](value);
    };

    return BarLinearPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(BarLinearPointerAnimation, {
    easing: LINEAR$1,
    speed: LINEAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(BAR_POINTER, BarLinearPointerAnimation);

var Group$3 = _progress_kendoDrawing.drawing.Group;
var Path$4 = _progress_kendoDrawing.drawing.Path;

var BarLinearPointer = (function (LinearPointer$$1) {
    function BarLinearPointer(scale, options) {
        LinearPointer$$1.call(this, scale, options);

        if (!defined(this.options.size)) {
            this.options.size = this.scale.options.majorTicks.size * 0.3;
        }
    }

    if ( LinearPointer$$1 ) BarLinearPointer.__proto__ = LinearPointer$$1;
    BarLinearPointer.prototype = Object.create( LinearPointer$$1 && LinearPointer$$1.prototype );
    BarLinearPointer.prototype.constructor = BarLinearPointer;

    BarLinearPointer.prototype.pointerShape = function pointerShape (value) {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var ref$1 = scale.options;
        var mirror = ref$1.mirror;
        var vertical = ref$1.vertical;
        var dir = mirror === vertical ? -1 : 1;
        var size = options.size * dir;
        var minSlot = scale.getSlot(scale.options.min);
        var slot = scale.getSlot(value);
        var axis = vertical ? Y : X;
        var sizeAxis = vertical ? X : Y;
        var margin = this._margin() * dir;

        var p1 = new _progress_kendoDrawing.geometry.Point();
        p1[axis] = minSlot[axis + "1"];
        p1[sizeAxis] = minSlot[sizeAxis + "1"];

        var p2 = new _progress_kendoDrawing.geometry.Point();
        p2[axis] = slot[axis + "1"];
        p2[sizeAxis] = slot[sizeAxis + "1"];

        if (vertical) {
            p1.translate(margin, 0);
            p2.translate(margin, 0);
        } else {
            p1.translate(0, margin);
            p2.translate(0, margin);
        }

        var p3 = p2.clone();
        var p4 = p1.clone();

        if (vertical) {
            p3.translate(size, 0);
            p4.translate(size, 0);
        } else {
            p3.translate(0, size);
            p4.translate(0, size);
        }

        return [ p1, p2, p3, p4 ];
    };

    BarLinearPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var shape = this.pointerShape(options.value);
        var pointerPath = this.pointerPath;
        var oldShape = this.pointerShape(options._oldValue);

        pointerPath.moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).lineTo(shape[3]).close();

        var animation = new BarLinearPointerAnimation(pointerPath, deepExtend(options.animation, {
            reverse: scale.options.reverse,
            vertical: scale.options.vertical,
            oldPoints: [ oldShape[1], oldShape[2] ],
            newPoints: [ shape[1], shape[2] ]
        }));

        if (options.animation.transitions === false) {
            animation.options.duration = 0;
        }

        animation.setup();
        animation.play();
    };

    BarLinearPointer.prototype.render = function render () {
        var group = new Group$3();
        var elementOptions = this.getElementOptions();

        if (this.options.track.visible) {
            group.append(this.renderTrack());
        }

        var pointer = this.pointerPath = new Path$4({
            stroke: elementOptions.stroke,
            fill: elementOptions.fill
        });

        group.append(pointer);

        this.elements = group;

        return group;
    };

    BarLinearPointer.prototype.renderTrack = function renderTrack () {
        var trackOptions = this.options.track;
        var border = trackOptions.border || {};
        var trackBox = this.trackBox.clone().pad(border.width || 0);

        return new Path$4.fromRect(trackBox.toRect(), {
            fill: {
                color: trackOptions.color,
                opacity: trackOptions.opacity
            },
            stroke: {
                color: border.width ? border.color || trackOptions.color : "",
                width: border.width,
                dashType: border.dashType
            }
        });
    };

    return BarLinearPointer;
}(LinearPointer));

var DEFAULT_MIN_WIDTH = 60;
var DEFAULT_MIN_HEIGHT = 60;

var Group$1 = _progress_kendoDrawing.drawing.Group;

var LinearGauge = (function (Gauge$$1) {
    function LinearGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) LinearGauge.__proto__ = Gauge$$1;
    LinearGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    LinearGauge.prototype.constructor = LinearGauge;

    LinearGauge.prototype.reflow = function reflow (bbox) {
        var pointers = this.pointers;
        var bboxX = bbox.origin.x;
        var bboxY = bbox.origin.y;

        var box = new Box(bboxX, bboxY, bboxX + bbox.width(), bboxY + bbox.height());

        this.scale.reflow(box);
        this._shrinkScaleWidth(box);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow();
        }

        this.bbox = this._getBox(box);
        this._alignElements();
        this._shrinkElements();
        this._buildVisual();
        this._draw();
    };

    LinearGauge.prototype._buildVisual = function _buildVisual () {
        var visuals = new Group$1();
        var scaleElements = this.scale.render();
        var pointers = this.pointers;

        visuals.append(this.gaugeArea);
        visuals.append(scaleElements);

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            visuals.append(current.render());
            current.value(current.options.value);
        }

        this._visuals = visuals;
    };

    LinearGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var scale = this.scale = new LinearScale(options.scale, this.contextService);

        this.pointers = [];

        var pointers = options.pointer;
        pointers = isArray(pointers) ? pointers : [ pointers ];

        for (var i = 0; i < pointers.length; i++) {
            var currentOptions = deepExtend({}, pointers[i], {
                animation: {
                    transitions: options.transitions
                }
            });
            var pointerType = currentOptions.shape === ARROW ? ArrowLinearPointer : BarLinearPointer;

            this$1.pointers.push(new pointerType(scale, currentOptions));
        }
    };

    LinearGauge.prototype._defaultSize = function _defaultSize () {
        var vertical = this.options.scale.vertical;

        return {
            width: vertical ? DEFAULT_MIN_WIDTH : DEFAULT_WIDTH$1,
            height: vertical ? DEFAULT_HEIGHT$1 : DEFAULT_MIN_HEIGHT
        };
    };

    LinearGauge.prototype._getBox = function _getBox (box) {
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var boxCenter = box.center();
        var plotAreaBox = pointers[0].box.clone().wrap(scale.box);

        for (var i = 0; i < pointers.length; i++) {
            plotAreaBox.wrap(pointers[i].box.clone());
        }

        var size;
        if (scale.options.vertical) {
            size = plotAreaBox.width() / 2;
            plotAreaBox = new Box(
                boxCenter.x - size, box.y1,
                boxCenter.x + size, box.y2
            );
        } else {
            size = plotAreaBox.height() / 2;
            plotAreaBox = new Box(
                box.x1, boxCenter.y - size,
                box.x2, boxCenter.y + size
            );
        }

        return plotAreaBox;
    };

    LinearGauge.prototype._alignElements = function _alignElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box;
        var box = pointers[0].box.clone().wrap(scale.box);
        var plotAreaBox = this.bbox;

        for (var i = 0; i < pointers.length; i++) {
            box.wrap(pointers[i].box.clone());
        }

        var diff;
        if (scale.options.vertical) {
            diff = plotAreaBox.center().x - box.center().x;
            scale.reflow(new Box(
                scaleBox.x1 + diff, plotAreaBox.y1,
                scaleBox.x2 + diff, plotAreaBox.y2
            ));
        } else {
            diff = plotAreaBox.center().y - box.center().y;
            scale.reflow(new Box(
                scaleBox.x1, scaleBox.y1 + diff,
                scaleBox.x2, scaleBox.y2 + diff
            ));
        }

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    LinearGauge.prototype._shrinkScaleWidth = function _shrinkScaleWidth (bbox) {
        var ref = this;
        var scale = ref.scale;
        if (!scale.options.vertical) {
            var overflow = scale.contentBox().width() - bbox.width();
            if (overflow > 0) {
                scale.box.shrink(overflow, 0);
                scale.box.alignTo(bbox, 'center');
                scale.reflow(scale.box);
            }
        }
    };

    LinearGauge.prototype._shrinkElements = function _shrinkElements () {
        var this$1 = this;

        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;
        var scaleBox = scale.box.clone();
        var pos = scale.options.vertical ? "y" : "x";
        var pointerBox = pointers[0].box;

        for (var i = 0; i < pointers.length; i++) {
            pointerBox.wrap(pointers[i].box.clone());
        }

        scaleBox[pos + 1] += Math.max(scaleBox[pos + 1] - pointerBox[pos + 1], 0);
        scaleBox[pos + 2] -= Math.max(pointerBox[pos + 2] - scaleBox[pos + 2], 0);

        scale.reflow(scaleBox);

        for (var i$1 = 0; i$1 < pointers.length; i$1++) {
            pointers[i$1].reflow(this$1.bbox);
        }
    };

    return LinearGauge;
}(Gauge));

setDefaultOptions(LinearGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    },
    scale: {
        vertical: true
    }
});

var GEO_ARC_ADJUST_ANGLE = 180;

var Arc = _progress_kendoDrawing.drawing.Arc;
var Path$5 = _progress_kendoDrawing.drawing.Path;
var Group$5 = _progress_kendoDrawing.drawing.Group;

function drawTicks(arc, tickAngles, unit, tickOptions) {
    var ticks = new Group$5();
    var center = arc.center;
    var radius = arc.getRadiusX();

    if (tickOptions.visible) {
        for (var i = 0; i < tickAngles.length; i++) {
            var tickStart = arc.pointAt(tickAngles[i]);
            var tickEnd = new _progress_kendoDrawing.geometry.Point(center.x + radius - tickOptions.size, center.y).rotate(tickAngles[i], center);

            ticks.append(new Path$5({
                stroke: {
                    color: tickOptions.color,
                    width: tickOptions.width
                }
            }).moveTo(tickStart).lineTo(tickEnd));
        }
    }

    return ticks;
}

function rangeSegment(from, to, color, opacity) {
    return { from: from, to: to, color: color, opacity: opacity };
}

var RadialScale = (function (NumericAxis$$1) {
    function RadialScale(options, service) {
        NumericAxis$$1.call(this, 0, 1, options, service);
    }

    if ( NumericAxis$$1 ) RadialScale.__proto__ = NumericAxis$$1;
    RadialScale.prototype = Object.create( NumericAxis$$1 && NumericAxis$$1.prototype );
    RadialScale.prototype.constructor = RadialScale;

    RadialScale.prototype.initUserOptions = function initUserOptions (options) {
        var scaleOptions = deepExtend({}, this.options, options);
        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);
        scaleOptions.minorUnit = scaleOptions.minorUnit || scaleOptions.majorUnit / 10;

        return scaleOptions;
    };

    RadialScale.prototype.initFields = function initFields () {
    };

    RadialScale.prototype.render = function render (center, radius) {
        var arc = this.renderArc(center, radius);

        this.bbox = arc.bbox();
        this.labelElements = this.renderLabels();
        this.ticks = this.renderTicks();
        this.ranges = this.renderRanges();
    };

    RadialScale.prototype.reflow = function reflow (bbox) {
        var center = bbox.center();
        var radius = Math.min(bbox.height(), bbox.width()) / 2;

        if (defined(this.bbox)) {
            this.bbox = this.arc.bbox();
            this.radius(this.arc.getRadiusX());
            this.repositionRanges();
            this.renderLabels();
        } else {
            return this.render(center, radius);
        }
    };

    RadialScale.prototype.slotAngle = function slotAngle (value) {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var reverse = ref.reverse;
        var startAngle = ref.startAngle;
        var endAngle = ref.endAngle;
        var angle = endAngle - startAngle;
        var result;

        if (reverse) {
            result = endAngle - (value - min) / (max - min) * angle;
        } else {
            result = ((value - min) / (max - min) * angle) + startAngle;
        }

        return result + GEO_ARC_ADJUST_ANGLE;
    };

    RadialScale.prototype.hasRanges = function hasRanges () {
        var ranges = this.options.ranges;

        return ranges && ranges.length;
    };

    RadialScale.prototype.ticksSize = function ticksSize () {
        var ref = this.options;
        var majorTicks = ref.majorTicks;
        var minorTicks = ref.minorTicks;
        var size = 0;
        if (majorTicks.visible) {
            size = majorTicks.size;
        }

        if (minorTicks.visible) {
            size = Math.max(minorTicks.size, size);
        }

        return size;
    };

    RadialScale.prototype.renderLabels = function renderLabels () {
        var this$1 = this;

        var options = this.options;
        var arc = this.arc.clone();
        var radius = arc.getRadiusX();
        var tickAngles = this.tickAngles(arc, options.majorUnit);
        var rangeSize = options.rangeSize = options.rangeSize || radius * 0.1;
        var labelsGroup = new Group$5();

        var rangeDistance = radius * 0.05;
        if (defined(options.rangeDistance)) {
            rangeDistance = options.rangeDistance;
        } else {
            options.rangeDistance = rangeDistance;
        }

        var labelsOptions = options.labels;
        var isInside = labelsOptions.position === INSIDE$1;
        var hasLabelElements = defined(this.labelElements);

        if (isInside) {
            radius -= this.ticksSize();

            if (this.hasRanges() && !hasLabelElements) {
                radius -= rangeSize + rangeDistance;
            }
            arc.setRadiusX(radius).setRadiusY(radius);
        }

        var labels = this.labels;
        var count = labels.length;
        var padding = getSpacing(labelsOptions.padding);
        var paddingWidth = (padding.left + padding.right) / 2;
        var paddingHeight = (padding.top + padding.bottom) / 2;

        for (var i = 0; i < count; i++) {
            var label = labels[i];
            var halfWidth = label.box.width() / 2;
            var halfHeight = label.box.height() / 2;
            var angle = tickAngles[i];
            var labelAngle = (angle - GEO_ARC_ADJUST_ANGLE) * DEGREE;

            var lp = arc.pointAt(angle);
            var cx = lp.x + (Math.cos(labelAngle) * (halfWidth + paddingWidth) * (isInside ? 1 : -1));
            var cy = lp.y + (Math.sin(labelAngle) * (halfHeight + paddingHeight) * (isInside ? 1 : -1));

            label.reflow(new Box(cx - halfWidth, cy - halfHeight, cx + halfWidth, cy + halfHeight));
            var labelPos = new _progress_kendoDrawing.geometry.Point(label.box.x1, label.box.y1);

            var labelElement = (void 0);
            if (!hasLabelElements) {
                labelElement = buildLabelElement(label, options.labels);
                labelsGroup.append(labelElement);
            } else {
                labelElement = this$1.labelElements.children[i];
                var prevLabelPos = labelElement.bbox().origin;

                var labelTransform = labelElement.transform() || _progress_kendoDrawing.geometry.transform();
                labelTransform.translate(labelPos.x - prevLabelPos.x, labelPos.y - prevLabelPos.y);
                labelElement.transform(labelTransform);
            }

            this$1.bbox = _progress_kendoDrawing.geometry.Rect.union(this$1.bbox, labelElement.bbox());
        }

        return labelsGroup;
    };

    RadialScale.prototype.repositionRanges = function repositionRanges () {
        var ranges = this.ranges.children;

        if (ranges.length > 0) {
            var ref = this.options;
            var rangeDistance = ref.rangeDistance;
            var rangeSize = ref.rangeSize;
            var rangeRadius = this.getRangeRadius();

            if (this.options.labels.position === INSIDE$1) {
                rangeRadius += rangeSize + rangeDistance;
            }

            var newRadius = rangeRadius + (rangeSize / 2);

            for (var i = 0; i < ranges.length; i++) {
                ranges[i]._geometry.setRadiusX(newRadius).setRadiusY(newRadius);
            }

            this.bbox = _progress_kendoDrawing.geometry.Rect.union(this.bbox, this.ranges.bbox());
        }
    };

    RadialScale.prototype.renderRanges = function renderRanges () {
        var this$1 = this;

        var segments = this.rangeSegments();
        var segmentsCount = segments.length;
        var result = new Group$5();

        if (segmentsCount) {
            var ref = this.options;
            var rangeSize = ref.rangeSize;
            var reverse = ref.reverse;
            var rangeDistance = ref.rangeDistance;
            var rangeRadius = this.getRangeRadius();

            // move the ticks with a range distance and a range size
            this.radius(this.radius() - rangeSize - rangeDistance);

            for (var i = 0; i < segmentsCount; i++) {
                var segment = segments[i];
                var from = this$1.slotAngle(segment[reverse ? "to" : "from"]);
                var to = this$1.slotAngle(segment[!reverse ? "to" : "from"]);

                if (to - from !== 0) {
                    result.append(this$1.createRange(from, to, rangeRadius, segment));
                }
            }
        }

        return result;
    };

    RadialScale.prototype.createRange = function createRange (startAngle, endAngle, rangeRadius, options) {
        var rangeSize = this.options.rangeSize;
        var rangeGeom = new _progress_kendoDrawing.geometry.Arc(this.arc.center, {
            radiusX: rangeRadius + (rangeSize / 2),
            radiusY: rangeRadius + (rangeSize / 2),
            startAngle: startAngle,
            endAngle: endAngle
        });

        return new Arc(rangeGeom, {
            stroke: {
                width: rangeSize,
                color: options.color,
                opacity: options.opacity,
                lineCap: options.lineCap
            }
        });
    };

    RadialScale.prototype.rangeSegments = function rangeSegments () {
        var options = this.options;
        var ranges = options.ranges || [];
        var count = ranges.length;
        var segments = [];

        if (count) {
            var min = options.min;
            var max = options.max;
            var defaultColor = options.rangePlaceholderColor;
            segments.push(rangeSegment(min, max, defaultColor));

            for (var i = 0; i < count; i++) {
                var range = getRange(ranges[i], min, max);
                var segmentsCount = segments.length;

                for (var j = 0; j < segmentsCount; j++) {
                    var segment = segments[j];

                    if (segment.from <= range.from && range.from <= segment.to) {
                        segments.push(rangeSegment(range.from, range.to, range.color, range.opacity));

                        if (segment.from <= range.to && range.to <= segment.to) {
                            segments.push(rangeSegment(range.to, segment.to, defaultColor, range.opacity));
                        }

                        segment.to = range.from;

                        break;
                    }
                }
            }
        }

        return segments;
    };

    RadialScale.prototype.getRangeRadius = function getRangeRadius () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var rangeSize = options.rangeSize;
        var rangeDistance = options.rangeDistance;
        var majorTickSize = options.majorTicks.size;
        var radius;

        if (options.labels.position === OUTSIDE$1) {
            radius = arc.getRadiusX() - majorTickSize - rangeDistance - rangeSize;
        } else {
            radius = arc.getRadiusX() - rangeSize;
        }

        return radius;
    };

    RadialScale.prototype.renderArc = function renderArc (center, radius) {
        var options = this.options;

        var arc = this.arc = new _progress_kendoDrawing.geometry.Arc(center, {
            radiusX: radius,
            radiusY: radius,
            startAngle: options.startAngle + GEO_ARC_ADJUST_ANGLE,
            endAngle: options.endAngle + GEO_ARC_ADJUST_ANGLE
        });

        return arc;
    };

    RadialScale.prototype.renderTicks = function renderTicks () {
        var ref = this;
        var arc = ref.arc;
        var options = ref.options;
        var tickArc = arc.clone();

        this.majorTickAngles = this.tickAngles(arc, options.majorUnit);
        this.majorTicks = drawTicks(tickArc, this.majorTickAngles, options.majorUnit, options.majorTicks);

        var allTicks = new Group$5();
        allTicks.append(this.majorTicks);

        var majorTickSize = options.majorTicks.size;
        var minorTickSize = options.minorTicks.size;

        this._tickDifference = majorTickSize - minorTickSize;

        if (options.labels.position === OUTSIDE$1) {
            var radius = tickArc.getRadiusX();
            tickArc.setRadiusX(radius - majorTickSize + minorTickSize)
                   .setRadiusY(radius - majorTickSize + minorTickSize);
        }

        this.minorTickAngles = this.normalizeTickAngles(this.tickAngles(arc, options.minorUnit));
        this.minorTicks = drawTicks(tickArc, this.minorTickAngles, options.minorUnit, options.minorTicks);
        allTicks.append(this.minorTicks);

        return allTicks;
    };

    RadialScale.prototype.normalizeTickAngles = function normalizeTickAngles (angles) {
        var options = this.options;
        var skip = options.majorUnit / options.minorUnit;

        for (var i = angles.length - 1; i >= 0; i--) {
            if (i % skip === 0) {
                angles.splice(i, 1);
            }
        }

        return angles;
    };

    RadialScale.prototype.tickAngles = function tickAngles (ring, stepValue) {
        var options = this.options;
        var reverse = options.reverse;
        var range = options.max - options.min;
        var angle = ring.endAngle - ring.startAngle;
        var tickCount = range / stepValue;
        var pos = ring.startAngle;
        var step = angle / tickCount;

        if (reverse) {
            pos += angle;
            step = -step;
        }

        var positions = [];
        for (var i = 0; i < tickCount; i++) {
            positions.push(round(pos, COORD_PRECISION));
            pos += step;
        }

        if (round(pos) <= ring.endAngle) {
            positions.push(pos);
        }

        return positions;
    };

    RadialScale.prototype.radius = function radius (value) {
        if (value) {
            this.arc.setRadiusX(value).setRadiusY(value);
            this.repositionTicks(this.majorTicks.children, this.majorTickAngles);
            this.repositionTicks(this.minorTicks.children, this.minorTickAngles, true);
        } else {
            return this.arc.getRadiusX();
        }
    };

    RadialScale.prototype.repositionTicks = function repositionTicks (ticks, tickAngles, minor) {
        var diff = minor ? (this._tickDifference || 0) : 0;
        var tickArc = this.arc;
        var radius = tickArc.getRadiusX();

        if (minor && this.options.labels.position === OUTSIDE$1 && diff !== 0) {
            tickArc = this.arc.clone();
            tickArc.setRadiusX(radius - diff).setRadiusY(radius - diff);
        }

        for (var i = 0; i < ticks.length; i++) {
            var newPoint = tickArc.pointAt(tickAngles[i]);
            var segments = ticks[i].segments;
            var xDiff = newPoint.x - segments[0].anchor().x;
            var yDiff = newPoint.y - segments[0].anchor().y;

            ticks[i].transform(new _progress_kendoDrawing.geometry.transform().translate(xDiff, yDiff));
        }
    };

    return RadialScale;
}(NumericAxis));

setDefaultOptions(RadialScale, {
    min: 0,
    max: 100,

    majorTicks: {
        size: 15,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    minorTicks: {
        size: 10,
        align: INSIDE$1,
        color: BLACK,
        width: DEFAULT_LINE_WIDTH,
        visible: true
    },

    startAngle: -30,
    endAngle: 210,

    labels: {
        position: INSIDE$1,
        padding: 2
    }
});

var RadialPointerAnimation = (function (superclass) {
    function RadialPointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;

        animationOptions.duration = Math.max((Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000, 1);
    }

    if ( superclass ) RadialPointerAnimation.__proto__ = superclass;
    RadialPointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RadialPointerAnimation.prototype.constructor = RadialPointerAnimation;

    RadialPointerAnimation.prototype.step = function step (pos) {
        var options = this.options;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);

        this.element.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, options.center));
    };

    return RadialPointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RadialPointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_POINTER, RadialPointerAnimation);

var CAP_SIZE = 0.05;
var Circle = _progress_kendoDrawing.drawing.Circle;
var Group$6 = _progress_kendoDrawing.drawing.Group;
var Path$6 = _progress_kendoDrawing.drawing.Path;

var RadialPointer = (function (Pointer$$1) {
    function RadialPointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RadialPointer.__proto__ = Pointer$$1;
    RadialPointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RadialPointer.prototype.constructor = RadialPointer;

    RadialPointer.prototype.setAngle = function setAngle (angle) {
        this.elements.transform(_progress_kendoDrawing.geometry.transform().rotate(angle, this.center));
    };

    RadialPointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (options.animation.transitions === false) {
            this.setAngle(newAngle);
        } else {
            new RadialPointerAnimation(this.elements, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            })).play();
        }
    };

    RadialPointer.prototype.render = function render () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var elements = new Group$6();

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        elements.append(this._renderNeedle(), this._renderCap());

        this.elements = elements;
        this.setAngle(DEGREE);

        return elements;
    };

    RadialPointer.prototype.reflow = function reflow (arc) {
        var center = this.center = arc.center;
        var length = limitValue(this.options.length || 1, 0.1, 1.5);
        var radius = this.radius = arc.getRadiusX() * length;
        var capSize = this.capSize = Math.round(radius * this.options.cap.size);

        this.bbox = _progress_kendoDrawing.geometry.Rect.fromPoints(new _progress_kendoDrawing.geometry.Point(center.x - capSize, center.y - capSize),
                                    new _progress_kendoDrawing.geometry.Point(center.x + capSize, center.y + capSize));
    };

    RadialPointer.prototype._renderNeedle = function _renderNeedle () {
        var minorTickSize = this.scale.options.minorTicks.size;
        var center = this.center;
        var needleColor = this.options.color;

        var needlePath = new Path$6({
            fill: { color: needleColor },
            stroke: { color: needleColor, width: DEFAULT_LINE_WIDTH }
        });

        needlePath.moveTo(center.x + this.radius - minorTickSize, center.y)
                  .lineTo(center.x, center.y - (this.capSize / 2))
                  .lineTo(center.x, center.y + (this.capSize / 2))
                  .close();

        return needlePath;
    };

    RadialPointer.prototype._renderCap = function _renderCap () {
        var options = this.options;
        var capColor = options.cap.color || options.color;
        var circle = new _progress_kendoDrawing.geometry.Circle(this.center, this.capSize);

        var cap = new Circle(circle, {
            fill: { color: capColor },
            stroke: { color: capColor }
        });

        return cap;
    };

    return RadialPointer;
}(Pointer));

setDefaultOptions(RadialPointer, {
    cap: {
        size: CAP_SIZE
    },
    arrow: {
        width: 16,
        height: 14
    },
    animation: {
        type: RADIAL_POINTER,
        duration: ANGULAR_SPEED
    }
});

var Group$4 = _progress_kendoDrawing.drawing.Group;

var RadialGauge = (function (Gauge$$1) {
    function RadialGauge () {
        Gauge$$1.apply(this, arguments);
    }

    if ( Gauge$$1 ) RadialGauge.__proto__ = Gauge$$1;
    RadialGauge.prototype = Object.create( Gauge$$1 && Gauge$$1.prototype );
    RadialGauge.prototype.constructor = RadialGauge;

    RadialGauge.prototype.reflow = function reflow (bbox) {
        var this$1 = this;

        var pointers = this.pointers;
        this.scale.reflow(bbox);
        this._initialPlotArea = this.scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(this$1.scale.arc);
            this$1._initialPlotArea = _progress_kendoDrawing.geometry.Rect.union(this$1._initialPlotArea, pointers[i].bbox);
        }

        this.fitScale(bbox);
        this.alignScale(bbox);
        this._buildVisual(this.gaugeArea, pointers, this.scale);
        this._draw();
    };

    RadialGauge.prototype._buildVisual = function _buildVisual (gaugeArea, pointers, scale) {
        var visuals = this._visuals = new Group$4();

        visuals.append(gaugeArea);
        visuals.append(scale.ticks);
        visuals.append(scale.ranges);
        this._buildPointers(pointers);
        visuals.append(scale.labelElements);
    };

    RadialGauge.prototype._buildPointers = function _buildPointers (pointers) {
        var this$1 = this;

        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();
            this$1._visuals.append(current.elements);

            current.value(current.options.value);
        }
    };

    RadialGauge.prototype.fitScale = function fitScale (bbox) {
        var this$1 = this;

        var arc = this.scale.arc;
        var plotAreaBox = this._initialPlotArea;
        var step = Math.abs(this.getDiff(plotAreaBox, bbox));
        var min = round(step, COORD_PRECISION);
        var max = round(-step, COORD_PRECISION);
        var minDiff, midDiff, maxDiff, mid, oldDiff;
        var staleFlag = 0;
        var i = 0;

        while (i++ < 100) {
            staleFlag = (oldDiff === maxDiff) ? (staleFlag + 1) : 0;

            if (staleFlag > 5) {
                break;
            }

            if (min !== mid) {
                minDiff = this$1.getPlotBox(min, bbox, arc);
                if (0 <= minDiff && minDiff <= 2) {
                    break;
                }
            }

            if (max !== mid) {
                maxDiff = this$1.getPlotBox(max, bbox, arc);
                if (0 <= maxDiff && maxDiff <= 2) {
                    break;
                }
            }

            if (minDiff > 0 && maxDiff > 0) {
                mid = min * 2;
            } else if (minDiff < 0 && maxDiff < 0) {
                mid = max * 2;
            } else {
                mid = round(((min + max) / 2) || 1, COORD_PRECISION);
            }

            midDiff = this$1.getPlotBox(mid, bbox, arc);
            if (0 <= midDiff && midDiff <= 2) {
                break;
            }

            oldDiff = maxDiff;

            if (midDiff > 0) {
                max = mid;
                maxDiff = midDiff;
            } else {
                min = mid;
                minDiff = midDiff;
            }
        }
    };

    RadialGauge.prototype.getPlotBox = function getPlotBox (step, bbox, arc) {
        var this$1 = this;

        var scale = this.scale;
        var pointers = this.pointers;
        var radius = arc.getRadiusX();
        var scaleArc = arc.clone();

        scaleArc.setRadiusX(radius + step).setRadiusY(radius + step);

        scale.arc = scaleArc;
        scale.reflow(bbox);
        this.plotBbox = scale.bbox;

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scaleArc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(this$1.plotBbox, pointers[i].bbox);
        }

        return this.getDiff(this.plotBbox, bbox);
    };

    RadialGauge.prototype.getDiff = function getDiff (plotBox, box) {
        return Math.min(box.width() - plotBox.width(), box.height() - plotBox.height());
    };

    RadialGauge.prototype.alignScale = function alignScale (bbox) {
        var this$1 = this;

        var plotBoxCenter = this.plotBbox.center();
        var boxCenter = bbox.center();
        var paddingX = plotBoxCenter.x - boxCenter.x;
        var paddingY = plotBoxCenter.y - boxCenter.y;
        var ref = this;
        var scale = ref.scale;
        var pointers = ref.pointers;

        scale.arc.center.x -= paddingX;
        scale.arc.center.y -= paddingY;

        scale.reflow(bbox);

        for (var i = 0; i < pointers.length; i++) {
            pointers[i].reflow(scale.arc);
            this$1.plotBbox = _progress_kendoDrawing.geometry.Rect.union(scale.bbox, pointers[i].bbox);
        }
    };

    RadialGauge.prototype._createModel = function _createModel () {
        var this$1 = this;

        var options = this.options;
        var pointers = options.pointer;
        var scale = this.scale = new RadialScale(options.scale, this.contextService);

        this.pointers = [];

        var pointersArr = isArray(pointers) ? pointers : [ pointers ];
        for (var i = 0; i < pointersArr.length; i++) {
            var current = new RadialPointer(scale, deepExtend({}, pointersArr[i], {
                animation: {
                    transitions: options.transitions
                }
            }));

            this$1.pointers.push(current);
        }
    };

    return RadialGauge;
}(Gauge));

setDefaultOptions(RadialGauge, {
    transitions: true,
    gaugeArea: {
        background: ""
    }
});

var ArcScale = (function (RadialScale$$1) {
    function ArcScale () {
        RadialScale$$1.apply(this, arguments);
    }

    if ( RadialScale$$1 ) ArcScale.__proto__ = RadialScale$$1;
    ArcScale.prototype = Object.create( RadialScale$$1 && RadialScale$$1.prototype );
    ArcScale.prototype.constructor = ArcScale;

    ArcScale.prototype.rangeSegments = function rangeSegments () {
        var ref = this.options;
        var min = ref.min;
        var max = ref.max;
        var rangePlaceholderColor = ref.rangePlaceholderColor;
        var rangeLineCap = ref.rangeLineCap;

        return [ { from: min, to: max, color: rangePlaceholderColor, lineCap: rangeLineCap } ];
    };

    ArcScale.prototype.hasRanges = function hasRanges () {
        return true;
    };

    ArcScale.prototype.placeholderRangeAngle = function placeholderRangeAngle (angle) {
        var geometry$$1 = this.ranges.children[0].geometry();

        if (this.options.reverse) {
            geometry$$1.setEndAngle(angle);
        } else {
            geometry$$1.setStartAngle(angle);
        }
    };

    ArcScale.prototype.addRange = function addRange (from, to, options) {
        var reverse = this.options.reverse;

        var startAngle = this.slotAngle(reverse ? to : from);
        var endAngle = this.slotAngle(reverse ? from : to);

        var range = this.createRange(startAngle, endAngle, this.getRangeRadius(), options);

        this.ranges.append(range);

        return range;
    };

    return ArcScale;
}(RadialScale));

setDefaultOptions(ArcScale, {
    min: 0,
    max: 100,

    majorTicks: {
        visible: false
    },

    minorTicks: {
        visible: false
    },

    labels: {
        visible: false
    },

    startAngle: 0,
    endAngle: 180,
    rangeLineCap: 'round'
});

var MAX_DURATION = 800;

var RangePointerAnimation = (function (superclass) {
    function RangePointerAnimation(element, options) {
        superclass.call(this, element, options);

        var animationOptions = this.options;
        var duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;
        animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);

        var startColor = element.elements.options.get("stroke.color");
        var color = element.currentColor();
        if (startColor !== color) {
            this.startColor = new _progress_kendoDrawing.Color(startColor);
            this.color = new _progress_kendoDrawing.Color(color);
        }
    }

    if ( superclass ) RangePointerAnimation.__proto__ = superclass;
    RangePointerAnimation.prototype = Object.create( superclass && superclass.prototype );
    RangePointerAnimation.prototype.constructor = RangePointerAnimation;

    RangePointerAnimation.prototype.step = function step (pos) {
        var ref = this;
        var options = ref.options;
        var startColor = ref.startColor;
        var color = ref.color;
        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);
        this.element.angle(angle);

        if (color) {
            var r = round(interpolateValue(startColor.r, color.r, pos));
            var g = round(interpolateValue(startColor.g, color.g, pos));
            var b = round(interpolateValue(startColor.b, color.b, pos));

            this.element.stroke(new _progress_kendoDrawing.Color(r, g, b).toHex());
        }
    };

    return RangePointerAnimation;
}(_progress_kendoDrawing.drawing.Animation));

setDefaultOptions(RangePointerAnimation, {
    easing: LINEAR$1,
    duration: ANGULAR_SPEED
});

_progress_kendoDrawing.drawing.AnimationFactory.current.register(RADIAL_RANGE_POINTER, RangePointerAnimation);

var RangePointer = (function (Pointer$$1) {
    function RangePointer () {
        Pointer$$1.apply(this, arguments);
    }

    if ( Pointer$$1 ) RangePointer.__proto__ = Pointer$$1;
    RangePointer.prototype = Object.create( Pointer$$1 && Pointer$$1.prototype );
    RangePointer.prototype.constructor = RangePointer;

    RangePointer.prototype.repaint = function repaint () {
        var ref = this;
        var scale = ref.scale;
        var options = ref.options;
        var oldAngle = scale.slotAngle(options._oldValue);
        var newAngle = scale.slotAngle(options.value);

        if (this.animation) {
            this.animation.abort();
        }

        if (options.animation.transitions === false) {
            this.angle(newAngle);
            this.stroke(this.currentColor());
        } else {
            this.animation = new RangePointerAnimation(this, deepExtend(options.animation, {
                oldAngle: oldAngle,
                newAngle: newAngle
            }));

            this.animation.play();
        }
    };

    RangePointer.prototype.angle = function angle (value) {
        var geometry$$1 = this.elements.geometry();
        if (this.scale.options.reverse) {
            geometry$$1.setStartAngle(value);
        } else {
            geometry$$1.setEndAngle(value);
        }
        this.scale.placeholderRangeAngle(value);
    };

    RangePointer.prototype.stroke = function stroke (value) {
        this.elements.stroke(value);
    };

    RangePointer.prototype.render = function render () {
        if (this.elements) {
            return;
        }

        var ref = this;
        var scale = ref.scale;
        var options = ref.options;

        if (options.animation !== false) {
            deepExtend(options.animation, {
                startAngle: 0,
                center: scale.arc.center,
                reverse: scale.options.reverse
            });
        }

        this.elements = scale.addRange(scale.options.min, this.options.value, {
            color: this.currentColor(),
            opacity: options.opacity,
            lineCap: scale.options.rangeLineCap
        });
    };

    RangePointer.prototype.currentColor = function currentColor () {
        var ref = this.scale.options;
        var min = ref.min;
        var max = ref.max;
        var ref$1 = this.options;
        var colors = ref$1.colors;
        var color = ref$1.color;
        var value = ref$1.value;
        var currentValue = isNumber(value) ? value : min;

        if (colors) {
            for (var idx = 0; idx < colors.length; idx++) {
                var ref$2 = colors[idx];
                var rangeColor = ref$2.color;
                var from = ref$2.from; if ( from === void 0 ) from = min;
                var to = ref$2.to; if ( to === void 0 ) to = max;

                if (from <= currentValue && currentValue <= to) {
                    return rangeColor;
                }
            }
        }

        return color;
    };

    RangePointer.prototype.reflow = function reflow () {
        this.render();

        this.bbox = this.elements.bbox();
    };

    return RangePointer;
}(Pointer));

setDefaultOptions(RangePointer, {
    animation: {
        type: RADIAL_RANGE_POINTER,
        duration: ANGULAR_SPEED
    }
});

var ArcGauge = (function (RadialGauge$$1) {
    function ArcGauge () {
        RadialGauge$$1.apply(this, arguments);
    }

    if ( RadialGauge$$1 ) ArcGauge.__proto__ = RadialGauge$$1;
    ArcGauge.prototype = Object.create( RadialGauge$$1 && RadialGauge$$1.prototype );
    ArcGauge.prototype.constructor = ArcGauge;

    ArcGauge.prototype._initTheme = function _initTheme (theme) {
        RadialGauge$$1.prototype._initTheme.call(this, theme);

        this.options.color = this.options.color || (this.theme.pointer || {}).color;
    };

    ArcGauge.prototype._createModel = function _createModel () {
        var options = this.options;
        var scale = this.scale = new ArcScale(options.scale, this.contextService);

        var pointer = new RangePointer(scale, deepExtend({}, {
            colors: options.colors,
            color: options.color,
            value: options.value,
            opacity: options.opacity,
            animation: {
                transitions: options.transitions
            }
        }));

        this.pointers = [ pointer ];
    };

    ArcGauge.prototype._buildPointers = function _buildPointers (pointers) {
        for (var i = 0; i < pointers.length; i++) {
            var current = pointers[i];
            current.render();

            current.value(current.options.value);
        }
    };

    ArcGauge.prototype._setValueOptions = function _setValueOptions (value) {
        this.options.value = value;
    };

    ArcGauge.prototype.currentColor = function currentColor () {
        var pointer = this.pointers[0];
        if (pointer) {
            return pointer.currentColor();
        }
    };

    ArcGauge.prototype.centerLabelPosition = function centerLabelPosition (width, height) {
        var size = this.getSize();
        var center = this.scale.arc.center;

        var left = center.x - width / 2;
        var top = center.y - height / 2;

        if (width < size.width) {
            var right = left + width;

            left = Math.max(left, 0);

            if (right > size.width) {
                left -= right - size.width;
            }
        }

        if (height < size.height) {
            var bbox = this.scale.bbox;
            var yLimit = bbox.bottomRight().y;
            var bottom = top + height;

            top = Math.max(top, bbox.origin.y);

            if (bottom > yLimit) {
                top -= bottom - yLimit;
            }
        }

        return {
            left: left,
            top: top
        };
    };

    return ArcGauge;
}(RadialGauge));

var BAR_GAP = 1.5;
var BAR_SPACING = 0.4;
var BLACK$1 = '#000';
var SANS = 'Arial, Helvetica, sans-serif';
var SANS11 = "11px " + SANS;
var SANS12 = '12px ' + SANS;
var SANS16 = '16px ' + SANS;
var TRANSPARENT = 'transparent';
var WHITE$1 = '#fff';

var notes = function () { return ({
    icon: {
        border: {
            width: 1
        }
    },
    label: {
        font: SANS12,
        padding: 3
    },
    line: {
        length: 10,
        width: 2
    },
    visible: true
}); };

var axisDefaults = function () { return ({
    labels: {
        font: SANS12
    },
    notes: notes(),
    title: {
        font: SANS16,
        margin: 5
    }
}); };

var areaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var rangeAreaSeries = function () { return ({
    highlight: {
        markers: {
            border: {}
        }
    },
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.4
}); };

var barSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var boxPlotSeries = function () { return ({
    outliersField: "",
    meanField: "",
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        whiskers: {
            width: 3
        },
        mean: {
            width: 2
        },
        median: {
            width: 2
        }
    },
    mean: {
        width: 2
    },
    median: {
        width: 2
    },
    spacing: 0.3,
    whiskers: {
        width: 2
    }
}); };

var bubbleSeries = function () { return ({
    border: {
        width: 0
    },
    labels: {
        background: TRANSPARENT
    },
    opacity: 0.6
}); };

var bulletSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING,
    target: {
        color: "#ff0000"
    }
}); };

var candlestickSeries = function () { return ({
    border: {
        _brightness: 0.8,
        width: 1
    },
    downColor: WHITE$1,
    gap: 1,
    highlight: {
        border: {
            opacity: 1,
            width: 2
        },
        line: {
            width: 2
        }
    },
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: 0.3
}); };

var columnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var donutSeries = function () { return ({
    margin: 1
}); };

var lineSeries = function () { return ({
    width: 2
}); };

var ohlcSeries = function () { return ({
    gap: 1,
    highlight: {
        line: {
            opacity: 1,
            width: 3
        }
    },
    line: {
        width: 1
    },
    spacing: 0.3
}); };

var radarAreaSeries = function () { return ({
    line: {
        opacity: 1,
        width: 0
    },
    markers: {
        size: 6,
        visible: false
    },
    opacity: 0.5
}); };

var radarLineSeries = function () { return ({
    markers: {
        visible: false
    },
    width: 2
}); };

var rangeBarSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var rangeColumnSeries = function () { return ({
    gap: BAR_GAP,
    spacing: BAR_SPACING
}); };

var scatterLineSeries = function () { return ({
    width: 1
}); };

var waterfallSeries = function () { return ({
    gap: 0.5,
    line: {
        color: BLACK$1,
        width: 1
    },
    spacing: BAR_SPACING
}); };

var pieSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var funnelSeries = function () { return ({
    labels: {
        background: '',
        color: '',
        padding: {
            top: 5,
            bottom: 5,
            left: 7,
            right: 7
        }
    }
}); };

var seriesDefaults = function (options) { return ({
    visible: true,
    labels: {
        font: SANS11
    },
    overlay: options.gradients ? {} : {
        gradient: "none"
    },
    area: areaSeries(),
    rangeArea: rangeAreaSeries(),
    verticalRangeArea: rangeAreaSeries(),
    bar: barSeries(),
    boxPlot: boxPlotSeries(),
    bubble: bubbleSeries(),
    bullet: bulletSeries(),
    candlestick: candlestickSeries(),
    column: columnSeries(),
    pie: pieSeries(),
    donut: donutSeries(),
    funnel: funnelSeries(),
    horizontalWaterfall: waterfallSeries(),
    line: lineSeries(),
    notes: notes(),
    ohlc: ohlcSeries(),
    radarArea: radarAreaSeries(),
    radarLine: radarLineSeries(),
    polarArea: radarAreaSeries(),
    polarLine: radarLineSeries(),
    rangeBar: rangeBarSeries(),
    rangeColumn: rangeColumnSeries(),
    scatterLine: scatterLineSeries(),
    verticalArea: areaSeries(),
    verticalBoxPlot: boxPlotSeries(),
    verticalBullet: bulletSeries(),
    verticalLine: lineSeries(),
    waterfall: waterfallSeries()
}); };

var title = function () { return ({
    font: SANS16
}); };

var legend = function () { return ({
    labels: {
        font: SANS12
    }
}); };

var baseTheme = function (options) {
    if ( options === void 0 ) options = {};

    return ({
    axisDefaults: axisDefaults(),
    categoryAxis: {
        majorGridLines: {
            visible: true
        }
    },
    navigator: {
        pane: {
            height: 90,
            margin: {
                top: 10
            }
        }
    },
    seriesDefaults: seriesDefaults(options),
    title: title(),
    legend: legend()
});
};

exports.chartBaseTheme = baseTheme;
exports.autoMajorUnit = autoMajorUnit;
exports.Point = Point;
exports.Box = Box;
exports.Ring = Ring;
exports.Sector = Sector;
exports.ShapeBuilder = ShapeBuilder;
exports.ShapeElement = ShapeElement;
exports.ChartElement = ChartElement;
exports.BoxElement = BoxElement;
exports.RootElement = RootElement;
exports.FloatElement = FloatElement;
exports.Text = Text;
exports.TextBox = TextBox;
exports.Title = Title;
exports.AxisLabel = AxisLabel;
exports.Axis = Axis;
exports.Note = Note;
exports.CategoryAxis = CategoryAxis;
exports.DateCategoryAxis = DateCategoryAxis;
exports.DateValueAxis = DateValueAxis;
exports.NumericAxis = NumericAxis;
exports.LogarithmicAxis = LogarithmicAxis;
exports.PolarAxis = PolarAxis;
exports.RadarCategoryAxis = RadarCategoryAxis;
exports.RadarNumericAxis = RadarNumericAxis;
exports.RadarLogarithmicAxis = RadarLogarithmicAxis;
exports.CurveProcessor = CurveProcessor;
exports.Gradients = GRADIENTS;
exports.rectToBox = rectToBox;
exports.Aggregates = Aggregates;
exports.AreaChart = AreaChart;
exports.AreaSegment = AreaSegment;
exports.AxisGroupRangeTracker = AxisGroupRangeTracker;
exports.Bar = Bar;
exports.BarChart = BarChart;
exports.BarLabel = BarLabel;
exports.BoxPlotChart = BoxPlotChart;
exports.BoxPlot = BoxPlot;
exports.BubbleChart = BubbleChart;
exports.Bullet = Bullet;
exports.BulletChart = BulletChart;
exports.CandlestickChart = CandlestickChart;
exports.Candlestick = Candlestick;
exports.CategoricalChart = CategoricalChart;
exports.CategoricalErrorBar = CategoricalErrorBar;
exports.CategoricalPlotArea = CategoricalPlotArea;
exports.Chart = Chart;
exports.ChartContainer = ChartContainer;
exports.ClipAnimation = ClipAnimation;
exports.ClusterLayout = ClusterLayout;
exports.Crosshair = Crosshair;
exports.CrosshairTooltip = CrosshairTooltip;
exports.DefaultAggregates = DefaultAggregates;
exports.DonutChart = DonutChart;
exports.DonutPlotArea = DonutPlotArea;
exports.DonutSegment = DonutSegment;
exports.ErrorBarBase = ErrorBarBase;
exports.ErrorRangeCalculator = ErrorRangeCalculator;
exports.Highlight = Highlight;
exports.SharedTooltip = SharedTooltip;
exports.Legend = Legend;
exports.LegendItem = LegendItem;
exports.LegendLayout = LegendLayout;
exports.LineChart = LineChart;
exports.LinePoint = LinePoint;
exports.LineSegment = LineSegment;
exports.Pane = Pane;
exports.PieAnimation = PieAnimation;
exports.PieChart = PieChart;
exports.PieChartMixin = PieChartMixin;
exports.PiePlotArea = PiePlotArea;
exports.PieSegment = PieSegment;
exports.PlotAreaBase = PlotAreaBase;
exports.PlotAreaEventsMixin = PlotAreaEventsMixin;
exports.PlotAreaFactory = PlotAreaFactory;
exports.PointEventsMixin = PointEventsMixin;
exports.RangeBar = RangeBar;
exports.RangeBarChart = RangeBarChart;
exports.RangeAreaPoint = RangeAreaPoint;
exports.RangeAreaChart = RangeAreaChart;
exports.ScatterChart = ScatterChart;
exports.ScatterErrorBar = ScatterErrorBar;
exports.ScatterLineChart = ScatterLineChart;
exports.Selection = Selection;
exports.SeriesAggregator = SeriesAggregator;
exports.SeriesBinder = SeriesBinder;
exports.SplineSegment = SplineSegment;
exports.SplineAreaSegment = SplineAreaSegment;
exports.StackWrap = StackWrap;
exports.Tooltip = Tooltip;
exports.OHLCChart = OHLCChart;
exports.OHLCPoint = OHLCPoint;
exports.WaterfallChart = WaterfallChart;
exports.WaterfallSegment = WaterfallSegment;
exports.XYPlotArea = XYPlotArea;
exports.MousewheelZoom = MousewheelZoom;
exports.ZoomSelection = ZoomSelection;
exports.Pannable = Pannable;
exports.ChartAxis = ChartAxis;
exports.ChartPane = ChartPane;
exports.ChartPlotArea = ChartPlotArea;
exports.findAxisByName = findAxisByName;
exports.anyHasZIndex = anyHasZIndex;
exports.appendIfNotNull = appendIfNotNull;
exports.areNumbers = areNumbers;
exports.bindSegments = bindSegments;
exports.categoriesCount = categoriesCount$1;
exports.countNumbers = countNumbers;
exports.equalsIgnoreCase = equalsIgnoreCase;
exports.evalOptions = evalOptions;
exports.filterSeriesByType = filterSeriesByType;
exports.getDateField = getDateField;
exports.getField = getField;
exports.hasGradientOverlay = hasGradientOverlay;
exports.hasValue = hasValue;
exports.isDateAxis = isDateAxis;
exports.segmentVisible = segmentVisible;
exports.singleItemOrArray = singleItemOrArray;
exports.createOutOfRangePoints = createOutOfRangePoints;
exports.ChartService = ChartService;
exports.DomEventsBuilder = DomEventsBuilder;
exports.FormatService = FormatService;
exports.IntlService = IntlService;
exports.TemplateService = TemplateService;
exports.Sparkline = Sparkline;
exports.constants = constants;
exports.Navigator = Navigator;
exports.NavigatorHint = NavigatorHint;
exports.StockChart = StockChart;
exports.Gauge = Gauge;
exports.LinearGauge = LinearGauge;
exports.LinearPointer = LinearPointer;
exports.ArrowLinearPointer = ArrowLinearPointer;
exports.BarLinearPointer = BarLinearPointer;
exports.LinearScale = LinearScale;
exports.RadialGauge = RadialGauge;
exports.RadialPointer = RadialPointer;
exports.RadialScale = RadialScale;
exports.ArcGauge = ArcGauge;
exports.RangePointer = RangePointer;
exports.ArcScale = ArcScale;
exports.addClass = addClass;
exports.removeClass = removeClass;
exports.alignPathToPixel = alignPathToPixel;
exports.clockwise = clockwise;
exports.convertableToNumber = convertableToNumber;
exports.deepExtend = deepExtend;
exports.elementStyles = elementStyles;
exports.getSpacing = getSpacing;
exports.getTemplate = getTemplate;
exports.getter = getter;
exports.grep = grep;
exports.hasClasses = hasClasses;
exports.HashMap = HashMap;
exports.inArray = inArray;
exports.interpolateValue = interpolateValue;
exports.InstanceObserver = InstanceObserver;
exports.isArray = isArray;
exports.isFunction = isFunction;
exports.isNumber = isNumber;
exports.isObject = isObject;
exports.isString = isString;
exports.map = map;
exports.mousewheelDelta = mousewheelDelta;
exports.FontLoader = FontLoader;
exports.setDefaultOptions = setDefaultOptions;
exports.sparseArrayLimits = sparseArrayLimits;
exports.styleValue = styleValue;
exports.append = append$1;
exports.bindEvents = bindEvents;
exports.Class = _progress_kendoDrawing.Class;
exports.defined = defined;
exports.deg = deg;
exports.elementOffset = elementOffset;
exports.elementSize = elementSize$1;
exports.eventElement = eventElement;
exports.eventCoordinates = eventCoordinates;
exports.last = last;
exports.limitValue = limitValue;
exports.logToConsole = _progress_kendoDrawing.logToConsole;
exports.objectKey = objectKey;
exports.rad = rad;
exports.round = round;
exports.unbindEvents = unbindEvents;
exports.valueOrDefault = valueOrDefault;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1hcnJheS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vYWRkLWNsYXNzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9yZW1vdmUtY2xhc3MuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2FsaWduLXBhdGgtdG8tcGl4ZWwuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2Nsb2Nrd2lzZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaXMtbnVtYmVyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1zdHJpbmcuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2NvbnZlcnRhYmxlLXRvLW51bWJlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaXMtZnVuY3Rpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2RlZXAtZXh0ZW5kLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pcy1vYmplY3QuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL3N0eWxlLXZhbHVlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9lbGVtZW50LXN0eWxlcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vZ2V0LXNwYWNpbmcuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvaW50bC1zZXJ2aWNlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL3NlcnZpY2VzL2Zvcm1hdC1zZXJ2aWNlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL3NlcnZpY2VzL2NoYXJ0LXNlcnZpY2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvc2VydmljZXMvZG9tLWV2ZW50cy1idWlsZGVyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL3NlcnZpY2VzL3RlbXBsYXRlLXNlcnZpY2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2dldC10ZW1wbGF0ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vZ2V0dGVyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9ncmVwLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9oYXMtY2xhc3Nlcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaGFzaC1tYXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL2luLWFycmF5LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9pbnRlcnBvbGF0ZS12YWx1ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vaW5zdGFuY2Utb2JzZXJ2ZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29tbW9uL21hcC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vbW91c2V3aGVlbC1kZWx0YS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kcmF3aW5nLXV0aWxzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvbW1vbi9mb250LWxvYWRlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vc2V0LWRlZmF1bHQtb3B0aW9ucy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb21tb24vc3BhcnNlLWFycmF5LWxpbWl0cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL2F1dG8tbWFqb3ItdW5pdC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3BvaW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvYm94LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvcmluZy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3NlY3Rvci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3NoYXBlLWJ1aWxkZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9jaGFydC1lbGVtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvYm94LWVsZW1lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9zaGFwZS1lbGVtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvZ3JhZGllbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvYm94LWRpZmYuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9yb290LWVsZW1lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9mbG9hdC1lbGVtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdGV4dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL3JlY3QtdG8tYm94LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdGV4dC1ib3guanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS90aXRsZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2F4aXMtbGFiZWwuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9ub3RlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvY3JlYXRlLWF4aXMtdGljay5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL2NyZWF0ZS1heGlzLWdyaWQtbGluZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2F4aXMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9jb25zdGFudHMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9hYnNvbHV0ZS1kYXRlLWRpZmYuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9hZGQtdGlja3MuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy90by1kYXRlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvc3RhcnQtb2Ytd2Vlay5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2FkZC1kdXJhdGlvbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2Zsb29yLWRhdGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9jZWlsLWRhdGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZGF0ZS11dGlscy9kYXRlLWNvbXBhcmVyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvZGF0ZS1kaWZmLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvdG8tdGltZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2RhdGUtZXF1YWxzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvZGF0ZS1pbmRleC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL2R1cmF0aW9uLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2RhdGUtdXRpbHMvcGFyc2UtZGF0ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9kYXRlLXV0aWxzL3BhcnNlLWRhdGVzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvY2F0ZWdvcnktYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2NvbnN0YW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2RhdGUtY2F0ZWdvcnktYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3V0aWxzL2F1dG8tYXhpcy1taW4uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS91dGlscy9hdXRvLWF4aXMtbWF4LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvZmxvb3IuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS91dGlscy9jZWlsLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvdXRpbHMvbGltaXQtY29vcmRpbmF0ZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL251bWVyaWMtYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2RhdGUtdmFsdWUtYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL2xvZ2FyaXRobWljLWF4aXMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9taXhpbnMvZ3JpZC1saW5lcy1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLWNhdGVnb3J5LWF4aXMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9wb2xhci1heGlzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NvcmUvbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLW51bWVyaWMtYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jb3JlL3JhZGFyLWxvZ2FyaXRobWljLWF4aXMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY29yZS9jdXJ2ZS1wcm9jZXNzb3IuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXBpLWVsZW1lbnRzL2NoYXJ0LWF4aXMuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXBpLWVsZW1lbnRzL2ZpbmQtYXhpcy1ieS1uYW1lLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9jaGFydC1wYW5lLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FwaS1lbGVtZW50cy9jaGFydC1wbG90YXJlYS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9jb3VudC1udW1iZXJzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FnZ3JlZ2F0ZXMvYWdncmVnYXRlcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9nZXQtZmllbGQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvc2VyaWVzLWJpbmRlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3IuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Vycm9yLWJhcnMvZXJyb3ItYmFyLWJhc2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvZXJyb3ItYmFycy9jYXRlZ29yaWNhbC1lcnJvci1iYXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvZXZhbC1vcHRpb25zLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2NhdGVnb3JpZXMtY291bnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvY2F0ZWdvcmljYWwtY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9taXhpbnMvbm90ZS1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtcG9pbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9saW5lLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9zdGVwLWxpbmUtbWl4aW4uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGluZS1jaGFydC9zdGVwLWxpbmUtc2VnbWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L3NwbGluZS1zZWdtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9saW5lLWNoYXJ0LW1peGluLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvY2xpcC1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvYW55LWhhcy16LWluZGV4LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9saW5lLWNoYXJ0L2xpbmUtY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9zdGVwLWFyZWEtc2VnbWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hcmVhLWNoYXJ0L3NwbGluZS1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYXJlYS1jaGFydC9hcmVhLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2F4aXMtZ3JvdXAtcmFuZ2UtdHJhY2tlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWxhYmVsLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Jhci1jaGFydC9iYXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGF5b3V0L3V0aWxzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2xheW91dC9jbHVzdGVyLWxheW91dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sYXlvdXQvc3RhY2std3JhcC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXItY2hhcnQvYmFyLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2FyZS1udW1iZXJzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0L2NhbmRsZXN0aWNrLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L2JveC1wbG90LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L3ZlcnRpY2FsLWJveC1wbG90LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2JveC1wbG90LWNoYXJ0L2JveC1wbG90LWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Vycm9yLWJhcnMvc2NhdHRlci1lcnJvci1iYXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvaGFzLXZhbHVlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYnViYmxlLWNoYXJ0L2J1YmJsZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9idWJibGUtY2hhcnQvYnViYmxlLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2J1bGxldC1jaGFydC90YXJnZXQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYnVsbGV0LWNoYXJ0L2J1bGxldC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9idWxsZXQtY2hhcnQvYnVsbGV0LWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Rvb2x0aXAvYmFzZS10b29sdGlwLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Nyb3NzaGFpci9jcm9zc2hhaXItdG9vbHRpcC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9jcm9zc2hhaXIvY3Jvc3NoYWlyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2NoYXJ0LWNvbnRhaW5lci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wYW5lLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2FwcGVuZC1pZi1ub3QtbnVsbC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9zZWdtZW50LXZpc2libGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvYmluZC1zZWdtZW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9lcXVhbHMtaWdub3JlLWNhc2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2dldC1kYXRlLWZpZWxkLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3V0aWxzL2lzLWRhdGUtYXhpcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9zaW5nbGUtaXRlbS1vci1hcnJheS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC91dGlscy9jcmVhdGUtb3V0LW9mLXJhbmdlLXBvaW50cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9wbG90YXJlYS1iYXNlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYWdncmVnYXRlcy9zZXJpZXMtYWdncmVnYXRvci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hZ2dyZWdhdGVzL2RlZmF1bHQtYWdncmVnYXRlcy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1iYXItY2hhcnQvcmFuZ2UtYmFyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhbmdlLWJhci1jaGFydC9yYW5nZS1iYXItY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9yYW5nZS1saW5lLXBvaW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1wb2ludC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3JhbmdlLWFyZWEtc2VnbWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3NwbGluZS1yYW5nZS1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFuZ2UtYXJlYS1jaGFydC9zdGVwLXJhbmdlLWFyZWEtc2VnbWVudC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYW5nZS1hcmVhLWNoYXJ0L3JhbmdlLWFyZWEtY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvb2hsYy1jaGFydC9vaGxjLXBvaW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L29obGMtY2hhcnQvb2hsYy1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC93YXRlcmZhbGwtY2hhcnQvd2F0ZXJmYWxsLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvd2F0ZXJmYWxsLWNoYXJ0L3dhdGVyZmFsbC1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9jYXRlZ29yaWNhbC1wbG90YXJlYS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9oaWdobGlnaHQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL2FjY2VwdC1rZXkuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bhbi1hbmQtem9vbS9wYW5uYWJsZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wYW4tYW5kLXpvb20vem9vbS1zZWxlY3Rpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGFuLWFuZC16b29tL21vdXNld2hlZWwtem9vbS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sZWdlbmQvbGVnZW5kLWxheW91dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sZWdlbmQvbGVnZW5kLWl0ZW0uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbGVnZW5kL2xlZ2VuZC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS9wbG90YXJlYS1mYWN0b3J5LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NlbGVjdGlvbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC90b29sdGlwL3Rvb2x0aXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvdG9vbHRpcC9zaGFyZWQtdG9vbHRpcC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9hbmltYXRpb25zL2Jhci1jaGFydC1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYW5pbWF0aW9ucy9idWJibGUtYW5pbWF0aW9uLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2FuaW1hdGlvbnMvZmFkZS1pbi1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvYW5pbWF0aW9ucy9waWUtYW5pbWF0aW9uLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItbGluZS1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wbG90YXJlYS94eS1wbG90YXJlYS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9waWUtY2hhcnQvcGllLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvbWl4aW5zL3BpZS1jaGFydC1taXhpbi5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9waWUtY2hhcnQvcGllLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BpZS1wbG90YXJlYS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9kb251dC1jaGFydC9kb251dC1zZWdtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2RvbnV0LWNoYXJ0L2RvbnV0LWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL2RvbnV0LXBsb3RhcmVhLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLWJhc2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItc2NhdHRlci1jaGFydC9wb2xhci1zY2F0dGVyLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3BvbGFyLWxpbmUtY2hhcnQvcG9sYXItbGluZS1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9wb2xhci1hcmVhLWNoYXJ0L3NwbGluZS1wb2xhci1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItYXJlYS1jaGFydC9wb2xhci1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcG9sYXItYXJlYS1jaGFydC9wb2xhci1hcmVhLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3Bsb3RhcmVhL3BvbGFyLXBsb3RhcmVhLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWxpbmUtY2hhcnQvcmFkYXItbGluZS1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9yYWRhci1hcmVhLWNoYXJ0L3NwbGluZS1yYWRhci1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLXNlZ21lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLWNoYXJ0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWJhci1jaGFydC9yYWRhci1zZWdtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2xheW91dC9yYWRhci1jbHVzdGVyLWxheW91dC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9sYXlvdXQvcmFkYXItc3RhY2stbGF5b3V0LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JhZGFyLWJhci1jaGFydC9yYWRhci1iYXItY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGxvdGFyZWEvcmFkYXItcGxvdGFyZWEuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvZnVubmVsLWNoYXJ0L2Z1bm5lbC1zZWdtZW50LmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L2Z1bm5lbC1jaGFydC9mdW5uZWwtY2hhcnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvY2hhcnQvcGxvdGFyZWEvZnVubmVsLXBsb3RhcmVhLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2NoYXJ0L3JlZ2lzdGVyLWNoYXJ0cy5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9zcGFya2xpbmUvc2hhcmVkLXRvb2x0aXAuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvc3BhcmtsaW5lL3NwYXJrbGluZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9zdG9jay9mYWRlLW91dC1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvc3RvY2svbmF2aWdhdG9yLWhpbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvc3RvY2svY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL3N0b2NrL25hdmlnYXRvci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9zdG9jay9zdG9jay1jaGFydC5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvY29uc3RhbnRzLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy91dGlscy9wYWQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3V0aWxzL2J1aWxkLWxhYmVsLWVsZW1lbnQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3V0aWxzL2dldC1yYW5nZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvdXRpbHMvdW5wYWQuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2dhdWdlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLXNjYWxlLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9wb2ludGVyLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9saW5lYXIvbGluZWFyLXBvaW50ZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9hcnJvdy1saW5lYXItcG9pbnRlci1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9hcnJvdy1saW5lYXItcG9pbnRlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvbGluZWFyL2Jhci1saW5lYXItcG9pbnRlci1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9iYXItbGluZWFyLXBvaW50ZXIuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL2xpbmVhci9saW5lYXItZ2F1Z2UuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtc2NhbGUuanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtcG9pbnRlci1hbmltYXRpb24uanMiLCIvcm9vdC9zcmMvZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLWNoYXJ0cy9zcmMvZ2F1Z2VzL3JhZGlhbC9yYWRpYWwtcG9pbnRlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvcmFkaWFsL3JhZGlhbC1nYXVnZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL2FyYy1zY2FsZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL3JhbmdlLXBvaW50ZXItYW5pbWF0aW9uLmpzIiwiL3Jvb3Qvc3JjL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby1jaGFydHMvc3JjL2dhdWdlcy9hcmMvcmFuZ2UtcG9pbnRlci5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9nYXVnZXMvYXJjL2FyYy1nYXVnZS5qcyIsIi9yb290L3NyYy9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tY2hhcnRzL3NyYy9jaGFydC9iYXNlLXRoZW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBBUkMgPSBcImFyY1wiO1xuZXhwb3J0IGNvbnN0IEFYSVNfTEFCRUxfQ0xJQ0sgPSBcImF4aXNMYWJlbENsaWNrXCI7XG5leHBvcnQgY29uc3QgQkxBQ0sgPSBcIiMwMDBcIjtcbmV4cG9ydCBjb25zdCBCT1RUT00gPSBcImJvdHRvbVwiO1xuZXhwb3J0IGNvbnN0IENFTlRFUiA9IFwiY2VudGVyXCI7XG5leHBvcnQgY29uc3QgQ0lSQ0xFID0gXCJjaXJjbGVcIjtcbmV4cG9ydCBjb25zdCBDT09SRF9QUkVDSVNJT04gPSAzO1xuZXhwb3J0IGNvbnN0IENST1NTID0gXCJjcm9zc1wiO1xuZXhwb3J0IGNvbnN0IERBVEUgPSBcImRhdGVcIjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZPTlQgPSBcIjEycHggc2Fucy1zZXJpZlwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfSEVJR0hUID0gNDAwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUFJFQ0lTSU9OID0gMTA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9XSURUSCA9IDYwMDtcbmV4cG9ydCBjb25zdCBFTkQgPSBcImVuZFwiO1xuZXhwb3J0IGNvbnN0IEZPUk1BVF9SRUdFWCA9IC9cXHtcXGQrOj8vO1xuZXhwb3J0IGNvbnN0IEhFSUdIVCA9IFwiaGVpZ2h0XCI7XG5leHBvcnQgY29uc3QgSElHSExJR0hUX1pJTkRFWCA9IDEwMDtcbmV4cG9ydCBjb25zdCBJTlNJREUgPSBcImluc2lkZVwiO1xuZXhwb3J0IGNvbnN0IExFRlQgPSBcImxlZnRcIjtcbmV4cG9ydCBjb25zdCBNQVhfVkFMVUUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuZXhwb3J0IGNvbnN0IE1JTl9WQUxVRSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xuZXhwb3J0IGNvbnN0IE5PTkUgPSBcIm5vbmVcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0NMSUNLID0gXCJub3RlQ2xpY2tcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0hPVkVSID0gXCJub3RlSG92ZXJcIjtcbmV4cG9ydCBjb25zdCBOT1RFX0xFQVZFID0gXCJub3RlTGVhdmVcIjtcbmV4cG9ydCBjb25zdCBPQkpFQ1QgPSBcIm9iamVjdFwiO1xuZXhwb3J0IGNvbnN0IE9VVFNJREUgPSBcIm91dHNpZGVcIjtcbmV4cG9ydCBjb25zdCBSSUdIVCA9IFwicmlnaHRcIjtcbmV4cG9ydCBjb25zdCBTVEFSVCA9IFwic3RhcnRcIjtcbmV4cG9ydCBjb25zdCBTVFJJTkcgPSBcInN0cmluZ1wiO1xuZXhwb3J0IGNvbnN0IFRPUCA9IFwidG9wXCI7XG5leHBvcnQgY29uc3QgVFJJQU5HTEUgPSBcInRyaWFuZ2xlXCI7XG5leHBvcnQgY29uc3QgVkFMVUUgPSBcInZhbHVlXCI7XG5leHBvcnQgY29uc3QgV0hJVEUgPSBcIiNmZmZcIjtcbmV4cG9ydCBjb25zdCBXSURUSCA9IFwid2lkdGhcIjtcbmV4cG9ydCBjb25zdCBYID0gXCJ4XCI7XG5leHBvcnQgY29uc3QgWSA9IFwieVwiO1xuXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufSIsImltcG9ydCBpc0FycmF5IGZyb20gJy4vaXMtYXJyYXknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc2VzKSB7XG4gICAgY29uc3QgY2xhc3NBcnJheSA9IGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogWyBjbGFzc2VzIF07XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjbGFzc0FycmF5Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NBcnJheVtpZHhdO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihjbGFzc05hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gXCIgXCIgKyBjbGFzc05hbWU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiY29uc3QgU1BBQ0VfUkVHRVggPSAvXFxzKy9nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmNsYXNzTmFtZSkge1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NOYW1lLCBcIlwiKS5yZXBsYWNlKFNQQUNFX1JFR0VYLCBcIiBcIik7XG4gICAgfVxufSIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFsaWduUGF0aFRvUGl4ZWwocGF0aCkge1xuICAgIGxldCBvZmZzZXQgPSAwLjU7XG4gICAgaWYgKHBhdGgub3B0aW9ucy5zdHJva2UgJiYgZHJhd2luZy51dGlsLmRlZmluZWQocGF0aC5vcHRpb25zLnN0cm9rZS53aWR0aCkpIHtcbiAgICAgICAgaWYgKHBhdGgub3B0aW9ucy5zdHJva2Uud2lkdGggJSAyID09PSAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLnNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhdGguc2VnbWVudHNbaV0uYW5jaG9yKCkucm91bmQoMCkudHJhbnNsYXRlKG9mZnNldCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbG9ja3dpc2UoYW5nbGUxLCBhbmdsZTIpIHtcbiAgICAvLyBUcnVlIGlmIGFuZ2xlMiBpcyBjbG9ja3dpc2Ugb2YgYW5nbGUxXG4gICAgLy8gYXNzdW1pbmcgYW5nbGVzIGdyb3cgaW4gY2xvY2std2lzZSBkaXJlY3Rpb25cbiAgICAvLyAoYXMgaW4gdGhlIHBpZSBhbmQgcmFkYXIgY2hhcnRzKVxuICAgIHJldHVybiAtYW5nbGUxLnggKiBhbmdsZTIueSArIGFuZ2xlMS55ICogYW5nbGUyLnggPCAwO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNOYU4odmFsdWUpO1xufSIsImltcG9ydCB7IFNUUklORyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBTVFJJTkc7XG59IiwiaW1wb3J0IGlzTnVtYmVyIGZyb20gJy4vaXMtbnVtYmVyJztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuL2lzLXN0cmluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnZlcnRhYmxlVG9OdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpIHx8IChpc1N0cmluZyh2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiO1xufSIsImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXMtZnVuY3Rpb24nO1xuXG5jb25zdCBPQkpFQ1QgPSBcIm9iamVjdFwiO1xuY29uc3QgVU5ERUZJTkVEID0gXCJ1bmRlZmluZWRcIjtcblxuZnVuY3Rpb24gZGVlcEV4dGVuZE9uZShkZXN0aW5hdGlvbiwgc291cmNlKSB7XG5cbiAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBzb3VyY2UpIHtcbiAgICAgICAgbGV0IHByb3BWYWx1ZSA9IHNvdXJjZVtwcm9wZXJ0eV07XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG5cbiAgICAgICAgbGV0IHByb3BJbml0O1xuICAgICAgICBpZiAocHJvcFR5cGUgPT09IE9CSkVDVCAmJiBwcm9wVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHByb3BJbml0ID0gcHJvcFZhbHVlLmNvbnN0cnVjdG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcEluaXQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BJbml0ICYmIHByb3BJbml0ICE9PSBBcnJheSkge1xuXG4gICAgICAgICAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IG5ldyBEYXRlKHByb3BWYWx1ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHByb3BWYWx1ZS5jbG9uZSkpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBwcm9wVmFsdWUuY2xvbmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlc3RQcm9wID0gZGVzdGluYXRpb25bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGRlc3RQcm9wKSA9PT0gT0JKRUNUKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IGRlc3RQcm9wIHx8IHt9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Byb3BlcnR5XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWVwRXh0ZW5kT25lKGRlc3RpbmF0aW9uW3Byb3BlcnR5XSwgcHJvcFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9wVHlwZSAhPT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBwcm9wVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZXBFeHRlbmQoZGVzdGluYXRpb24pIHtcbiAgICBjb25zdCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBkZWVwRXh0ZW5kT25lKGRlc3RpbmF0aW9uLCBhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG59IiwiaW1wb3J0IGlzTnVtYmVyIGZyb20gJy4vaXMtbnVtYmVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICsgXCJweFwiO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59IiwiaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXMtb2JqZWN0JztcbmltcG9ydCBpc0FycmF5IGZyb20gJy4vaXMtYXJyYXknO1xuaW1wb3J0IGlzU3RyaW5nIGZyb20gJy4vaXMtc3RyaW5nJztcbmltcG9ydCBzdHlsZVZhbHVlIGZyb20gJy4vc3R5bGUtdmFsdWUnO1xuXG5jb25zdCBTSVpFX1NUWUxFU19SRUdFWCA9IC93aWR0aHxoZWlnaHR8dG9wfGxlZnR8Ym90dG9tfHJpZ2h0L2k7XG5cbmZ1bmN0aW9uIGlzU2l6ZUZpZWxkKGZpZWxkKSB7XG4gICAgcmV0dXJuIFNJWkVfU1RZTEVTX1JFR0VYLnRlc3QoZmllbGQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICAgIGNvbnN0IHN0eWxlc0FycmF5ID0gaXNTdHJpbmcoc3R5bGVzKSA/IFsgc3R5bGVzIF0gOiBzdHlsZXM7XG5cbiAgICBpZiAoaXNBcnJheShzdHlsZXNBcnJheSkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3R5bGVzQXJyYXkubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGZpZWxkID0gc3R5bGVzQXJyYXlbaWR4XTtcbiAgICAgICAgICAgIHJlc3VsdFtmaWVsZF0gPSBpc1NpemVGaWVsZChmaWVsZCkgPyBwYXJzZUZsb2F0KHN0eWxlW2ZpZWxkXSkgOiBzdHlsZVtmaWVsZF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3R5bGVzKSkge1xuICAgICAgICBmb3IgKGxldCBmaWVsZCBpbiBzdHlsZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbZmllbGRdID0gc3R5bGVWYWx1ZShzdHlsZXNbZmllbGRdKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNwYWNpbmcodmFsdWUsIGRlZmF1bHRTcGFjaW5nID0gMCkge1xuICAgIGNvbnN0IHNwYWNpbmcgPSB7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCB9O1xuXG4gICAgaWYgKHR5cGVvZih2YWx1ZSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgc3BhY2luZ1tUT1BdID0gc3BhY2luZ1tSSUdIVF0gPSBzcGFjaW5nW0JPVFRPTV0gPSBzcGFjaW5nW0xFRlRdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3BhY2luZ1tUT1BdID0gdmFsdWVbVE9QXSB8fCBkZWZhdWx0U3BhY2luZztcbiAgICAgICAgc3BhY2luZ1tSSUdIVF0gPSB2YWx1ZVtSSUdIVF0gfHwgZGVmYXVsdFNwYWNpbmc7XG4gICAgICAgIHNwYWNpbmdbQk9UVE9NXSA9IHZhbHVlW0JPVFRPTV0gfHwgZGVmYXVsdFNwYWNpbmc7XG4gICAgICAgIHNwYWNpbmdbTEVGVF0gPSB2YWx1ZVtMRUZUXSB8fCBkZWZhdWx0U3BhY2luZztcbiAgICB9XG5cbiAgICByZXR1cm4gc3BhY2luZztcbn0iLCJjb25zdCBkZWZhdWx0SW1wbGVtZW50YXRpb24gPSB7XG4gICAgZm9ybWF0OiAoZm9ybWF0LCB2YWx1ZSkgPT4gdmFsdWUsXG5cbiAgICB0b1N0cmluZzogKHZhbHVlKSA9PiB2YWx1ZSxcblxuICAgIHBhcnNlRGF0ZTogKHZhbHVlKSA9PiBuZXcgRGF0ZSh2YWx1ZSlcbn07XG5cbmxldCBjdXJyZW50ID0gZGVmYXVsdEltcGxlbWVudGF0aW9uO1xuXG5jbGFzcyBJbnRsU2VydmljZSB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKHVzZXJJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICBjdXJyZW50ID0gdXNlckltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgaW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50bFNlcnZpY2U7XG4iLCJpbXBvcnQgSW50bFNlcnZpY2UgZnJvbSAnLi9pbnRsLXNlcnZpY2UnO1xuaW1wb3J0IHsgRk9STUFUX1JFR0VYIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNvbnN0IEZPUk1BVF9SRVBMQUNFX1JFR0VYID0gL1xceyhcXGQrKSg6W15cXH1dKyk/XFx9L2c7XG5cbmNsYXNzIEZvcm1hdFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKGludGxTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMuX2ludGxTZXJ2aWNlID0gaW50bFNlcnZpY2U7XG4gICAgfVxuXG4gICAgZ2V0IGludGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRsU2VydmljZSB8fCBJbnRsU2VydmljZS5pbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgaW50bCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnRsU2VydmljZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGF1dG8oZm9ybWF0U3RyaW5nLCAuLi52YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgaW50bCA9IHRoaXMuaW50bDtcblxuICAgICAgICBpZiAoaXNTdHJpbmcoZm9ybWF0U3RyaW5nKSAmJiBmb3JtYXRTdHJpbmcubWF0Y2goRk9STUFUX1JFR0VYKSkge1xuICAgICAgICAgICAgcmV0dXJuIGludGwuZm9ybWF0KGZvcm1hdFN0cmluZywgLi4udmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnRsLnRvU3RyaW5nKHZhbHVlc1swXSwgZm9ybWF0U3RyaW5nKTtcbiAgICB9XG5cbiAgICBsb2NhbGVBdXRvKGZvcm1hdFN0cmluZywgdmFsdWVzLCBsb2NhbGUpIHtcbiAgICAgICAgY29uc3QgaW50bCA9IHRoaXMuaW50bDtcbiAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICBpZiAoaXNTdHJpbmcoZm9ybWF0U3RyaW5nKSAmJiBmb3JtYXRTdHJpbmcubWF0Y2goRk9STUFUX1JFR0VYKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZm9ybWF0U3RyaW5nLnJlcGxhY2UoRk9STUFUX1JFUExBQ0VfUkVHRVgsIGZ1bmN0aW9uKG1hdGNoLCBpbmRleCwgcGxhY2Vob2xkZXJGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB2YWx1ZXNbcGFyc2VJbnQoaW5kZXgsIDEwKV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaW50bC50b1N0cmluZyh2YWx1ZSwgcGxhY2Vob2xkZXJGb3JtYXQgPyBwbGFjZWhvbGRlckZvcm1hdC5zdWJzdHJpbmcoMSkgOiBcIlwiLCBsb2NhbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpbnRsLnRvU3RyaW5nKHZhbHVlc1swXSwgZm9ybWF0U3RyaW5nLCBsb2NhbGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1hdFNlcnZpY2U7IiwiaW1wb3J0IEludGxTZXJ2aWNlIGZyb20gJy4vaW50bC1zZXJ2aWNlJztcbmltcG9ydCBGb3JtYXRTZXJ2aWNlIGZyb20gJy4vZm9ybWF0LXNlcnZpY2UnO1xuXG5jbGFzcyBDaGFydFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0LCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgdGhpcy5faW50bFNlcnZpY2UgPSBjb250ZXh0LmludGxTZXJ2aWNlO1xuICAgICAgICB0aGlzLnNlbmRlciA9IGNvbnRleHQuc2VuZGVyIHx8IGNoYXJ0O1xuICAgICAgICB0aGlzLmZvcm1hdCA9IG5ldyBGb3JtYXRTZXJ2aWNlKGNvbnRleHQuaW50bFNlcnZpY2UpO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMucnRsID0gQm9vbGVhbihjb250ZXh0LnJ0bCk7XG4gICAgfVxuXG4gICAgZ2V0IGludGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRsU2VydmljZSB8fCBJbnRsU2VydmljZS5pbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgaW50bCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnRsU2VydmljZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZvcm1hdC5pbnRsID0gdmFsdWU7XG4gICAgfVxuXG4gICAgbm90aWZ5KG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQudHJpZ2dlcihuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzUGFubmFibGUoYXhpcykge1xuICAgICAgICBjb25zdCBwYW5uYWJsZSA9ICgodGhpcy5jaGFydCB8fCB7fSkub3B0aW9ucyB8fCB7fSkucGFubmFibGU7XG4gICAgICAgIHJldHVybiBwYW5uYWJsZSAmJiBwYW5uYWJsZS5sb2NrICE9PSBheGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRTZXJ2aWNlOyIsImxldCBjdXJyZW50O1xuXG5jbGFzcyBEb21FdmVudHNCdWlsZGVyIHtcbiAgICBzdGF0aWMgcmVnaXN0ZXIodXNlckltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VySW1wbGVtZW50YXRpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShlbGVtZW50LCBldmVudHMpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50LmNyZWF0ZShlbGVtZW50LCBldmVudHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb21FdmVudHNCdWlsZGVyO1xuIiwibGV0IGN1cnJlbnQgPSB7XG4gICAgY29tcGlsZTogZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn07XG5cbmNsYXNzIFRlbXBsYXRlU2VydmljZSB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKHVzZXJJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICBjdXJyZW50ID0gdXNlckltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBjb21waWxlKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LmNvbXBpbGUodGVtcGxhdGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGVtcGxhdGVTZXJ2aWNlO1xuIiwiaW1wb3J0IHsgVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi9pcy1mdW5jdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRlbXBsYXRlKG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCB0ZW1wbGF0ZTtcbiAgICBpZiAob3B0aW9ucy50ZW1wbGF0ZSkge1xuICAgICAgICBvcHRpb25zLnRlbXBsYXRlID0gdGVtcGxhdGUgPSBUZW1wbGF0ZVNlcnZpY2UuY29tcGlsZShvcHRpb25zLnRlbXBsYXRlKTtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5jb250ZW50KSkge1xuICAgICAgICB0ZW1wbGF0ZSA9IG9wdGlvbnMuY29udGVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG59IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuY29uc3QgRklFTERfUkVHRVggPSAvXFxbKD86KFxcZCspfFsnXCJdKC4qPylbJ1wiXSlcXF18KCg/Oig/IVxcWy4qP1xcXXxcXC4pLikrKS9nO1xuY29uc3QgZ2V0dGVyQ2FjaGUgPSB7fTtcblxuZ2V0dGVyQ2FjaGVbJ3VuZGVmaW5lZCddID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldHRlcihmaWVsZCkge1xuICAgIGlmIChnZXR0ZXJDYWNoZVtmaWVsZF0pIHtcbiAgICAgICAgcmV0dXJuIGdldHRlckNhY2hlW2ZpZWxkXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgICBmaWVsZC5yZXBsYWNlKEZJRUxEX1JFR0VYLCBmdW5jdGlvbihtYXRjaCwgaW5kZXgsIGluZGV4QWNjZXNzb3IsIGZpZWxkKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKGRyYXdpbmcudXRpbC5kZWZpbmVkKGluZGV4KSA/IGluZGV4IDogKGluZGV4QWNjZXNzb3IgfHwgZmllbGQpKTtcbiAgICB9KTtcblxuICAgIGdldHRlckNhY2hlW2ZpZWxkXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBsZXQgcmVzdWx0ID0gb2JqO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBmaWVsZHMubGVuZ3RoICYmIHJlc3VsdDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdFtmaWVsZHNbaWR4XV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICByZXR1cm4gZ2V0dGVyQ2FjaGVbZmllbGRdO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdyZXAoYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGFycmF5W2lkeF0pKSB7XG4gICAgICAgICAgICByZXN1bHQgLnB1c2goYXJyYXlbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhc0NsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZSkge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGNsYXNzTmFtZXMuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBuYW1lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZihuYW1lc1tpZHhdKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhc2hNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9tYXAgPSB7fTtcbiAgICB9XG5cbiAgICBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW3RoaXMuX2tleShuYW1lKV07XG4gICAgfVxuXG4gICAgc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX21hcFt0aGlzLl9rZXkobmFtZSldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgX2tleShuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lIGluc3RhbmNlb2YgRGF0ZSA/IG5hbWUuZ2V0VGltZSgpIDogbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5BcnJheSh2YWx1ZSwgYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW50ZXJwb2xhdGVWYWx1ZShzdGFydCwgZW5kLCBwcm9ncmVzcykge1xuICAgIHJldHVybiBkcmF3aW5nLnV0aWwucm91bmQoc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogcHJvZ3Jlc3MsIENPT1JEX1BSRUNJU0lPTik7XG59IiwiaW1wb3J0IGRlZXBFeHRlbmQgZnJvbSAnLi9kZWVwLWV4dGVuZCc7XG5cbmNvbnN0IFRSSUdHRVIgPSAndHJpZ2dlcic7XG5cbmNsYXNzIEluc3RhbmNlT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9ic2VydmVyLCBoYW5kbGVycykge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuaGFuZGxlck1hcCA9IGRlZXBFeHRlbmQoe30sIHRoaXMuaGFuZGxlck1hcCwgaGFuZGxlcnMpO1xuICAgIH1cblxuICAgIHRyaWdnZXIobmFtZSwgYXJncykge1xuICAgICAgICBjb25zdCB7IG9ic2VydmVyLCBoYW5kbGVyTWFwIH0gPSB0aGlzO1xuICAgICAgICBsZXQgaXNEZWZhdWx0UHJldmVudGVkO1xuICAgICAgICBpZiAoaGFuZGxlck1hcFtuYW1lXSkge1xuICAgICAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkID0gdGhpcy5jYWxsT2JzZXJ2ZXIoaGFuZGxlck1hcFtuYW1lXSwgYXJncyk7XG4gICAgICAgIH0gZWxzZSBpZiAob2JzZXJ2ZXJbVFJJR0dFUl0pIHtcbiAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRoaXMuY2FsbE9ic2VydmVyKFRSSUdHRVIsIG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBjYWxsT2JzZXJ2ZXIoZm5OYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9ic2VydmVyW2ZuTmFtZV0uYXBwbHkodGhpcy5vYnNlcnZlciwgYXJncyk7XG4gICAgfVxuXG4gICAgcmVxdWlyZXNIYW5kbGVycyhuYW1lcykge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlci5yZXF1aXJlc0hhbmRsZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYnNlcnZlci5yZXF1aXJlc0hhbmRsZXJzKG5hbWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG5hbWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZXJNYXBbbmFtZXNbaWR4XV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5zdGFuY2VPYnNlcnZlcjsiLCJpbXBvcnQgeyBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXAoYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IHZhbHVlID0gY2FsbGJhY2soYXJyYXlbaWR4XSk7XG4gICAgICAgIGlmIChkcmF3aW5nLnV0aWwuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vdXNld2hlZWxEZWx0YShlKSB7XG4gICAgbGV0IGRlbHRhID0gMDtcblxuICAgIGlmIChlLndoZWVsRGVsdGEpIHtcbiAgICAgICAgZGVsdGEgPSAtZS53aGVlbERlbHRhIC8gMTIwO1xuICAgICAgICBkZWx0YSA9IGRlbHRhID4gMCA/IE1hdGguY2VpbChkZWx0YSkgOiBNYXRoLmZsb29yKGRlbHRhKTtcbiAgICB9XG5cbiAgICBpZiAoZS5kZXRhaWwpIHtcbiAgICAgICAgZGVsdGEgPSBkcmF3aW5nLnV0aWwucm91bmQoZS5kZXRhaWwgLyAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGE7XG59IiwiaW1wb3J0IHsgZHJhd2luZywgQ2xhc3MsIGxvZ1RvQ29uc29sZSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuY29uc3QgeyBhcHBlbmQsIGJpbmRFdmVudHMsIGRlZmluZWQsIGRlZywgZWxlbWVudE9mZnNldCwgZWxlbWVudFNpemUsIGV2ZW50RWxlbWVudCwgZXZlbnRDb29yZGluYXRlcywgbGFzdCwgbGltaXRWYWx1ZSwgb2JqZWN0S2V5LCByYWQsIHJvdW5kLCB1bmJpbmRFdmVudHMsIHZhbHVlT3JEZWZhdWx0IH0gPSBkcmF3aW5nLnV0aWw7XG5cbmV4cG9ydCB7IGFwcGVuZCwgYmluZEV2ZW50cywgQ2xhc3MsIGRlZmluZWQsIGRlZywgZWxlbWVudE9mZnNldCwgZWxlbWVudFNpemUsIGV2ZW50RWxlbWVudCwgZXZlbnRDb29yZGluYXRlcywgbGFzdCwgbGltaXRWYWx1ZSwgbG9nVG9Db25zb2xlLCBvYmplY3RLZXksIHJhZCwgcm91bmQsIHVuYmluZEV2ZW50cywgdmFsdWVPckRlZmF1bHQgfTsiLCJpbXBvcnQgeyBsb2dUb0NvbnNvbGUgfSBmcm9tICcuLi9kcmF3aW5nLXV0aWxzJztcblxuY2xhc3MgRm9udExvYWRlciB7XG4gICAgc3RhdGljIGZldGNoRm9udHMob3B0aW9ucywgZm9udHMsIHN0YXRlID0geyBkZXB0aDogMCB9KSB7XG4gICAgICAgIGNvbnN0IE1BWF9ERVBUSCA9IDU7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zIHx8IHN0YXRlLmRlcHRoID4gTUFYX0RFUFRIIHx8ICFkb2N1bWVudC5mb250cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJkYXRhU291cmNlXCIgfHwga2V5WzBdID09PSBcIiRcIiB8fCAhdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiZm9udFwiKSB7XG4gICAgICAgICAgICAgICAgZm9udHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHN0YXRlLmRlcHRoKys7XG4gICAgICAgICAgICAgICAgRm9udExvYWRlci5mZXRjaEZvbnRzKHZhbHVlLCBmb250cywgc3RhdGUpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRlcHRoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkRm9udHMoZm9udHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuXG4gICAgICAgIGlmIChmb250cy5sZW5ndGggPiAwICYmIGRvY3VtZW50LmZvbnRzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzID0gZm9udHMubWFwKGZ1bmN0aW9uKGZvbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmZvbnRzLmxvYWQoZm9udCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gU2lsZW5jZSBmb250LWxvYWRpbmcgZXJyb3JzXG4gICAgICAgICAgICAgICAgbG9nVG9Db25zb2xlKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihjYWxsYmFjaywgY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVsb2FkRm9udHMob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgZm9udHMgPSBbXTtcbiAgICAgICAgRm9udExvYWRlci5mZXRjaEZvbnRzKG9wdGlvbnMsIGZvbnRzKTtcblxuICAgICAgICBGb250TG9hZGVyLmxvYWRGb250cyhmb250cywgY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9udExvYWRlcjsiLCJpbXBvcnQgZGVlcEV4dGVuZCBmcm9tICcuL2RlZXAtZXh0ZW5kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0RGVmYXVsdE9wdGlvbnModHlwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHByb3RvID0gdHlwZS5wcm90b3R5cGU7XG4gICAgaWYgKHByb3RvLm9wdGlvbnMpIHtcbiAgICAgICAgcHJvdG8ub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHByb3RvLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3RvLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3BhcnNlQXJyYXlMaW1pdHMoYXJyKSB7XG4gICAgbGV0IG1pbiA9IE1BWF9WQUxVRTtcbiAgICBsZXQgbWF4ID0gTUlOX1ZBTFVFO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGFycltpZHhdO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHZhbHVlKTtcbiAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBtaW4gPT09IE1BWF9WQUxVRSA/IHVuZGVmaW5lZCA6IG1pbixcbiAgICAgICAgbWF4OiBtYXggPT09IE1JTl9WQUxVRSA/IHVuZGVmaW5lZCA6IG1heFxuICAgIH07XG59IiwiaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b01ham9yVW5pdChtaW4sIG1heCkge1xuICAgIGxldCBkaWZmID0gcm91bmQobWF4IC0gbWluLCBERUZBVUxUX1BSRUNJU0lPTiAtIDEpO1xuXG4gICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgaWYgKG1heCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDAuMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpZmYgPSBNYXRoLmFicyhtYXgpO1xuICAgIH1cblxuICAgIGNvbnN0IHNjYWxlID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoTWF0aC5sb2coZGlmZikgLyBNYXRoLmxvZygxMCkpKTtcbiAgICBjb25zdCByZWxhdGl2ZVZhbHVlID0gcm91bmQoKGRpZmYgLyBzY2FsZSksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICBsZXQgc2NhbGVNdWx0aXBsaWVyID0gMTtcblxuICAgIGlmIChyZWxhdGl2ZVZhbHVlIDwgMS45MDQ3NjIpIHtcbiAgICAgICAgc2NhbGVNdWx0aXBsaWVyID0gMC4yO1xuICAgIH0gZWxzZSBpZiAocmVsYXRpdmVWYWx1ZSA8IDQuNzYxOTA0KSB7XG4gICAgICAgIHNjYWxlTXVsdGlwbGllciA9IDAuNTtcbiAgICB9IGVsc2UgaWYgKHJlbGF0aXZlVmFsdWUgPCA5LjUyMzgwOSkge1xuICAgICAgICBzY2FsZU11bHRpcGxpZXIgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNjYWxlTXVsdGlwbGllciA9IDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJvdW5kKHNjYWxlICogc2NhbGVNdWx0aXBsaWVyLCBERUZBVUxUX1BSRUNJU0lPTik7XG59IiwiaW1wb3J0IHsgQ09PUkRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgcmFkLCByb3VuZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFBvaW50IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XG4gICAgICAgIHRoaXMueSA9IHkgfHwgMDtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuXG4gICAgZXF1YWxzKHBvaW50KSB7XG4gICAgICAgIHJldHVybiBwb2ludCAmJiB0aGlzLnggPT09IHBvaW50LnggJiYgdGhpcy55ID09PSBwb2ludC55O1xuICAgIH1cblxuICAgIHJvdGF0ZShjZW50ZXIsIGRlZ3JlZXMpIHtcbiAgICAgICAgY29uc3QgdGhldGEgPSByYWQoZGVncmVlcyk7XG4gICAgICAgIGNvbnN0IGNvc1QgPSBNYXRoLmNvcyh0aGV0YSk7XG4gICAgICAgIGNvbnN0IHNpblQgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIGNvbnN0IHsgeDogY3gsIHk6IGN5IH0gPSBjZW50ZXI7XG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcztcblxuICAgICAgICB0aGlzLnggPSByb3VuZChcbiAgICAgICAgICAgIGN4ICsgKHggLSBjeCkgKiBjb3NUICsgKHkgLSBjeSkgKiBzaW5ULFxuICAgICAgICAgICAgQ09PUkRfUFJFQ0lTSU9OXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy55ID0gcm91bmQoXG4gICAgICAgICAgICBjeSArICh5IC0gY3kpICogY29zVCAtICh4IC0gY3gpICogc2luVCxcbiAgICAgICAgICAgIENPT1JEX1BSRUNJU0lPTlxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG11bHRpcGx5KGEpIHtcblxuICAgICAgICB0aGlzLnggKj0gYTtcbiAgICAgICAgdGhpcy55ICo9IGE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VUbyhwb2ludCkge1xuICAgICAgICBjb25zdCBkeCA9IHRoaXMueCAtIHBvaW50Lng7XG4gICAgICAgIGNvbnN0IGR5ID0gdGhpcy55IC0gcG9pbnQueTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgb25DaXJjbGUoY2VudGVyLCBhbmdsZSwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IHJhZGlhbnMgPSByYWQoYW5nbGUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoXG4gICAgICAgICAgICBjZW50ZXIueCAtIHJhZGl1cyAqIE1hdGguY29zKHJhZGlhbnMpLFxuICAgICAgICAgICAgY2VudGVyLnkgLSByYWRpdXMgKiBNYXRoLnNpbihyYWRpYW5zKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBQb2ludDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5cbmltcG9ydCB7IFgsIFksIFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCwgQ0VOVEVSLCBXSURUSCwgSEVJR0hUIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVmaW5lZCwgZ2V0U3BhY2luZywgaW5BcnJheSwgaXNBcnJheSwgcmFkIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQm94IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy54MSA9IHgxIHx8IDA7XG4gICAgICAgIHRoaXMueTEgPSB5MSB8fCAwO1xuICAgICAgICB0aGlzLngyID0geDIgfHwgMDtcbiAgICAgICAgdGhpcy55MiA9IHkyIHx8IDA7XG4gICAgfVxuXG4gICAgZXF1YWxzKGJveCkge1xuICAgICAgICByZXR1cm4gdGhpcy54MSA9PT0gYm94LngxICYmIHRoaXMueDIgPT09IGJveC54MiAmJlxuICAgICAgICAgICAgdGhpcy55MSA9PT0gYm94LnkxICYmIHRoaXMueTIgPT09IGJveC55MjtcbiAgICB9XG5cbiAgICB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueDIgLSB0aGlzLngxO1xuICAgIH1cblxuICAgIGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueTIgLSB0aGlzLnkxO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZShkeCwgZHkpIHtcbiAgICAgICAgdGhpcy54MSArPSBkeDtcbiAgICAgICAgdGhpcy54MiArPSBkeDtcbiAgICAgICAgdGhpcy55MSArPSBkeTtcbiAgICAgICAgdGhpcy55MiArPSBkeTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtb3ZlKHgsIHkpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoKCk7XG5cbiAgICAgICAgaWYgKGRlZmluZWQoeCkpIHtcbiAgICAgICAgICAgIHRoaXMueDEgPSB4O1xuICAgICAgICAgICAgdGhpcy54MiA9IHRoaXMueDEgKyB3aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZpbmVkKHkpKSB7XG4gICAgICAgICAgICB0aGlzLnkxID0geTtcbiAgICAgICAgICAgIHRoaXMueTIgPSB0aGlzLnkxICsgaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgd3JhcCh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy54MSA9IE1hdGgubWluKHRoaXMueDEsIHRhcmdldEJveC54MSk7XG4gICAgICAgIHRoaXMueTEgPSBNYXRoLm1pbih0aGlzLnkxLCB0YXJnZXRCb3gueTEpO1xuICAgICAgICB0aGlzLngyID0gTWF0aC5tYXgodGhpcy54MiwgdGFyZ2V0Qm94LngyKTtcbiAgICAgICAgdGhpcy55MiA9IE1hdGgubWF4KHRoaXMueTIsIHRhcmdldEJveC55Mik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgd3JhcFBvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGFycmF5UG9pbnQgPSBpc0FycmF5KHBvaW50KTtcbiAgICAgICAgY29uc3QgeCA9IGFycmF5UG9pbnQgPyBwb2ludFswXSA6IHBvaW50Lng7XG4gICAgICAgIGNvbnN0IHkgPSBhcnJheVBvaW50ID8gcG9pbnRbMV0gOiBwb2ludC55O1xuICAgICAgICB0aGlzLndyYXAobmV3IEJveCh4LCB5LCB4LCB5KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc25hcFRvKHRhcmdldEJveCwgYXhpcykge1xuXG4gICAgICAgIGlmIChheGlzID09PSBYIHx8ICFheGlzKSB7XG4gICAgICAgICAgICB0aGlzLngxID0gdGFyZ2V0Qm94LngxO1xuICAgICAgICAgICAgdGhpcy54MiA9IHRhcmdldEJveC54MjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzID09PSBZIHx8ICFheGlzKSB7XG4gICAgICAgICAgICB0aGlzLnkxID0gdGFyZ2V0Qm94LnkxO1xuICAgICAgICAgICAgdGhpcy55MiA9IHRhcmdldEJveC55MjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFsaWduVG8odGFyZ2V0Qm94LCBhbmNob3IpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoKCk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBhbmNob3IgPT09IFRPUCB8fCBhbmNob3IgPT09IEJPVFRPTSA/IFkgOiBYO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBheGlzID09PSBZID8gaGVpZ2h0IDogd2lkdGg7XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRDZW50ZXIgPSB0YXJnZXRCb3guY2VudGVyKCk7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcigpO1xuXG4gICAgICAgICAgICB0aGlzLngxICs9IHRhcmdldENlbnRlci54IC0gY2VudGVyLng7XG4gICAgICAgICAgICB0aGlzLnkxICs9IHRhcmdldENlbnRlci55IC0gY2VudGVyLnk7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5jaG9yID09PSBUT1AgfHwgYW5jaG9yID09PSBMRUZUKSB7XG4gICAgICAgICAgICB0aGlzW2F4aXMgKyAxXSA9IHRhcmdldEJveFtheGlzICsgMV0gLSBvZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW2F4aXMgKyAxXSA9IHRhcmdldEJveFtheGlzICsgMl07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLngyID0gdGhpcy54MSArIHdpZHRoO1xuICAgICAgICB0aGlzLnkyID0gdGhpcy55MSArIGhlaWdodDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzaHJpbmsoZHcsIGRoKSB7XG5cbiAgICAgICAgdGhpcy54MiAtPSBkdztcbiAgICAgICAgdGhpcy55MiAtPSBkaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBleHBhbmQoZHcsIGRoKSB7XG4gICAgICAgIHRoaXMuc2hyaW5rKC1kdywgLWRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcGFkKHBhZGRpbmcpIHtcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IGdldFNwYWNpbmcocGFkZGluZyk7XG5cbiAgICAgICAgdGhpcy54MSAtPSBzcGFjaW5nLmxlZnQ7XG4gICAgICAgIHRoaXMueDIgKz0gc3BhY2luZy5yaWdodDtcbiAgICAgICAgdGhpcy55MSAtPSBzcGFjaW5nLnRvcDtcbiAgICAgICAgdGhpcy55MiArPSBzcGFjaW5nLmJvdHRvbTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB1bnBhZChwYWRkaW5nKSB7XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSBnZXRTcGFjaW5nKHBhZGRpbmcpO1xuXG4gICAgICAgIHNwYWNpbmcubGVmdCA9IC1zcGFjaW5nLmxlZnQ7XG4gICAgICAgIHNwYWNpbmcudG9wID0gLXNwYWNpbmcudG9wO1xuICAgICAgICBzcGFjaW5nLnJpZ2h0ID0gLXNwYWNpbmcucmlnaHQ7XG4gICAgICAgIHNwYWNpbmcuYm90dG9tID0gLXNwYWNpbmcuYm90dG9tO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBhZChzcGFjaW5nKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3godGhpcy54MSwgdGhpcy55MSwgdGhpcy54MiwgdGhpcy55Mik7XG4gICAgfVxuXG4gICAgY2VudGVyKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KFxuICAgICAgICAgICAgdGhpcy54MSArIHRoaXMud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICB0aGlzLnkxICsgdGhpcy5oZWlnaHQoKSAvIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50KSB7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50LnggPj0gdGhpcy54MSAmJiBwb2ludC54IDw9IHRoaXMueDIgJiZcbiAgICAgICAgICAgICAgIHBvaW50LnkgPj0gdGhpcy55MSAmJiBwb2ludC55IDw9IHRoaXMueTI7XG4gICAgfVxuXG4gICAgcG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMueDEsIHRoaXMueTEpLFxuICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMueDIsIHRoaXMueTEpLFxuICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMueDIsIHRoaXMueTIpLFxuICAgICAgICAgICAgbmV3IFBvaW50KHRoaXMueDEsIHRoaXMueTIpXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0SGFzaCgpIHtcbiAgICAgICAgcmV0dXJuIFsgdGhpcy54MSwgdGhpcy55MSwgdGhpcy54MiwgdGhpcy55MiBdLmpvaW4oXCIsXCIpO1xuICAgIH1cblxuICAgIG92ZXJsYXBzKGJveCkge1xuICAgICAgICByZXR1cm4gIShib3gueTIgPCB0aGlzLnkxIHx8IHRoaXMueTIgPCBib3gueTEgfHwgYm94LngyIDwgdGhpcy54MSB8fCB0aGlzLngyIDwgYm94LngxKTtcbiAgICB9XG5cbiAgICByb3RhdGUocm90YXRpb24pIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGhpcy53aWR0aCgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGhpcy5oZWlnaHQoKTtcbiAgICAgICAgY29uc3QgeyB4OiBjeCwgeTogY3kgfSA9IHRoaXMuY2VudGVyKCk7XG5cbiAgICAgICAgY29uc3QgcjEgPSByb3RhdGVQb2ludCgwLCAwLCBjeCwgY3ksIHJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcjIgPSByb3RhdGVQb2ludCh3aWR0aCwgMCwgY3gsIGN5LCByb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHIzID0gcm90YXRlUG9pbnQod2lkdGgsIGhlaWdodCwgY3gsIGN5LCByb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IHI0ID0gcm90YXRlUG9pbnQoMCwgaGVpZ2h0LCBjeCwgY3ksIHJvdGF0aW9uKTtcblxuICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHIxLngsIHIyLngsIHIzLngsIHI0LngpIC0gTWF0aC5taW4ocjEueCwgcjIueCwgcjMueCwgcjQueCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGgubWF4KHIxLnksIHIyLnksIHIzLnksIHI0LnkpIC0gTWF0aC5taW4ocjEueSwgcjIueSwgcjMueSwgcjQueSk7XG5cbiAgICAgICAgdGhpcy54MiA9IHRoaXMueDEgKyB3aWR0aDtcbiAgICAgICAgdGhpcy55MiA9IHRoaXMueTEgKyBoZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9SZWN0KCkge1xuICAgICAgICByZXR1cm4gbmV3IGdlb20uUmVjdChbIHRoaXMueDEsIHRoaXMueTEgXSwgWyB0aGlzLndpZHRoKCksIHRoaXMuaGVpZ2h0KCkgXSk7XG4gICAgfVxuXG4gICAgaGFzU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGgoKSAhPT0gMCAmJiB0aGlzLmhlaWdodCgpICE9PSAwO1xuICAgIH1cblxuICAgIGFsaWduKHRhcmdldEJveCwgYXhpcywgYWxpZ25tZW50KSB7XG4gICAgICAgIGNvbnN0IGMxID0gYXhpcyArIDE7XG4gICAgICAgIGNvbnN0IGMyID0gYXhpcyArIDI7XG4gICAgICAgIGNvbnN0IHNpemVGdW5jID0gYXhpcyA9PT0gWCA/IFdJRFRIIDogSEVJR0hUO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpc1tzaXplRnVuY10oKTtcblxuICAgICAgICBpZiAoaW5BcnJheShhbGlnbm1lbnQsIFsgTEVGVCwgVE9QIF0pKSB7XG4gICAgICAgICAgICB0aGlzW2MxXSA9IHRhcmdldEJveFtjMV07XG4gICAgICAgICAgICB0aGlzW2MyXSA9IHRoaXNbYzFdICsgc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpbkFycmF5KGFsaWdubWVudCwgWyBSSUdIVCwgQk9UVE9NIF0pKSB7XG4gICAgICAgICAgICB0aGlzW2MyXSA9IHRhcmdldEJveFtjMl07XG4gICAgICAgICAgICB0aGlzW2MxXSA9IHRoaXNbYzJdIC0gc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbGlnbm1lbnQgPT09IENFTlRFUikge1xuICAgICAgICAgICAgdGhpc1tjMV0gPSB0YXJnZXRCb3hbYzFdICsgKHRhcmdldEJveFtzaXplRnVuY10oKSAtIHNpemUpIC8gMjtcbiAgICAgICAgICAgIHRoaXNbYzJdID0gdGhpc1tjMV0gKyBzaXplO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiByb3RhdGVQb2ludCh4LCB5LCBjeCwgY3ksIGFuZ2xlKSB7XG4gICAgY29uc3QgdGhldGEgPSByYWQoYW5nbGUpO1xuXG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgY3ggKyAoeCAtIGN4KSAqIE1hdGguY29zKHRoZXRhKSArICh5IC0gY3kpICogTWF0aC5zaW4odGhldGEpLFxuICAgICAgICBjeSAtICh4IC0gY3gpICogTWF0aC5zaW4odGhldGEpICsgKHkgLSBjeSkgKiBNYXRoLmNvcyh0aGV0YSlcbiAgICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBCb3g7XG4iLCJpbXBvcnQgQm94IGZyb20gJy4vYm94JztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiwgTUFYX1ZBTFVFLCBNSU5fVkFMVUUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBjbG9ja3dpc2UsIHJhZCwgcm91bmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSaW5nIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoY2VudGVyLCBpbm5lclJhZGl1cywgcmFkaXVzLCBzdGFydEFuZ2xlLCBhbmdsZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyO1xuICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXM7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSBzdGFydEFuZ2xlO1xuICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmluZyh0aGlzLmNlbnRlciwgdGhpcy5pbm5lclJhZGl1cywgdGhpcy5yYWRpdXMsIHRoaXMuc3RhcnRBbmdsZSwgdGhpcy5hbmdsZSk7XG4gICAgfVxuXG4gICAgbWlkZGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydEFuZ2xlICsgdGhpcy5hbmdsZSAvIDI7XG4gICAgfVxuXG4gICAgc2V0UmFkaXVzKG5ld1JhZGl1cywgaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgaWYgKGlubmVyUmFkaXVzKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gbmV3UmFkaXVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSBuZXdSYWRpdXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBSZW1vdmUgYW5kIHJlcGxhY2Ugd2l0aCBQb2ludC5vbkNpcmNsZVxuICAgIHBvaW50KGFuZ2xlLCBpbm5lclJhZGl1cykge1xuICAgICAgICBjb25zdCByYWRpYW5BbmdsZSA9IHJhZChhbmdsZSk7XG4gICAgICAgIGNvbnN0IGF4ID0gTWF0aC5jb3MocmFkaWFuQW5nbGUpO1xuICAgICAgICBjb25zdCBheSA9IE1hdGguc2luKHJhZGlhbkFuZ2xlKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gaW5uZXJSYWRpdXMgPyB0aGlzLmlubmVyUmFkaXVzIDogdGhpcy5yYWRpdXM7XG4gICAgICAgIGNvbnN0IHggPSByb3VuZCh0aGlzLmNlbnRlci54IC0gKGF4ICogcmFkaXVzKSwgQ09PUkRfUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgeSA9IHJvdW5kKHRoaXMuY2VudGVyLnkgLSAoYXkgKiByYWRpdXMpLCBDT09SRF9QUkVDSVNJT04pO1xuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCwgeSk7XG4gICAgfVxuXG4gICAgYWRqYWNlbnRCb3goZGlzdGFuY2UsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3Qgc2VjdG9yID0gdGhpcy5jbG9uZSgpLmV4cGFuZChkaXN0YW5jZSk7XG4gICAgICAgIGNvbnN0IG1pZEFuZGxlID0gc2VjdG9yLm1pZGRsZSgpO1xuICAgICAgICBjb25zdCBtaWRQb2ludCA9IHNlY3Rvci5wb2ludChtaWRBbmRsZSk7XG4gICAgICAgIGNvbnN0IGh3ID0gd2lkdGggLyAyO1xuICAgICAgICBjb25zdCBoaCA9IGhlaWdodCAvIDI7XG4gICAgICAgIGNvbnN0IHNhID0gTWF0aC5zaW4ocmFkKG1pZEFuZGxlKSk7XG4gICAgICAgIGNvbnN0IGNhID0gTWF0aC5jb3MocmFkKG1pZEFuZGxlKSk7XG4gICAgICAgIGxldCB4ID0gbWlkUG9pbnQueCAtIGh3O1xuICAgICAgICBsZXQgeSA9IG1pZFBvaW50LnkgLSBoaDtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoc2EpIDwgMC45KSB7XG4gICAgICAgICAgICB4ICs9IGh3ICogLWNhIC8gTWF0aC5hYnMoY2EpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGNhKSA8IDAuOSkge1xuICAgICAgICAgICAgeSArPSBoaCAqIC1zYSAvIE1hdGguYWJzKHNhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQm94KHgsIHksIHggKyB3aWR0aCwgeSArIGhlaWdodCk7XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludChwKSB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IHRoaXMuaW5uZXJSYWRpdXM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHRoaXMuc3RhcnRBbmdsZSArIHRoaXMuYW5nbGU7XG4gICAgICAgIGNvbnN0IGR4ID0gcC54IC0gY2VudGVyLng7XG4gICAgICAgIGNvbnN0IGR5ID0gcC55IC0gY2VudGVyLnk7XG4gICAgICAgIGNvbnN0IHZlY3RvciA9IG5ldyBQb2ludChkeCwgZHkpO1xuICAgICAgICBjb25zdCBzdGFydFBvaW50ID0gdGhpcy5wb2ludChzdGFydEFuZ2xlKTtcbiAgICAgICAgY29uc3Qgc3RhcnRWZWN0b3IgPSBuZXcgUG9pbnQoc3RhcnRQb2ludC54IC0gY2VudGVyLngsIHN0YXJ0UG9pbnQueSAtIGNlbnRlci55KTtcbiAgICAgICAgY29uc3QgZW5kUG9pbnQgPSB0aGlzLnBvaW50KGVuZEFuZ2xlKTtcbiAgICAgICAgY29uc3QgZW5kVmVjdG9yID0gbmV3IFBvaW50KGVuZFBvaW50LnggLSBjZW50ZXIueCwgZW5kUG9pbnQueSAtIGNlbnRlci55KTtcbiAgICAgICAgY29uc3QgZGlzdCA9IHJvdW5kKGR4ICogZHggKyBkeSAqIGR5LCBDT09SRF9QUkVDSVNJT04pO1xuXG4gICAgICAgIHJldHVybiAoc3RhcnRWZWN0b3IuZXF1YWxzKHZlY3RvcikgfHwgY2xvY2t3aXNlKHN0YXJ0VmVjdG9yLCB2ZWN0b3IpKSAmJlxuICAgICAgICAgICAgICAgIWNsb2Nrd2lzZShlbmRWZWN0b3IsIHZlY3RvcikgJiZcbiAgICAgICAgICAgICAgIGRpc3QgPj0gaW5uZXJSYWRpdXMgKiBpbm5lclJhZGl1cyAmJiBkaXN0IDw9IHJhZGl1cyAqIHJhZGl1cztcbiAgICB9XG5cbiAgICBnZXRCQm94KCkge1xuICAgICAgICBjb25zdCBib3ggPSBuZXcgQm94KE1BWF9WQUxVRSwgTUFYX1ZBTFVFLCBNSU5fVkFMVUUsIE1JTl9WQUxVRSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSByb3VuZCh0aGlzLnN0YXJ0QW5nbGUgJSAzNjApO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHJvdW5kKChzdGFydEFuZ2xlICsgdGhpcy5hbmdsZSkgJSAzNjApO1xuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IHRoaXMuaW5uZXJSYWRpdXM7XG4gICAgICAgIGNvbnN0IGFsbEFuZ2xlcyA9IFsgMCwgOTAsIDE4MCwgMjcwLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSBdLnNvcnQobnVtZXJpY0NvbXBhcmVyKTtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZUluZGV4ID0gYWxsQW5nbGVzLmluZGV4T2Yoc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlSW5kZXggPSBhbGxBbmdsZXMuaW5kZXhPZihlbmRBbmdsZSk7XG4gICAgICAgIGxldCBhbmdsZXM7XG5cbiAgICAgICAgaWYgKHN0YXJ0QW5nbGUgPT09IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBhbmdsZXMgPSBhbGxBbmdsZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc3RhcnRBbmdsZUluZGV4IDwgZW5kQW5nbGVJbmRleCkge1xuICAgICAgICAgICAgICAgIGFuZ2xlcyA9IGFsbEFuZ2xlcy5zbGljZShzdGFydEFuZ2xlSW5kZXgsIGVuZEFuZ2xlSW5kZXggKyAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5nbGVzID0gW10uY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBhbGxBbmdsZXMuc2xpY2UoMCwgZW5kQW5nbGVJbmRleCArIDEpLFxuICAgICAgICAgICAgICAgICAgICBhbGxBbmdsZXMuc2xpY2Uoc3RhcnRBbmdsZUluZGV4LCBhbGxBbmdsZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gdGhpcy5wb2ludChhbmdsZXNbaV0pO1xuICAgICAgICAgICAgYm94LndyYXBQb2ludChwb2ludCk7XG4gICAgICAgICAgICBib3gud3JhcFBvaW50KHBvaW50LCBpbm5lclJhZGl1cyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlubmVyUmFkaXVzKSB7XG4gICAgICAgICAgICBib3gud3JhcFBvaW50KHRoaXMuY2VudGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxuXG4gICAgZXhwYW5kKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucmFkaXVzICs9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG51bWVyaWNDb21wYXJlcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgLSBiO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSaW5nOyIsImltcG9ydCBSaW5nIGZyb20gJy4vcmluZyc7XG5cbmNsYXNzIFNlY3RvciBleHRlbmRzIFJpbmcge1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlciwgcmFkaXVzLCBzdGFydEFuZ2xlLCBhbmdsZSkge1xuICAgICAgICBzdXBlcihjZW50ZXIsIDAsIHJhZGl1cywgc3RhcnRBbmdsZSwgYW5nbGUpO1xuICAgIH1cblxuICAgIGV4cGFuZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZXhwYW5kKHZhbHVlKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN0b3IodGhpcy5jZW50ZXIsIHRoaXMucmFkaXVzLCB0aGlzLnN0YXJ0QW5nbGUsIHRoaXMuYW5nbGUpO1xuICAgIH1cblxuICAgIHNldFJhZGl1cyhuZXdSYWRpdXMpIHtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBuZXdSYWRpdXM7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWN0b3I7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSwgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBESVJFQ1RJT05fQU5HTEUgPSAwLjAwMTsgLy9hbnkgdmFsdWUgdGhhdCB3aWxsIG1ha2UgdGhlIGVuZEFuZ2xlIGJpZ2dlciB0aGFuIHRoZSBzdGFydCBhbmdsZSB3aWxsIHdvcmsgaGVyZS5cblxuY2xhc3MgU2hhcGVCdWlsZGVyIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBzZWN0b3Iuc3RhcnRBbmdsZSArIDE4MDtcbiAgICAgICAgbGV0IGVuZEFuZ2xlID0gc2VjdG9yLmFuZ2xlICsgc3RhcnRBbmdsZTtcblxuICAgICAgICAvL3JlcXVpcmVkIGluIG9yZGVyIHRvIGF2b2lkIHJldmVyc2luZyB0aGUgYXJjIGRpcmVjdGlvbiBpbiBjYXNlcyBsaWtlIDAuMDAwMDAwMDAwMDAwMDAxICsgMTAwID09PSAxMDBcbiAgICAgICAgaWYgKHNlY3Rvci5hbmdsZSA+IDAgJiYgc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IERJUkVDVElPTl9BTkdMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5tYXgoc2VjdG9yLnJhZGl1cywgMCk7XG4gICAgICAgIGNvbnN0IGlubmVyUmFkaXVzID0gTWF0aC5tYXgoc2VjdG9yLmlubmVyUmFkaXVzLCAwKTtcbiAgICAgICAgY29uc3QgYXJjID0gbmV3IGdlb20uQXJjKGNlbnRlciwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIHJhZGl1c1g6IHJhZGl1cyxcbiAgICAgICAgICAgIHJhZGl1c1k6IHJhZGl1c1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tQXJjKGFyYywgb3B0aW9ucykuY2xvc2UoKTtcblxuICAgICAgICBpZiAoaW5uZXJSYWRpdXMpIHtcbiAgICAgICAgICAgIGFyYy5yYWRpdXNYID0gYXJjLnJhZGl1c1kgPSBpbm5lclJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGlubmVyRW5kID0gYXJjLnBvaW50QXQoZW5kQW5nbGUpO1xuICAgICAgICAgICAgcGF0aC5saW5lVG8oaW5uZXJFbmQueCwgaW5uZXJFbmQueSk7XG4gICAgICAgICAgICBwYXRoLmFyYyhlbmRBbmdsZSwgc3RhcnRBbmdsZSwgaW5uZXJSYWRpdXMsIGlubmVyUmFkaXVzLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGgubGluZVRvKGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG59XG5cblNoYXBlQnVpbGRlci5jdXJyZW50ID0gbmV3IFNoYXBlQnVpbGRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBTaGFwZUJ1aWxkZXI7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBXSElURSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQsIGRlZmluZWQsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQ2hhcnRFbGVtZW50IGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB0aGlzLmluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGxldCBib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY3VycmVudENoaWxkLnJlZmxvdyh0YXJnZXRCb3gpO1xuXG4gICAgICAgICAgICBib3ggPSBib3ggPyBib3gud3JhcChjdXJyZW50Q2hpbGQuYm94KSA6IGN1cnJlbnRDaGlsZC5ib3guY2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm94ID0gYm94IHx8IHRhcmdldEJveDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG5cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRSb290KCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICByZXR1cm4gcGFyZW50ID8gcGFyZW50LmdldFJvb3QoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U2VuZGVyKCkge1xuICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5nZXRTZXJ2aWNlKCk7XG4gICAgICAgIGlmIChzZXJ2aWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZS5zZW5kZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZXJ2aWNlKCkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jaGFydFNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jaGFydFNlcnZpY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmFuc2xhdGVDaGlsZHJlbihkeCwgZHkpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZHJlbltpXS5ib3gudHJhbnNsYXRlKGR4LCBkeSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmQoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGl0ZW0ucGFyZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICB0aGlzLnJlbmRlckNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgYWRkVmlzdWFsKCkge1xuICAgICAgICBpZiAodGhpcy52aXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmNoYXJ0RWxlbWVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmFwcGVuZFZpc3VhbCh0aGlzLnZpc3VhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgIHpJbmRleDogdGhpcy5vcHRpb25zLnpJbmRleCxcbiAgICAgICAgICAgIHZpc2libGU6IHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy52aXNpYmxlLCB0cnVlKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnZpc3VhbCAmJiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IGRyYXcuQW5pbWF0aW9uLmNyZWF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbCwgdGhpcy5vcHRpb25zLmFuaW1hdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZFZpc3VhbChjaGlsZFZpc3VhbCkge1xuICAgICAgICBpZiAoIWNoaWxkVmlzdWFsLmNoYXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgY2hpbGRWaXN1YWwuY2hhcnRFbGVtZW50ID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZFZpc3VhbC5vcHRpb25zLm5vY2xpcCkge1xuICAgICAgICAgICAgdGhpcy5jbGlwUm9vdCgpLnZpc3VhbC5hcHBlbmQoY2hpbGRWaXN1YWwpO1xuICAgICAgICB9IGVsc2UgaWYgKGRlZmluZWQoY2hpbGRWaXN1YWwub3B0aW9ucy56SW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrUm9vdCgpLnN0YWNrVmlzdWFsKGNoaWxkVmlzdWFsKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzU3RhY2tSb290KSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrVmlzdWFsKGNoaWxkVmlzdWFsKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGNoaWxkVmlzdWFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFsbG93IGNoYXJ0IGVsZW1lbnRzIHdpdGhvdXQgdmlzdWFscyB0b1xuICAgICAgICAgICAgLy8gcGFzcyB0aHJvdWdoIGNoaWxkIHZpc3VhbHNcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmFwcGVuZFZpc3VhbChjaGlsZFZpc3VhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGlwUm9vdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2xpcFJvb3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YWNrUm9vdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuc3RhY2tSb290KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFja1Zpc3VhbChjaGlsZFZpc3VhbCkge1xuICAgICAgICBjb25zdCB6SW5kZXggPSBjaGlsZFZpc3VhbC5vcHRpb25zLnpJbmRleCB8fCAwO1xuICAgICAgICBjb25zdCB2aXN1YWxzID0gdGhpcy52aXN1YWwuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZpc3VhbHMubGVuZ3RoO1xuICAgICAgICBsZXQgcG9zO1xuXG4gICAgICAgIGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykge1xuICAgICAgICAgICAgbGV0IHNpYmxpbmcgPSB2aXN1YWxzW3Bvc107XG4gICAgICAgICAgICBsZXQgaGVyZSA9IHZhbHVlT3JEZWZhdWx0KHNpYmxpbmcub3B0aW9ucy56SW5kZXgsIDApO1xuICAgICAgICAgICAgaWYgKGhlcmUgPiB6SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsLmluc2VydChwb3MsIGNoaWxkVmlzdWFsKTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZShjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgY2FsbGJhY2soY2hpbGQpO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudHJhdmVyc2UoY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2VzdChtYXRjaCkge1xuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGxldCBtYXRjaGVkID0gZmFsc2U7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnQgJiYgIW1hdGNoZWQpIHtcbiAgICAgICAgICAgIG1hdGNoZWQgPSBtYXRjaChlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKCFtYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQ29tcGxldGUoKSB7fVxuXG4gICAgaGFzSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gKHRoaXMub3B0aW9ucyB8fCB7fSkuaGlnaGxpZ2h0O1xuICAgICAgICByZXR1cm4gISghdGhpcy5jcmVhdGVIaWdobGlnaHQgfHwgKG9wdGlvbnMgJiYgb3B0aW9ucy52aXNpYmxlID09PSBmYWxzZSkpO1xuICAgIH1cblxuICAgIHRvZ2dsZUhpZ2hsaWdodChzaG93KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAodGhpcy5vcHRpb25zIHx8IHt9KS5oaWdobGlnaHQgfHwge307XG4gICAgICAgIGNvbnN0IGN1c3RvbVZpc3VhbCA9IG9wdGlvbnMudmlzdWFsO1xuICAgICAgICBsZXQgaGlnaGxpZ2h0ID0gdGhpcy5faGlnaGxpZ2h0O1xuXG4gICAgICAgIGlmICghaGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBoaWdobGlnaHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gdGhpcy5faGlnaGxpZ2h0ID0gY3VzdG9tVmlzdWFsKFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaGlnaGxpZ2h0VmlzdWFsQXJncygpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHRoaXMuY3JlYXRlSGlnaGxpZ2h0KGhpZ2hsaWdodE9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQgPSB0aGlzLl9oaWdobGlnaHQgPSB0aGlzLmNyZWF0ZUhpZ2hsaWdodChoaWdobGlnaHRPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkZWZpbmVkKGhpZ2hsaWdodC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBoaWdobGlnaHQub3B0aW9ucy56SW5kZXggPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnpJbmRleCwgdGhpcy5vcHRpb25zLnpJbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGhpZ2hsaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBoaWdobGlnaHQudmlzaWJsZShzaG93KTtcbiAgICB9XG5cbiAgICBjcmVhdGVHcmFkaWVudE92ZXJsYXkoZWxlbWVudCwgb3B0aW9ucywgZ3JhZGllbnRPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgZHJhdy5QYXRoKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwibm9uZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDogdGhpcy5jcmVhdGVHcmFkaWVudChncmFkaWVudE9wdGlvbnMpLFxuICAgICAgICAgICAgY2xvc2VkOiBlbGVtZW50Lm9wdGlvbnMuY2xvc2VkXG4gICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICBvdmVybGF5LnNlZ21lbnRzLmVsZW1lbnRzKGVsZW1lbnQuc2VnbWVudHMuZWxlbWVudHMoKSk7XG5cbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JhZGllbnQob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jcmVhdGVHcmFkaWVudChvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuQ2hhcnRFbGVtZW50LnByb3RvdHlwZS5vcHRpb25zID0geyB9O1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydEVsZW1lbnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgQkxBQ0ssIExFRlQsIFRPUCwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0U3BhY2luZywgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQm94RWxlbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMubWFyZ2luID0gZ2V0U3BhY2luZyh0aGlzLm9wdGlvbnMubWFyZ2luKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnBhZGRpbmcgPSBnZXRTcGFjaW5nKHRoaXMub3B0aW9ucy5wYWRkaW5nKTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgc2hyaW5rVG9GaXQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGhhc1NldFNpemUgPSB3aWR0aCAmJiBoZWlnaHQ7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IG9wdGlvbnMubWFyZ2luO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICBjb25zdCBib3JkZXJXaWR0aCA9IG9wdGlvbnMuYm9yZGVyLndpZHRoO1xuICAgICAgICBsZXQgYm94O1xuXG4gICAgICAgIGNvbnN0IHJlZmxvd1BhZGRpbmdCb3ggPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFsaWduKHRhcmdldEJveCwgWCwgb3B0aW9ucy5hbGlnbik7XG4gICAgICAgICAgICB0aGlzLmFsaWduKHRhcmdldEJveCwgWSwgb3B0aW9ucy52QWxpZ24pO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm94ID0gYm94LmNsb25lKCkudW5wYWQobWFyZ2luKS51bnBhZChib3JkZXJXaWR0aCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNvbnRlbnRCb3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgaWYgKGhhc1NldFNpemUpIHtcbiAgICAgICAgICAgIGNvbnRlbnRCb3gueDIgPSBjb250ZW50Qm94LngxICsgd2lkdGg7XG4gICAgICAgICAgICBjb250ZW50Qm94LnkyID0gY29udGVudEJveC55MSArIGhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaHJpbmtUb0ZpdCkge1xuICAgICAgICAgICAgY29udGVudEJveC51bnBhZChtYXJnaW4pLnVucGFkKGJvcmRlcldpZHRoKS51bnBhZChwYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlZmxvdyhjb250ZW50Qm94KTtcblxuICAgICAgICBpZiAoaGFzU2V0U2l6ZSkge1xuICAgICAgICAgICAgYm94ID0gdGhpcy5ib3ggPSBuZXcgQm94KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hyaW5rVG9GaXQgJiYgaGFzU2V0U2l6ZSkge1xuICAgICAgICAgICAgcmVmbG93UGFkZGluZ0JveCgpO1xuICAgICAgICAgICAgY29udGVudEJveCA9IHRoaXMuY29udGVudEJveCA9IHRoaXMucGFkZGluZ0JveC5jbG9uZSgpLnVucGFkKHBhZGRpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGVudEJveCA9IHRoaXMuY29udGVudEJveCA9IGJveC5jbG9uZSgpO1xuICAgICAgICAgICAgYm94LnBhZChwYWRkaW5nKS5wYWQoYm9yZGVyV2lkdGgpLnBhZChtYXJnaW4pO1xuICAgICAgICAgICAgcmVmbG93UGFkZGluZ0JveCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50cmFuc2xhdGVDaGlsZHJlbihcbiAgICAgICAgICAgIGJveC54MSAtIGNvbnRlbnRCb3gueDEgKyBtYXJnaW4ubGVmdCArIGJvcmRlcldpZHRoICsgcGFkZGluZy5sZWZ0LFxuICAgICAgICAgICAgYm94LnkxIC0gY29udGVudEJveC55MSArIG1hcmdpbi50b3AgKyBib3JkZXJXaWR0aCArIHBhZGRpbmcudG9wXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaXRlbS5yZWZsb3coaXRlbS5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWxpZ24odGFyZ2V0Qm94LCBheGlzLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgdGhpcy5ib3guYWxpZ24odGFyZ2V0Qm94LCBheGlzLCBhbGlnbm1lbnQpO1xuICAgIH1cblxuICAgIGhhc0JveCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYm9yZGVyLndpZHRoIHx8IG9wdGlvbnMuYmFja2dyb3VuZDtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUgJiYgdGhpcy5oYXNCb3goKSkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGRyYXcuUGF0aC5mcm9tUmVjdChcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3gudG9SZWN0KCksXG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxTdHlsZSgpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpc3VhbFN0eWxlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlciB8fCB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHZhbHVlT3JEZWZhdWx0KGJvcmRlci5vcGFjaXR5LCBvcHRpb25zLm9wYWNpdHkpLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJzb3I6IG9wdGlvbnMuY3Vyc29yXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCb3hFbGVtZW50LCB7XG4gICAgYWxpZ246IExFRlQsXG4gICAgdkFsaWduOiBUT1AsXG4gICAgbWFyZ2luOiB7fSxcbiAgICBwYWRkaW5nOiB7fSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgYmFja2dyb3VuZDogXCJcIixcbiAgICBzaHJpbmtUb0ZpdDogZmFsc2UsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHZpc2libGU6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCb3hFbGVtZW50OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEJveEVsZW1lbnQgZnJvbSAnLi9ib3gtZWxlbWVudCc7XG5cbmltcG9ydCB7IENJUkNMRSwgVFJJQU5HTEUsIENST1NTLCBDRU5URVIsIENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgU2hhcGVFbGVtZW50IGV4dGVuZHMgQm94RWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwb2ludERhdGEpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wb2ludERhdGEgPSBwb2ludERhdGE7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwYWRkaW5nQm94OiBib3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcm90YXRpb24gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gYm94LndpZHRoKCkgLyAyO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy52aXNpYmxlIHx8ICF0aGlzLmhhc0JveCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy52aXN1YWxTdHlsZSgpO1xuICAgICAgICBsZXQgZWxlbWVudDtcblxuICAgICAgICBpZiAodHlwZSA9PT0gQ0lSQ0xFKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbmV3IGRyYXcuQ2lyY2xlKFxuICAgICAgICAgICAgICAgIG5ldyBnZW9tLkNpcmNsZShbXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kKGJveC54MSArIGhhbGZXaWR0aCwgQ09PUkRfUFJFQ0lTSU9OKSxcbiAgICAgICAgICAgICAgICAgICAgcm91bmQoYm94LnkxICsgYm94LmhlaWdodCgpIC8gMiwgQ09PUkRfUFJFQ0lTSU9OKVxuICAgICAgICAgICAgICAgIF0sIGhhbGZXaWR0aCksXG4gICAgICAgICAgICAgICAgc3R5bGVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gVFJJQU5HTEUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkcmF3LlBhdGguZnJvbVBvaW50cyhbXG4gICAgICAgICAgICAgICAgWyBib3gueDEgKyBoYWxmV2lkdGgsIGJveC55MSBdLFxuICAgICAgICAgICAgICAgIFsgYm94LngxLCBib3gueTIgXSxcbiAgICAgICAgICAgICAgICBbIGJveC54MiwgYm94LnkyIF1cbiAgICAgICAgICAgIF0sIHN0eWxlKS5jbG9zZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IENST1NTKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbmV3IGRyYXcuTXVsdGlQYXRoKHN0eWxlKTtcblxuICAgICAgICAgICAgZWxlbWVudC5tb3ZlVG8oYm94LngxLCBib3gueTEpLmxpbmVUbyhib3gueDIsIGJveC55Mik7XG4gICAgICAgICAgICBlbGVtZW50Lm1vdmVUbyhib3gueDEsIGJveC55MikubGluZVRvKGJveC54MiwgYm94LnkxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpLCBzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIGVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgICAgICAucm90YXRlKC1yb3RhdGlvbiwgWyBjZW50ZXIueCwgY2VudGVyLnkgXSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50Lm9wdGlvbnMuekluZGV4ID0gb3B0aW9ucy56SW5kZXg7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVZpc3VhbCA9IHRoaXMub3B0aW9ucy52aXN1YWw7XG4gICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhIHx8IHt9O1xuICAgICAgICBsZXQgdmlzdWFsO1xuXG4gICAgICAgIGlmIChjdXN0b21WaXN1YWwpIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBvaW50RGF0YS52YWx1ZSxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogcG9pbnREYXRhLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHBvaW50RGF0YS5zZXJpZXMsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHBvaW50RGF0YS5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICByZWN0OiB0aGlzLnBhZGRpbmdCb3gudG9SZWN0KCksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy52aXN1YWxPcHRpb25zKCksXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB0aGlzLmdldEVsZW1lbnQoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aXN1YWwgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2aXN1YWw7XG4gICAgfVxuXG4gICAgdmlzdWFsT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGJvcmRlcjogb3B0aW9ucy5ib3JkZXIsXG4gICAgICAgICAgICBtYXJnaW46IG9wdGlvbnMubWFyZ2luLFxuICAgICAgICAgICAgcGFkZGluZzogb3B0aW9ucy5wYWRkaW5nLFxuICAgICAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgICAgICAgc2l6ZTogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIHZpc2libGU6IG9wdGlvbnMudmlzaWJsZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy52aXN1YWwgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFNoYXBlRWxlbWVudCwge1xuICAgIHR5cGU6IENJUkNMRSxcbiAgICBhbGlnbjogQ0VOVEVSLFxuICAgIHZBbGlnbjogQ0VOVEVSXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVFbGVtZW50OyIsImltcG9ydCB7IFdISVRFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IExJTkVBUiA9IFwibGluZWFyXCI7XG5jb25zdCBSQURJQUwgPSBcInJhZGlhbFwiO1xuXG5jb25zdCBHUkFESUVOVFMgPSB7XG4gICAgZ2xhc3M6IHtcbiAgICAgICAgdHlwZTogTElORUFSLFxuICAgICAgICByb3RhdGlvbjogMCxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuMjUsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIHNoYXJwQmV2ZWw6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdG9wczogWyB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjU1XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC42NSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjk1LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4yNVxuICAgICAgICB9IF1cbiAgICB9LFxuICAgIHJvdW5kZWRCZXZlbDoge1xuICAgICAgICB0eXBlOiBSQURJQUwsXG4gICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgIG9mZnNldDogMC4zMyxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMDZcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjgzLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC45NSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSBdXG4gICAgfSxcbiAgICByb3VuZGVkR2xhc3M6IHtcbiAgICAgICAgdHlwZTogUkFESUFMLFxuICAgICAgICBzdXBwb3J0Vk1MOiBmYWxzZSxcbiAgICAgICAgc3RvcHM6IFsge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuNSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuM1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuOTksXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgc2hhcnBHbGFzczoge1xuICAgICAgICB0eXBlOiBSQURJQUwsXG4gICAgICAgIHN1cHBvcnRWTUw6IGZhbHNlLFxuICAgICAgICBzdG9wczogWyB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjE1LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4xNVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuMTcsXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjM1XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9mZnNldDogMC44NSxcbiAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuMDVcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2Zmc2V0OiAwLjg3LFxuICAgICAgICAgICAgY29sb3I6IFdISVRFLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4xNVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBvZmZzZXQ6IDAuOTksXG4gICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH0gXVxuICAgIH0sXG4gICAgYnViYmxlU2hhZG93OiB7XG4gICAgICAgIHR5cGU6IFJBRElBTCxcbiAgICAgICAgY2VudGVyOiBbIDAuNSwgMC41IF0sXG4gICAgICAgIHJhZGl1czogMC41XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgR1JBRElFTlRTOyIsImltcG9ydCBCb3ggZnJvbSAnLi4vYm94JztcbmltcG9ydCB7IGdyZXAgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBib3hEaWZmKHIsIHMpIHtcbiAgICBpZiAoci54MSA9PT0gcy54MSAmJiByLnkxID09PSBzLnkxICYmIHIueDIgPT09IHMueDIgJiYgci55MiA9PT0gcy55Mikge1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBjb25zdCBhID0gTWF0aC5taW4oci54MSwgcy54MSk7XG4gICAgY29uc3QgYiA9IE1hdGgubWF4KHIueDEsIHMueDEpO1xuICAgIGNvbnN0IGMgPSBNYXRoLm1pbihyLngyLCBzLngyKTtcbiAgICBjb25zdCBkID0gTWF0aC5tYXgoci54Miwgcy54Mik7XG4gICAgY29uc3QgZSA9IE1hdGgubWluKHIueTEsIHMueTEpO1xuICAgIGNvbnN0IGYgPSBNYXRoLm1heChyLnkxLCBzLnkxKTtcbiAgICBjb25zdCBnID0gTWF0aC5taW4oci55Miwgcy55Mik7XG4gICAgY29uc3QgaCA9IE1hdGgubWF4KHIueTIsIHMueTIpO1xuICAgIGNvbnN0IGJveGVzID0gW107XG5cbiAgICAvLyBYID0gaW50ZXJzZWN0aW9uLCAwLTcgPSBwb3NzaWJsZSBkaWZmZXJlbmNlIGFyZWFzXG4gICAgLy8gaCArLSstKy0rXG4gICAgLy8gLiB8NXw2fDd8XG4gICAgLy8gZyArLSstKy0rXG4gICAgLy8gLiB8M3xYfDR8XG4gICAgLy8gZiArLSstKy0rXG4gICAgLy8gLiB8MHwxfDJ8XG4gICAgLy8gZSArLSstKy0rXG4gICAgLy8gLiBhIGIgYyBkXG5cbiAgICAvLyB3ZSdsbCBhbHdheXMgaGF2ZSByZWN0YW5nbGVzIDEsIDMsIDQgYW5kIDZcbiAgICBib3hlc1swXSA9IG5ldyBCb3goYiwgZSwgYywgZik7XG4gICAgYm94ZXNbMV0gPSBuZXcgQm94KGEsIGYsIGIsIGcpO1xuICAgIGJveGVzWzJdID0gbmV3IEJveChjLCBmLCBkLCBnKTtcbiAgICBib3hlc1szXSA9IG5ldyBCb3goYiwgZywgYywgaCk7XG5cbiAgICAvLyBkZWNpZGUgd2hpY2ggY29ybmVyc1xuICAgIGlmIChyLngxID09PSBhICYmIHIueTEgPT09IGUgfHwgcy54MSA9PT0gYSAmJiBzLnkxID09PSBlKSB7IC8vIGNvcm5lcnMgMCBhbmQgN1xuICAgICAgICBib3hlc1s0XSA9IG5ldyBCb3goYSwgZSwgYiwgZik7XG4gICAgICAgIGJveGVzWzVdID0gbmV3IEJveChjLCBnLCBkLCBoKTtcbiAgICB9IGVsc2UgeyAvLyBjb3JuZXJzIDIgYW5kIDVcbiAgICAgICAgYm94ZXNbNF0gPSBuZXcgQm94KGMsIGUsIGQsIGYpO1xuICAgICAgICBib3hlc1s1XSA9IG5ldyBCb3goYSwgZywgYiwgaCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyZXAoYm94ZXMsIGZ1bmN0aW9uKGJveCkge1xuICAgICAgICByZXR1cm4gYm94LmhlaWdodCgpID4gMCAmJiBib3gud2lkdGgoKSA+IDA7XG4gICAgfSlbMF07XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgR1JBRElFTlRTIGZyb20gJy4vZ3JhZGllbnRzJztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgYm94RGlmZiBmcm9tICcuL3V0aWxzL2JveC1kaWZmJztcblxuaW1wb3J0IHsgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQsIFdISVRFLCBCTEFDSyB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0U3BhY2luZywgb2JqZWN0S2V5LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFJvb3RFbGVtZW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHJvb3RPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByb290T3B0aW9ucy53aWR0aCA9IHBhcnNlSW50KHJvb3RPcHRpb25zLndpZHRoLCAxMCk7XG4gICAgICAgIHJvb3RPcHRpb25zLmhlaWdodCA9IHBhcnNlSW50KHJvb3RPcHRpb25zLmhlaWdodCwgMTApO1xuXG4gICAgICAgIHRoaXMuZ3JhZGllbnRzID0ge307XG4gICAgfVxuXG4gICAgcmVmbG93KCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBsZXQgY3VycmVudEJveCA9IG5ldyBCb3goMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuYm94ID0gY3VycmVudEJveC51bnBhZChvcHRpb25zLm1hcmdpbik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0ucmVmbG93KGN1cnJlbnRCb3gpO1xuICAgICAgICAgICAgY3VycmVudEJveCA9IGJveERpZmYoY3VycmVudEJveCwgY2hpbGRyZW5baV0uYm94KSB8fCBuZXcgQm94KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVCYWNrZ3JvdW5kKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQmFja2dyb3VuZCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94LmNsb25lKCkucGFkKG9wdGlvbnMubWFyZ2luKS51bnBhZChib3JkZXIud2lkdGgpO1xuXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLndpZHRoID8gYm9yZGVyLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IC0xMFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoYmFja2dyb3VuZCk7XG4gICAgfVxuXG4gICAgZ2V0Um9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JhZGllbnQob3B0aW9ucykge1xuICAgICAgICBjb25zdCBncmFkaWVudHMgPSB0aGlzLmdyYWRpZW50cztcbiAgICAgICAgY29uc3QgaGFzaENvZGUgPSBvYmplY3RLZXkob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGdyYWRpZW50ID0gR1JBRElFTlRTW29wdGlvbnMuZ3JhZGllbnRdO1xuICAgICAgICBsZXQgZHJhd2luZ0dyYWRpZW50O1xuXG4gICAgICAgIGlmIChncmFkaWVudHNbaGFzaENvZGVdKSB7XG4gICAgICAgICAgICBkcmF3aW5nR3JhZGllbnQgPSBncmFkaWVudHNbaGFzaENvZGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZ3JhZGllbnRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZ3JhZGllbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGdyYWRpZW50LnR5cGUgPT09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgICAgICBkcmF3aW5nR3JhZGllbnQgPSBuZXcgZHJhdy5MaW5lYXJHcmFkaWVudChncmFkaWVudE9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5pbm5lclJhZGl1cykge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudE9wdGlvbnMuc3RvcHMgPSBpbm5lclJhZGlhbFN0b3BzKGdyYWRpZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRyYXdpbmdHcmFkaWVudCA9IG5ldyBkcmF3LlJhZGlhbEdyYWRpZW50KGdyYWRpZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgZHJhd2luZ0dyYWRpZW50LnN1cHBvcnRWTUwgPSBncmFkaWVudC5zdXBwb3J0Vk1MICE9PSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50c1toYXNoQ29kZV0gPSBkcmF3aW5nR3JhZGllbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZHJhd2luZ0dyYWRpZW50O1xuICAgIH1cblxuICAgIGNsZWFuR3JhZGllbnRzKCkge1xuICAgICAgICBjb25zdCBncmFkaWVudHMgPSB0aGlzLmdyYWRpZW50cztcbiAgICAgICAgZm9yIChsZXQgaGFzaENvZGUgaW4gZ3JhZGllbnRzKSB7XG4gICAgICAgICAgICBncmFkaWVudHNbaGFzaENvZGVdLl9vYnNlcnZlcnMgPSBbXTsvL2FkZCBjbGVhciBvYnNlcnZlcnMgbWV0aG9kIGluIGRyYXdpbmcgT2JzZXJ2ZXJzTWl4aW5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpemUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBuZXcgQm94KDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJvb3RFbGVtZW50LCB7XG4gICAgd2lkdGg6IERFRkFVTFRfV0lEVEgsXG4gICAgaGVpZ2h0OiBERUZBVUxUX0hFSUdIVCxcbiAgICBiYWNrZ3JvdW5kOiBXSElURSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbWFyZ2luOiBnZXRTcGFjaW5nKDUpLFxuICAgIHpJbmRleDogLTJcbn0pO1xuXG5mdW5jdGlvbiBpbm5lclJhZGlhbFN0b3BzKG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdG9wcyA9IG9wdGlvbnMuc3RvcHM7XG4gICAgY29uc3QgdXNlZFNwYWNlID0gKChvcHRpb25zLmlubmVyUmFkaXVzIC8gb3B0aW9ucy5yYWRpdXMpICogMTAwKTtcbiAgICBjb25zdCBsZW5ndGggPSBzdG9wcy5sZW5ndGg7XG4gICAgY29uc3QgY3VycmVudFN0b3BzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjdXJyZW50U3RvcCA9IE9iamVjdC5hc3NpZ24oe30sIHN0b3BzW2ldKTtcbiAgICAgICAgY3VycmVudFN0b3Aub2Zmc2V0ID0gKGN1cnJlbnRTdG9wLm9mZnNldCAqICgxMDAgLSB1c2VkU3BhY2UpICsgdXNlZFNwYWNlKSAvIDEwMDtcbiAgICAgICAgY3VycmVudFN0b3BzLnB1c2goY3VycmVudFN0b3ApO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RvcHM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvb3RFbGVtZW50OyIsImltcG9ydCBDaGFydEVsZW1lbnQgZnJvbSAnLi9jaGFydC1lbGVtZW50JztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgeyBYLCBZLCBXSURUSCwgSEVJR0hULCBSSUdIVCwgQk9UVE9NLCBDRU5URVIgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEZsb2F0RWxlbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faW5pdERpcmVjdGlvbigpO1xuICAgIH1cblxuICAgIF9pbml0RGlyZWN0aW9uKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5ncm91cEF4aXMgPSBYO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50QXhpcyA9IFk7XG4gICAgICAgICAgICB0aGlzLmdyb3VwU2l6ZUZpZWxkID0gV0lEVEg7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRTaXplRmllbGQgPSBIRUlHSFQ7XG4gICAgICAgICAgICB0aGlzLmdyb3VwU3BhY2luZyA9IG9wdGlvbnMuc3BhY2luZztcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFNwYWNpbmcgPSBvcHRpb25zLnZTcGFjaW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncm91cEF4aXMgPSBZO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50QXhpcyA9IFg7XG4gICAgICAgICAgICB0aGlzLmdyb3VwU2l6ZUZpZWxkID0gSEVJR0hUO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U2l6ZUZpZWxkID0gV0lEVEg7XG4gICAgICAgICAgICB0aGlzLmdyb3VwU3BhY2luZyA9IG9wdGlvbnMudlNwYWNpbmc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRTcGFjaW5nID0gb3B0aW9ucy5zcGFjaW5nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveC5jbG9uZSgpO1xuICAgICAgICB0aGlzLnJlZmxvd0NoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgcmVmbG93Q2hpbGRyZW4oKSB7XG4gICAgICAgIGNvbnN0IHsgYm94LCBlbGVtZW50QXhpcywgZ3JvdXBBeGlzLCBlbGVtZW50U2l6ZUZpZWxkLCBncm91cFNpemVGaWVsZCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBncm91cHMsIGdyb3Vwc1NpemUsIG1heEdyb3VwRWxlbWVudHNTaXplIH0gPSB0aGlzLmdyb3VwT3B0aW9ucygpO1xuICAgICAgICBjb25zdCBncm91cHNDb3VudCA9IGdyb3Vwcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGdyb3Vwc1N0YXJ0ID0gYm94W2dyb3VwQXhpcyArIDFdICsgdGhpcy5hbGlnblN0YXJ0KGdyb3Vwc1NpemUsIGJveFtncm91cFNpemVGaWVsZF0oKSk7XG5cbiAgICAgICAgaWYgKGdyb3Vwc0NvdW50KSB7XG4gICAgICAgICAgICBsZXQgZ3JvdXBTdGFydCA9IGdyb3Vwc1N0YXJ0O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBncm91cElkeCA9IDA7IGdyb3VwSWR4IDwgZ3JvdXBzQ291bnQ7IGdyb3VwSWR4KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZ3JvdXAgPSBncm91cHNbZ3JvdXBJZHhdO1xuICAgICAgICAgICAgICAgIGxldCBncm91cEVsZW1lbnRzID0gZ3JvdXAuZ3JvdXBFbGVtZW50cztcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudFN0YXJ0ID0gYm94W2VsZW1lbnRBeGlzICsgMV07XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwRWxlbWVudHNDb3VudCA9IGdyb3VwRWxlbWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZ3JvdXBFbGVtZW50c0NvdW50OyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGdyb3VwRWxlbWVudHNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyb3VwRWxlbWVudFN0YXJ0ID0gZ3JvdXBTdGFydCArIHRoaXMuYWxpZ25TdGFydChlbGVtZW50U2l6ZVtncm91cFNpemVGaWVsZF0sIGdyb3VwLmdyb3VwU2l6ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRCb3ggPSBuZXcgQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRCb3hbZ3JvdXBBeGlzICsgMV0gPSBncm91cEVsZW1lbnRTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEJveFtncm91cEF4aXMgKyAyXSA9IGdyb3VwRWxlbWVudFN0YXJ0ICsgZWxlbWVudFNpemVbZ3JvdXBTaXplRmllbGRdO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Qm94W2VsZW1lbnRBeGlzICsgMV0gPSBlbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRCb3hbZWxlbWVudEF4aXMgKyAyXSA9IGVsZW1lbnRTdGFydCArIGVsZW1lbnRTaXplW2VsZW1lbnRTaXplRmllbGRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVmbG93KGVsZW1lbnRCb3gpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTdGFydCArPSBlbGVtZW50U2l6ZVtlbGVtZW50U2l6ZUZpZWxkXSArIHRoaXMuZWxlbWVudFNwYWNpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyb3VwU3RhcnQgKz0gZ3JvdXAuZ3JvdXBTaXplICsgdGhpcy5ncm91cFNwYWNpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3hbZ3JvdXBBeGlzICsgMV0gPSBncm91cHNTdGFydDtcbiAgICAgICAgICAgIGJveFtncm91cEF4aXMgKyAyXSA9IGdyb3Vwc1N0YXJ0ICsgZ3JvdXBzU2l6ZTtcbiAgICAgICAgICAgIGJveFtlbGVtZW50QXhpcyArIDJdID0gYm94W2VsZW1lbnRBeGlzICsgMV0gKyBtYXhHcm91cEVsZW1lbnRzU2l6ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFsaWduU3RhcnQoc2l6ZSwgbWF4U2l6ZSkge1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHRoaXMub3B0aW9ucy5hbGlnbjtcbiAgICAgICAgaWYgKGFsaWduID09PSBSSUdIVCB8fCBhbGlnbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICBzdGFydCA9IG1heFNpemUgLSBzaXplO1xuICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gKG1heFNpemUgLSBzaXplKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH1cblxuICAgIGdyb3VwT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgeyBib3gsIGNoaWxkcmVuLCBlbGVtZW50U2l6ZUZpZWxkLCBncm91cFNpemVGaWVsZCwgZWxlbWVudFNwYWNpbmcsIGdyb3VwU3BhY2luZyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IHJvdW5kKGJveFtlbGVtZW50U2l6ZUZpZWxkXSgpKTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gW107XG5cbiAgICAgICAgbGV0IGdyb3VwU2l6ZSA9IDA7XG4gICAgICAgIGxldCBncm91cEVsZW1lbnRzU2l6ZSA9IDA7XG4gICAgICAgIGxldCBncm91cHNTaXplID0gMDtcbiAgICAgICAgbGV0IG1heEdyb3VwRWxlbWVudHNTaXplID0gMDtcbiAgICAgICAgbGV0IGdyb3VwRWxlbWVudHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbkNvdW50OyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBjaGlsZHJlbltpZHhdO1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmJveCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVmbG93KGJveCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLndyYXAgJiYgcm91bmQoZ3JvdXBFbGVtZW50c1NpemUgKyBlbGVtZW50U3BhY2luZyArIGVsZW1lbnRTaXplW2VsZW1lbnRTaXplRmllbGRdKSA+IG1heFNpemUpIHtcbiAgICAgICAgICAgICAgICBncm91cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwRWxlbWVudHM6IGdyb3VwRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwU2l6ZTogZ3JvdXBTaXplLFxuICAgICAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzU2l6ZTogZ3JvdXBFbGVtZW50c1NpemVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYXhHcm91cEVsZW1lbnRzU2l6ZSA9IE1hdGgubWF4KG1heEdyb3VwRWxlbWVudHNTaXplLCBncm91cEVsZW1lbnRzU2l6ZSk7XG4gICAgICAgICAgICAgICAgZ3JvdXBzU2l6ZSArPSBncm91cFNwYWNpbmcgKyBncm91cFNpemU7XG4gICAgICAgICAgICAgICAgZ3JvdXBTaXplID0gMDtcbiAgICAgICAgICAgICAgICBncm91cEVsZW1lbnRzU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JvdXBTaXplID0gTWF0aC5tYXgoZ3JvdXBTaXplLCBlbGVtZW50U2l6ZVtncm91cFNpemVGaWVsZF0pO1xuICAgICAgICAgICAgaWYgKGdyb3VwRWxlbWVudHNTaXplID4gMCkge1xuICAgICAgICAgICAgICAgIGdyb3VwRWxlbWVudHNTaXplICs9IGVsZW1lbnRTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JvdXBFbGVtZW50c1NpemUgKz0gZWxlbWVudFNpemVbZWxlbWVudFNpemVGaWVsZF07XG4gICAgICAgICAgICBncm91cEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cHMucHVzaCh7XG4gICAgICAgICAgICBncm91cEVsZW1lbnRzOiBncm91cEVsZW1lbnRzLFxuICAgICAgICAgICAgZ3JvdXBTaXplOiBncm91cFNpemUsXG4gICAgICAgICAgICBncm91cEVsZW1lbnRzU2l6ZTogZ3JvdXBFbGVtZW50c1NpemVcbiAgICAgICAgfSk7XG4gICAgICAgIG1heEdyb3VwRWxlbWVudHNTaXplID0gTWF0aC5tYXgobWF4R3JvdXBFbGVtZW50c1NpemUsIGdyb3VwRWxlbWVudHNTaXplKTtcbiAgICAgICAgZ3JvdXBzU2l6ZSArPSBncm91cFNpemU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdyb3VwczogZ3JvdXBzLFxuICAgICAgICAgICAgZ3JvdXBzU2l6ZTogZ3JvdXBzU2l6ZSxcbiAgICAgICAgICAgIG1heEdyb3VwRWxlbWVudHNTaXplOiBtYXhHcm91cEVsZW1lbnRzU2l6ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGVsZW1lbnRTaXplKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50LmJveC53aWR0aCgpLFxuICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmJveC5oZWlnaHQoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHt9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEZsb2F0RWxlbWVudCwge1xuICAgIHZlcnRpY2FsOiB0cnVlLFxuICAgIHdyYXA6IHRydWUsXG4gICAgdlNwYWNpbmc6IDAsXG4gICAgc3BhY2luZzogMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEZsb2F0RWxlbWVudDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBDaGFydEVsZW1lbnQgZnJvbSAnLi9jaGFydC1lbGVtZW50JztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgeyBERUZBVUxUX0ZPTlQsIEJMQUNLIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNvbnN0IERyYXdpbmdUZXh0ID0gZHJhdy5UZXh0O1xuXG5jbGFzcyBUZXh0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgc2l6ZVxuICAgICAgICB0aGlzLnJlZmxvdyhuZXcgQm94KCkpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2l6ZSA9IGRyYXcudXRpbC5tZWFzdXJlVGV4dCh0aGlzLmNvbnRlbnQsIHsgZm9udDogb3B0aW9ucy5mb250IH0pO1xuXG4gICAgICAgIHRoaXMuYmFzZWxpbmUgPSBzaXplLmJhc2VsaW5lO1xuXG4gICAgICAgIHRoaXMuYm94ID0gbmV3IEJveCh0YXJnZXRCb3gueDEsIHRhcmdldEJveC55MSxcbiAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDEgKyBzaXplLndpZHRoLCB0YXJnZXRCb3gueTEgKyBzaXplLmhlaWdodCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IGZvbnQsIGNvbG9yLCBvcGFjaXR5LCBjdXJzb3IgfSA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBEcmF3aW5nVGV4dCh0aGlzLmNvbnRlbnQsIHRoaXMuYm94LnRvUmVjdCgpLnRvcExlZnQoKSwge1xuICAgICAgICAgICAgZm9udDogZm9udCxcbiAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IGNvbG9yLCBvcGFjaXR5OiBvcGFjaXR5IH0sXG4gICAgICAgICAgICBjdXJzb3I6IGN1cnNvclxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFRleHQsIHtcbiAgICBmb250OiBERUZBVUxUX0ZPTlQsXG4gICAgY29sb3I6IEJMQUNLXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgVGV4dDtcbiIsImltcG9ydCBCb3ggZnJvbSAnLi4vYm94JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVjdFRvQm94KHJlY3QpIHtcbiAgICBjb25zdCBvcmlnaW4gPSByZWN0Lm9yaWdpbjtcbiAgICBjb25zdCBib3R0b21SaWdodCA9IHJlY3QuYm90dG9tUmlnaHQoKTtcblxuICAgIHJldHVybiBuZXcgQm94KG9yaWdpbi54LCBvcmlnaW4ueSwgYm90dG9tUmlnaHQueCwgYm90dG9tUmlnaHQueSk7XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQm94RWxlbWVudCBmcm9tICcuL2JveC1lbGVtZW50JztcbmltcG9ydCBGbG9hdEVsZW1lbnQgZnJvbSAnLi9mbG9hdC1lbGVtZW50JztcbmltcG9ydCBUZXh0IGZyb20gJy4vdGV4dCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHJlY3RUb0JveCBmcm9tICcuL3V0aWxzL3JlY3QtdG8tYm94JztcblxuaW1wb3J0IHsgZ2V0U3BhY2luZywgZGVlcEV4dGVuZCwgZGVmaW5lZCB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFJPV1NfU1BMSVRfUkVHRVggPSAvXFxuL207XG5cbmNsYXNzIFRleHRCb3ggZXh0ZW5kcyBCb3hFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQsIG9wdGlvbnMsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgdGhpcy5faW5pdENvbnRhaW5lcigpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLl9hdXRvUmVmbG93ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZWZsb3cobmV3IEJveCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbml0Q29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByb3dzID0gU3RyaW5nKHRoaXMuY29udGVudCkuc3BsaXQoUk9XU19TUExJVF9SRUdFWCk7XG4gICAgICAgIGNvbnN0IGZsb2F0RWxlbWVudCA9IG5ldyBGbG9hdEVsZW1lbnQoeyB2ZXJ0aWNhbDogdHJ1ZSwgYWxpZ246IG9wdGlvbnMuYWxpZ24sIHdyYXA6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCB0ZXh0T3B0aW9ucyA9IGRlZXBFeHRlbmQoeyB9LCBvcHRpb25zLCB7IG9wYWNpdHk6IDEsIGFuaW1hdGlvbjogbnVsbCB9KTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGZsb2F0RWxlbWVudDtcbiAgICAgICAgdGhpcy5hcHBlbmQoZmxvYXRFbGVtZW50KTtcblxuICAgICAgICBmb3IgKGxldCByb3dJZHggPSAwOyByb3dJZHggPCByb3dzLmxlbmd0aDsgcm93SWR4KyspIHtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gbmV3IFRleHQocm93c1tyb3dJZHhdLnRyaW0oKSwgdGV4dE9wdGlvbnMpO1xuICAgICAgICAgICAgZmxvYXRFbGVtZW50LmFwcGVuZCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmlzdWFsRm4gPSBvcHRpb25zLnZpc3VhbDtcbiAgICAgICAgdGhpcy5jb250YWluZXIub3B0aW9ucy5hbGlnbiA9IG9wdGlvbnMuYWxpZ247XG5cbiAgICAgICAgaWYgKHZpc3VhbEZuICYmICF0aGlzLl9ib3hSZWZsb3cpIHtcbiAgICAgICAgICAgIGxldCB2aXN1YWxCb3ggPSB0YXJnZXRCb3g7XG4gICAgICAgICAgICBpZiAoIXZpc3VhbEJveC5oYXNTaXplKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3hSZWZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmbG93KHZpc3VhbEJveCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94UmVmbG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmlzdWFsQm94ID0gdGhpcy5ib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2aXN1YWwgPSB0aGlzLnZpc3VhbCA9IHZpc3VhbEZuKHRoaXMudmlzdWFsQ29udGV4dCh2aXN1YWxCb3gpKTtcblxuICAgICAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgICAgIHZpc3VhbEJveCA9IHJlY3RUb0JveCh2aXN1YWwuY2xpcHBlZEJCb3goKSB8fCBuZXcgZ2VvbS5SZWN0KCkpO1xuXG4gICAgICAgICAgICAgICAgdmlzdWFsLm9wdGlvbnMuekluZGV4ID0gb3B0aW9ucy56SW5kZXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm94ID0gdGhpcy5jb250ZW50Qm94ID0gdGhpcy5wYWRkaW5nQm94ID0gdmlzdWFsQm94O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucmVmbG93KHRhcmdldEJveCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJvdGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luID0gZ2V0U3BhY2luZyhvcHRpb25zLm1hcmdpbik7XG4gICAgICAgICAgICAgICAgbGV0IGJveCA9IHRoaXMuYm94LnVucGFkKG1hcmdpbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEJveCA9IHRhcmdldEJveDtcbiAgICAgICAgICAgICAgICB0aGlzLm5vcm1hbEJveCA9IGJveC5jbG9uZSgpO1xuXG4gICAgICAgICAgICAgICAgYm94ID0gdGhpcy5yb3RhdGUoKTtcbiAgICAgICAgICAgICAgICBib3gudHJhbnNsYXRlKG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0LCBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZWRCb3ggPSBib3guY2xvbmUoKTtcblxuICAgICAgICAgICAgICAgIGJveC5wYWQobWFyZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLnZpc3VhbCA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdGhpcy5yb3RhdGlvblRyYW5zZm9ybSgpLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleCxcbiAgICAgICAgICAgIG5vY2xpcDogb3B0aW9ucy5ub2NsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzQm94KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IGRyYXcuUGF0aC5mcm9tUmVjdCh0aGlzLnBhZGRpbmdCb3gudG9SZWN0KCksIHRoaXMudmlzdWFsU3R5bGUoKSk7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52aXN1YWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpc3VhbCA9IHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgaWYgKHZpc3VhbCAmJiAhZGVmaW5lZCh2aXN1YWwub3B0aW9ucy5ub2NsaXApKSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsLm9wdGlvbnMubm9jbGlwID0gdGhpcy5vcHRpb25zLm5vY2xpcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkVmlzdWFsKCk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aXN1YWxDb250ZXh0KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5jb250ZW50LFxuICAgICAgICAgICAgcmVjdDogdGFyZ2V0Qm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94UmVmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JveFJlZmxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERlZmF1bHRWaXN1YWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB0aGlzLmRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgZ2V0RGVmYXVsdFZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVWaXN1YWwoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgICAgICBjb25zdCB2aXN1YWwgPSB0aGlzLnZpc3VhbDtcbiAgICAgICAgZGVsZXRlIHRoaXMudmlzdWFsO1xuICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgIH1cblxuICAgIHJvdGF0ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5ib3gucm90YXRlKG9wdGlvbnMucm90YXRpb24pO1xuICAgICAgICB0aGlzLmFsaWduKHRoaXMudGFyZ2V0Qm94LCBYLCBvcHRpb25zLmFsaWduKTtcbiAgICAgICAgdGhpcy5hbGlnbih0aGlzLnRhcmdldEJveCwgWSwgb3B0aW9ucy52QWxpZ24pO1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgcm90YXRpb25UcmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uO1xuICAgICAgICBpZiAoIXJvdGF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgeDogY3gsIHk6IGN5IH0gPSB0aGlzLm5vcm1hbEJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgYm94Q2VudGVyID0gdGhpcy5yb3RhdGVkQm94LmNlbnRlcigpO1xuXG4gICAgICAgIHJldHVybiBnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZShib3hDZW50ZXIueCAtIGN4LCBib3hDZW50ZXIueSAtIGN5KVxuICAgICAgICAgICAgICAgICAgIC5yb3RhdGUocm90YXRpb24sIFsgY3gsIGN5IF0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dEJveDsiLCJpbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL3RleHQtYm94JztcblxuaW1wb3J0IHsgWCwgQkxBQ0ssIFRPUCwgQ0VOVEVSIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRTcGFjaW5nLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFRpdGxlIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKFxuICAgICAgICAgICAgbmV3IFRleHRCb3godGhpcy5vcHRpb25zLnRleHQsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHZBbGlnbjogdGhpcy5vcHRpb25zLnBvc2l0aW9uXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIHN1cGVyLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB0aGlzLmJveC5zbmFwVG8odGFyZ2V0Qm94LCBYKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYnVpbGRUaXRsZShvcHRpb25zLCBwYXJlbnQsIGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIGxldCB0aXRsZU9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGl0bGVPcHRpb25zID0geyB0ZXh0OiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICB0aXRsZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgdmlzaWJsZTogdHJ1ZSB9LCBkZWZhdWx0T3B0aW9ucywgdGl0bGVPcHRpb25zKTtcblxuICAgICAgICBsZXQgdGl0bGU7XG4gICAgICAgIGlmICh0aXRsZU9wdGlvbnMgJiYgdGl0bGVPcHRpb25zLnZpc2libGUgJiYgdGl0bGVPcHRpb25zLnRleHQpIHtcbiAgICAgICAgICAgIHRpdGxlID0gbmV3IFRpdGxlKHRpdGxlT3B0aW9ucyk7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kKHRpdGxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFRpdGxlLCB7XG4gICAgY29sb3I6IEJMQUNLLFxuICAgIHBvc2l0aW9uOiBUT1AsXG4gICAgYWxpZ246IENFTlRFUixcbiAgICBtYXJnaW46IGdldFNwYWNpbmcoNSksXG4gICAgcGFkZGluZzogZ2V0U3BhY2luZyg1KVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFRpdGxlOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBUZXh0Qm94IGZyb20gJy4vdGV4dC1ib3gnO1xuaW1wb3J0IEJveCBmcm9tICcuL2JveCc7XG5cbmltcG9ydCByZWN0VG9Cb3ggZnJvbSAnLi91dGlscy9yZWN0LXRvLWJveCc7XG5cbmltcG9ydCB7IEFYSVNfTEFCRUxfQ0xJQ0ssIENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIERFRkFVTFRfUFJFQ0lTSU9OLCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGV2ZW50RWxlbWVudCwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgQXhpc0xhYmVsIGV4dGVuZHMgVGV4dEJveCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIHRleHQsIGluZGV4LCBkYXRhSXRlbSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih0ZXh0LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICB0aGlzLnJlZmxvdyhuZXcgQm94KCkpO1xuICAgIH1cblxuICAgIHZpc3VhbENvbnRleHQodGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBzdXBlci52aXN1YWxDb250ZXh0KHRhcmdldEJveCk7XG5cbiAgICAgICAgY29udGV4dC52YWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnRleHQuZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xuICAgICAgICBjb250ZXh0LmZvcm1hdCA9IHRoaXMub3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIGNvbnRleHQuY3VsdHVyZSA9IHRoaXMub3B0aW9ucy5jdWx0dXJlO1xuXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cblxuICAgIGNsaWNrKHdpZGdldCwgZSkge1xuXG4gICAgICAgIHdpZGdldC50cmlnZ2VyKEFYSVNfTEFCRUxfQ0xJQ0ssIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgdGV4dDogdGhpcy50ZXh0LFxuICAgICAgICAgICAgaW5kZXg6IHRoaXMuaW5kZXgsXG4gICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIGF4aXM6IHRoaXMucGFyZW50Lm9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcm90YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsaWduUm90YXRpb24gIT09IENFTlRFUikge1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ub3JtYWxCb3gudG9SZWN0KCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLnJvdGF0aW9uVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYm94ID0gcmVjdFRvQm94KGJveC5iYm94KHRyYW5zZm9ybS5tYXRyaXgoKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucm90YXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgcm90YXRpb25UcmFuc2Zvcm0oKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gb3B0aW9ucy5yb3RhdGlvbjtcbiAgICAgICAgaWYgKCFyb3RhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hbGlnblJvdGF0aW9uID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5yb3RhdGlvblRyYW5zZm9ybSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBnZW9tLnRyYW5zZm9ybSgpLnJvdGF0ZShyb3RhdGlvbikubWF0cml4KCk7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMubm9ybWFsQm94LnRvUmVjdCgpO1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy50YXJnZXRCb3gudG9SZWN0KCk7XG5cbiAgICAgICAgY29uc3Qgcm90YXRpb25PcmlnaW4gPSBvcHRpb25zLnJvdGF0aW9uT3JpZ2luIHx8IFRPUDtcbiAgICAgICAgY29uc3QgYWxpZ25BeGlzID0gcm90YXRpb25PcmlnaW4gPT09IFRPUCB8fCByb3RhdGlvbk9yaWdpbiA9PT0gQk9UVE9NID8gWCA6IFk7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlQXhpcyA9IHJvdGF0aW9uT3JpZ2luID09PSBUT1AgfHwgcm90YXRpb25PcmlnaW4gPT09IEJPVFRPTSA/IFkgOiBYO1xuICAgICAgICBjb25zdCBheGlzQW5jaG9yID0gcm90YXRpb25PcmlnaW4gPT09IFRPUCB8fCByb3RhdGlvbk9yaWdpbiA9PT0gTEVGVCA/IHJlY3Qub3JpZ2luIDogcmVjdC5ib3R0b21SaWdodCgpO1xuXG4gICAgICAgIGNvbnN0IHRvcExlZnQgPSBib3gudG9wTGVmdCgpLnRyYW5zZm9ybUNvcHkocm90YXRpb25NYXRyaXgpO1xuICAgICAgICBjb25zdCB0b3BSaWdodCA9IGJveC50b3BSaWdodCgpLnRyYW5zZm9ybUNvcHkocm90YXRpb25NYXRyaXgpO1xuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IGJveC5ib3R0b21SaWdodCgpLnRyYW5zZm9ybUNvcHkocm90YXRpb25NYXRyaXgpO1xuICAgICAgICBjb25zdCBib3R0b21MZWZ0ID0gYm94LmJvdHRvbUxlZnQoKS50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgY29uc3Qgcm90YXRlZEJveCA9IGdlb20uUmVjdC5mcm9tUG9pbnRzKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21SaWdodCwgYm90dG9tTGVmdCk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0ge1xuICAgICAgICAgICAgW2Rpc3RhbmNlQXhpc106IHJlY3Qub3JpZ2luW2Rpc3RhbmNlQXhpc10gLSByb3RhdGVkQm94Lm9yaWdpbltkaXN0YW5jZUF4aXNdXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZGlzdGFuY2VMZWZ0ID0gTWF0aC5hYnModG9wTGVmdFtkaXN0YW5jZUF4aXNdICsgdHJhbnNsYXRlW2Rpc3RhbmNlQXhpc10gLSBheGlzQW5jaG9yW2Rpc3RhbmNlQXhpc10pO1xuICAgICAgICBjb25zdCBkaXN0YW5jZVJpZ2h0ID0gTWF0aC5hYnModG9wUmlnaHRbZGlzdGFuY2VBeGlzXSArIHRyYW5zbGF0ZVtkaXN0YW5jZUF4aXNdIC0gYXhpc0FuY2hvcltkaXN0YW5jZUF4aXNdKTtcblxuICAgICAgICBsZXQgYWxpZ25TdGFydCwgYWxpZ25FbmQ7XG5cbiAgICAgICAgaWYgKHJvdW5kKGRpc3RhbmNlTGVmdCwgREVGQVVMVF9QUkVDSVNJT04pID09PSByb3VuZChkaXN0YW5jZVJpZ2h0LCBERUZBVUxUX1BSRUNJU0lPTikpIHtcbiAgICAgICAgICAgIGFsaWduU3RhcnQgPSB0b3BMZWZ0O1xuICAgICAgICAgICAgYWxpZ25FbmQgPSB0b3BSaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZVJpZ2h0IDwgZGlzdGFuY2VMZWZ0KSB7XG4gICAgICAgICAgICBhbGlnblN0YXJ0ID0gdG9wUmlnaHQ7XG4gICAgICAgICAgICBhbGlnbkVuZCA9IGJvdHRvbVJpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxpZ25TdGFydCA9IHRvcExlZnQ7XG4gICAgICAgICAgICBhbGlnbkVuZCA9IGJvdHRvbUxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhbGlnbkNlbnRlciA9IGFsaWduU3RhcnRbYWxpZ25BeGlzXSArIChhbGlnbkVuZFthbGlnbkF4aXNdIC0gYWxpZ25TdGFydFthbGlnbkF4aXNdKSAvIDI7XG4gICAgICAgIHRyYW5zbGF0ZVthbGlnbkF4aXNdID0gcmVjdC5jZW50ZXIoKVthbGlnbkF4aXNdIC0gYWxpZ25DZW50ZXI7XG5cbiAgICAgICAgcmV0dXJuIGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC50cmFuc2xhdGUodHJhbnNsYXRlLngsIHRyYW5zbGF0ZS55KVxuICAgICAgICAgICAgLnJvdGF0ZShyb3RhdGlvbik7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhBeGlzTGFiZWwsIHtcbiAgICBfYXV0b1JlZmxvdzogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlzTGFiZWw7XG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBCb3hFbGVtZW50IGZyb20gJy4vYm94LWVsZW1lbnQnO1xuaW1wb3J0IFRleHRCb3ggZnJvbSAnLi90ZXh0LWJveCc7XG5pbXBvcnQgU2hhcGVFbGVtZW50IGZyb20gJy4vc2hhcGUtZWxlbWVudCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgQ0lSQ0xFLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIENFTlRFUiwgSU5TSURFLCBPVVRTSURFLCBOT1RFX0NMSUNLLCBOT1RFX0hPVkVSLCBOT1RFX0xFQVZFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWZpbmVkLCBkZWVwRXh0ZW5kLCBldmVudEVsZW1lbnQsIGdldFRlbXBsYXRlLCBpbkFycmF5LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNvbnN0IERFRkFVTFRfSUNPTl9TSVpFID0gNztcbmNvbnN0IERFRkFVTFRfTEFCRUxfQ09MT1IgPSBcIiNmZmZcIjtcblxuY2xhc3MgTm90ZSBleHRlbmRzIEJveEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkcywgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IGNoYXJ0U2VydmljZTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxhYmVsLCBpY29uIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgYm94ID0gbmV3IEJveCgpO1xuICAgICAgICAgICAgY29uc3QgY2hpbGRBbGlhcyA9ICgpID0+IHRoaXM7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGljb24uc2l6ZTtcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5maWVsZHMudGV4dDtcbiAgICAgICAgICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChsYWJlbCkgJiYgbGFiZWwudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGVUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAobm90ZVRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBub3RlVGVtcGxhdGUodGhpcy5maWVsZHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWwuZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhsYWJlbC5mb3JtYXQsIHRleHQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghbGFiZWwuY29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuY29sb3IgPSBsYWJlbC5wb3NpdGlvbiA9PT0gSU5TSURFID8gREVGQVVMVF9MQUJFTF9DT0xPUiA6IGljb24uYmFja2dyb3VuZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsID0gbmV3IFRleHRCb3godGV4dCwgZGVlcEV4dGVuZCh7fSwgbGFiZWwpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhYmVsLmFsaWFzRm9yID0gY2hpbGRBbGlhcztcblxuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5wb3NpdGlvbiA9PT0gSU5TSURFICYmICFkZWZpbmVkKHNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpY29uLnR5cGUgPT09IENJUkNMRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGgubWF4KHRoaXMubGFiZWwuYm94LndpZHRoKCksIHRoaXMubGFiZWwuYm94LmhlaWdodCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5sYWJlbC5ib3gud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMubGFiZWwuYm94LmhlaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJveC53cmFwKHRoaXMubGFiZWwuYm94KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGljb24ud2lkdGggPSB3aWR0aCB8fCBzaXplIHx8IERFRkFVTFRfSUNPTl9TSVpFO1xuICAgICAgICAgICAgaWNvbi5oZWlnaHQgPSBoZWlnaHQgfHwgc2l6ZSB8fCBERUZBVUxUX0lDT05fU0laRTtcblxuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IFNoYXBlRWxlbWVudChkZWVwRXh0ZW5kKHt9LCBpY29uKSk7XG4gICAgICAgICAgICBtYXJrZXIuYWxpYXNGb3IgPSBjaGlsZEFsaWFzO1xuXG4gICAgICAgICAgICB0aGlzLm1hcmtlciA9IG1hcmtlcjtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKG1hcmtlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5sYWJlbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcmtlci5yZWZsb3cobmV3IEJveCgpKTtcbiAgICAgICAgICAgIHRoaXMud3JhcHBlckJveCA9IGJveC53cmFwKG1hcmtlci5ib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVsLCBtYXJrZXIsIHdyYXBwZXJCb3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRhcmdldEJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gb3B0aW9ucy5saW5lLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uO1xuXG4gICAgICAgIC8vIFRPRE86IFJldmlld1xuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICBsZXQgbGluZVN0YXJ0LCBib3gsIGNvbnRlbnRCb3g7XG5cbiAgICAgICAgICAgIGlmIChpbkFycmF5KHBvc2l0aW9uLCBbIExFRlQsIFJJR0hUIF0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB3cmFwcGVyQm94LmFsaWduVG8odGFyZ2V0Qm94LCBwb3NpdGlvbikudHJhbnNsYXRlKC1sZW5ndGgsIHRhcmdldEJveC5jZW50ZXIoKS55IC0gd3JhcHBlckJveC5jZW50ZXIoKS55KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5saW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IFsgdGFyZ2V0Qm94LngxLCBjZW50ZXIueSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGNvbnRlbnRCb3gueDIsIGNlbnRlci55IF1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBjb250ZW50Qm94LmNsb25lKCkud3JhcFBvaW50KGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50Qm94ID0gd3JhcHBlckJveC5hbGlnblRvKHRhcmdldEJveCwgcG9zaXRpb24pLnRyYW5zbGF0ZShsZW5ndGgsIHRhcmdldEJveC5jZW50ZXIoKS55IC0gd3JhcHBlckJveC5jZW50ZXIoKS55KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5saW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IFsgdGFyZ2V0Qm94LngyLCBjZW50ZXIueSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGNvbnRlbnRCb3gueDEsIGNlbnRlci55IF1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBjb250ZW50Qm94LmNsb25lKCkud3JhcFBvaW50KGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB3cmFwcGVyQm94LmFsaWduVG8odGFyZ2V0Qm94LCBwb3NpdGlvbikudHJhbnNsYXRlKHRhcmdldEJveC5jZW50ZXIoKS54IC0gd3JhcHBlckJveC5jZW50ZXIoKS54LCBsZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxpbmUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0ID0gWyBjZW50ZXIueCwgdGFyZ2V0Qm94LnkyIF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVQb2ludHMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgY2VudGVyLngsIGNvbnRlbnRCb3gueTEgXVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveCA9IGNvbnRlbnRCb3guY2xvbmUoKS53cmFwUG9pbnQobGluZVN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRCb3ggPSB3cmFwcGVyQm94LmFsaWduVG8odGFyZ2V0Qm94LCBwb3NpdGlvbikudHJhbnNsYXRlKHRhcmdldEJveC5jZW50ZXIoKS54IC0gd3JhcHBlckJveC5jZW50ZXIoKS54LCAtbGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5saW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCA9IFsgY2VudGVyLngsIHRhcmdldEJveC55MSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lUG9pbnRzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGNlbnRlci54LCBjb250ZW50Qm94LnkyIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBjb250ZW50Qm94LmNsb25lKCkud3JhcFBvaW50KGxpbmVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIucmVmbG93KGNvbnRlbnRCb3gpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3coY29udGVudEJveCk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sYWJlbC5wb3NpdGlvbiA9PT0gT1VUU0lERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuYm94LmFsaWduVG8obWFya2VyLmJveCwgcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhsYWJlbC5ib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZW50Qm94ID0gY29udGVudEJveDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Qm94ID0gdGFyZ2V0Qm94O1xuICAgICAgICAgICAgdGhpcy5ib3ggPSBib3ggfHwgY29udGVudEJveDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG4gICAgICAgIHRoaXMudmlzdWFsLm9wdGlvbnMubm9jbGlwID0gdGhpcy5vcHRpb25zLm5vY2xpcDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGluZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSAmJiBjdXN0b21WaXN1YWwpIHtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsID0gY3VzdG9tVmlzdWFsKE9iamVjdC5hc3NpZ24odGhpcy5maWVsZHMsIHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXMuZ2V0U2VuZGVyKCksXG4gICAgICAgICAgICAgICAgcmVjdDogdGhpcy50YXJnZXRCb3gudG9SZWN0KCksXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogb3B0aW9ucy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBvcHRpb25zLmljb24sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb25zLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBvcHRpb25zLmxpbmUsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBvcHRpb25zLnZpc2libGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWaXN1YWwgPSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZpc3VhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVMaW5lKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLmxpbmU7XG5cbiAgICAgICAgaWYgKHRoaXMubGluZVBvaW50cykge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMubGluZVBvaW50cywge1xuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmRhc2hUeXBlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwocGF0aCk7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQocGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGljayh3aWRnZXQsIGUpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuZXZlbnRBcmdzKGUpO1xuXG4gICAgICAgIGlmICghd2lkZ2V0LnRyaWdnZXIoTk9URV9DTElDSywgYXJncykpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG92ZXIod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKE5PVEVfSE9WRVIsIGFyZ3MpKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvdXQod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICB3aWRnZXQudHJpZ2dlcihOT1RFX0xFQVZFLCBhcmdzKTtcbiAgICB9XG5cbiAgICBldmVudEFyZ3MoZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMuZmllbGRzLCB7XG4gICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICB0ZXh0OiBkZWZpbmVkKG9wdGlvbnMubGFiZWwpID8gb3B0aW9ucy5sYWJlbC50ZXh0IDogXCJcIixcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy52aXN1YWxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhOb3RlLCB7XG4gICAgaWNvbjoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB0eXBlOiBDSVJDTEVcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICAgIHBvc2l0aW9uOiBJTlNJREUsXG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgIHZBbGlnbjogQ0VOVEVSXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuICAgIHZpc2libGU6IHRydWUsXG4gICAgcG9zaXRpb246IFRPUCxcbiAgICB6SW5kZXg6IDJcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBOb3RlOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUF4aXNUaWNrKG9wdGlvbnMsIHRpY2tPcHRpb25zKSB7XG4gICAgY29uc3QgeyB0aWNrWCwgdGlja1ksIHBvc2l0aW9uIH0gPSBvcHRpb25zO1xuXG4gICAgY29uc3QgdGljayA9IG5ldyBkcmF3LlBhdGgoe1xuICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aWNrT3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIGNvbG9yOiB0aWNrT3B0aW9ucy5jb2xvclxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICB0aWNrLm1vdmVUbyh0aWNrWCwgcG9zaXRpb24pXG4gICAgICAgICAgICAubGluZVRvKHRpY2tYICsgdGlja09wdGlvbnMuc2l6ZSwgcG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRpY2subW92ZVRvKHBvc2l0aW9uLCB0aWNrWSlcbiAgICAgICAgICAgIC5saW5lVG8ocG9zaXRpb24sIHRpY2tZICsgdGlja09wdGlvbnMuc2l6ZSk7XG4gICAgfVxuXG4gICAgYWxpZ25QYXRoVG9QaXhlbCh0aWNrKTtcblxuICAgIHJldHVybiB0aWNrO1xufSIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgYWxpZ25QYXRoVG9QaXhlbCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUF4aXNHcmlkTGluZShvcHRpb25zLCBncmlkTGluZSkge1xuICAgIGNvbnN0IHsgbGluZVN0YXJ0LCBsaW5lRW5kLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICB3aWR0aDogZ3JpZExpbmUud2lkdGgsXG4gICAgICAgICAgICBjb2xvcjogZ3JpZExpbmUuY29sb3IsXG4gICAgICAgICAgICBkYXNoVHlwZTogZ3JpZExpbmUuZGFzaFR5cGVcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgbGluZS5tb3ZlVG8obGluZVN0YXJ0LCBwb3NpdGlvbilcbiAgICAgICAgICAgIC5saW5lVG8obGluZUVuZCwgcG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmUubW92ZVRvKHBvc2l0aW9uLCBsaW5lU3RhcnQpXG4gICAgICAgICAgICAubGluZVRvKHBvc2l0aW9uLCBsaW5lRW5kKTtcbiAgICB9XG5cbiAgICBhbGlnblBhdGhUb1BpeGVsKGxpbmUpO1xuXG4gICAgcmV0dXJuIGxpbmU7XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2hhcnRFbGVtZW50IGZyb20gJy4vY2hhcnQtZWxlbWVudCc7XG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL3RleHQtYm94JztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCBOb3RlIGZyb20gJy4vbm90ZSc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcbmltcG9ydCB7IENoYXJ0U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJztcblxuaW1wb3J0IGNyZWF0ZUF4aXNUaWNrIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtdGljayc7XG5pbXBvcnQgY3JlYXRlQXhpc0dyaWRMaW5lIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtZ3JpZC1saW5lJztcblxuaW1wb3J0IHsgTk9ORSwgQkxBQ0ssIENFTlRFUiwgVE9QLCBCT1RUT00sIExFRlQsIFJJR0hULCBPVVRTSURFLCBYLCBZLCBXSURUSCwgSEVJR0hUIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBnZXRUZW1wbGF0ZSwgZ3JlcCwgZGVmaW5lZCwgaXNPYmplY3QsIGluQXJyYXksIGxpbWl0VmFsdWUsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEF4aXMgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIGNoYXJ0U2VydmljZSA9IG5ldyBDaGFydFNlcnZpY2UoKSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IGNoYXJ0U2VydmljZTtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgICAgICBtYWpvclRpY2tTaXplOiAwLFxuICAgICAgICAgICAgICAgIG1pbm9yVGlja1NpemU6IDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1pbm9yVGlja3MgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmxpbmUuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLmxpbmUud2lkdGgsXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLm9wdGlvbnMubWlub3JUaWNrVHlwZSAhPT0gTk9ORVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWlub3JUaWNrcywge1xuICAgICAgICAgICAgc2l6ZTogdGhpcy5vcHRpb25zLm1pbm9yVGlja1NpemUsXG4gICAgICAgICAgICBhbGlnbjogdGhpcy5vcHRpb25zLm1pbm9yVGlja1R5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLm1ham9yVGlja3MgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLmxpbmUuY29sb3IsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLmxpbmUud2lkdGgsXG4gICAgICAgICAgICB2aXNpYmxlOiB0aGlzLm9wdGlvbnMubWFqb3JUaWNrVHlwZSAhPT0gTk9ORVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWFqb3JUaWNrcywge1xuICAgICAgICAgICAgc2l6ZTogdGhpcy5vcHRpb25zLm1ham9yVGlja1NpemUsXG4gICAgICAgICAgICBhbGlnbjogdGhpcy5vcHRpb25zLm1ham9yVGlja1R5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pbml0RmllbGRzKCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuX2RlZmVyTGFiZWxzKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVUaXRsZSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5vdGVzKCk7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICB9XG5cbiAgICAvLyBhYnN0cmFjdCBsYWJlbHNDb3VudCgpOiBOdW1iZXJcbiAgICAvLyBhYnN0cmFjdCBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIG9wdGlvbnMpOiBBeGlzTGFiZWxcblxuICAgIGxhYmVsc1JhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLm9wdGlvbnMubGFiZWxzLnNraXAsXG4gICAgICAgICAgICBtYXg6IHRoaXMubGFiZWxzQ291bnQoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVscygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYWxpZ24gPSBvcHRpb25zLnZlcnRpY2FsID8gUklHSFQgOiBDRU5URVI7XG4gICAgICAgIGNvbnN0IGxhYmVsT3B0aW9ucyA9IGRlZXBFeHRlbmQoeyB9LCBvcHRpb25zLmxhYmVscywge1xuICAgICAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIGxhYmVsT3B0aW9ucy5zdGVwKTtcblxuICAgICAgICB0aGlzLmNsZWFyTGFiZWxzKCk7XG5cbiAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMubGFiZWxzUmFuZ2UoKTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gbGFiZWxPcHRpb25zLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICBpZiAoaXNPYmplY3Qocm90YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxPcHRpb25zLmFsaWduUm90YXRpb24gPSByb3RhdGlvbi5hbGlnbjtcbiAgICAgICAgICAgICAgICBsYWJlbE9wdGlvbnMucm90YXRpb24gPSByb3RhdGlvbi5hbmdsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5yb3RhdGlvbiA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICBsYWJlbE9wdGlvbnMucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYXV0b1JvdGF0ZUxhYmVscyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IHJhbmdlLm1pbjsgaWR4IDwgcmFuZ2UubWF4OyBpZHggKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHRoaXMuY3JlYXRlQXhpc0xhYmVsKGlkeCwgbGFiZWxPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhckxhYmVscygpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGdyZXAodGhpcy5jaGlsZHJlbiwgY2hpbGQgPT4gIShjaGlsZCBpbnN0YW5jZW9mIEF4aXNMYWJlbCkpO1xuICAgICAgICB0aGlzLmxhYmVscyA9IFtdO1xuICAgIH1cblxuICAgIGNsZWFyVGl0bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gZ3JlcCh0aGlzLmNoaWxkcmVuLCBjaGlsZCA9PiBjaGlsZCAhPT0gdGhpcy50aXRsZSk7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJMYWJlbHMoKTtcbiAgICAgICAgdGhpcy5jbGVhclRpdGxlKCk7XG4gICAgfVxuXG4gICAgbGluZUJveCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBib3ggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgbWlycm9yID0gb3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICBjb25zdCBheGlzWCA9IG1pcnJvciA/IGJveC54MSA6IGJveC54MjtcbiAgICAgICAgY29uc3QgYXhpc1kgPSBtaXJyb3IgPyBib3gueTIgOiBib3gueTE7XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IG9wdGlvbnMubGluZS53aWR0aCB8fCAwO1xuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNhbCA/XG4gICAgICAgICAgICBuZXcgQm94KGF4aXNYLCBib3gueTEsIGF4aXNYLCBib3gueTIgLSBsaW5lV2lkdGgpIDpcbiAgICAgICAgICAgIG5ldyBCb3goYm94LngxLCBheGlzWSwgYm94LngyIC0gbGluZVdpZHRoLCBheGlzWSk7XG4gICAgfVxuXG4gICAgY3JlYXRlVGl0bGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHRpdGxlT3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMudmVydGljYWwgPyAtOTAgOiAwLFxuICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgICAgIHZpc3VhbFNpemU6IHRydWVcbiAgICAgICAgfSwgb3B0aW9ucy50aXRsZSk7XG5cbiAgICAgICAgaWYgKHRpdGxlT3B0aW9ucy52aXNpYmxlICYmIHRpdGxlT3B0aW9ucy50ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZSA9IG5ldyBUZXh0Qm94KHRpdGxlT3B0aW9ucy50ZXh0LCB0aXRsZU9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGl0bGUpO1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTm90ZXMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG5vdGVzID0gb3B0aW9ucy5ub3RlcztcbiAgICAgICAgY29uc3QgaXRlbXMgPSBub3Rlcy5kYXRhIHx8IFtdO1xuXG4gICAgICAgIHRoaXMubm90ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZGVlcEV4dGVuZCh7fSwgbm90ZXMsIGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIGl0ZW0udmFsdWUgPSB0aGlzLnBhcnNlTm90ZVZhbHVlKGl0ZW0udmFsdWUpO1xuXG4gICAgICAgICAgICBjb25zdCBub3RlID0gbmV3IE5vdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW0ubGFiZWwudGV4dCxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogaXRlbVxuICAgICAgICAgICAgfSwgaXRlbSwgdGhpcy5jaGFydFNlcnZpY2UpO1xuXG4gICAgICAgICAgICBpZiAobm90ZS5vcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZChub3RlLm9wdGlvbnMucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnZlcnRpY2FsICYmICFpbkFycmF5KG5vdGUub3B0aW9ucy5wb3NpdGlvbiwgWyBMRUZULCBSSUdIVCBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5vcHRpb25zLnBvc2l0aW9uID0gb3B0aW9ucy5yZXZlcnNlID8gTEVGVCA6IFJJR0hUO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFvcHRpb25zLnZlcnRpY2FsICYmICFpbkFycmF5KG5vdGUub3B0aW9ucy5wb3NpdGlvbiwgWyBUT1AsIEJPVFRPTSBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5vcHRpb25zLnBvc2l0aW9uID0gb3B0aW9ucy5yZXZlcnNlID8gQk9UVE9NIDogVE9QO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucmV2ZXJzZSA/IExFRlQgOiBSSUdIVDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5wb3NpdGlvbiA9IG9wdGlvbnMucmV2ZXJzZSA/IEJPVFRPTSA6IFRPUDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChub3RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGVzLnB1c2gobm90ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJzZU5vdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVuZGVyVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5yZW5kZXJWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVBsb3RCYW5kcygpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVCYWNrZ3JvdW5kKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGluZSgpO1xuICAgIH1cblxuICAgIGdyaWRMaW5lc1Zpc3VhbCgpIHtcbiAgICAgICAgbGV0IGdyaWRMaW5lcyA9IHRoaXMuX2dyaWRMaW5lcztcbiAgICAgICAgaWYgKCFncmlkTGluZXMpIHtcbiAgICAgICAgICAgIGdyaWRMaW5lcyA9IHRoaXMuX2dyaWRMaW5lcyA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgICAgICB6SW5kZXg6IC0yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKHRoaXMuX2dyaWRMaW5lcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JpZExpbmVzO1xuICAgIH1cblxuICAgIGNyZWF0ZVRpY2tzKGxpbmVHcm91cCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgbWFqb3JVbml0ID0gb3B0aW9ucy5tYWpvclRpY2tzLnZpc2libGUgPyBvcHRpb25zLm1ham9yVW5pdCA6IDA7XG4gICAgICAgIGNvbnN0IHRpY2tMaW5lT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgIC8vIF9hbGlnbkxpbmVzOiBvcHRpb25zLl9hbGlnbkxpbmVzLFxuICAgICAgICAgICAgdmVydGljYWw6IG9wdGlvbnMudmVydGljYWxcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByZW5kZXIodGlja1Bvc2l0aW9ucywgdGlja09wdGlvbnMsIHNraXBVbml0KSB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IHRpY2tQb3NpdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIHRpY2tPcHRpb25zLnN0ZXApO1xuXG4gICAgICAgICAgICBpZiAodGlja09wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aWNrT3B0aW9ucy5za2lwOyBpIDwgY291bnQ7IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZChza2lwVW5pdCkgJiYgKGkgJSBza2lwVW5pdCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGlja0xpbmVPcHRpb25zLnRpY2tYID0gbWlycm9yID8gbGluZUJveC54MiA6IGxpbmVCb3gueDIgLSB0aWNrT3B0aW9ucy5zaXplO1xuICAgICAgICAgICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMudGlja1kgPSBtaXJyb3IgPyBsaW5lQm94LnkxIC0gdGlja09wdGlvbnMuc2l6ZSA6IGxpbmVCb3gueTE7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tMaW5lT3B0aW9ucy5wb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZUdyb3VwLmFwcGVuZChjcmVhdGVBeGlzVGljayh0aWNrTGluZU9wdGlvbnMsIHRpY2tPcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyKHRoaXMuZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCksIG9wdGlvbnMubWFqb3JUaWNrcyk7XG4gICAgICAgIHJlbmRlcih0aGlzLmdldE1pbm9yVGlja1Bvc2l0aW9ucygpLCBvcHRpb25zLm1pbm9yVGlja3MsIG1ham9yVW5pdCAvIG9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaW5lKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lID0gb3B0aW9ucy5saW5lO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG5cbiAgICAgICAgaWYgKGxpbmUud2lkdGggPiAwICYmIGxpbmUudmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBkcmF3LlBhdGgoe1xuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbGluZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGxpbmUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBsaW5lLmRhc2hUeXBlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogVE9ET1xuICAgICAgICAgICAgICAgIHpJbmRleDogbGluZS56SW5kZXgsXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwYXRoLm1vdmVUbyhsaW5lQm94LngxLCBsaW5lQm94LnkxKVxuICAgICAgICAgICAgICAgIC5saW5lVG8obGluZUJveC54MiwgbGluZUJveC55Mik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLl9hbGlnbkxpbmVzKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChwYXRoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLl9saW5lR3JvdXAgPSBuZXcgZHJhdy5Hcm91cCgpO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHBhdGgpO1xuXG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQoZ3JvdXApO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUaWNrcyhncm91cCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBY3R1YWxUaWNrU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IHRpY2tTaXplID0gMDtcblxuICAgICAgICBpZiAob3B0aW9ucy5tYWpvclRpY2tzLnZpc2libGUgJiYgb3B0aW9ucy5taW5vclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRpY2tTaXplID0gTWF0aC5tYXgob3B0aW9ucy5tYWpvclRpY2tzLnNpemUsIG9wdGlvbnMubWlub3JUaWNrcy5zaXplKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm1ham9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgdGlja1NpemUgPSBvcHRpb25zLm1ham9yVGlja3Muc2l6ZTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm1pbm9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgdGlja1NpemUgPSBvcHRpb25zLm1pbm9yVGlja3Muc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWNrU2l6ZTtcbiAgICB9XG5cbiAgICBjcmVhdGVCYWNrZ3JvdW5kKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IG9wdGlvbnMuYmFja2dyb3VuZDtcblxuICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5fYmFja2dyb3VuZFBhdGggPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpLCB7XG4gICAgICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMuX2JhY2tncm91bmRQYXRoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBsb3RCYW5kcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcGxvdEJhbmRzID0gb3B0aW9ucy5wbG90QmFuZHMgfHwgW107XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gb3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBsb3RBcmVhO1xuXG4gICAgICAgIGlmIChwbG90QmFuZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX3Bsb3RiYW5kR3JvdXAgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFsdEF4aXMgPSBncmVwKHRoaXMucGFuZS5heGVzLCBheGlzID0+IGF4aXMub3B0aW9ucy52ZXJ0aWNhbCAhPT0gdGhpcy5vcHRpb25zLnZlcnRpY2FsKVswXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwbG90QmFuZHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBwbG90QmFuZHNbaWR4XTtcbiAgICAgICAgICAgIGxldCBzbG90WCwgc2xvdFk7XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHNsb3RYID0gKGFsdEF4aXMgfHwgcGxvdEFyZWEuYXhpc1gpLmxpbmVCb3goKTtcbiAgICAgICAgICAgICAgICBzbG90WSA9IHRoaXMuZ2V0U2xvdChpdGVtLmZyb20sIGl0ZW0udG8sIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbG90WCA9IHRoaXMuZ2V0U2xvdChpdGVtLmZyb20sIGl0ZW0udG8sIHRydWUpO1xuICAgICAgICAgICAgICAgIHNsb3RZID0gKGFsdEF4aXMgfHwgcGxvdEFyZWEuYXhpc1kpLmxpbmVCb3goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNsb3RYLndpZHRoKCkgIT09IDAgJiYgc2xvdFkuaGVpZ2h0KCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYW5kUmVjdCA9IG5ldyBnZW9tLlJlY3QoXG4gICAgICAgICAgICAgICAgICAgIFsgc2xvdFgueDEsIHNsb3RZLnkxIF0sXG4gICAgICAgICAgICAgICAgICAgIFsgc2xvdFgud2lkdGgoKSwgc2xvdFkuaGVpZ2h0KCkgXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gZHJhdy5QYXRoLmZyb21SZWN0KGJhbmRSZWN0LCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpdGVtLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaXRlbS5vcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmRWaXN1YWwoZ3JvdXApO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRMaW5lcyhhbHRBeGlzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWlub3JHcmlkTGluZXMsIG1ham9yR3JpZExpbmVzLCBtaW5vclVuaXQsIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBheGlzTGluZVZpc2libGUgPSBhbHRBeGlzLm9wdGlvbnMubGluZS52aXNpYmxlO1xuICAgICAgICBjb25zdCBtYWpvclVuaXQgPSBtYWpvckdyaWRMaW5lcy52aXNpYmxlID8gb3B0aW9ucy5tYWpvclVuaXQgOiAwO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gYWx0QXhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGxpbmVQb3MgPSBsaW5lQm94W3ZlcnRpY2FsID8gXCJ5MVwiIDogXCJ4MVwiXTtcbiAgICAgICAgY29uc3QgbGluZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsaW5lU3RhcnQ6IGxpbmVCb3hbdmVydGljYWwgPyBcIngxXCIgOiBcInkxXCJdLFxuICAgICAgICAgICAgbGluZUVuZDogbGluZUJveFt2ZXJ0aWNhbCA/IFwieDJcIiA6IFwieTJcIl0sXG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWFqb3JUaWNrcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuZ3JpZExpbmVzVmlzdWFsKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyKHRpY2tQb3NpdGlvbnMsIGdyaWRMaW5lLCBza2lwVW5pdCkge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSB0aWNrUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBncmlkTGluZS5zdGVwKTtcblxuICAgICAgICAgICAgaWYgKGdyaWRMaW5lLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gZ3JpZExpbmUuc2tpcDsgaSA8IGNvdW50OyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHJvdW5kKHRpY2tQb3NpdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluQXJyYXkocG9zLCBtYWpvclRpY2tzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSBza2lwVW5pdCAhPT0gMCAmJiAoIWF4aXNMaW5lVmlzaWJsZSB8fCBsaW5lUG9zICE9PSBwb3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU9wdGlvbnMucG9zaXRpb24gPSBwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChjcmVhdGVBeGlzR3JpZExpbmUobGluZU9wdGlvbnMsIGdyaWRMaW5lKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWpvclRpY2tzLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcih0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpLCBtYWpvckdyaWRMaW5lcyk7XG4gICAgICAgIHJlbmRlcih0aGlzLmdldE1pbm9yVGlja1Bvc2l0aW9ucygpLCBtaW5vckdyaWRMaW5lcywgbWFqb3JVbml0IC8gbWlub3JVbml0KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIH1cblxuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsYWJlbHMsIHRpdGxlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbGFiZWxzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2l6ZUZuID0gdmVydGljYWwgPyBXSURUSCA6IEhFSUdIVDtcbiAgICAgICAgY29uc3QgdGl0bGVTaXplID0gdGl0bGUgPyB0aXRsZS5ib3hbc2l6ZUZuXSgpIDogMDtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSB0aGlzLmdldEFjdHVhbFRpY2tTaXplKCkgKyBvcHRpb25zLm1hcmdpbiArIHRpdGxlU2l6ZTtcbiAgICAgICAgY29uc3Qgcm9vdEJveCA9ICh0aGlzLmdldFJvb3QoKSB8fCB7fSkuYm94IHx8IGJveDtcbiAgICAgICAgY29uc3QgYm94U2l6ZSA9IHJvb3RCb3hbc2l6ZUZuXSgpO1xuICAgICAgICBsZXQgbWF4TGFiZWxTaXplID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsYWJlbFNpemUgPSBsYWJlbHNbaV0uYm94W3NpemVGbl0oKTtcbiAgICAgICAgICAgIGlmIChsYWJlbFNpemUgKyBzcGFjZSA8PSBib3hTaXplKSB7XG4gICAgICAgICAgICAgICAgbWF4TGFiZWxTaXplID0gTWF0aC5tYXgobWF4TGFiZWxTaXplLCBsYWJlbFNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgYm94LngxLCBib3gueTEsXG4gICAgICAgICAgICAgICAgYm94LngxICsgbWF4TGFiZWxTaXplICsgc3BhY2UsIGJveC55MlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBib3gueDEsIGJveC55MSxcbiAgICAgICAgICAgICAgICBib3gueDIsIGJveC55MSArIG1heExhYmVsU2l6ZSArIHNwYWNlXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcnJhbmdlVGl0bGUoKTtcbiAgICAgICAgdGhpcy5hcnJhbmdlTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuYXJyYW5nZU5vdGVzKCk7XG4gICAgfVxuXG4gICAgZ2V0TGFiZWxzVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCk7XG4gICAgfVxuXG4gICAgbGFiZWxUaWNrSW5kZXgobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIGxhYmVsLmluZGV4O1xuICAgIH1cblxuICAgIGFycmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbGFiZWxzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsYWJlbHNCZXR3ZWVuVGlja3MgPSB0aGlzLmxhYmVsc0JldHdlZW5UaWNrcygpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbWlycm9yID0gb3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICBjb25zdCB0aWNrUG9zaXRpb25zID0gdGhpcy5nZXRMYWJlbHNUaWNrUG9zaXRpb25zKCk7XG4gICAgICAgIGNvbnN0IGxhYmVsT2Zmc2V0ID0gdGhpcy5nZXRBY3R1YWxUaWNrU2l6ZSgpICsgb3B0aW9ucy5tYXJnaW47XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGFiZWxzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB0aWNrSXggPSB0aGlzLmxhYmVsVGlja0luZGV4KGxhYmVsKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsU2l6ZSA9IHZlcnRpY2FsID8gbGFiZWwuYm94LmhlaWdodCgpIDogbGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICBsZXQgbGFiZWxQb3MgPSB0aWNrUG9zaXRpb25zW3RpY2tJeF0gLSAobGFiZWxTaXplIC8gMik7XG4gICAgICAgICAgICBsZXQgbGFiZWxCb3gsIGZpcnN0VGlja1Bvc2l0aW9uLCBuZXh0VGlja1Bvc2l0aW9uO1xuXG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxzQmV0d2VlblRpY2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VGlja1Bvc2l0aW9uID0gdGlja1Bvc2l0aW9uc1t0aWNrSXhdO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGlja1Bvc2l0aW9uID0gdGlja1Bvc2l0aW9uc1t0aWNrSXggKyAxXTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgbWlkZGxlID0gZmlyc3RUaWNrUG9zaXRpb24gKyAobmV4dFRpY2tQb3NpdGlvbiAtIGZpcnN0VGlja1Bvc2l0aW9uKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsUG9zID0gbWlkZGxlIC0gKGxhYmVsU2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBsYWJlbFggPSBsaW5lQm94LngyO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFggKz0gbGFiZWxPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSBMRUZUO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsWCAtPSBsYWJlbE9mZnNldCArIGxhYmVsLmJveC53aWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gUklHSFQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBsYWJlbC5ib3gubW92ZShsYWJlbFgsIGxhYmVsUG9zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsc0JldHdlZW5UaWNrcykge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFRpY2tQb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbdGlja0l4XTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2tQb3NpdGlvbiA9IHRpY2tQb3NpdGlvbnNbdGlja0l4ICsgMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RUaWNrUG9zaXRpb24gPSBsYWJlbFBvcztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2tQb3NpdGlvbiA9IGxhYmVsUG9zICsgbGFiZWxTaXplO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBsYWJlbFkgPSBsaW5lQm94LnkxO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFkgLT0gbGFiZWxPZmZzZXQgKyBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMucm90YXRpb25PcmlnaW4gPSBCT1RUT007XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxZICs9IGxhYmVsT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gVE9QO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhYmVsQm94ID0gbmV3IEJveChmaXJzdFRpY2tQb3NpdGlvbiwgbGFiZWxZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VGlja1Bvc2l0aW9uLCBsYWJlbFkgKyBsYWJlbC5ib3guaGVpZ2h0KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYWJlbC5yZWZsb3cobGFiZWxCb3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXV0b1JvdGF0ZUxhYmVscygpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvUm90YXRlTGFiZWxzICYmICF0aGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpY2tQb3NpdGlvbnMgPSB0aGlzLmdldE1ham9yVGlja1Bvc2l0aW9ucygpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgICAgICBsZXQgYW5nbGU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxhYmVscy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyh0aWNrUG9zaXRpb25zW2lkeCArIDFdIC0gdGlja1Bvc2l0aW9uc1tpZHhdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbEJveCA9IGxhYmVsc1tpZHhdLmJveDtcblxuICAgICAgICAgICAgICAgIGlmIChsYWJlbEJveC53aWR0aCgpID4gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsQm94LmhlaWdodCgpID4gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gLTkwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSAtNDU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsYWJlbHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHNbaWR4XS5vcHRpb25zLnJvdGF0aW9uID0gYW5nbGU7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsc1tpZHhdLnJlZmxvdyhuZXcgQm94KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFycmFuZ2VUaXRsZSgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB0aXRsZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbWlycm9yID0gb3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWw7XG5cbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB0aXRsZS5vcHRpb25zLmFsaWduID0gbWlycm9yID8gUklHSFQgOiBMRUZUO1xuICAgICAgICAgICAgICAgIHRpdGxlLm9wdGlvbnMudkFsaWduID0gdGl0bGUub3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGl0bGUub3B0aW9ucy5hbGlnbiA9IHRpdGxlLm9wdGlvbnMucG9zaXRpb247XG4gICAgICAgICAgICAgICAgdGl0bGUub3B0aW9ucy52QWxpZ24gPSBtaXJyb3IgPyBUT1AgOiBCT1RUT007XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpdGxlLnJlZmxvdyh0aGlzLmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcnJhbmdlTm90ZXMoKSB7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHRoaXMubm90ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMubm90ZXNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbS5vcHRpb25zLnZhbHVlO1xuICAgICAgICAgICAgbGV0IHNsb3Q7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFJlbmRlck5vdGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2hvdygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNsb3QgPSB0aGlzLm5vdGVTbG90KHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0ucmVmbG93KHNsb3QgfHwgdGhpcy5saW5lQm94KCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbm90ZVNsb3QodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2xvdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgYWxpZ25UbyhzZWNvbmRBeGlzKSB7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSBzZWNvbmRBeGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IHBvcyA9IHZlcnRpY2FsID8gWSA6IFg7XG5cbiAgICAgICAgdGhpcy5ib3guc25hcFRvKGxpbmVCb3gsIHBvcyk7XG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy5ib3guc2hyaW5rKDAsIHRoaXMubGluZUJveCgpLmhlaWdodCgpIC0gbGluZUJveC5oZWlnaHQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJveC5zaHJpbmsodGhpcy5saW5lQm94KCkud2lkdGgoKSAtIGxpbmVCb3gud2lkdGgoKSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3hbcG9zICsgMV0gLT0gdGhpcy5saW5lQm94KClbcG9zICsgMV0gLSBsaW5lQm94W3BvcyArIDFdO1xuICAgICAgICB0aGlzLmJveFtwb3MgKyAyXSAtPSB0aGlzLmxpbmVCb3goKVtwb3MgKyAyXSAtIGxpbmVCb3hbcG9zICsgMl07XG4gICAgfVxuXG4gICAgYXhpc0xhYmVsVGV4dCh2YWx1ZSwgZGF0YUl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdG1wbCA9IGdldFRlbXBsYXRlKG9wdGlvbnMpO1xuICAgICAgICBsZXQgdGV4dCA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0bXBsKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdG1wbCh7IHZhbHVlOiB2YWx1ZSwgZGF0YUl0ZW06IGRhdGFJdGVtLCBmb3JtYXQ6IG9wdGlvbnMuZm9ybWF0LCBjdWx0dXJlOiBvcHRpb25zLmN1bHR1cmUgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgICAgICAgIHRleHQgPSB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQubG9jYWxlQXV0byhvcHRpb25zLmZvcm1hdCwgWyB2YWx1ZSBdLCBvcHRpb25zLmN1bHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgc2xvdChmcm9tICwgdG8sIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoZnJvbSwgdG8sIGxpbWl0KTtcbiAgICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgICAgIHJldHVybiBzbG90LnRvUmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGVudEJveCgpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3guY2xvbmUoKTtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgIGlmIChsYWJlbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFydFNlcnZpY2UuaXNQYW5uYWJsZShheGlzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMubWF4TGFiZWxPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBib3hbYXhpcyArIDFdIC09IG9mZnNldC5zdGFydDtcbiAgICAgICAgICAgICAgICBib3hbYXhpcyArIDJdICs9IG9mZnNldC5lbmQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbHNbMF0ub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC53cmFwKGxhYmVsc1swXS5ib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TGFiZWwgPSBsYWJlbHNbbGFiZWxzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0TGFiZWwub3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC53cmFwKGxhc3RMYWJlbC5ib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxuXG4gICAgbWF4TGFiZWxPZmZzZXQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIHJldmVyc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxzQmV0d2VlblRpY2tzID0gdGhpcy5sYWJlbHNCZXR3ZWVuVGlja3MoKTtcbiAgICAgICAgY29uc3QgdGlja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0TGFiZWxzVGlja1Bvc2l0aW9ucygpO1xuICAgICAgICBjb25zdCBvZmZzZXRGaWVsZCA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gcmV2ZXJzZSA/IDEgOiAwO1xuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IHJldmVyc2UgPyAwIDogMTtcbiAgICAgICAgbGV0IG1heFN0YXJ0T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1heEVuZE9mZnNldCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGFiZWxzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gbGFiZWxzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB0aWNrSXggPSB0aGlzLmxhYmVsVGlja0luZGV4KGxhYmVsKTtcbiAgICAgICAgICAgIGxldCBzdGFydFRpY2ssIGVuZFRpY2s7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbHNCZXR3ZWVuVGlja3MpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpY2sgPSB0aWNrUG9zaXRpb25zW3RpY2tJeCArIHN0YXJ0UG9zaXRpb25dO1xuICAgICAgICAgICAgICAgIGVuZFRpY2sgPSB0aWNrUG9zaXRpb25zW3RpY2tJeCArIGVuZFBvc2l0aW9uXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUaWNrID0gZW5kVGljayA9IHRpY2tQb3NpdGlvbnNbdGlja0l4XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF4U3RhcnRPZmZzZXQgPSBNYXRoLm1heChtYXhTdGFydE9mZnNldCwgc3RhcnRUaWNrIC0gbGFiZWwuYm94W29mZnNldEZpZWxkICsgMV0pO1xuICAgICAgICAgICAgbWF4RW5kT2Zmc2V0ID0gTWF0aC5tYXgobWF4RW5kT2Zmc2V0LCBsYWJlbC5ib3hbb2Zmc2V0RmllbGQgKyAyXSAtIGVuZFRpY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBtYXhTdGFydE9mZnNldCxcbiAgICAgICAgICAgIGVuZDogbWF4RW5kT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGltaXRSYW5nZShmcm9tLCB0bywgbWluLCBtYXgsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmICgoZnJvbSA8IG1pbiAmJiBvZmZzZXQgPCAwICYmICghZGVmaW5lZChvcHRpb25zLm1pbikgfHwgb3B0aW9ucy5taW4gPD0gbWluKSkgfHwgKG1heCA8IHRvICYmIG9mZnNldCA+IDAgJiYgKCFkZWZpbmVkKG9wdGlvbnMubWF4KSB8fCBtYXggPD0gb3B0aW9ucy5tYXgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRvIDwgbWluICYmIG9mZnNldCA+IDApIHx8IChtYXggPCBmcm9tICYmIG9mZnNldCA8IDApKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogZnJvbSxcbiAgICAgICAgICAgICAgICBtYXg6IHRvXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2VTaXplID0gdG8gLSBmcm9tO1xuICAgICAgICBsZXQgbWluVmFsdWUgPSBmcm9tO1xuICAgICAgICBsZXQgbWF4VmFsdWUgPSB0bztcblxuICAgICAgICBpZiAoZnJvbSA8IG1pbiAmJiBvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBtaW5WYWx1ZSA9IGxpbWl0VmFsdWUoZnJvbSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgbWF4VmFsdWUgPSBsaW1pdFZhbHVlKGZyb20gKyByYW5nZVNpemUsIG1pbiArIHJhbmdlU2l6ZSwgbWF4KTtcbiAgICAgICAgfSBlbHNlIGlmICh0byA+IG1heCAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IGxpbWl0VmFsdWUodG8sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIG1pblZhbHVlID0gbGltaXRWYWx1ZSh0byAtIHJhbmdlU2l6ZSwgbWluLCBtYXggLSByYW5nZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluVmFsdWUsXG4gICAgICAgICAgICBtYXg6IG1heFZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5zZXJpZXNNaW4sXG4gICAgICAgICAgICBtYXg6IHRoaXMuc2VyaWVzTWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbGFiZWxzQmV0d2VlblRpY2tzKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMub3B0aW9ucy5qdXN0aWZpZWQ7XG4gICAgfVxuXG4gICAgLy9hZGQgbGVnYWN5IGZpZWxkcyB0byB0aGUgb3B0aW9ucyB0aGF0IGFyZSBubyBsb25nZXIgZ2VuZXJhdGVkIGJ5IGRlZmF1bHRcbiAgICBwcmVwYXJlVXNlck9wdGlvbnMoKSB7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhBeGlzLCB7XG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBtaXJyb3I6IGZhbHNlLFxuICAgICAgICBzdGVwOiAxLFxuICAgICAgICBza2lwOiAwXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHBvc2l0aW9uOiBDRU5URVJcbiAgICB9LFxuICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgYWxpZ246IE9VVFNJREUsXG4gICAgICAgIHNpemU6IDQsXG4gICAgICAgIHNraXA6IDAsXG4gICAgICAgIHN0ZXA6IDFcbiAgICB9LFxuICAgIG1pbm9yVGlja3M6IHtcbiAgICAgICAgYWxpZ246IE9VVFNJREUsXG4gICAgICAgIHNpemU6IDMsXG4gICAgICAgIHNraXA6IDAsXG4gICAgICAgIHN0ZXA6IDFcbiAgICB9LFxuICAgIGF4aXNDcm9zc2luZ1ZhbHVlOiAwLFxuICAgIG1ham9yVGlja1R5cGU6IE9VVFNJREUsXG4gICAgbWlub3JUaWNrVHlwZTogTk9ORSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICBza2lwOiAwLFxuICAgICAgICBzdGVwOiAxXG4gICAgfSxcbiAgICBtaW5vckdyaWRMaW5lczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgc2tpcDogMCxcbiAgICAgICAgc3RlcDogMVxuICAgIH0sXG4gICAgLy8gVE9ETzogTW92ZSB0byBsaW5lIG9yIGxhYmVscyBvcHRpb25zXG4gICAgbWFyZ2luOiA1LFxuICAgIHZpc2libGU6IHRydWUsXG4gICAgcmV2ZXJzZTogZmFsc2UsXG4gICAganVzdGlmaWVkOiB0cnVlLFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICB0ZXh0OiBcIlwiXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2FsaWduTGluZXM6IHRydWUsXG4gICAgX2RlZmVyTGFiZWxzOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aXM7XG4iLCJleHBvcnQgY29uc3QgTUlMTElTRUNPTkRTID0gXCJtaWxsaXNlY29uZHNcIjtcbmV4cG9ydCBjb25zdCBTRUNPTkRTID0gXCJzZWNvbmRzXCI7XG5leHBvcnQgY29uc3QgTUlOVVRFUyA9IFwibWludXRlc1wiO1xuZXhwb3J0IGNvbnN0IEhPVVJTID0gXCJob3Vyc1wiO1xuZXhwb3J0IGNvbnN0IERBWVMgPSBcImRheXNcIjtcbmV4cG9ydCBjb25zdCBXRUVLUyA9IFwid2Vla3NcIjtcbmV4cG9ydCBjb25zdCBNT05USFMgPSBcIm1vbnRoc1wiO1xuZXhwb3J0IGNvbnN0IFlFQVJTID0gXCJ5ZWFyc1wiO1xuXG5leHBvcnQgY29uc3QgVElNRV9QRVJfTUlMTElTRUNPTkQgPSAxO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX1NFQ09ORCA9IDEwMDA7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfTUlOVVRFID0gNjAgKiBUSU1FX1BFUl9TRUNPTkQ7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfSE9VUiA9IDYwICogVElNRV9QRVJfTUlOVVRFO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX0RBWSA9IDI0ICogVElNRV9QRVJfSE9VUjtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9XRUVLID0gNyAqIFRJTUVfUEVSX0RBWTtcbmV4cG9ydCBjb25zdCBUSU1FX1BFUl9NT05USCA9IDMxICogVElNRV9QRVJfREFZO1xuZXhwb3J0IGNvbnN0IFRJTUVfUEVSX1lFQVIgPSAzNjUgKiBUSU1FX1BFUl9EQVk7XG5leHBvcnQgY29uc3QgVElNRV9QRVJfVU5JVCA9IHtcbiAgICBcInllYXJzXCI6IFRJTUVfUEVSX1lFQVIsXG4gICAgXCJtb250aHNcIjogVElNRV9QRVJfTU9OVEgsXG4gICAgXCJ3ZWVrc1wiOiBUSU1FX1BFUl9XRUVLLFxuICAgIFwiZGF5c1wiOiBUSU1FX1BFUl9EQVksXG4gICAgXCJob3Vyc1wiOiBUSU1FX1BFUl9IT1VSLFxuICAgIFwibWludXRlc1wiOiBUSU1FX1BFUl9NSU5VVEUsXG4gICAgXCJzZWNvbmRzXCI6IFRJTUVfUEVSX1NFQ09ORCxcbiAgICBcIm1pbGxpc2Vjb25kc1wiOiBUSU1FX1BFUl9NSUxMSVNFQ09ORFxufTtcblxuIiwiaW1wb3J0IHsgVElNRV9QRVJfTUlOVVRFIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhYnNvbHV0ZURhdGVEaWZmKGEsIGIpIHtcbiAgICBjb25zdCBkaWZmID0gYS5nZXRUaW1lKCkgLSBiO1xuICAgIGNvbnN0IG9mZnNldERpZmYgPSBhLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBiLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICByZXR1cm4gZGlmZiAtIChvZmZzZXREaWZmICogVElNRV9QRVJfTUlOVVRFKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRUaWNrcyhkYXRlLCB0aWNrcykge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIHRpY2tzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0RhdGUodmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0O1xuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCB7IFRJTUVfUEVSX0RBWSB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBhZGRUaWNrcyBmcm9tICcuL2FkZC10aWNrcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRhdGUsIHdlZWtTdGFydERheSA9IDApIHtcbiAgICBsZXQgZGF5c1RvU3VidHJhY3QgPSAwO1xuICAgIGxldCBkYXkgPSBkYXRlLmdldERheSgpO1xuXG4gICAgaWYgKCFpc05hTihkYXkpKSB7XG4gICAgICAgIHdoaWxlIChkYXkgIT09IHdlZWtTdGFydERheSkge1xuICAgICAgICAgICAgaWYgKGRheSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRheSA9IDY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRheS0tO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXlzVG9TdWJ0cmFjdCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZFRpY2tzKGRhdGUsIC1kYXlzVG9TdWJ0cmFjdCAqIFRJTUVfUEVSX0RBWSk7XG59IiwiaW1wb3J0IHsgTUlMTElTRUNPTkRTLCBTRUNPTkRTLCBNSU5VVEVTLCBIT1VSUywgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlMsXG4gICAgVElNRV9QRVJfU0VDT05ELCBUSU1FX1BFUl9NSU5VVEUsIFRJTUVfUEVSX0hPVVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgYWRkVGlja3MgZnJvbSAnLi9hZGQtdGlja3MnO1xuaW1wb3J0IHRvRGF0ZSBmcm9tICcuL3RvLWRhdGUnO1xuaW1wb3J0IHN0YXJ0T2ZXZWVrIGZyb20gJy4vc3RhcnQtb2Ytd2Vlayc7XG5cbmZ1bmN0aW9uIGFkanVzdERTVChkYXRlLCBob3Vycykge1xuICAgIGlmIChob3VycyA9PT0gMCAmJiBkYXRlLmdldEhvdXJzKCkgPT09IDIzKSB7XG4gICAgICAgIGRhdGUuc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpICsgMik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWRkSG91cnMoZGF0ZSwgaG91cnMpIHtcbiAgICBjb25zdCByb3VuZGVkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG4gICAgcm91bmRlZERhdGUuc2V0TWludXRlcygwLCAwLCAwKTtcblxuICAgIGNvbnN0IHR6RGlmZiA9IChkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgLSByb3VuZGVkRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKSAqIFRJTUVfUEVSX01JTlVURTtcblxuICAgIHJldHVybiBhZGRUaWNrcyhyb3VuZGVkRGF0ZSwgdHpEaWZmICsgaG91cnMgKiBUSU1FX1BFUl9IT1VSKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkRHVyYXRpb24oZGF0ZVZhbHVlLCB2YWx1ZSwgdW5pdCwgd2Vla1N0YXJ0RGF5KSB7XG4gICAgbGV0IHJlc3VsdCA9IGRhdGVWYWx1ZTtcblxuICAgIGlmIChkYXRlVmFsdWUpIHtcbiAgICAgICAgbGV0IGRhdGUgPSB0b0RhdGUoZGF0ZVZhbHVlKTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG5cbiAgICAgICAgaWYgKHVuaXQgPT09IFlFQVJTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyB2YWx1ZSwgMCwgMSk7XG4gICAgICAgICAgICBhZGp1c3REU1QocmVzdWx0LCAwKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBNT05USFMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgdmFsdWUsIDEpO1xuICAgICAgICAgICAgYWRqdXN0RFNUKHJlc3VsdCwgaG91cnMpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IFdFRUtTKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhZGREdXJhdGlvbihzdGFydE9mV2VlayhkYXRlLCB3ZWVrU3RhcnREYXkpLCB2YWx1ZSAqIDcsIERBWVMpO1xuICAgICAgICAgICAgYWRqdXN0RFNUKHJlc3VsdCwgaG91cnMpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IERBWVMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSArIHZhbHVlKTtcbiAgICAgICAgICAgIGFkanVzdERTVChyZXN1bHQsIGhvdXJzKTtcbiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSBIT1VSUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gYWRkSG91cnMoZGF0ZSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IE1JTlVURVMpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFkZFRpY2tzKGRhdGUsIHZhbHVlICogVElNRV9QRVJfTUlOVVRFKTtcblxuICAgICAgICAgICAgaWYgKHJlc3VsdC5nZXRTZWNvbmRzKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldFNlY29uZHMoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gU0VDT05EUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gYWRkVGlja3MoZGF0ZSwgdmFsdWUgKiBUSU1FX1BFUl9TRUNPTkQpO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXQgPT09IE1JTExJU0VDT05EUykge1xuICAgICAgICAgICAgcmVzdWx0ID0gYWRkVGlja3MoZGF0ZSwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVuaXQgIT09IE1JTExJU0VDT05EUyAmJiByZXN1bHQuZ2V0TWlsbGlzZWNvbmRzKCkgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgYWRkRHVyYXRpb24gZnJvbSAnLi9hZGQtZHVyYXRpb24nO1xuaW1wb3J0IHRvRGF0ZSBmcm9tICcuL3RvLWRhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbG9vckRhdGUoZGF0ZSwgdW5pdCwgd2Vla1N0YXJ0RGF5KSB7XG4gICAgcmV0dXJuIGFkZER1cmF0aW9uKHRvRGF0ZShkYXRlKSwgMCwgdW5pdCwgd2Vla1N0YXJ0RGF5KTtcbn0iLCJpbXBvcnQgZmxvb3JEYXRlIGZyb20gJy4vZmxvb3ItZGF0ZSc7XG5pbXBvcnQgYWRkRHVyYXRpb24gZnJvbSAnLi9hZGQtZHVyYXRpb24nO1xuaW1wb3J0IHRvRGF0ZSBmcm9tICcuL3RvLWRhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjZWlsRGF0ZShkYXRlVmFsdWUsIHVuaXQsIHdlZWtTdGFydERheSkge1xuICAgIGNvbnN0IGRhdGUgPSB0b0RhdGUoZGF0ZVZhbHVlKTtcblxuICAgIGlmIChkYXRlICYmIGZsb29yRGF0ZShkYXRlLCB1bml0LCB3ZWVrU3RhcnREYXkpLmdldFRpbWUoKSA9PT0gZGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkZER1cmF0aW9uKGRhdGUsIDEsIHVuaXQsIHdlZWtTdGFydERheSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF0ZUNvbXBhcmVyKGEsIGIpIHtcbiAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgIHJldHVybiBhLmdldFRpbWUoKSAtIGIuZ2V0VGltZSgpO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlRGlmZihhLCBiKSB7XG4gICAgcmV0dXJuIGEuZ2V0VGltZSgpIC0gYjtcbn0iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9UaW1lKHZhbHVlKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdmFsdWUubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godG9UaW1lKHZhbHVlW2lkeF0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9EYXRlKHZhbHVlKS5nZXRUaW1lKCk7XG4gICAgfVxufSIsImltcG9ydCB0b1RpbWUgZnJvbSAnLi90by10aW1lJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF0ZUVxdWFscyhhLCBiKSB7XG4gICAgaWYgKGEgJiYgYikge1xuICAgICAgICByZXR1cm4gdG9UaW1lKGEpID09PSB0b1RpbWUoYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPT09IGI7XG59IiwiaW1wb3J0IHsgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlMsIFRJTUVfUEVSX1VOSVQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgZGF0ZURpZmYgZnJvbSAnLi9kYXRlLWRpZmYnO1xuaW1wb3J0IGFic29sdXRlRGF0ZURpZmYgZnJvbSAnLi9hYnNvbHV0ZS1kYXRlLWRpZmYnO1xuaW1wb3J0IHRvRGF0ZSBmcm9tICcuL3RvLWRhdGUnO1xuXG5mdW5jdGlvbiB0aW1lSW5kZXgoZGF0ZSwgc3RhcnQsIGJhc2VVbml0KSB7XG4gICAgcmV0dXJuIGFic29sdXRlRGF0ZURpZmYoZGF0ZSwgc3RhcnQpIC8gVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRhdGVJbmRleCh2YWx1ZSwgc3RhcnQsIGJhc2VVbml0LCBiYXNlVW5pdFN0ZXApIHtcbiAgICBjb25zdCBkYXRlID0gdG9EYXRlKHZhbHVlKTtcbiAgICBjb25zdCBzdGFydERhdGUgPSB0b0RhdGUoc3RhcnQpO1xuICAgIGxldCBpbmRleDtcblxuICAgIGlmIChiYXNlVW5pdCA9PT0gTU9OVEhTKSB7XG4gICAgICAgIGluZGV4ID0gKGRhdGUuZ2V0TW9udGgoKSAtIHN0YXJ0RGF0ZS5nZXRNb250aCgpICsgKGRhdGUuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpKSAqIDEyKSArXG4gICAgICAgICAgICB0aW1lSW5kZXgoZGF0ZSwgbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpLCBEQVlTKSAvIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xuICAgIH0gZWxzZSBpZiAoYmFzZVVuaXQgPT09IFlFQVJTKSB7XG4gICAgICAgIGluZGV4ID0gZGF0ZS5nZXRGdWxsWWVhcigpIC0gc3RhcnREYXRlLmdldEZ1bGxZZWFyKCkgKyBkYXRlSW5kZXgoZGF0ZSwgbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCAwKSwgTU9OVEhTLCAxKSAvIDEyO1xuICAgIH0gZWxzZSBpZiAoYmFzZVVuaXQgPT09IERBWVMgfHwgYmFzZVVuaXQgPT09IFdFRUtTKSB7XG4gICAgICAgIGluZGV4ID0gdGltZUluZGV4KGRhdGUsIHN0YXJ0RGF0ZSwgYmFzZVVuaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4ID0gZGF0ZURpZmYoZGF0ZSwgc3RhcnQpIC8gVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4IC8gYmFzZVVuaXRTdGVwO1xufVxuXG4iLCJpbXBvcnQgeyBEQVlTLCBNT05USFMsIFlFQVJTLCBUSU1FX1BFUl9EQVksIFRJTUVfUEVSX1VOSVQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgZGF0ZURpZmYgZnJvbSAnLi9kYXRlLWRpZmYnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkdXJhdGlvbihhLCBiLCB1bml0KSB7XG4gICAgbGV0IGRpZmY7XG5cbiAgICBpZiAodW5pdCA9PT0gWUVBUlMpIHtcbiAgICAgICAgZGlmZiA9IGIuZ2V0RnVsbFllYXIoKSAtIGEuZ2V0RnVsbFllYXIoKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT09IE1PTlRIUykge1xuICAgICAgICBkaWZmID0gZHVyYXRpb24oYSwgYiwgWUVBUlMpICogMTIgKyBiLmdldE1vbnRoKCkgLSBhLmdldE1vbnRoKCk7XG4gICAgfSBlbHNlIGlmICh1bml0ID09PSBEQVlTKSB7XG4gICAgICAgIGRpZmYgPSBNYXRoLmZsb29yKGRhdGVEaWZmKGIsIGEpIC8gVElNRV9QRVJfREFZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkaWZmID0gTWF0aC5mbG9vcihkYXRlRGlmZihiLCBhKSAvIFRJTUVfUEVSX1VOSVRbdW5pdF0pO1xuICAgIH1cblxuICAgIHJldHVybiBkaWZmO1xufSIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB0b0RhdGUgZnJvbSAnLi90by1kYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBkYXRlKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gaW50bFNlcnZpY2UucGFyc2VEYXRlKGRhdGUpIHx8IHRvRGF0ZShkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0b0RhdGUoZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgcGFyc2VEYXRlIGZyb20gJy4vcGFyc2UtZGF0ZSc7XG5cbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZURhdGVzKGludGxTZXJ2aWNlLCBkYXRlcykge1xuICAgIGlmIChpc0FycmF5KGRhdGVzKSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VEYXRlKGludGxTZXJ2aWNlLCBkYXRlc1tpZHhdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIGRhdGVzKTtcbn0iLCJpbXBvcnQgQXhpcyBmcm9tICcuL2F4aXMnO1xuaW1wb3J0IEF4aXNMYWJlbCBmcm9tICcuL2F4aXMtbGFiZWwnO1xuXG5pbXBvcnQgeyBCTEFDSywgQ09PUkRfUFJFQ0lTSU9OLCBERUZBVUxUX1BSRUNJU0lPTiwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCwgaXNOdW1iZXIsIGxhc3QsIGxpbWl0VmFsdWUsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQsIEhhc2hNYXAgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZGF0ZUVxdWFscyB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuXG5jb25zdCBNSU5fQ0FURUdPUllfUE9JTlRTX1JBTkdFID0gMC4wMTtcblxuZnVuY3Rpb24gaW5kZXhPZih2YWx1ZSwgYXJyKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoZGF0ZUVxdWFscyhhcnJbaWR4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyLmluZGV4T2YodmFsdWUpO1xufVxuXG5jbGFzcyBDYXRlZ29yeUF4aXMgZXh0ZW5kcyBBeGlzIHtcbiAgICBpbml0RmllbGRzKCkge1xuICAgICAgICB0aGlzLl90aWNrcyA9IHt9O1xuICAgIH1cblxuICAgIGNhdGVnb3JpZXNIYXNoKCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY29weSA9IG5ldyBDYXRlZ29yeUF4aXMoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzOiB0aGlzLm9wdGlvbnMuc3JjQ2F0ZWdvcmllc1xuICAgICAgICB9KSwgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgICAgICBjb3B5LmNyZWF0ZUxhYmVscygpO1xuXG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGRlZmluZWRNaW4gPSBkZWZpbmVkKG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgZGVmaW5lZE1heCA9IGRlZmluZWQob3B0aW9ucy5tYXgpO1xuICAgICAgICBvcHRpb25zLnNyY0NhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuXG4gICAgICAgIGlmICgoZGVmaW5lZE1pbiB8fCBkZWZpbmVkTWF4KSAmJiBjYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbWluID0gZGVmaW5lZE1pbiA/IE1hdGguZmxvb3Iob3B0aW9ucy5taW4pIDogMDtcbiAgICAgICAgICAgIGxldCBtYXg7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkTWF4KSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gb3B0aW9ucy5qdXN0aWZpZWQgPyBNYXRoLmZsb29yKG9wdGlvbnMubWF4KSArIDEgOiBNYXRoLmNlaWwob3B0aW9ucy5tYXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXggPSBjYXRlZ29yaWVzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5jYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzLnNsaWNlKG1pbiwgbWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHJhbmdlSW5kaWNlcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gb3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aCB8fCAxO1xuICAgICAgICBjb25zdCBtaW4gPSBpc051bWJlcihvcHRpb25zLm1pbikgPyBvcHRpb25zLm1pbiAlIDEgOiAwO1xuICAgICAgICBsZXQgbWF4O1xuXG4gICAgICAgIGlmIChpc051bWJlcihvcHRpb25zLm1heCkgJiYgb3B0aW9ucy5tYXggJSAxICE9PSAwICYmIG9wdGlvbnMubWF4IDwgdGhpcy50b3RhbFJhbmdlKCkubWF4KSB7XG4gICAgICAgICAgICBtYXggPSBsZW5ndGggLSAoMSAtIG9wdGlvbnMubWF4ICUgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXggPSBsZW5ndGggLSAob3B0aW9ucy5qdXN0aWZpZWQgPyAxIDogMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvdGFsUmFuZ2VJbmRpY2VzKGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCBtaW4gPSBpc051bWJlcihvcHRpb25zLm1pbikgPyBvcHRpb25zLm1pbiA6IDA7XG4gICAgICAgIGxldCBtYXg7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMubWF4KSkge1xuICAgICAgICAgICAgbWF4ID0gb3B0aW9ucy5tYXg7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIob3B0aW9ucy5taW4pKSB7XG4gICAgICAgICAgICBtYXggPSBtaW4gKyBvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWF4ID0gdGhpcy50b3RhbFJhbmdlKCkubWF4IHx8IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsUmFuZ2UgPSB0aGlzLnRvdGFsUmFuZ2UoKTtcbiAgICAgICAgICAgIG1pbiA9IGxpbWl0VmFsdWUobWluLCAwLCB0b3RhbFJhbmdlLm1heCk7XG4gICAgICAgICAgICBtYXggPSBsaW1pdFZhbHVlKG1heCwgMCwgdG90YWxSYW5nZS5tYXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgbWF4OiBtYXhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWluID0gaXNOdW1iZXIob3B0aW9ucy5taW4pID8gb3B0aW9ucy5taW4gOiAwO1xuICAgICAgICBjb25zdCBtYXggPSBpc051bWJlcihvcHRpb25zLm1heCkgPyBvcHRpb25zLm1heCA6IHRoaXMudG90YWxSYW5nZSgpLm1heDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJvdW5kZWRSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UoKTtcbiAgICB9XG5cbiAgICB0b3RhbFJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4geyBtaW46IDAsIG1heDogTWF0aC5tYXgodGhpcy5fc2VyaWVzTWF4IHx8IDAsIG9wdGlvbnMuc3JjQ2F0ZWdvcmllcy5sZW5ndGgpIC0gKG9wdGlvbnMuanVzdGlmaWVkID8gMSA6IDApIH07XG4gICAgfVxuXG4gICAgc2NhbGVPcHRpb25zKCkge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLnJhbmdlSW5kaWNlcygpO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLm9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAoKG1heCAtIG1pbikgfHwgMSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjYWxlOiBzY2FsZSAqICh0aGlzLm9wdGlvbnMucmV2ZXJzZSA/IC0xIDogMSksXG4gICAgICAgICAgICBib3g6IGxpbmVCb3gsXG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXJyYW5nZUxhYmVscygpIHtcbiAgICAgICAgc3VwZXIuYXJyYW5nZUxhYmVscygpO1xuICAgICAgICB0aGlzLmhpZGVPdXRPZlJhbmdlTGFiZWxzKCk7XG4gICAgfVxuXG4gICAgaGlkZU91dE9mUmFuZ2VMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgYm94LCBsYWJlbHMgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGxhYmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBib3hbdmFsdWVBeGlzICsgMV07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBib3hbdmFsdWVBeGlzICsgMl07XG4gICAgICAgICAgICBjb25zdCBmaXJzdExhYmVsID0gbGFiZWxzWzBdO1xuICAgICAgICAgICAgY29uc3QgbGFzdExhYmVsID0gbGFzdChsYWJlbHMpO1xuXG4gICAgICAgICAgICBpZiAoZmlyc3RMYWJlbC5ib3hbdmFsdWVBeGlzICsgMV0gPiBlbmQgfHwgZmlyc3RMYWJlbC5ib3hbdmFsdWVBeGlzICsgMl0gPCBzdGFydCkge1xuICAgICAgICAgICAgICAgIGZpcnN0TGFiZWwub3B0aW9ucy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdExhYmVsLmJveFt2YWx1ZUF4aXMgKyAxXSA+IGVuZCB8fCBsYXN0TGFiZWwuYm94W3ZhbHVlQXhpcyArIDJdIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGFiZWwub3B0aW9ucy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRNYWpvclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tzKCkubWFqb3JUaWNrcztcbiAgICB9XG5cbiAgICBnZXRNaW5vclRpY2tQb3NpdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpY2tzKCkubWlub3JUaWNrcztcbiAgICB9XG5cbiAgICBnZXRMYWJlbHNUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrcygpLmxhYmVsVGlja3M7XG4gICAgfVxuXG4gICAgdGlja0luZGljZXMoc3RlcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gdGhpcy5yYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgbGltaXQgPSBNYXRoLmNlaWwobWF4KTtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBNYXRoLmZsb29yKG1pbik7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBbXTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudCA8PSBsaW1pdCkge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgY3VycmVudCArPSBzdGVwU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRpY2VzO1xuICAgIH1cblxuICAgIGdldFRpY2tQb3NpdGlvbnMoc3RlcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBib3gsIG1pbiB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgcG9zID0gYm94Wyh2ZXJ0aWNhbCA/IFkgOiBYKSArIChyZXZlcnNlID8gMiA6IDEpXTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IHRoaXMudGlja0luZGljZXMoc3RlcFNpemUpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBpbmRpY2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvcyArIHJvdW5kKHNjYWxlICogKGluZGljZXNbaWR4XSAtIG1pbiksIENPT1JEX1BSRUNJU0lPTikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgICB9XG5cbiAgICBnZXRUaWNrcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl90aWNrcztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnJhbmdlSW5kaWNlcygpO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBsaW5lQm94LmdldEhhc2goKSArIHJhbmdlLm1pbiArIFwiLFwiICsgcmFuZ2UubWF4ICsgb3B0aW9ucy5yZXZlcnNlICsgb3B0aW9ucy5qdXN0aWZpZWQ7XG5cbiAgICAgICAgaWYgKGNhY2hlLl9oYXNoICE9PSBoYXNoKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNNaW5vciA9IG9wdGlvbnMubWlub3JUaWNrcy52aXNpYmxlIHx8IG9wdGlvbnMubWlub3JHcmlkTGluZXMudmlzaWJsZTtcbiAgICAgICAgICAgIGNhY2hlLl9oYXNoID0gaGFzaDtcbiAgICAgICAgICAgIGNhY2hlLmxhYmVsVGlja3MgPSB0aGlzLmdldFRpY2tQb3NpdGlvbnMoMSk7XG4gICAgICAgICAgICBjYWNoZS5tYWpvclRpY2tzID0gdGhpcy5maWx0ZXJPdXRPZlJhbmdlUG9zaXRpb25zKGNhY2hlLmxhYmVsVGlja3MsIGxpbmVCb3gpO1xuICAgICAgICAgICAgY2FjaGUubWlub3JUaWNrcyA9IGhhc01pbm9yID8gdGhpcy5maWx0ZXJPdXRPZlJhbmdlUG9zaXRpb25zKHRoaXMuZ2V0VGlja1Bvc2l0aW9ucygwLjUpLCBsaW5lQm94KSA6IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cblxuICAgIGZpbHRlck91dE9mUmFuZ2VQb3NpdGlvbnMocG9zaXRpb25zLCBsaW5lQm94KSB7XG4gICAgICAgIGlmICghcG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLm9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgaW5SYW5nZSA9IChwb3NpdGlvbikgPT4gbGluZUJveFtheGlzICsgMV0gPD0gcG9zaXRpb24gJiYgcG9zaXRpb24gPD0gbGluZUJveFtheGlzICsgMl07XG5cbiAgICAgICAgY29uc3QgZW5kID0gcG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKCFpblJhbmdlKHBvc2l0aW9uc1tzdGFydEluZGV4XSkgJiYgc3RhcnRJbmRleCA8PSBlbmQpIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbmRJbmRleCA9IGVuZDtcblxuICAgICAgICB3aGlsZSAoIWluUmFuZ2UocG9zaXRpb25zW2VuZEluZGV4XSkgJiYgZW5kSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgZW5kSW5kZXgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICBnZXRTbG90KGZyb20sIHRvLCBsaW1pdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIGp1c3RpZmllZCwgdmVydGljYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIGJveCwgbWluIH0gPSB0aGlzLnNjYWxlT3B0aW9ucygpO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBib3hbdmFsdWVBeGlzICsgKHJldmVyc2UgPyAyIDogMSldO1xuICAgICAgICBjb25zdCBzbG90Qm94ID0gYm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNpbmdsZVNsb3QgPSAhZGVmaW5lZCh0byk7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB2YWx1ZU9yRGVmYXVsdChmcm9tLCAwKTtcbiAgICAgICAgbGV0IGVuZCA9IHZhbHVlT3JEZWZhdWx0KHRvLCBzdGFydCk7XG4gICAgICAgIGVuZCA9IE1hdGgubWF4KGVuZCAtIDEsIHN0YXJ0KTtcblxuICAgICAgICAvLyBGaXhlcyB0cmFuc2llbnQgYnVnIGNhdXNlZCBieSBpT1MgNi4wIEpJVFxuICAgICAgICAvLyAob25lIGNhbiBuZXZlciBiZSB0b28gc3VyZSlcbiAgICAgICAgZW5kID0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG5cbiAgICAgICAgbGV0IHAxID0gbGluZVN0YXJ0ICsgKHN0YXJ0IC0gbWluKSAqIHNjYWxlO1xuICAgICAgICBsZXQgcDIgPSBsaW5lU3RhcnQgKyAoZW5kICsgMSAtIG1pbikgKiBzY2FsZTtcblxuICAgICAgICBpZiAoc2luZ2xlU2xvdCAmJiBqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIHAyID0gcDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICAgIHAxID0gbGltaXRWYWx1ZShwMSwgYm94W3ZhbHVlQXhpcyArIDFdLCBib3hbdmFsdWVBeGlzICsgMl0pO1xuICAgICAgICAgICAgcDIgPSBsaW1pdFZhbHVlKHAyLCBib3hbdmFsdWVBeGlzICsgMV0sIGJveFt2YWx1ZUF4aXMgKyAyXSk7XG4gICAgICAgIH1cblxuICAgICAgICBzbG90Qm94W3ZhbHVlQXhpcyArIDFdID0gcmV2ZXJzZSA/IHAyIDogcDE7XG4gICAgICAgIHNsb3RCb3hbdmFsdWVBeGlzICsgMl0gPSByZXZlcnNlID8gcDEgOiBwMjtcblxuICAgICAgICByZXR1cm4gc2xvdEJveDtcbiAgICB9XG5cbiAgICBsaW1pdFNsb3Qoc2xvdCkge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW1pdHRlZFNsb3QgPSBzbG90LmNsb25lKCk7XG5cbiAgICAgICAgbGltaXR0ZWRTbG90W3ZhbHVlQXhpcyArIDFdID0gbGltaXRWYWx1ZShzbG90W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDJdKTtcbiAgICAgICAgbGltaXR0ZWRTbG90W3ZhbHVlQXhpcyArIDJdID0gbGltaXRWYWx1ZShzbG90W3ZhbHVlQXhpcyArIDJdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDFdLCBsaW5lQm94W3ZhbHVlQXhpcyArIDJdKTtcblxuICAgICAgICByZXR1cm4gbGltaXR0ZWRTbG90O1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSwgdG8sIGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IE1hdGguZmxvb3IodGhpcy5vcHRpb25zLm1pbiB8fCAwKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZnJvbTtcbiAgICAgICAgbGV0IGVuZCA9IHRvO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5jYXRlZ29yeUluZGV4KHN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihzdGFydCkpIHtcbiAgICAgICAgICAgIHN0YXJ0IC09IG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgZW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLmNhdGVnb3J5SW5kZXgoZW5kKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihlbmQpKSB7XG4gICAgICAgICAgICBlbmQgLT0gbWluO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLnNsb3Qoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgIH1cblxuICAgIHBvaW50Q2F0ZWdvcnlJbmRleChwb2ludCkge1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIGp1c3RpZmllZCwgdmVydGljYWwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgYm94LCBtaW4sIG1heCB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHJldmVyc2UgPyBtYXggOiBtaW47XG4gICAgICAgIGNvbnN0IGxpbmVTdGFydCA9IGJveFt2YWx1ZUF4aXMgKyAxXTtcbiAgICAgICAgY29uc3QgbGluZUVuZCA9IGJveFt2YWx1ZUF4aXMgKyAyXTtcbiAgICAgICAgY29uc3QgcG9zID0gcG9pbnRbdmFsdWVBeGlzXTtcblxuICAgICAgICBpZiAocG9zIDwgbGluZVN0YXJ0IHx8IHBvcyA+IGxpbmVFbmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gc3RhcnRWYWx1ZSArIChwb3MgLSBsaW5lU3RhcnQpIC8gc2NhbGU7XG4gICAgICAgIGNvbnN0IGRpZmYgPSB2YWx1ZSAlIDE7XG5cbiAgICAgICAgaWYgKGp1c3RpZmllZCkge1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmID09PSAwICYmIHZhbHVlID4gMCkge1xuICAgICAgICAgICAgdmFsdWUtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRDYXRlZ29yeShwb2ludCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jYXRlZ29yaWVzW2luZGV4XTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUluZGV4KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsSW5kZXgodmFsdWUpIC0gTWF0aC5mbG9vcih0aGlzLm9wdGlvbnMubWluIHx8IDApO1xuICAgIH1cblxuICAgIGNhdGVnb3J5QXQoaW5kZXgsIHRvdGFsKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuICh0b3RhbCA/IG9wdGlvbnMuc3JjQ2F0ZWdvcmllcyA6IG9wdGlvbnMuY2F0ZWdvcmllcylbaW5kZXhdO1xuICAgIH1cblxuICAgIGNhdGVnb3JpZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcyB8fCBbXSkubGVuZ3RoO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIHJhbmdlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSByb3VuZChkZWx0YSAvIHNjYWxlLCBERUZBVUxUX1BSRUNJU0lPTik7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogb2Zmc2V0LFxuICAgICAgICAgICAgbWF4OiByYW5nZSArIG9mZnNldFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShyYXRlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlSW5kaWNlcyA9IHRoaXMudG90YWxSYW5nZUluZGljZXMoKTtcbiAgICAgICAgY29uc3QgeyBtaW46IHRvdGFsTWluLCBtYXg6IHRvdGFsTWF4IH0gPSB0aGlzLnRvdGFsUmFuZ2UoKTtcbiAgICAgICAgY29uc3QgbWluID0gbGltaXRWYWx1ZShyYW5nZUluZGljZXMubWluICsgcmF0ZSwgdG90YWxNaW4sIHRvdGFsTWF4KTtcbiAgICAgICAgY29uc3QgbWF4ID0gbGltaXRWYWx1ZShyYW5nZUluZGljZXMubWF4IC0gcmF0ZSwgdG90YWxNaW4sIHRvdGFsTWF4KTtcblxuICAgICAgICBpZiAobWF4IC0gbWluID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjYWxlUmFuZ2Uoc2NhbGUpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gc2NhbGUgKiByYW5nZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiAtZGVsdGEsXG4gICAgICAgICAgICBtYXg6IHJhbmdlICsgZGVsdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsYWJlbHNDb3VudCgpIHtcbiAgICAgICAgY29uc3QgbGFiZWxzUmFuZ2UgPSB0aGlzLmxhYmVsc1JhbmdlKCk7XG5cbiAgICAgICAgcmV0dXJuIGxhYmVsc1JhbmdlLm1heCAtIGxhYmVsc1JhbmdlLm1pbjtcbiAgICB9XG5cbiAgICBsYWJlbHNSYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBqdXN0aWZpZWQsIGxhYmVsczogbGFiZWxPcHRpb25zIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgeyBtaW4sIG1heCB9ID0gdGhpcy50b3RhbFJhbmdlSW5kaWNlcyh0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLmZsb29yKG1pbik7XG5cbiAgICAgICAgaWYgKCFqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIG1pbiA9IE1hdGguZmxvb3IobWluKTtcbiAgICAgICAgICAgIG1heCA9IE1hdGguY2VpbChtYXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2tpcDtcblxuICAgICAgICBpZiAobWluID4gbGFiZWxPcHRpb25zLnNraXApIHtcbiAgICAgICAgICAgIHNraXAgPSBsYWJlbE9wdGlvbnMuc2tpcCArIGxhYmVsT3B0aW9ucy5zdGVwICogTWF0aC5jZWlsKChtaW4gLSBsYWJlbE9wdGlvbnMuc2tpcCkgLyBsYWJlbE9wdGlvbnMuc3RlcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBza2lwID0gbGFiZWxPcHRpb25zLnNraXA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBza2lwIC0gc3RhcnQsXG4gICAgICAgICAgICBtYXg6IChvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoID8gbWF4ICsgKGp1c3RpZmllZCA/IDEgOiAwKSA6IDApIC0gc3RhcnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IG9wdGlvbnMuZGF0YUl0ZW1zID8gb3B0aW9ucy5kYXRhSXRlbXNbaW5kZXhdIDogbnVsbDtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmNhdGVnb3JpZXNbaW5kZXhdLCBcIlwiKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dChjYXRlZ29yeSwgZGF0YUl0ZW0sIGxhYmVsT3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwoY2F0ZWdvcnksIHRleHQsIGluZGV4LCBkYXRhSXRlbSwgbGFiZWxPcHRpb25zKTtcbiAgICB9XG5cbiAgICBzaG91bGRSZW5kZXJOb3RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50b3RhbFJhbmdlSW5kaWNlcygpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHJhbmdlLm1pbikgPD0gdmFsdWUgJiYgdmFsdWUgPD0gTWF0aC5jZWlsKHJhbmdlLm1heCk7XG4gICAgfVxuXG4gICAgbm90ZVNsb3QodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgaW5kZXggPSB2YWx1ZSAtIE1hdGguZmxvb3Iob3B0aW9ucy5taW4gfHwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNsb3QoaW5kZXgpO1xuICAgIH1cblxuICAgIGFycmFuZ2VOb3RlcygpIHtcbiAgICAgICAgc3VwZXIuYXJyYW5nZU5vdGVzKCk7XG4gICAgICAgIHRoaXMuaGlkZU91dE9mUmFuZ2VOb3RlcygpO1xuICAgIH1cblxuICAgIGhpZGVPdXRPZlJhbmdlTm90ZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgbm90ZXMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgaWYgKG5vdGVzICYmIG5vdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGJveFt2YWx1ZUF4aXMgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IGJveFt2YWx1ZUF4aXMgKyAyXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbm90ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGUgPSBub3Rlc1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmIChub3RlLmJveCAmJiAoZW5kIDwgbm90ZS5ib3hbdmFsdWVBeGlzICsgMV0gfHwgbm90ZS5ib3hbdmFsdWVBeGlzICsgMl0gPCBzdGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm90ZS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50b3RhbFJhbmdlSW5kaWNlcyh0cnVlKTtcbiAgICAgICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICBjb25zdCB0b3RhbFJhbmdlID0gdGhpcy50b3RhbFJhbmdlKCk7XG4gICAgICAgIGNvbnN0IG1pbiA9IHJhbmdlLm1pbiArIG9mZnNldDtcbiAgICAgICAgY29uc3QgbWF4ID0gcmFuZ2UubWF4ICsgb2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0UmFuZ2UobWluLCBtYXgsIDAsIHRvdGFsUmFuZ2UubWF4LCBvZmZzZXQpO1xuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgeyByZXZlcnNlLCB2ZXJ0aWNhbCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMudG90YWxSYW5nZUluZGljZXModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIGJveCB9ID0gdGhpcy5zY2FsZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gYm94W3ZhbHVlQXhpcyArIChyZXZlcnNlID8gMiA6IDEpXTtcblxuICAgICAgICBjb25zdCBkaWZmU3RhcnQgPSBzdGFydFt2YWx1ZUF4aXNdIC0gbGluZVN0YXJ0O1xuICAgICAgICBjb25zdCBkaWZmRW5kID0gZW5kW3ZhbHVlQXhpc10gLSBsaW5lU3RhcnQ7XG5cbiAgICAgICAgY29uc3QgbWluID0gcmFuZ2UubWluICsgZGlmZlN0YXJ0IC8gc2NhbGU7XG4gICAgICAgIGNvbnN0IG1heCA9IHJhbmdlLm1pbiArIGRpZmZFbmQgLyBzY2FsZTtcbiAgICAgICAgY29uc3QgcmFuZ2VNaW4gPSBNYXRoLm1pbihtaW4sIG1heCk7XG4gICAgICAgIGNvbnN0IHJhbmdlTWF4ID0gTWF0aC5tYXgobWluLCBtYXgpO1xuXG4gICAgICAgIGlmIChyYW5nZU1heCAtIHJhbmdlTWluID49IE1JTl9DQVRFR09SWV9QT0lOVFNfUkFOR0UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluOiByYW5nZU1pbixcbiAgICAgICAgICAgICAgICBtYXg6IHJhbmdlTWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2UoKTtcbiAgICB9XG5cbiAgICB0b3RhbEluZGV4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY2F0ZWdvcmllc01hcCA/XG4gICAgICAgICAgICB0aGlzLl9jYXRlZ29yaWVzTWFwLmdldCh2YWx1ZSkgOiBpbmRleE9mKHZhbHVlLCBvcHRpb25zLnNyY0NhdGVnb3JpZXMpO1xuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG5cbiAgICBjdXJyZW50UmFuZ2VJbmRpY2VzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBsZXQgbWluID0gMDtcblxuICAgICAgICBpZiAoaXNOdW1iZXIob3B0aW9ucy5taW4pKSB7XG4gICAgICAgICAgICBtaW4gPSBNYXRoLmZsb29yKG9wdGlvbnMubWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtYXg7XG4gICAgICAgIGlmIChpc051bWJlcihvcHRpb25zLm1heCkpIHtcbiAgICAgICAgICAgIG1heCA9IG9wdGlvbnMuanVzdGlmaWVkID8gTWF0aC5mbG9vcihvcHRpb25zLm1heCkgOiBNYXRoLmNlaWwob3B0aW9ucy5tYXgpIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heCA9IHRoaXMudG90YWxDb3VudCgpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbWFwQ2F0ZWdvcmllcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYXRlZ29yaWVzTWFwKSB7XG4gICAgICAgICAgICBjb25zdCBtYXAgPSB0aGlzLl9jYXRlZ29yaWVzTWFwID0gbmV3IEhhc2hNYXAoKTtcbiAgICAgICAgICAgIGNvbnN0IHNyY0NhdGVnb3JpZXMgPSB0aGlzLm9wdGlvbnMuc3JjQ2F0ZWdvcmllcztcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNyY0NhdGVnb3JpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIG1hcC5zZXQoc3JjQ2F0ZWdvcmllc1tpZHhdLCBpZHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG90YWxDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy5zcmNDYXRlZ29yaWVzLmxlbmd0aCwgdGhpcy5fc2VyaWVzTWF4IHx8IDApO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2F0ZWdvcnlBeGlzLCB7XG4gICAgdHlwZTogXCJjYXRlZ29yeVwiLFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDS1xuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHpJbmRleDogMVxuICAgIH0sXG4gICAganVzdGlmaWVkOiBmYWxzZSxcbiAgICBfZGVmZXJMYWJlbHM6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeUF4aXM7XG4iLCJjb25zdCBDT09SRElOQVRFX0xJTUlUID0gMzAwMDAwO1xuXG5jb25zdCBEYXRlTGFiZWxGb3JtYXRzID0ge1xuICAgIG1pbGxpc2Vjb25kczogXCJISDptbTpzcy5mZmZcIixcbiAgICBzZWNvbmRzOiBcIkhIOm1tOnNzXCIsXG4gICAgbWludXRlczogXCJISDptbVwiLFxuICAgIGhvdXJzOiBcIkhIOm1tXCIsXG4gICAgZGF5czogXCJNL2RcIixcbiAgICB3ZWVrczogXCJNL2RcIixcbiAgICBtb250aHM6IFwiTU1NICd5eVwiLFxuICAgIHllYXJzOiBcInl5eXlcIlxufTtcblxuY29uc3QgWkVST19USFJFU0hPTEQgPSAwLjI7XG5cbmV4cG9ydCB7XG4gICAgQ09PUkRJTkFURV9MSU1JVCwgRGF0ZUxhYmVsRm9ybWF0cywgWkVST19USFJFU0hPTERcbn07IiwiaW1wb3J0IENhdGVnb3J5QXhpcyBmcm9tICcuL2NhdGVnb3J5LWF4aXMnO1xuaW1wb3J0IEF4aXNMYWJlbCBmcm9tICcuL2F4aXMtbGFiZWwnO1xuXG5pbXBvcnQgeyBERUZBVUxUX1BSRUNJU0lPTiwgTUFYX1ZBTFVFLCBPQkpFQ1QsIERBVEUsIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGluQXJyYXksIGxhc3QsIGxpbWl0VmFsdWUsIHJvdW5kLCBzZXREZWZhdWx0T3B0aW9ucywgc3BhcnNlQXJyYXlMaW1pdHMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgeyBNSUxMSVNFQ09ORFMsIFNFQ09ORFMsIE1JTlVURVMsIEhPVVJTLCBEQVlTLCBXRUVLUywgTU9OVEhTLCBZRUFSUyxcbiAgICBUSU1FX1BFUl9NSU5VVEUsIFRJTUVfUEVSX0hPVVIsIFRJTUVfUEVSX0RBWSwgVElNRV9QRVJfV0VFSyxcbiAgICBUSU1FX1BFUl9NT05USCwgVElNRV9QRVJfWUVBUiwgVElNRV9QRVJfVU5JVCB9IGZyb20gJy4uL2RhdGUtdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IGRhdGVDb21wYXJlciwgdG9EYXRlLCBhZGRUaWNrcywgYWRkRHVyYXRpb24sIGRhdGVEaWZmLCBhYnNvbHV0ZURhdGVEaWZmLFxuICAgIGRhdGVJbmRleCwgZGF0ZUVxdWFscywgdG9UaW1lLCBwYXJzZURhdGUsIHBhcnNlRGF0ZXMgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcblxuaW1wb3J0IHsgRGF0ZUxhYmVsRm9ybWF0cyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuY29uc3QgQVVUTyA9IFwiYXV0b1wiO1xuY29uc3QgQkFTRV9VTklUUyA9IFtcbiAgICBNSUxMSVNFQ09ORFMsIFNFQ09ORFMsIE1JTlVURVMsIEhPVVJTLCBEQVlTLCBXRUVLUywgTU9OVEhTLCBZRUFSU1xuXTtcbmNvbnN0IEZJVCA9IFwiZml0XCI7XG5cblxuZnVuY3Rpb24gY2F0ZWdvcnlSYW5nZShjYXRlZ29yaWVzKSB7XG4gICAgbGV0IHJhbmdlID0gY2F0ZWdvcmllcy5fcmFuZ2U7XG4gICAgaWYgKCFyYW5nZSkge1xuICAgICAgICByYW5nZSA9IGNhdGVnb3JpZXMuX3JhbmdlID0gc3BhcnNlQXJyYXlMaW1pdHMoY2F0ZWdvcmllcyk7XG4gICAgICAgIHJhbmdlLm1pbiA9IHRvRGF0ZShyYW5nZS5taW4pO1xuICAgICAgICByYW5nZS5tYXggPSB0b0RhdGUocmFuZ2UubWF4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG59XG5cbmNsYXNzIEVtcHR5RGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgZGlzcGxheUluZGljZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IDFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBkaXNwbGF5UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB0b3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHZhbHVlUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YWx1ZUluZGV4KCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdG90YWxJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhbHVlc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB0b3RhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBkYXRlQXQoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgRGF0ZVJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydCwgZW5kLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMuYmFzZVVuaXRTdGVwID0gb3B0aW9ucy5iYXNlVW5pdFN0ZXAgfHwgMTtcblxuICAgICAgICBjb25zdCB7IHJvdW5kVG9CYXNlVW5pdCwganVzdGlmaWVkIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMuc3RhcnQgPSBhZGREdXJhdGlvbihzdGFydCwgMCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy53ZWVrU3RhcnREYXkpO1xuICAgICAgICBjb25zdCBsb3dlckVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChlbmQpO1xuICAgICAgICBjb25zdCBleHBhbmRFbmQgPSAhanVzdGlmaWVkICYmIGRhdGVFcXVhbHMoZW5kLCBsb3dlckVuZCkgJiYgIW9wdGlvbnMuanVzdGlmeUVuZDtcblxuICAgICAgICB0aGlzLmVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChlbmQsICFqdXN0aWZpZWQsIGV4cGFuZEVuZCA/IDEgOiAwKTtcblxuICAgICAgICBjb25zdCBtaW4gPSBvcHRpb25zLm1pbiB8fCBzdGFydDtcbiAgICAgICAgdGhpcy52YWx1ZVN0YXJ0ID0gdGhpcy5yb3VuZFRvVG90YWxTdGVwKG1pbik7XG4gICAgICAgIHRoaXMuZGlzcGxheVN0YXJ0ID0gcm91bmRUb0Jhc2VVbml0ID8gdGhpcy52YWx1ZVN0YXJ0IDogbWluO1xuXG4gICAgICAgIGNvbnN0IG1heCA9IG9wdGlvbnMubWF4O1xuICAgICAgICBpZiAoIW1heCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUVuZCA9IGxvd2VyRW5kO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RW5kID0gcm91bmRUb0Jhc2VVbml0IHx8IGV4cGFuZEVuZCA/IHRoaXMuZW5kIDogZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcChtYXgsIGZhbHNlLCAhanVzdGlmaWVkICYmIGRhdGVFcXVhbHMobWF4LCB0aGlzLnJvdW5kVG9Ub3RhbFN0ZXAobWF4KSkgPyAtMSA6IDApO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RW5kID0gcm91bmRUb0Jhc2VVbml0ID8gdGhpcy5yb3VuZFRvVG90YWxTdGVwKG1heCwgIWp1c3RpZmllZCkgOiBvcHRpb25zLm1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZhbHVlRW5kIDwgdGhpcy52YWx1ZVN0YXJ0KSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlRW5kID0gdGhpcy52YWx1ZVN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlFbmQgPD0gdGhpcy5kaXNwbGF5U3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUVuZCA9IHRoaXMucm91bmRUb1RvdGFsU3RlcCh0aGlzLmRpc3BsYXlTdGFydCwgZmFsc2UsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzcGxheVJhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLmRpc3BsYXlTdGFydCxcbiAgICAgICAgICAgIG1heDogdGhpcy5kaXNwbGF5RW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZGlzcGxheUluZGljZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5faW5kaWNlcykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAgICAgY29uc3QgeyBiYXNlVW5pdCwgYmFzZVVuaXRTdGVwIH0gPSBvcHRpb25zO1xuXG4gICAgICAgICAgICBjb25zdCBtaW5JZHggPSBkYXRlSW5kZXgodGhpcy5kaXNwbGF5U3RhcnQsIHRoaXMudmFsdWVTdGFydCwgYmFzZVVuaXQsIGJhc2VVbml0U3RlcCk7XG4gICAgICAgICAgICBjb25zdCBtYXhJZHggPSBkYXRlSW5kZXgodGhpcy5kaXNwbGF5RW5kLCB0aGlzLnZhbHVlU3RhcnQsIGJhc2VVbml0LCBiYXNlVW5pdFN0ZXApO1xuXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0geyBtaW46IG1pbklkeCwgbWF4OiBtYXhJZHggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRpY2VzO1xuICAgIH1cblxuICAgIHRvdGFsKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiB0aGlzLnN0YXJ0LFxuICAgICAgICAgICAgbWF4OiB0aGlzLmVuZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvdGFsQ291bnQoKSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnRvdGFsSW5kZXgodGhpcy5lbmQpO1xuXG4gICAgICAgIHJldHVybiBsYXN0ICsgKHRoaXMub3B0aW9ucy5qdXN0aWZpZWQgPyAxIDogMCk7XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy52YWx1ZVN0YXJ0LFxuICAgICAgICAgICAgbWF4OiB0aGlzLnZhbHVlRW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFsdWVJbmRleCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihkYXRlSW5kZXgodmFsdWUsIHRoaXMudmFsdWVTdGFydCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy5iYXNlVW5pdFN0ZXApKTtcbiAgICB9XG5cbiAgICB0b3RhbEluZGV4KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKGRhdGVJbmRleCh2YWx1ZSwgdGhpcy5zdGFydCwgb3B0aW9ucy5iYXNlVW5pdCwgb3B0aW9ucy5iYXNlVW5pdFN0ZXApKTtcbiAgICB9XG5cbiAgICBkYXRlSW5kZXgodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIGRhdGVJbmRleCh2YWx1ZSwgdGhpcy52YWx1ZVN0YXJ0LCBvcHRpb25zLmJhc2VVbml0LCBvcHRpb25zLmJhc2VVbml0U3RlcCk7XG4gICAgfVxuXG4gICAgdmFsdWVzQ291bnQoKSB7XG4gICAgICAgIGNvbnN0IG1heElkeCA9IHRoaXMudmFsdWVJbmRleCh0aGlzLnZhbHVlRW5kKTtcblxuICAgICAgICByZXR1cm4gbWF4SWR4ICsgMTtcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnZhbHVlUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBkYXRlID0gcmFuZ2UubWluOyBkYXRlIDw9IHJhbmdlLm1heDspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChkYXRlKTtcbiAgICAgICAgICAgICAgICBkYXRlID0gYWRkRHVyYXRpb24oZGF0ZSwgb3B0aW9ucy5iYXNlVW5pdFN0ZXAsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMud2Vla1N0YXJ0RGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZGF0ZUF0KGluZGV4LCB0b3RhbCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBhZGREdXJhdGlvbih0b3RhbCA/IHRoaXMuc3RhcnQgOiB0aGlzLnZhbHVlU3RhcnQsIG9wdGlvbnMuYmFzZVVuaXRTdGVwICogaW5kZXgsIG9wdGlvbnMuYmFzZVVuaXQsIG9wdGlvbnMud2Vla1N0YXJ0RGF5KTtcbiAgICB9XG5cbiAgICByb3VuZFRvVG90YWxTdGVwKHZhbHVlLCB1cHBlciwgbmV4dCkge1xuICAgICAgICBjb25zdCB7IGJhc2VVbml0LCBiYXNlVW5pdFN0ZXAsIHdlZWtTdGFydERheSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuc3RhcnQ7XG5cbiAgICAgICAgY29uc3Qgc3RlcCA9IGRhdGVJbmRleCh2YWx1ZSwgc3RhcnQsIGJhc2VVbml0LCBiYXNlVW5pdFN0ZXApO1xuICAgICAgICBsZXQgcm91bmRlZFN0ZXAgPSB1cHBlciA/IE1hdGguY2VpbChzdGVwKSA6IE1hdGguZmxvb3Ioc3RlcCk7XG5cbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIHJvdW5kZWRTdGVwICs9IG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYWRkRHVyYXRpb24oc3RhcnQsIHJvdW5kZWRTdGVwICogYmFzZVVuaXRTdGVwLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gYXV0b0Jhc2VVbml0KG9wdGlvbnMsIHN0YXJ0VW5pdCwgc3RhcnRTdGVwKSB7XG4gICAgY29uc3QgY2F0ZWdvcnlMaW1pdHMgPSBjYXRlZ29yeVJhbmdlKG9wdGlvbnMuY2F0ZWdvcmllcyk7XG4gICAgY29uc3Qgc3BhbiA9IChvcHRpb25zLm1heCB8fCBjYXRlZ29yeUxpbWl0cy5tYXgpIC0gKG9wdGlvbnMubWluIHx8IGNhdGVnb3J5TGltaXRzLm1pbik7XG4gICAgY29uc3QgeyBhdXRvQmFzZVVuaXRTdGVwcywgbWF4RGF0ZUdyb3VwcyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhdXRvVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQgPT09IEZJVDtcbiAgICBsZXQgYXV0b1VuaXRJeCA9IHN0YXJ0VW5pdCA/IEJBU0VfVU5JVFMuaW5kZXhPZihzdGFydFVuaXQpIDogMDtcbiAgICBsZXQgYmFzZVVuaXQgPSBhdXRvVW5pdCA/IEJBU0VfVU5JVFNbYXV0b1VuaXRJeCsrXSA6IG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgbGV0IHVuaXRzID0gc3BhbiAvIFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdO1xuICAgIGxldCB0b3RhbFVuaXRzID0gdW5pdHM7XG4gICAgbGV0IHVuaXRTdGVwcywgc3RlcCwgbmV4dFN0ZXA7XG5cbiAgICB3aGlsZSAoIXN0ZXAgfHwgdW5pdHMgPj0gbWF4RGF0ZUdyb3Vwcykge1xuICAgICAgICB1bml0U3RlcHMgPSB1bml0U3RlcHMgfHwgYXV0b0Jhc2VVbml0U3RlcHNbYmFzZVVuaXRdLnNsaWNlKDApO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG5leHRTdGVwID0gdW5pdFN0ZXBzLnNoaWZ0KCk7XG4gICAgICAgIH0gd2hpbGUgKG5leHRTdGVwICYmIHN0YXJ0VW5pdCA9PT0gYmFzZVVuaXQgJiYgbmV4dFN0ZXAgPCBzdGFydFN0ZXApO1xuXG4gICAgICAgIGlmIChuZXh0U3RlcCkge1xuICAgICAgICAgICAgc3RlcCA9IG5leHRTdGVwO1xuICAgICAgICAgICAgdW5pdHMgPSB0b3RhbFVuaXRzIC8gc3RlcDtcbiAgICAgICAgfSBlbHNlIGlmIChiYXNlVW5pdCA9PT0gbGFzdChCQVNFX1VOSVRTKSkge1xuICAgICAgICAgICAgc3RlcCA9IE1hdGguY2VpbCh0b3RhbFVuaXRzIC8gbWF4RGF0ZUdyb3Vwcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChhdXRvVW5pdCkge1xuICAgICAgICAgICAgYmFzZVVuaXQgPSBCQVNFX1VOSVRTW2F1dG9Vbml0SXgrK10gfHwgbGFzdChCQVNFX1VOSVRTKTtcbiAgICAgICAgICAgIHRvdGFsVW5pdHMgPSBzcGFuIC8gVElNRV9QRVJfVU5JVFtiYXNlVW5pdF07XG4gICAgICAgICAgICB1bml0U3RlcHMgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHVuaXRzID4gbWF4RGF0ZUdyb3Vwcykge1xuICAgICAgICAgICAgICAgIHN0ZXAgPSBNYXRoLmNlaWwodG90YWxVbml0cyAvIG1heERhdGVHcm91cHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcHRpb25zLmJhc2VVbml0U3RlcCA9IHN0ZXA7XG4gICAgb3B0aW9ucy5iYXNlVW5pdCA9IGJhc2VVbml0O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmFzZVVuaXQob3B0aW9ucykge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXM7XG4gICAgY29uc3QgY291bnQgPSBkZWZpbmVkKGNhdGVnb3JpZXMpID8gY2F0ZWdvcmllcy5sZW5ndGggOiAwO1xuICAgIGxldCBtaW5EaWZmID0gTUFYX1ZBTFVFO1xuICAgIGxldCBsYXN0Q2F0ZWdvcnksIHVuaXQ7XG5cbiAgICBmb3IgKGxldCBjYXRlZ29yeUl4ID0gMDsgY2F0ZWdvcnlJeCA8IGNvdW50OyBjYXRlZ29yeUl4KyspIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBjYXRlZ29yaWVzW2NhdGVnb3J5SXhdO1xuXG4gICAgICAgIGlmIChjYXRlZ29yeSAmJiBsYXN0Q2F0ZWdvcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBhYnNvbHV0ZURhdGVEaWZmKGNhdGVnb3J5LCBsYXN0Q2F0ZWdvcnkpO1xuICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICAgICAgbWluRGlmZiA9IE1hdGgubWluKG1pbkRpZmYsIGRpZmYpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfWUVBUikge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gWUVBUlM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5EaWZmID49IFRJTUVfUEVSX01PTlRIIC0gVElNRV9QRVJfREFZICogMykge1xuICAgICAgICAgICAgICAgICAgICB1bml0ID0gTU9OVEhTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9XRUVLKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBXRUVLUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfREFZKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBEQVlTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA+PSBUSU1FX1BFUl9IT1VSKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBIT1VSUztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkRpZmYgPj0gVElNRV9QRVJfTUlOVVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBNSU5VVEVTO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSBTRUNPTkRTO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RDYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgIH1cblxuICAgIG9wdGlvbnMuYmFzZVVuaXQgPSB1bml0IHx8IERBWVM7XG59XG5cbmZ1bmN0aW9uIGluaXRVbml0KG9wdGlvbnMpIHtcbiAgICBjb25zdCBiYXNlVW5pdCA9IChvcHRpb25zLmJhc2VVbml0IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgdXNlRGVmYXVsdCA9IGJhc2VVbml0ICE9PSBGSVQgJiYgIWluQXJyYXkoYmFzZVVuaXQsIEJBU0VfVU5JVFMpO1xuXG4gICAgaWYgKHVzZURlZmF1bHQpIHtcbiAgICAgICAgZGVmYXVsdEJhc2VVbml0KG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGlmIChiYXNlVW5pdCA9PT0gRklUIHx8IG9wdGlvbnMuYmFzZVVuaXRTdGVwID09PSBBVVRPKSB7XG4gICAgICAgIGF1dG9CYXNlVW5pdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuY2xhc3MgRGF0ZUNhdGVnb3J5QXhpcyBleHRlbmRzIENhdGVnb3J5QXhpcyB7XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgY29uc3QgY29weSA9IG5ldyBEYXRlQ2F0ZWdvcnlBeGlzKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHRoaXMuY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgY29weS5jcmVhdGVMYWJlbHMoKTtcblxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG5cbiAgICBjYXRlZ29yaWVzSGFzaCgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmRhdGFSYW5nZS50b3RhbCgpLm1pbjtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5iYXNlVW5pdCArIHRoaXMub3B0aW9ucy5iYXNlVW5pdFN0ZXAgKyBzdGFydDtcbiAgICB9XG5cbiAgICBpbml0VXNlck9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBpbml0RmllbGRzKCkge1xuICAgICAgICBzdXBlci5pbml0RmllbGRzKCk7XG5cbiAgICAgICAgY29uc3QgY2hhcnRTZXJ2aWNlID0gdGhpcy5jaGFydFNlcnZpY2U7XG4gICAgICAgIGNvbnN0IGludGxTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlLmludGw7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGxldCBjYXRlZ29yaWVzID0gb3B0aW9ucy5jYXRlZ29yaWVzIHx8IFtdO1xuICAgICAgICBpZiAoIWNhdGVnb3JpZXMuX3BhcnNlZCkge1xuICAgICAgICAgICAgY2F0ZWdvcmllcyA9IHBhcnNlRGF0ZXMoaW50bFNlcnZpY2UsIGNhdGVnb3JpZXMpO1xuICAgICAgICAgICAgY2F0ZWdvcmllcy5fcGFyc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHJvdW5kVG9CYXNlVW5pdDogdHJ1ZVxuICAgICAgICB9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgbWluOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMubWluKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1heClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNoYXJ0U2VydmljZS5wYW5uaW5nICYmIGNoYXJ0U2VydmljZS5pc1Bhbm5hYmxlKG9wdGlvbnMudmVydGljYWwgPyBZIDogWCkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucm91bmRUb0Jhc2VVbml0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdCA9IG9wdGlvbnMudXNlclNldEJhc2VVbml0IHx8IG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgICAgIG9wdGlvbnMudXNlclNldEJhc2VVbml0U3RlcCA9IG9wdGlvbnMudXNlclNldEJhc2VVbml0U3RlcCB8fCBvcHRpb25zLmJhc2VVbml0U3RlcDtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zLnNyY0NhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuXG4gICAgICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gY2F0ZWdvcnlSYW5nZShjYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IG1heERpdmlzaW9ucyA9IG9wdGlvbnMubWF4RGl2aXNpb25zO1xuXG4gICAgICAgICAgICB0aGlzLmRhdGFSYW5nZSA9IG5ldyBEYXRlUmFuZ2UocmFuZ2UubWluLCByYW5nZS5tYXgsIGluaXRVbml0KG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgaWYgKG1heERpdmlzaW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFSYW5nZSA9IHRoaXMuZGF0YVJhbmdlLmRpc3BsYXlSYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGl2aXNpb25PcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZpZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJvdW5kVG9CYXNlVW5pdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VVbml0OiAnZml0JyxcbiAgICAgICAgICAgICAgICAgICAgbWluOiBkYXRhUmFuZ2UubWluLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IGRhdGFSYW5nZS5tYXgsXG4gICAgICAgICAgICAgICAgICAgIG1heERhdGVHcm91cHM6IG1heERpdmlzaW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVJhbmdlT3B0aW9ucyA9IHRoaXMuZGF0YVJhbmdlLm9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICBhdXRvQmFzZVVuaXQoZGl2aXNpb25PcHRpb25zLCBkYXRhUmFuZ2VPcHRpb25zLmJhc2VVbml0LCBkYXRhUmFuZ2VPcHRpb25zLmJhc2VVbml0U3RlcCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpdmlzaW9uUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBkaXZpc2lvbk9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdmlzaW9uUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5iYXNlVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQgfHwgREFZUztcbiAgICAgICAgICAgIHRoaXMuZGF0YVJhbmdlID0gdGhpcy5kaXZpc2lvblJhbmdlID0gbmV3IEVtcHR5RGF0ZVJhbmdlKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGlja0luZGljZXMoc3RlcFNpemUpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhUmFuZ2UsIGRpdmlzaW9uUmFuZ2UgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlc0NvdW50ID0gZGl2aXNpb25SYW5nZS52YWx1ZXNDb3VudCgpO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLm1heERpdmlzaW9ucyB8fCAhdmFsdWVzQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci50aWNrSW5kaWNlcyhzdGVwU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRpY2VzID0gW107XG4gICAgICAgIGxldCB2YWx1ZXMgPSBkaXZpc2lvblJhbmdlLnZhbHVlcygpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcblxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5qdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQoZGl2aXNpb25SYW5nZS5kYXRlQXQodmFsdWVzQ291bnQpKTtcbiAgICAgICAgICAgIG9mZnNldCA9IDAuNTsvL2FsaWduIHRpY2tzIHRvIHRoZSBjZW50ZXIgb2Ygbm90IGp1c3RpZmllZCBjYXRlZ29yaWVzXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB2YWx1ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGRhdGFSYW5nZS5kYXRlSW5kZXgodmFsdWVzW2lkeF0pICsgb2Zmc2V0KTtcbiAgICAgICAgICAgIGlmIChzdGVwU2l6ZSAhPT0gMSAmJiBpZHggPj0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBpbmRpY2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5zcGxpY2UoaWR4LCAwLCBpbmRpY2VzW2xhc3QgLSAxXSArIChpbmRpY2VzW2xhc3RdIC0gaW5kaWNlc1tsYXN0IC0gMV0pICogc3RlcFNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGljZXM7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IHRoaXMub3B0aW9ucy5jYXRlZ29yaWVzIHx8IFtdO1xuXG4gICAgICAgIHJldHVybiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1pbikgPj0gMCAmJiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1heCkgPD0gMCAmJiBjYXRlZ29yaWVzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwYXJzZU5vdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEYXRlKHRoaXMuY2hhcnRTZXJ2aWNlLmludGwsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBub3RlU2xvdCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KHZhbHVlKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IGJhc2VVbml0LCB3ZWVrU3RhcnREYXksIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzaXplIC8gKHJhbmdlLm1heCAtIHJhbmdlLm1pbik7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHJvdW5kKGRlbHRhIC8gc2NhbGUsIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuICAgICAgICBpZiAocmFuZ2UubWluICYmIHJhbmdlLm1heCkge1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGFkZFRpY2tzKG9wdGlvbnMubWluIHx8IHJhbmdlLm1pbiwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IHRvID0gYWRkVGlja3Mob3B0aW9ucy5tYXggfHwgcmFuZ2UubWF4LCBvZmZzZXQpO1xuXG4gICAgICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICBtaW46IGFkZER1cmF0aW9uKGZyb20sIDAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpLFxuICAgICAgICAgICAgICAgIG1heDogYWRkRHVyYXRpb24odG8sIDAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cblxuICAgIHNjYWxlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgbGV0IHJvdW5kcyA9IE1hdGguYWJzKGRlbHRhKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgbGV0IHsgbWluOiBmcm9tLCBtYXg6IHRvIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGZyb20gJiYgdG8pIHtcbiAgICAgICAgICAgIHdoaWxlIChyb3VuZHMtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZGF0ZURpZmYoZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLnJvdW5kKHJhbmdlICogMC4xKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBhZGRUaWNrcyhmcm9tLCBzdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBhZGRUaWNrcyh0bywgLXN0ZXApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBhZGRUaWNrcyhmcm9tLCAtc3RlcCk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gYWRkVGlja3ModG8sIHN0ZXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ID0geyBtaW46IGZyb20sIG1heDogdG8gfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgbGFiZWxzUmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IHRoaXMub3B0aW9ucy5sYWJlbHMuc2tpcCxcbiAgICAgICAgICAgIG1heDogdGhpcy5kaXZpc2lvblJhbmdlLnZhbHVlc0NvdW50KClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwYW4oZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICAgICAgY29uc3QgdG90YWxMaW1pdHMgPSB0aGlzLmRhdGFSYW5nZS50b3RhbCgpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHNpemUgLyAobWF4IC0gbWluKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pICogKG9wdGlvbnMucmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGNvbnN0IGZyb20gPSBhZGRUaWNrcyhtaW4sIG9mZnNldCk7XG4gICAgICAgIGNvbnN0IHRvID0gYWRkVGlja3MobWF4LCBvZmZzZXQpO1xuXG4gICAgICAgIGNvbnN0IHBhblJhbmdlID0gdGhpcy5saW1pdFJhbmdlKHRvVGltZShmcm9tKSwgdG9UaW1lKHRvKSwgdG9UaW1lKHRvdGFsTGltaXRzLm1pbiksIHRvVGltZSh0b3RhbExpbWl0cy5tYXgpLCBvZmZzZXQpO1xuXG4gICAgICAgIGlmIChwYW5SYW5nZSkge1xuICAgICAgICAgICAgcGFuUmFuZ2UubWluID0gdG9EYXRlKHBhblJhbmdlLm1pbik7XG4gICAgICAgICAgICBwYW5SYW5nZS5tYXggPSB0b0RhdGUocGFuUmFuZ2UubWF4KTtcbiAgICAgICAgICAgIHBhblJhbmdlLmJhc2VVbml0ID0gb3B0aW9ucy5iYXNlVW5pdDtcbiAgICAgICAgICAgIHBhblJhbmdlLmJhc2VVbml0U3RlcCA9IG9wdGlvbnMuYmFzZVVuaXRTdGVwIHx8IDE7XG4gICAgICAgICAgICBwYW5SYW5nZS51c2VyU2V0QmFzZVVuaXQgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdDtcbiAgICAgICAgICAgIHBhblJhbmdlLnVzZXJTZXRCYXNlVW5pdFN0ZXAgPSBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXA7XG5cbiAgICAgICAgICAgIHJldHVybiBwYW5SYW5nZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50c1JhbmdlID0gc3VwZXIucG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGNvbnN0IGRhdGVzUmFuZ2UgPSB0aGlzLmRhdGFSYW5nZS5kaXNwbGF5UmFuZ2UoKTtcbiAgICAgICAgY29uc3QgaW5kaWNlc1JhbmdlID0gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheUluZGljZXMoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBkYXRlRGlmZihkYXRlc1JhbmdlLm1heCwgZGF0ZXNSYW5nZS5taW4pIC8gKGluZGljZXNSYW5nZS5tYXggLSBpbmRpY2VzUmFuZ2UubWluKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBjb25zdCBtaW4gPSBhZGRUaWNrcyhkYXRlc1JhbmdlLm1pbiwgcG9pbnRzUmFuZ2UubWluICogc2NhbGUpO1xuICAgICAgICBjb25zdCBtYXggPSBhZGRUaWNrcyhkYXRlc1JhbmdlLm1pbiwgcG9pbnRzUmFuZ2UubWF4ICogc2NhbGUpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgIG1heDogbWF4LFxuICAgICAgICAgICAgYmFzZVVuaXQ6IG9wdGlvbnMudXNlclNldEJhc2VVbml0IHx8IG9wdGlvbnMuYmFzZVVuaXQsXG4gICAgICAgICAgICBiYXNlVW5pdFN0ZXA6IG9wdGlvbnMudXNlclNldEJhc2VVbml0U3RlcCB8fCBvcHRpb25zLmJhc2VVbml0U3RlcFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShkZWx0YSkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZml0ID0gb3B0aW9ucy51c2VyU2V0QmFzZVVuaXQgPT09IEZJVDtcbiAgICAgICAgY29uc3QgdG90YWxMaW1pdHMgPSB0aGlzLmRhdGFSYW5nZS50b3RhbCgpO1xuICAgICAgICBjb25zdCB7IG1pbjogcmFuZ2VNaW4sIG1heDogcmFuZ2VNYXggfSA9IHRoaXMuZGF0YVJhbmdlLmRpc3BsYXlSYW5nZSgpO1xuICAgICAgICBsZXQgeyB3ZWVrU3RhcnREYXksIGJhc2VVbml0LCBiYXNlVW5pdFN0ZXAgfSA9IHRoaXMuZGF0YVJhbmdlLm9wdGlvbnM7XG4gICAgICAgIGxldCBtaW4gPSBhZGREdXJhdGlvbihyYW5nZU1pbiwgZGVsdGEgKiBiYXNlVW5pdFN0ZXAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICBsZXQgbWF4ID0gYWRkRHVyYXRpb24ocmFuZ2VNYXgsIC1kZWx0YSAqIGJhc2VVbml0U3RlcCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG5cbiAgICAgICAgaWYgKGZpdCkge1xuICAgICAgICAgICAgY29uc3QgeyBhdXRvQmFzZVVuaXRTdGVwcywgbWF4RGF0ZUdyb3VwcyB9ID0gb3B0aW9ucztcblxuICAgICAgICAgICAgY29uc3QgbWF4RGlmZiA9IGxhc3QoYXV0b0Jhc2VVbml0U3RlcHNbYmFzZVVuaXRdKSAqIG1heERhdGVHcm91cHMgKiBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlRGlmZiA9IGRhdGVEaWZmKHJhbmdlTWF4LCByYW5nZU1pbik7XG4gICAgICAgICAgICBjb25zdCBkaWZmID0gZGF0ZURpZmYobWF4LCBtaW4pO1xuICAgICAgICAgICAgbGV0IGJhc2VVbml0SW5kZXggPSBCQVNFX1VOSVRTLmluZGV4T2YoYmFzZVVuaXQpO1xuICAgICAgICAgICAgbGV0IGF1dG9CYXNlVW5pdFN0ZXAsIHRpY2tzO1xuXG4gICAgICAgICAgICBpZiAoZGlmZiA8IFRJTUVfUEVSX1VOSVRbYmFzZVVuaXRdICYmIGJhc2VVbml0ICE9PSBNSUxMSVNFQ09ORFMpIHtcbiAgICAgICAgICAgICAgICBiYXNlVW5pdCA9IEJBU0VfVU5JVFNbYmFzZVVuaXRJbmRleCAtIDFdO1xuICAgICAgICAgICAgICAgIGF1dG9CYXNlVW5pdFN0ZXAgPSBsYXN0KGF1dG9CYXNlVW5pdFN0ZXBzW2Jhc2VVbml0XSk7XG4gICAgICAgICAgICAgICAgdGlja3MgPSAocmFuZ2VEaWZmIC0gKG1heERhdGVHcm91cHMgLSAxKSAqIGF1dG9CYXNlVW5pdFN0ZXAgKiBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XSkgLyAyO1xuICAgICAgICAgICAgICAgIG1pbiA9IGFkZFRpY2tzKHJhbmdlTWluLCB0aWNrcyk7XG4gICAgICAgICAgICAgICAgbWF4ID0gYWRkVGlja3MocmFuZ2VNYXgsIC10aWNrcyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IG1heERpZmYgJiYgYmFzZVVuaXQgIT09IFlFQVJTKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0ZXBJbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VVbml0SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgYmFzZVVuaXQgPSBCQVNFX1VOSVRTW2Jhc2VVbml0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBzdGVwSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aWNrcyA9IDIgKiBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICAgICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0Jhc2VVbml0U3RlcCA9IGF1dG9CYXNlVW5pdFN0ZXBzW2Jhc2VVbml0XVtzdGVwSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHN0ZXBJbmRleCA8IGF1dG9CYXNlVW5pdFN0ZXBzW2Jhc2VVbml0XS5sZW5ndGggJiYgdGlja3MgKiBhdXRvQmFzZVVuaXRTdGVwIDwgcmFuZ2VEaWZmKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlIChiYXNlVW5pdCAhPT0gWUVBUlMgJiYgdGlja3MgKiBhdXRvQmFzZVVuaXRTdGVwIDwgcmFuZ2VEaWZmKTtcblxuICAgICAgICAgICAgICAgIHRpY2tzID0gKHRpY2tzICogYXV0b0Jhc2VVbml0U3RlcCAtIHJhbmdlRGlmZikgLyAyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gYWRkVGlja3MocmFuZ2VNaW4sIC10aWNrcyk7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGFkZFRpY2tzKHJhbmdlTWF4LCB0aWNrcyk7XG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGFkZFRpY2tzKG1pbiwgbGltaXRWYWx1ZShtYXgsIHRvdGFsTGltaXRzLm1pbiwgdG90YWxMaW1pdHMubWF4KSAtIG1heCk7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGFkZFRpY2tzKG1heCwgbGltaXRWYWx1ZShtaW4sIHRvdGFsTGltaXRzLm1pbiwgdG90YWxMaW1pdHMubWF4KSAtIG1pbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbiA8IHRvdGFsTGltaXRzLm1pbikge1xuICAgICAgICAgICAgbWluID0gdG90YWxMaW1pdHMubWluO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXggPiB0b3RhbExpbWl0cy5tYXgpIHtcbiAgICAgICAgICAgIG1heCA9IHRvdGFsTGltaXRzLm1heDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW4gJiYgbWF4ICYmIGRhdGVEaWZmKG1heCwgbWluKSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICAgICAgbWF4OiBtYXgsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXQ6IG9wdGlvbnMudXNlclNldEJhc2VVbml0IHx8IG9wdGlvbnMuYmFzZVVuaXQsXG4gICAgICAgICAgICAgICAgYmFzZVVuaXRTdGVwOiBvcHRpb25zLnVzZXJTZXRCYXNlVW5pdFN0ZXAgfHwgb3B0aW9ucy5iYXNlVW5pdFN0ZXBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLmRpc3BsYXlSYW5nZSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUF4aXNMYWJlbChpbmRleCwgbGFiZWxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGRhdGFJdGVtID0gb3B0aW9ucy5kYXRhSXRlbXMgJiYgIW9wdGlvbnMubWF4RGl2aXNpb25zID8gb3B0aW9ucy5kYXRhSXRlbXNbaW5kZXhdIDogbnVsbDtcbiAgICAgICAgY29uc3QgZGF0ZSA9IHRoaXMuZGl2aXNpb25SYW5nZS5kYXRlQXQoaW5kZXgpO1xuICAgICAgICBjb25zdCB1bml0Rm9ybWF0ID0gbGFiZWxPcHRpb25zLmRhdGVGb3JtYXRzW3RoaXMuZGl2aXNpb25SYW5nZS5vcHRpb25zLmJhc2VVbml0XTtcblxuICAgICAgICBsYWJlbE9wdGlvbnMuZm9ybWF0ID0gbGFiZWxPcHRpb25zLmZvcm1hdCB8fCB1bml0Rm9ybWF0O1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5heGlzTGFiZWxUZXh0KGRhdGUsIGRhdGFJdGVtLCBsYWJlbE9wdGlvbnMpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBeGlzTGFiZWwoZGF0ZSwgdGV4dCwgaW5kZXgsIGRhdGFJdGVtLCBsYWJlbE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlJbmRleCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UudmFsdWVJbmRleCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc2xvdChmcm9tLCB0bywgbGltaXQpIHtcbiAgICAgICAgY29uc3QgZGF0ZVJhbmdlID0gdGhpcy5kYXRhUmFuZ2U7XG4gICAgICAgIGxldCBzdGFydCA9IGZyb207XG4gICAgICAgIGxldCBlbmQgPSB0bztcblxuICAgICAgICBpZiAoc3RhcnQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICBzdGFydCA9IGRhdGVSYW5nZS5kYXRlSW5kZXgoc3RhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGVuZCA9IGRhdGVSYW5nZS5kYXRlSW5kZXgoZW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3Qoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgICAgICBpZiAoc2xvdCkge1xuICAgICAgICAgICAgcmV0dXJuIHNsb3QudG9SZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTbG90KGEsIGIsIGxpbWl0KSB7XG4gICAgICAgIGxldCBzdGFydCA9IGE7XG4gICAgICAgIGxldCBlbmQgPSBiO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09IE9CSkVDVCkge1xuICAgICAgICAgICAgc3RhcnQgPSB0aGlzLmNhdGVnb3J5SW5kZXgoc3RhcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbmQgPT09IE9CSkVDVCkge1xuICAgICAgICAgICAgZW5kID0gdGhpcy5jYXRlZ29yeUluZGV4KGVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0U2xvdChzdGFydCwgZW5kLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBjYXRlZ29yeVJhbmdlKG9wdGlvbnMuc3JjQ2F0ZWdvcmllcyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdG9EYXRlKHJhbmdlLm1pbiksXG4gICAgICAgICAgICBtYXg6IHRvRGF0ZShyYW5nZS5tYXgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2F0ZWdvcnlBdChpbmRleCwgdG90YWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLmRhdGVBdChpbmRleCwgdG90YWwpO1xuICAgIH1cblxuICAgIGNhdGVnb3JpZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJhbmdlLnZhbHVlc0NvdW50KCk7XG4gICAgfVxuXG4gICAgcmFuZ2VJbmRpY2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UuZGlzcGxheUluZGljZXMoKTtcbiAgICB9XG5cbiAgICBsYWJlbHNCZXR3ZWVuVGlja3MoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5kaXZpc2lvblJhbmdlLm9wdGlvbnMuanVzdGlmaWVkO1xuICAgIH1cblxuICAgIHByZXBhcmVVc2VyT3B0aW9ucygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcyA9IHRoaXMuZGF0YVJhbmdlLnZhbHVlcygpO1xuICAgIH1cblxuICAgIGdldENhdGVnb3J5KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wb2ludENhdGVnb3J5SW5kZXgocG9pbnQpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UuZGF0ZUF0KGluZGV4KTtcbiAgICB9XG5cbiAgICB0b3RhbEluZGV4KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFSYW5nZS50b3RhbEluZGV4KHZhbHVlKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmFuZ2VJbmRpY2VzKCkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuZGF0YVJhbmdlLnZhbHVlUmFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5kYXRhUmFuZ2UudG90YWxJbmRleChyYW5nZS5taW4pLFxuICAgICAgICAgICAgbWF4OiB0aGlzLmRhdGFSYW5nZS50b3RhbEluZGV4KHJhbmdlLm1heClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b3RhbFJhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UudG90YWwoKTtcbiAgICB9XG5cbiAgICB0b3RhbENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmFuZ2UudG90YWxDb3VudCgpO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5vcHRpb25zLnNyY0NhdGVnb3JpZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHJvdW5kZWRSYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yb3VuZFRvQmFzZVVuaXQgIT09IGZhbHNlIHx8IHRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZGF0ZXNSYW5nZSA9IGNhdGVnb3J5UmFuZ2Uob3B0aW9ucy5zcmNDYXRlZ29yaWVzKTtcblxuICAgICAgICBjb25zdCBkYXRlUmFuZ2UgPSBuZXcgRGF0ZVJhbmdlKGRhdGVzUmFuZ2UubWluLCBkYXRlc1JhbmdlLm1heCwgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAganVzdGlmaWVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJvdW5kVG9CYXNlVW5pdDogdHJ1ZSxcbiAgICAgICAgICAgIGp1c3RpZnlFbmQ6IG9wdGlvbnMuanVzdGlmaWVkXG4gICAgICAgIH0pKTtcblxuICAgICAgICByZXR1cm4gZGF0ZVJhbmdlLmRpc3BsYXlSYW5nZSgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRGF0ZUNhdGVnb3J5QXhpcywge1xuICAgIHR5cGU6IERBVEUsXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGRhdGVGb3JtYXRzOiBEYXRlTGFiZWxGb3JtYXRzXG4gICAgfSxcbiAgICBhdXRvQmFzZVVuaXRTdGVwczoge1xuICAgICAgICBtaWxsaXNlY29uZHM6IFsgMSwgMTAsIDEwMCBdLFxuICAgICAgICBzZWNvbmRzOiBbIDEsIDIsIDUsIDE1LCAzMCBdLFxuICAgICAgICBtaW51dGVzOiBbIDEsIDIsIDUsIDE1LCAzMCBdLFxuICAgICAgICBob3VyczogWyAxLCAyLCAzIF0sXG4gICAgICAgIGRheXM6IFsgMSwgMiwgMyBdLFxuICAgICAgICB3ZWVrczogWyAxLCAyIF0sXG4gICAgICAgIG1vbnRoczogWyAxLCAyLCAzLCA2IF0sXG4gICAgICAgIHllYXJzOiBbIDEsIDIsIDMsIDUsIDEwLCAyNSwgNTAgXVxuICAgIH0sXG4gICAgbWF4RGF0ZUdyb3VwczogMTBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBEYXRlQ2F0ZWdvcnlBeGlzO1xuIiwiaW1wb3J0IHsgWkVST19USFJFU0hPTEQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhdXRvQXhpc01pbihtaW4sIG1heCwgbmFycm93KSB7XG4gICAgaWYgKCFtaW4gJiYgIW1heCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBsZXQgYXhpc01pbjtcblxuICAgIGlmIChtaW4gPj0gMCAmJiBtYXggPj0gMCkge1xuICAgICAgICBjb25zdCBtaW5WYWx1ZSA9IG1pbiA9PT0gbWF4ID8gMCA6IG1pbjtcblxuICAgICAgICBsZXQgZGlmZiA9IChtYXggLSBtaW5WYWx1ZSkgLyBtYXg7XG4gICAgICAgIGlmIChuYXJyb3cgPT09IGZhbHNlIHx8ICghbmFycm93ICYmIGRpZmYgPiBaRVJPX1RIUkVTSE9MRCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpc01pbiA9IE1hdGgubWF4KDAsIG1pblZhbHVlIC0gKChtYXggLSBtaW5WYWx1ZSkgLyAyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXhpc01pbiA9IG1pbjtcbiAgICB9XG5cbiAgICByZXR1cm4gYXhpc01pbjtcbn1cbiIsImltcG9ydCB7IFpFUk9fVEhSRVNIT0xEIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0b0F4aXNNYXgobWluLCBtYXgsIG5hcnJvdykge1xuICAgIGlmICghbWluICYmICFtYXgpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgbGV0IGF4aXNNYXg7XG5cbiAgICBpZiAobWluIDw9IDAgJiYgbWF4IDw9IDApIHtcbiAgICAgICAgY29uc3QgbWF4VmFsdWUgPSBtaW4gPT09IG1heCA/IDAgOiBtYXg7XG5cbiAgICAgICAgbGV0IGRpZmYgPSBNYXRoLmFicygobWF4VmFsdWUgLSBtaW4pIC8gbWF4VmFsdWUpO1xuICAgICAgICBpZiAobmFycm93ID09PSBmYWxzZSB8fCAoIW5hcnJvdyAmJiBkaWZmID4gWkVST19USFJFU0hPTEQpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aXNNYXggPSBNYXRoLm1pbigwLCBtYXhWYWx1ZSAtICgobWluIC0gbWF4VmFsdWUpIC8gMikpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF4aXNNYXggPSBtYXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF4aXNNYXg7XG59IiwiaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmxvb3IodmFsdWUsIHN0ZXApIHtcbiAgICByZXR1cm4gcm91bmQoTWF0aC5mbG9vcih2YWx1ZSAvIHN0ZXApICogc3RlcCwgREVGQVVMVF9QUkVDSVNJT04pO1xufVxuIiwiaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2VpbCh2YWx1ZSwgc3RlcCkge1xuICAgIHJldHVybiByb3VuZChNYXRoLmNlaWwodmFsdWUgLyBzdGVwKSAqIHN0ZXAsIERFRkFVTFRfUFJFQ0lTSU9OKTtcbn0iLCJpbXBvcnQgeyBDT09SRElOQVRFX0xJTUlUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGltaXRDb29yZGluYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHZhbHVlLCBDT09SRElOQVRFX0xJTUlUKSwgLUNPT1JESU5BVEVfTElNSVQpO1xufSIsIlxuaW1wb3J0IEF4aXMgZnJvbSAnLi9heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCBCb3ggZnJvbSAnLi9ib3gnO1xuXG5pbXBvcnQgeyBCTEFDSywgREVGQVVMVF9QUkVDSVNJT04sIENPT1JEX1BSRUNJU0lPTiwgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgbGltaXRWYWx1ZSwgcm91bmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuaW1wb3J0IGF1dG9NYWpvclVuaXQgZnJvbSAnLi91dGlscy9hdXRvLW1ham9yLXVuaXQnO1xuaW1wb3J0IGF1dG9BeGlzTWluIGZyb20gJy4vdXRpbHMvYXV0by1heGlzLW1pbic7XG5pbXBvcnQgYXV0b0F4aXNNYXggZnJvbSAnLi91dGlscy9hdXRvLWF4aXMtbWF4JztcbmltcG9ydCBmbG9vciBmcm9tICcuL3V0aWxzL2Zsb29yJztcbmltcG9ydCBjZWlsIGZyb20gJy4vdXRpbHMvY2VpbCc7XG5pbXBvcnQgbGltaXRDb29yZGluYXRlIGZyb20gJy4vdXRpbHMvbGltaXQtY29vcmRpbmF0ZSc7XG5cbmNvbnN0IE1JTl9WQUxVRV9SQU5HRSA9IE1hdGgucG93KDEwLCAtREVGQVVMVF9QUkVDSVNJT04gKyAxKTtcblxuY2xhc3MgTnVtZXJpY0F4aXMgZXh0ZW5kcyBBeGlzIHtcblxuICAgIGNvbnN0cnVjdG9yKHNlcmllc01pbiwgc2VyaWVzTWF4LCBvcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgc2VyaWVzTWluOiBzZXJpZXNNaW4sXG4gICAgICAgICAgICBzZXJpZXNNYXg6IHNlcmllc01heFxuICAgICAgICB9KSwgY2hhcnRTZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBpbml0VXNlck9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdXRvT3B0aW9ucyA9IGF1dG9BeGlzT3B0aW9ucyhvcHRpb25zLnNlcmllc01pbiwgb3B0aW9ucy5zZXJpZXNNYXgsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRvdGFsT3B0aW9ucyA9IHRvdGFsQXhpc09wdGlvbnMoYXV0b09wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBheGlzT3B0aW9ucyhhdXRvT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy50b3RhbE1pbiA9IHRoaXMudG90YWxPcHRpb25zLm1pbjtcbiAgICAgICAgdGhpcy50b3RhbE1heCA9IHRoaXMudG90YWxPcHRpb25zLm1heDtcbiAgICAgICAgdGhpcy50b3RhbE1ham9yVW5pdCA9IHRoaXMudG90YWxPcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgdGhpcy5zZXJpZXNNaW4gPSB0aGlzLm9wdGlvbnMuc2VyaWVzTWluO1xuICAgICAgICB0aGlzLnNlcmllc01heCA9IHRoaXMub3B0aW9ucy5zZXJpZXNNYXg7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTnVtZXJpY0F4aXMoXG4gICAgICAgICAgICB0aGlzLnNlcmllc01pbixcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzTWF4LFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSxcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhcnRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiB7IG1pbjogb3B0aW9ucy5taW4sIG1heDogb3B0aW9ucy5tYXggfTtcbiAgICB9XG5cbiAgICBnZXREaXZpc2lvbnMoc3RlcFZhbHVlKSB7XG4gICAgICAgIGlmIChzdGVwVmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLm1heCAtIG9wdGlvbnMubWluO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHJvdW5kKHJhbmdlIC8gc3RlcFZhbHVlLCBDT09SRF9QUkVDSVNJT04pKSArIDE7XG4gICAgfVxuXG4gICAgZ2V0VGlja1Bvc2l0aW9ucyh1bml0LCBza2lwVW5pdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCByZXZlcnNlIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMubWF4IC0gb3B0aW9ucy5taW47XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGluZVNpemUgLyByYW5nZTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHVuaXQgKiBzY2FsZTtcbiAgICAgICAgY29uc3QgZGl2aXNpb25zID0gdGhpcy5nZXREaXZpc2lvbnModW5pdCk7XG4gICAgICAgIGNvbnN0IGRpciA9ICh2ZXJ0aWNhbCA/IC0xIDogMSkgKiAocmV2ZXJzZSA/IC0xIDogMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RWRnZSA9IGRpciA9PT0gMSA/IDEgOiAyO1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgbGV0IHBvcyA9IGxpbmVCb3hbKHZlcnRpY2FsID8gWSA6IFgpICsgc3RhcnRFZGdlXTtcbiAgICAgICAgbGV0IHNraXBTdGVwID0gMDtcblxuICAgICAgICBpZiAoc2tpcFVuaXQpIHtcbiAgICAgICAgICAgIHNraXBTdGVwID0gc2tpcFVuaXQgLyB1bml0O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGl2aXNpb25zOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKGlkeCAlIHNraXBTdGVwICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zID0gcG9zICsgc3RlcCAqIGRpcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrUG9zaXRpb25zKHRoaXMub3B0aW9ucy5tYWpvclVuaXQpO1xuICAgIH1cblxuICAgIGdldE1pbm9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRTbG90KGEsIGIsIGxpbWl0ID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBsaW5lQm94W3ZhbHVlQXhpcyArIChyZXZlcnNlID8gMiA6IDEpXTtcbiAgICAgICAgY29uc3QgbGluZVNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IGRpciA9IHJldmVyc2UgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBkaXIgKiAobGluZVNpemUgLyAob3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbikpO1xuICAgICAgICBjb25zdCBzbG90Qm94ID0gbmV3IEJveChsaW5lQm94LngxLCBsaW5lQm94LnkxLCBsaW5lQm94LngxLCBsaW5lQm94LnkxKTtcblxuICAgICAgICBsZXQgc3RhcnQgPSBhO1xuICAgICAgICBsZXQgZW5kID0gYjtcblxuICAgICAgICBpZiAoIWRlZmluZWQoc3RhcnQpKSB7XG4gICAgICAgICAgICBzdGFydCA9IGVuZCB8fCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKGVuZCkpIHtcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0IHx8IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoTWF0aC5taW4oc3RhcnQsIG9wdGlvbnMubWF4KSwgb3B0aW9ucy5taW4pO1xuICAgICAgICAgICAgZW5kID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kLCBvcHRpb25zLm1heCksIG9wdGlvbnMubWluKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwMSwgcDI7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwMSA9IG9wdGlvbnMubWF4IC0gTWF0aC5tYXgoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICBwMiA9IG9wdGlvbnMubWF4IC0gTWF0aC5taW4oc3RhcnQsIGVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwMSA9IE1hdGgubWluKHN0YXJ0LCBlbmQpIC0gb3B0aW9ucy5taW47XG4gICAgICAgICAgICBwMiA9IE1hdGgubWF4KHN0YXJ0LCBlbmQpIC0gb3B0aW9ucy5taW47XG4gICAgICAgIH1cblxuICAgICAgICBzbG90Qm94W3ZhbHVlQXhpcyArIDFdID0gbGltaXRDb29yZGluYXRlKGxpbmVTdGFydCArIHN0ZXAgKiAocmV2ZXJzZSA/IHAyIDogcDEpKTtcbiAgICAgICAgc2xvdEJveFt2YWx1ZUF4aXMgKyAyXSA9IGxpbWl0Q29vcmRpbmF0ZShsaW5lU3RhcnQgKyBzdGVwICogKHJldmVyc2UgPyBwMSA6IHAyKSk7XG5cbiAgICAgICAgcmV0dXJuIHNsb3RCb3g7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbWF4ID0gTnVtYmVyKG9wdGlvbnMubWF4KTtcbiAgICAgICAgY29uc3QgbWluID0gTnVtYmVyKG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBsaW5lQm94W3ZhbHVlQXhpcyArIChyZXZlcnNlID8gMiA6IDEpXTtcbiAgICAgICAgY29uc3QgbGluZVNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IGRpciA9IHJldmVyc2UgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGRpciAqIChwb2ludFt2YWx1ZUF4aXNdIC0gbGluZVN0YXJ0KTtcbiAgICAgICAgY29uc3Qgc3RlcCA9IChtYXggLSBtaW4pIC8gbGluZVNpemU7XG4gICAgICAgIGNvbnN0IHZhbHVlT2Zmc2V0ID0gb2Zmc2V0ICogc3RlcDtcblxuICAgICAgICBpZiAob2Zmc2V0IDwgMCB8fCBvZmZzZXQgPiBsaW5lU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IHZlcnRpY2FsID9cbiAgICAgICAgICAgICAgICBtYXggLSB2YWx1ZU9mZnNldCA6XG4gICAgICAgICAgICAgICAgbWluICsgdmFsdWVPZmZzZXQ7XG5cbiAgICAgICAgcmV0dXJuIHJvdW5kKHZhbHVlLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB2ZXJ0aWNhbCwgcmV2ZXJzZSwgbWF4LCBtaW4gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZlcnRpY2FsID8gbGluZUJveC5oZWlnaHQoKSA6IGxpbmVCb3gud2lkdGgoKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBtYXggLSBtaW47XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIHJhbmdlO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG4gICAgICAgIGlmICgodmVydGljYWwgfHwgcmV2ZXJzZSkgJiYgISh2ZXJ0aWNhbCAmJiByZXZlcnNlICkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4gKyBvZmZzZXQsXG4gICAgICAgICAgICBtYXg6IG1heCArIG9mZnNldCxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2NhbGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAtZGVsdGEgKiBvcHRpb25zLm1ham9yVW5pdDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBvcHRpb25zLm1pbiAtIG9mZnNldCxcbiAgICAgICAgICAgIG1heDogb3B0aW9ucy5tYXggKyBvZmZzZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsYWJlbHNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGl2aXNpb25zKHRoaXMub3B0aW9ucy5tYWpvclVuaXQpO1xuICAgIH1cblxuICAgIGNyZWF0ZUF4aXNMYWJlbChpbmRleCwgbGFiZWxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcm91bmQob3B0aW9ucy5taW4gKyAoaW5kZXggKiBvcHRpb25zLm1ham9yVW5pdCksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dCh2YWx1ZSwgbnVsbCwgbGFiZWxPcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gbmV3IEF4aXNMYWJlbCh2YWx1ZSwgdGV4dCwgaW5kZXgsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHJhbmdlLm1pbiA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSByYW5nZS5tYXg7XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50cmFuc2xhdGVSYW5nZShkZWx0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0UmFuZ2UocmFuZ2UubWluLCByYW5nZS5tYXgsIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgsIHJhbmdlLm9mZnNldCk7XG4gICAgfVxuXG4gICAgcG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzdGFydCk7XG4gICAgICAgIGNvbnN0IGVuZFZhbHVlID0gdGhpcy5nZXRWYWx1ZShlbmQpO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkUmFuZ2UobWluLCBtYXgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgem9vbVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHsgdG90YWxNaW4sIHRvdGFsTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBuZXdSYW5nZSA9IHRoaXMuc2NhbGVSYW5nZShkZWx0YSk7XG4gICAgICAgIGNvbnN0IG1pbiA9IGxpbWl0VmFsdWUobmV3UmFuZ2UubWluLCB0b3RhbE1pbiwgdG90YWxNYXgpO1xuICAgICAgICBjb25zdCBtYXggPSBsaW1pdFZhbHVlKG5ld1JhbmdlLm1heCwgdG90YWxNaW4sIHRvdGFsTWF4KTtcblxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkUmFuZ2UobWluLCBtYXgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNWYWxpZFJhbmdlKG1pbiwgbWF4KSB7XG4gICAgICAgIHJldHVybiBtYXggLSBtaW4gPiBNSU5fVkFMVUVfUkFOR0U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhdXRvQXhpc09wdGlvbnMoc2VyaWVzTWluLCBzZXJpZXNNYXgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBuYXJyb3dSYW5nZSA9IG9wdGlvbnMubmFycm93UmFuZ2U7XG5cbiAgICBsZXQgYXV0b01pbiA9IGF1dG9BeGlzTWluKHNlcmllc01pbiwgc2VyaWVzTWF4LCBuYXJyb3dSYW5nZSk7XG4gICAgbGV0IGF1dG9NYXggPSBhdXRvQXhpc01heChzZXJpZXNNaW4sIHNlcmllc01heCwgbmFycm93UmFuZ2UpO1xuXG4gICAgY29uc3QgbWFqb3JVbml0ID0gYXV0b01ham9yVW5pdChhdXRvTWluLCBhdXRvTWF4KTtcbiAgICBjb25zdCBhdXRvT3B0aW9ucyA9IHtcbiAgICAgICAgbWFqb3JVbml0OiBtYWpvclVuaXRcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMucm91bmRUb01ham9yVW5pdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGF1dG9NaW4gPCAwICYmIHJlbWFpbmRlckNsb3NlKGF1dG9NaW4sIG1ham9yVW5pdCwgMSAvIDMpKSB7XG4gICAgICAgICAgICBhdXRvTWluIC09IG1ham9yVW5pdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdXRvTWF4ID4gMCAmJiByZW1haW5kZXJDbG9zZShhdXRvTWF4LCBtYWpvclVuaXQsIDEgLyAzKSkge1xuICAgICAgICAgICAgYXV0b01heCArPSBtYWpvclVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdXRvT3B0aW9ucy5taW4gPSBmbG9vcihhdXRvTWluLCBtYWpvclVuaXQpO1xuICAgIGF1dG9PcHRpb25zLm1heCA9IGNlaWwoYXV0b01heCwgbWFqb3JVbml0KTtcblxuICAgIHJldHVybiBhdXRvT3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdG90YWxBeGlzT3B0aW9ucyhhdXRvT3B0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogZGVmaW5lZChvcHRpb25zLm1pbikgPyBNYXRoLm1pbihhdXRvT3B0aW9ucy5taW4sIG9wdGlvbnMubWluKSA6IGF1dG9PcHRpb25zLm1pbixcbiAgICAgICAgbWF4OiBkZWZpbmVkKG9wdGlvbnMubWF4KSA/IE1hdGgubWF4KGF1dG9PcHRpb25zLm1heCwgb3B0aW9ucy5tYXgpIDogYXV0b09wdGlvbnMubWF4LFxuICAgICAgICBtYWpvclVuaXQ6IGF1dG9PcHRpb25zLm1ham9yVW5pdFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGNsZWFyTnVsbFZhbHVlcyhvcHRpb25zLCBmaWVsZHMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBmaWVsZHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBmaWVsZCA9IGZpZWxkc1tpZHhdO1xuICAgICAgICBpZiAob3B0aW9uc1tmaWVsZF0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbZmllbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBheGlzT3B0aW9ucyhhdXRvT3B0aW9ucywgdXNlck9wdGlvbnMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHVzZXJPcHRpb25zO1xuICAgIGxldCB1c2VyU2V0TWluLCB1c2VyU2V0TWF4O1xuXG4gICAgaWYgKHVzZXJPcHRpb25zKSB7XG4gICAgICAgIGNsZWFyTnVsbFZhbHVlcyh1c2VyT3B0aW9ucywgWyAnbWluJywgJ21heCcgXSk7XG5cbiAgICAgICAgdXNlclNldE1pbiA9IGRlZmluZWQodXNlck9wdGlvbnMubWluKTtcbiAgICAgICAgdXNlclNldE1heCA9IGRlZmluZWQodXNlck9wdGlvbnMubWF4KTtcblxuICAgICAgICBjb25zdCB1c2VyU2V0TGltaXRzID0gdXNlclNldE1pbiB8fCB1c2VyU2V0TWF4O1xuXG4gICAgICAgIGlmICh1c2VyU2V0TGltaXRzKSB7XG4gICAgICAgICAgICBpZiAodXNlck9wdGlvbnMubWluID09PSB1c2VyT3B0aW9ucy5tYXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlck9wdGlvbnMubWluID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9ucy5taW4gPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJPcHRpb25zLm1heCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJPcHRpb25zLm1ham9yVW5pdCkge1xuICAgICAgICAgICAgYXV0b09wdGlvbnMubWluID0gZmxvb3IoYXV0b09wdGlvbnMubWluLCB1c2VyT3B0aW9ucy5tYWpvclVuaXQpO1xuICAgICAgICAgICAgYXV0b09wdGlvbnMubWF4ID0gY2VpbChhdXRvT3B0aW9ucy5tYXgsIHVzZXJPcHRpb25zLm1ham9yVW5pdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXNlclNldExpbWl0cykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoYXV0b09wdGlvbnMsIHVzZXJPcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGFuIGF1dG8gbWFqb3IgdW5pdCBhZnRlciBtaW4vbWF4IGhhdmUgYmVlbiBzZXRcbiAgICAgICAgICAgIGF1dG9PcHRpb25zLm1ham9yVW5pdCA9IGF1dG9NYWpvclVuaXQob3B0aW9ucy5taW4sIG9wdGlvbnMubWF4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF1dG9PcHRpb25zLm1pbm9yVW5pdCA9IChvcHRpb25zLm1ham9yVW5pdCB8fCBhdXRvT3B0aW9ucy5tYWpvclVuaXQpIC8gNTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGRlZXBFeHRlbmQoYXV0b09wdGlvbnMsIG9wdGlvbnMpO1xuICAgIGlmIChyZXN1bHQubWluID49IHJlc3VsdC5tYXgpIHtcbiAgICAgICAgaWYgKHVzZXJTZXRNaW4gJiYgIXVzZXJTZXRNYXgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXggPSByZXN1bHQubWluICsgcmVzdWx0Lm1ham9yVW5pdDtcbiAgICAgICAgfSBlbHNlIGlmICghdXNlclNldE1pbiAmJiB1c2VyU2V0TWF4KSB7XG4gICAgICAgICAgICByZXN1bHQubWluID0gcmVzdWx0Lm1heCAtIHJlc3VsdC5tYWpvclVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZW1haW5kZXJDbG9zZSh2YWx1ZSwgZGl2aXNvciwgcmF0aW8pIHtcbiAgICBjb25zdCByZW1haW5kZXIgPSByb3VuZChNYXRoLmFicyh2YWx1ZSAlIGRpdmlzb3IpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgY29uc3QgdGhyZXNob2xkID0gZGl2aXNvciAqICgxIC0gcmF0aW8pO1xuXG4gICAgcmV0dXJuIHJlbWFpbmRlciA9PT0gMCB8fCByZW1haW5kZXIgPiB0aHJlc2hvbGQ7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKE51bWVyaWNBeGlzLCB7XG4gICAgdHlwZTogXCJudW1lcmljXCIsXG4gICAgbWluOiAwLFxuICAgIG1heDogMSxcbiAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgY29sb3I6IEJMQUNLXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9ybWF0OiBcIiMuIyMjIyMjIyMjIyMjIyMjIyMjIyNcIlxuICAgIH0sXG4gICAgekluZGV4OiAxXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTnVtZXJpY0F4aXM7XG4iLCJpbXBvcnQgQXhpcyBmcm9tICcuL2F4aXMnO1xuaW1wb3J0IE51bWVyaWNBeGlzIGZyb20gJy4vbnVtZXJpYy1heGlzJztcbmltcG9ydCBBeGlzTGFiZWwgZnJvbSAnLi9heGlzLWxhYmVsJztcbmltcG9ydCB7IERhdGVMYWJlbEZvcm1hdHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IEJMQUNLLCBEQVRFLCBDT09SRF9QUkVDSVNJT04sIERFRkFVTFRfUFJFQ0lTSU9OLCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgbGltaXRWYWx1ZSwgcm91bmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgYXV0b01ham9yVW5pdCBmcm9tICcuL3V0aWxzL2F1dG8tbWFqb3ItdW5pdCc7XG5pbXBvcnQgY2VpbCBmcm9tICcuL3V0aWxzL2NlaWwnO1xuXG5pbXBvcnQgeyB0b0RhdGUsIHRvVGltZSwgZmxvb3JEYXRlLCBjZWlsRGF0ZSwgZHVyYXRpb24sIGFkZER1cmF0aW9uLCBhZGRUaWNrcywgZGF0ZURpZmYsIGFic29sdXRlRGF0ZURpZmYsIGRhdGVDb21wYXJlciwgcGFyc2VEYXRlLCBwYXJzZURhdGVzIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5pbXBvcnQgeyBIT1VSUywgREFZUywgV0VFS1MsIE1PTlRIUywgWUVBUlMsIFRJTUVfUEVSX0RBWSwgVElNRV9QRVJfV0VFSywgVElNRV9QRVJfTU9OVEgsIFRJTUVfUEVSX1lFQVIsIFRJTUVfUEVSX1VOSVQgfSBmcm9tICcuLi9kYXRlLXV0aWxzL2NvbnN0YW50cyc7XG5cbmNsYXNzIERhdGVWYWx1ZUF4aXMgZXh0ZW5kcyBBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihzZXJpZXNNaW4sIHNlcmllc01heCwgYXhpc09wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBjb25zdCBtaW4gPSB0b0RhdGUoc2VyaWVzTWluKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdG9EYXRlKHNlcmllc01heCk7XG5cbiAgICAgICAgY29uc3QgaW50bFNlcnZpY2UgPSBjaGFydFNlcnZpY2UuaW50bDtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBheGlzT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQob3B0aW9ucyB8fCB7fSwge1xuICAgICAgICAgICAgbWluOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMubWluKSxcbiAgICAgICAgICAgIG1heDogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1heCksXG4gICAgICAgICAgICBheGlzQ3Jvc3NpbmdWYWx1ZTogcGFyc2VEYXRlcyhpbnRsU2VydmljZSwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZXMgfHwgb3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZSlcbiAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvbnMgPSBhcHBseURlZmF1bHRzKG1pbiwgbWF4LCBvcHRpb25zKTtcblxuICAgICAgICBzdXBlcihvcHRpb25zLCBjaGFydFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMuaW50bFNlcnZpY2UgPSBpbnRsU2VydmljZTtcbiAgICAgICAgdGhpcy5zZXJpZXNNaW4gPSBtaW47XG4gICAgICAgIHRoaXMuc2VyaWVzTWF4ID0gbWF4O1xuXG4gICAgICAgIGNvbnN0IHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5IHx8IDA7XG4gICAgICAgIHRoaXMudG90YWxNaW4gPSB0b1RpbWUoZmxvb3JEYXRlKHRvVGltZShtaW4pIC0gMSwgb3B0aW9ucy5iYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KSk7XG4gICAgICAgIHRoaXMudG90YWxNYXggPSB0b1RpbWUoY2VpbERhdGUodG9UaW1lKG1heCkgKyAxLCBvcHRpb25zLmJhc2VVbml0LCB3ZWVrU3RhcnREYXkpKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlVmFsdWVBeGlzKHRoaXMuc2VyaWVzTWluLCB0aGlzLnNlcmllc01heCwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4geyBtaW46IG9wdGlvbnMubWluLCBtYXg6IG9wdGlvbnMubWF4IH07XG4gICAgfVxuXG4gICAgZ2V0RGl2aXNpb25zKHN0ZXBWYWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKFxuICAgICAgICAgICAgZHVyYXRpb24ob3B0aW9ucy5taW4sIG9wdGlvbnMubWF4LCBvcHRpb25zLmJhc2VVbml0KSAvIHN0ZXBWYWx1ZSArIDFcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRUaWNrUG9zaXRpb25zKHN0ZXApIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGRpciA9ICh2ZXJ0aWNhbCA/IC0xIDogMSkgKiAob3B0aW9ucy5yZXZlcnNlID8gLTEgOiAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRFZGdlID0gZGlyID09PSAxID8gMSA6IDI7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbGluZUJveFsodmVydGljYWwgPyBZIDogWCkgKyBzdGFydEVkZ2VdO1xuICAgICAgICBjb25zdCBkaXZpc2lvbnMgPSB0aGlzLmdldERpdmlzaW9ucyhzdGVwKTtcbiAgICAgICAgY29uc3QgdGltZVJhbmdlID0gZGF0ZURpZmYob3B0aW9ucy5tYXgsIG9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3QgbGluZVNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gbGluZVNpemUgLyB0aW1lUmFuZ2U7XG4gICAgICAgIGNvbnN0IHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5IHx8IDA7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gWyBzdGFydCBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGRpdmlzaW9uczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gYWRkRHVyYXRpb24ob3B0aW9ucy5taW4sIGkgKiBzdGVwLCBvcHRpb25zLmJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICAgICAgY29uc3QgcG9zID0gc3RhcnQgKyBkYXRlRGlmZihkYXRlLCBvcHRpb25zLm1pbikgKiBzY2FsZSAqIGRpcjtcblxuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocm91bmQocG9zLCBDT09SRF9QUkVDSVNJT04pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrUG9zaXRpb25zKHRoaXMub3B0aW9ucy5tYWpvclVuaXQpO1xuICAgIH1cblxuICAgIGdldE1pbm9yVGlja1Bvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlja1Bvc2l0aW9ucyh0aGlzLm9wdGlvbnMubWlub3JVbml0KTtcbiAgICB9XG5cbiAgICBnZXRTbG90KGEsIGIsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiBOdW1lcmljQXhpcy5wcm90b3R5cGUuZ2V0U2xvdC5jYWxsKFxuICAgICAgICAgICAgdGhpcywgcGFyc2VEYXRlKHRoaXMuaW50bFNlcnZpY2UsIGEpLCBwYXJzZURhdGUodGhpcy5pbnRsU2VydmljZSwgYiksIGxpbWl0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBOdW1lcmljQXhpcy5wcm90b3R5cGUuZ2V0VmFsdWUuY2FsbCh0aGlzLCBwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsID8gdG9EYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgfVxuXG4gICAgbGFiZWxzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERpdmlzaW9ucyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBjcmVhdGVBeGlzTGFiZWwoaW5kZXgsIGxhYmVsT3B0aW9ucykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBpbmRleCAqIG9wdGlvbnMubWFqb3JVbml0O1xuICAgICAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuICAgICAgICBsZXQgZGF0ZSA9IG9wdGlvbnMubWluO1xuXG4gICAgICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBkYXRlID0gYWRkRHVyYXRpb24oZGF0ZSwgb2Zmc2V0LCBvcHRpb25zLmJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdW5pdEZvcm1hdCA9IGxhYmVsT3B0aW9ucy5kYXRlRm9ybWF0c1tvcHRpb25zLmJhc2VVbml0XTtcbiAgICAgICAgbGFiZWxPcHRpb25zLmZvcm1hdCA9IGxhYmVsT3B0aW9ucy5mb3JtYXQgfHwgdW5pdEZvcm1hdDtcblxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5heGlzTGFiZWxUZXh0KGRhdGUsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgQXhpc0xhYmVsKGRhdGUsIHRleHQsIGluZGV4LCBudWxsLCBsYWJlbE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZVJhbmdlKGRlbHRhLCBleGFjdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBiYXNlVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgICAgIGNvbnN0IHdlZWtTdGFydERheSA9IG9wdGlvbnMud2Vla1N0YXJ0RGF5IHx8IDA7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMudmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzaXplIC8gZGF0ZURpZmYocmFuZ2UubWF4LCByYW5nZS5taW4pO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSByb3VuZChkZWx0YSAvIHNjYWxlLCBERUZBVUxUX1BSRUNJU0lPTikgKiAob3B0aW9ucy5yZXZlcnNlID8gLTEgOiAxKTtcbiAgICAgICAgbGV0IGZyb20gPSBhZGRUaWNrcyhvcHRpb25zLm1pbiwgb2Zmc2V0KTtcbiAgICAgICAgbGV0IHRvID0gYWRkVGlja3Mob3B0aW9ucy5tYXgsIG9mZnNldCk7XG5cbiAgICAgICAgaWYgKCFleGFjdCkge1xuICAgICAgICAgICAgZnJvbSA9IGFkZER1cmF0aW9uKGZyb20sIDAsIGJhc2VVbml0LCB3ZWVrU3RhcnREYXkpO1xuICAgICAgICAgICAgdG8gPSBhZGREdXJhdGlvbih0bywgMCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBmcm9tLFxuICAgICAgICAgICAgbWF4OiB0byxcbiAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2NhbGVSYW5nZShkZWx0YSkge1xuICAgICAgICBsZXQgeyBtaW46IGZyb20sIG1heDogdG8gfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IHJvdW5kcyA9IE1hdGguYWJzKGRlbHRhKTtcblxuICAgICAgICB3aGlsZSAocm91bmRzLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gZGF0ZURpZmYoZnJvbSwgdG8pO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgucm91bmQocmFuZ2UgKiAwLjEpO1xuICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgIGZyb20gPSBhZGRUaWNrcyhmcm9tLCBzdGVwKTtcbiAgICAgICAgICAgICAgICB0byA9IGFkZFRpY2tzKHRvLCAtc3RlcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZyb20gPSBhZGRUaWNrcyhmcm9tLCAtc3RlcCk7XG4gICAgICAgICAgICAgICAgdG8gPSBhZGRUaWNrcyh0bywgc3RlcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBtaW46IGZyb20sIG1heDogdG8gfTtcbiAgICB9XG5cbiAgICBzaG91bGRSZW5kZXJOb3RlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5yYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1pbikgPj0gMCAmJiBkYXRlQ29tcGFyZXIodmFsdWUsIHJhbmdlLm1heCkgPD0gMDtcbiAgICB9XG5cbiAgICBwYW4oZGVsdGEpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLnRyYW5zbGF0ZVJhbmdlKGRlbHRhLCB0cnVlKTtcbiAgICAgICAgY29uc3QgbGltaXR0ZWRSYW5nZSA9IHRoaXMubGltaXRSYW5nZSh0b1RpbWUocmFuZ2UubWluKSwgdG9UaW1lKHJhbmdlLm1heCksIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgsIHJhbmdlLm9mZnNldCk7XG5cbiAgICAgICAgaWYgKGxpbWl0dGVkUmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluOiB0b0RhdGUobGltaXR0ZWRSYW5nZS5taW4pLFxuICAgICAgICAgICAgICAgIG1heDogdG9EYXRlKGxpbWl0dGVkUmFuZ2UubWF4KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50c1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmRWYWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZW5kKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogdG9EYXRlKG1pbiksXG4gICAgICAgICAgICBtYXg6IHRvRGF0ZShtYXgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgem9vbVJhbmdlKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5zY2FsZVJhbmdlKGRlbHRhKTtcbiAgICAgICAgY29uc3QgbWluID0gdG9EYXRlKGxpbWl0VmFsdWUodG9UaW1lKHJhbmdlLm1pbiksIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgpKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdG9EYXRlKGxpbWl0VmFsdWUodG9UaW1lKHJhbmdlLm1heCksIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgpKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdGltZVVuaXRzKGRlbHRhKSB7XG4gICAgbGV0IHVuaXQgPSBIT1VSUztcblxuICAgIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9ZRUFSKSB7XG4gICAgICAgIHVuaXQgPSBZRUFSUztcbiAgICB9IGVsc2UgaWYgKGRlbHRhID49IFRJTUVfUEVSX01PTlRIKSB7XG4gICAgICAgIHVuaXQgPSBNT05USFM7XG4gICAgfSBlbHNlIGlmIChkZWx0YSA+PSBUSU1FX1BFUl9XRUVLKSB7XG4gICAgICAgIHVuaXQgPSBXRUVLUztcbiAgICB9IGVsc2UgaWYgKGRlbHRhID49IFRJTUVfUEVSX0RBWSkge1xuICAgICAgICB1bml0ID0gREFZUztcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pdDtcbn1cblxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyhzZXJpZXNNaW4sIHNlcmllc01heCwgb3B0aW9ucykge1xuICAgIGNvbnN0IG1pbiA9IG9wdGlvbnMubWluIHx8IHNlcmllc01pbjtcbiAgICBjb25zdCBtYXggPSBvcHRpb25zLm1heCB8fCBzZXJpZXNNYXg7XG4gICAgY29uc3QgYmFzZVVuaXQgPSBvcHRpb25zLmJhc2VVbml0IHx8IChtYXggJiYgbWluID8gdGltZVVuaXRzKGFic29sdXRlRGF0ZURpZmYobWF4LCBtaW4pKSA6IEhPVVJTKTtcbiAgICBjb25zdCBiYXNlVW5pdFRpbWUgPSBUSU1FX1BFUl9VTklUW2Jhc2VVbml0XTtcbiAgICBjb25zdCB3ZWVrU3RhcnREYXkgPSBvcHRpb25zLndlZWtTdGFydERheSB8fCAwO1xuICAgIGNvbnN0IGF1dG9NaW4gPSBmbG9vckRhdGUodG9UaW1lKG1pbikgLSAxLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KSB8fCB0b0RhdGUobWF4KTtcbiAgICBjb25zdCBhdXRvTWF4ID0gY2VpbERhdGUodG9UaW1lKG1heCkgKyAxLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICBjb25zdCB1c2VyTWFqb3JVbml0ID0gb3B0aW9ucy5tYWpvclVuaXQgPyBvcHRpb25zLm1ham9yVW5pdCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYWpvclVuaXQgPSB1c2VyTWFqb3JVbml0IHx8IGNlaWwoXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvTWFqb3JVbml0KGF1dG9NaW4uZ2V0VGltZSgpLCBhdXRvTWF4LmdldFRpbWUoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlVW5pdFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKSAvIGJhc2VVbml0VGltZTtcbiAgICBjb25zdCBhY3R1YWxVbml0cyA9IGR1cmF0aW9uKGF1dG9NaW4sIGF1dG9NYXgsIGJhc2VVbml0KTtcbiAgICBjb25zdCB0b3RhbFVuaXRzID0gY2VpbChhY3R1YWxVbml0cywgbWFqb3JVbml0KTtcbiAgICBjb25zdCB1bml0c1RvQWRkID0gdG90YWxVbml0cyAtIGFjdHVhbFVuaXRzO1xuICAgIGNvbnN0IGhlYWQgPSBNYXRoLmZsb29yKHVuaXRzVG9BZGQgLyAyKTtcbiAgICBjb25zdCB0YWlsID0gdW5pdHNUb0FkZCAtIGhlYWQ7XG5cbiAgICBpZiAoIW9wdGlvbnMuYmFzZVVuaXQpIHtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuYmFzZVVuaXQ7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5iYXNlVW5pdCA9IG9wdGlvbnMuYmFzZVVuaXQgfHwgYmFzZVVuaXQ7XG4gICAgb3B0aW9ucy5taW4gPSBvcHRpb25zLm1pbiB8fCBhZGREdXJhdGlvbihhdXRvTWluLCAtaGVhZCwgYmFzZVVuaXQsIHdlZWtTdGFydERheSk7XG4gICAgb3B0aW9ucy5tYXggPSBvcHRpb25zLm1heCB8fCBhZGREdXJhdGlvbihhdXRvTWF4LCB0YWlsLCBiYXNlVW5pdCwgd2Vla1N0YXJ0RGF5KTtcbiAgICBvcHRpb25zLm1pbm9yVW5pdCA9IG9wdGlvbnMubWlub3JVbml0IHx8IG1ham9yVW5pdCAvIDU7XG4gICAgb3B0aW9ucy5tYWpvclVuaXQgPSBtYWpvclVuaXQ7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRGF0ZVZhbHVlQXhpcywge1xuICAgIHR5cGU6IERBVEUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDS1xuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGRhdGVGb3JtYXRzOiBEYXRlTGFiZWxGb3JtYXRzXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVWYWx1ZUF4aXM7XG4iLCJcbmltcG9ydCBBeGlzIGZyb20gJy4vYXhpcyc7XG5pbXBvcnQgQXhpc0xhYmVsIGZyb20gJy4vYXhpcy1sYWJlbCc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IGNyZWF0ZUF4aXNUaWNrIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtdGljayc7XG5pbXBvcnQgY3JlYXRlQXhpc0dyaWRMaW5lIGZyb20gJy4vdXRpbHMvY3JlYXRlLWF4aXMtZ3JpZC1saW5lJztcbmltcG9ydCBsaW1pdENvb3JkaW5hdGUgZnJvbSAnLi91dGlscy9saW1pdC1jb29yZGluYXRlJztcblxuaW1wb3J0IHsgREVGQVVMVF9QUkVDSVNJT04sIEJMQUNLLCBYLCBZIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpbkFycmF5LCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jb25zdCBERUZBVUxUX01BSk9SX1VOSVQgPSAxMDtcblxuY2xhc3MgTG9nYXJpdGhtaWNBeGlzIGV4dGVuZHMgQXhpcyB7XG4gICAgY29uc3RydWN0b3Ioc2VyaWVzTWluLCBzZXJpZXNNYXgsIG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuXG4gICAgICAgIGNvbnN0IGF4aXNPcHRpb25zID0gZGVlcEV4dGVuZCh7IG1ham9yVW5pdDogREVGQVVMVF9NQUpPUl9VTklULCBtaW46IHNlcmllc01pbiwgbWF4OiBzZXJpZXNNYXggfSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBheGlzT3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgICAgIGNvbnN0IGF1dG9NYXggPSBhdXRvQXhpc01heChzZXJpZXNNYXgsIGJhc2UpO1xuICAgICAgICBjb25zdCBhdXRvTWluID0gYXV0b0F4aXNNaW4oc2VyaWVzTWluLCBzZXJpZXNNYXgsIGF4aXNPcHRpb25zKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBpbml0UmFuZ2UoYXV0b01pbiwgYXV0b01heCwgYXhpc09wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIGF4aXNPcHRpb25zLm1heCA9IHJhbmdlLm1heDtcbiAgICAgICAgYXhpc09wdGlvbnMubWluID0gcmFuZ2UubWluO1xuICAgICAgICBheGlzT3B0aW9ucy5taW5vclVuaXQgPSBvcHRpb25zLm1pbm9yVW5pdCB8fCByb3VuZChiYXNlIC0gMSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG4gICAgICAgIHN1cGVyKGF4aXNPcHRpb25zLCBjaGFydFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMudG90YWxNaW4gPSBkZWZpbmVkKG9wdGlvbnMubWluKSA/IE1hdGgubWluKGF1dG9NaW4sIG9wdGlvbnMubWluKSA6IGF1dG9NaW47XG4gICAgICAgIHRoaXMudG90YWxNYXggPSBkZWZpbmVkKG9wdGlvbnMubWF4KSA/IE1hdGgubWF4KGF1dG9NYXgsIG9wdGlvbnMubWF4KSA6IGF1dG9NYXg7XG4gICAgICAgIHRoaXMubG9nTWluID0gcm91bmQobG9nKHJhbmdlLm1pbiwgYmFzZSksIERFRkFVTFRfUFJFQ0lTSU9OKTtcbiAgICAgICAgdGhpcy5sb2dNYXggPSByb3VuZChsb2cocmFuZ2UubWF4LCBiYXNlKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICB0aGlzLnNlcmllc01pbiA9IHNlcmllc01pbjtcbiAgICAgICAgdGhpcy5zZXJpZXNNYXggPSBzZXJpZXNNYXg7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMYWJlbHMoKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dhcml0aG1pY0F4aXMoXG4gICAgICAgICAgICB0aGlzLnNlcmllc01pbixcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzTWF4LFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSxcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3RhcnRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5taW47XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiLCBsaW1pdCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxvZ01pbiwgbG9nTWF4IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHJldmVyc2UsIHZlcnRpY2FsLCBtYWpvclVuaXQ6IGJhc2UgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFt2YWx1ZUF4aXMgKyAocmV2ZXJzZSA/IDIgOiAxKV07XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBkaXIgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgICAgICBjb25zdCBzdGVwID0gZGlyICogKGxpbmVTaXplIC8gKGxvZ01heCAtIGxvZ01pbikpO1xuICAgICAgICBjb25zdCBzbG90Qm94ID0gbmV3IEJveChsaW5lQm94LngxLCBsaW5lQm94LnkxLCBsaW5lQm94LngxLCBsaW5lQm94LnkxKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gYTtcbiAgICAgICAgbGV0IGVuZCA9IGI7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHN0YXJ0KSkge1xuICAgICAgICAgICAgc3RhcnQgPSBlbmQgfHwgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVmaW5lZChlbmQpKSB7XG4gICAgICAgICAgICBlbmQgPSBzdGFydCB8fCAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0IDw9IDAgfHwgZW5kIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KE1hdGgubWluKHN0YXJ0LCBvcHRpb25zLm1heCksIG9wdGlvbnMubWluKTtcbiAgICAgICAgICAgIGVuZCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCwgb3B0aW9ucy5tYXgpLCBvcHRpb25zLm1pbik7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9IGxvZyhzdGFydCwgYmFzZSk7XG4gICAgICAgIGVuZCA9IGxvZyhlbmQsIGJhc2UpO1xuXG4gICAgICAgIGxldCBwMSwgcDI7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwMSA9IGxvZ01heCAtIE1hdGgubWF4KHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgcDIgPSBsb2dNYXggLSBNYXRoLm1pbihzdGFydCwgZW5kKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAxID0gTWF0aC5taW4oc3RhcnQsIGVuZCkgLSBsb2dNaW47XG4gICAgICAgICAgICBwMiA9IE1hdGgubWF4KHN0YXJ0LCBlbmQpIC0gbG9nTWluO1xuICAgICAgICB9XG5cbiAgICAgICAgc2xvdEJveFt2YWx1ZUF4aXMgKyAxXSA9IGxpbWl0Q29vcmRpbmF0ZShsaW5lU3RhcnQgKyBzdGVwICogKHJldmVyc2UgPyBwMiA6IHAxKSk7XG4gICAgICAgIHNsb3RCb3hbdmFsdWVBeGlzICsgMl0gPSBsaW1pdENvb3JkaW5hdGUobGluZVN0YXJ0ICsgc3RlcCAqIChyZXZlcnNlID8gcDEgOiBwMikpO1xuXG4gICAgICAgIHJldHVybiBzbG90Qm94O1xuICAgIH1cblxuICAgIGdldFZhbHVlKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbG9nTWluLCBsb2dNYXggfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSwgdmVydGljYWwsIG1ham9yVW5pdDogYmFzZSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBkaXIgPSB2ZXJ0aWNhbCA9PT0gcmV2ZXJzZSA/IDEgOiAtMTtcbiAgICAgICAgY29uc3Qgc3RhcnRFZGdlID0gZGlyID09PSAxID8gMSA6IDI7XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBzdGVwID0gKChsb2dNYXggLSBsb2dNaW4pIC8gbGluZVNpemUpO1xuICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBsaW5lQm94W3ZhbHVlQXhpcyArIHN0YXJ0RWRnZV07XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGRpciAqIChwb2ludFt2YWx1ZUF4aXNdIC0gbGluZVN0YXJ0KTtcbiAgICAgICAgY29uc3QgdmFsdWVPZmZzZXQgPSBvZmZzZXQgKiBzdGVwO1xuXG4gICAgICAgIGlmIChvZmZzZXQgPCAwIHx8IG9mZnNldCA+IGxpbmVTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gbG9nTWluICsgdmFsdWVPZmZzZXQ7XG5cbiAgICAgICAgcmV0dXJuIHJvdW5kKE1hdGgucG93KGJhc2UsIHZhbHVlKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgIH1cblxuICAgIHJhbmdlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICByZXR1cm4geyBtaW46IG9wdGlvbnMubWluLCBtYXg6IG9wdGlvbnMubWF4IH07XG4gICAgfVxuXG4gICAgc2NhbGVSYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5vcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLWRlbHRhO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IE1hdGgucG93KGJhc2UsIHRoaXMubG9nTWluIC0gb2Zmc2V0KSxcbiAgICAgICAgICAgIG1heDogTWF0aC5wb3coYmFzZSwgdGhpcy5sb2dNYXggKyBvZmZzZXQpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlUmFuZ2UoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyByZXZlcnNlLCB2ZXJ0aWNhbCwgbWFqb3JVbml0OiBiYXNlIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gdGhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSB2ZXJ0aWNhbCA/IGxpbmVCb3guaGVpZ2h0KCkgOiBsaW5lQm94LndpZHRoKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2l6ZSAvIChsb2dNYXggLSBsb2dNaW4pO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gcm91bmQoZGVsdGEgLyBzY2FsZSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG4gICAgICAgIGlmICgodmVydGljYWwgfHwgcmV2ZXJzZSkgJiYgISh2ZXJ0aWNhbCAmJiByZXZlcnNlICkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBNYXRoLnBvdyhiYXNlLCBsb2dNaW4gKyBvZmZzZXQpLFxuICAgICAgICAgICAgbWF4OiBNYXRoLnBvdyhiYXNlLCBsb2dNYXggKyBvZmZzZXQpLFxuICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBsYWJlbHNDb3VudCgpIHtcbiAgICAgICAgY29uc3QgZmxvb3JNYXggPSBNYXRoLmZsb29yKHRoaXMubG9nTWF4KTtcbiAgICAgICAgY29uc3QgY291bnQgPSBNYXRoLmZsb29yKGZsb29yTWF4IC0gdGhpcy5sb2dNaW4pICsgMTtcblxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuXG4gICAgZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCB0aWNrcyA9IFtdO1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2VNYWpvclRpY2tzUG9zaXRpb25zKChwb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgdGlja3MucHVzaChwb3NpdGlvbik7XG4gICAgICAgIH0sIHsgc3RlcDogMSwgc2tpcDogMCB9KTtcblxuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfVxuXG4gICAgY3JlYXRlVGlja3MobGluZUdyb3VwKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgbWFqb3JUaWNrcywgbWlub3JUaWNrcywgdmVydGljYWwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1pcnJvciA9IG9wdGlvbnMubGFiZWxzLm1pcnJvcjtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCB0aWNrcyA9IFtdO1xuICAgICAgICBjb25zdCB0aWNrTGluZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAvLyBfYWxpZ25MaW5lczogb3B0aW9ucy5fYWxpZ25MaW5lcyxcbiAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbFxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlcih0aWNrUG9zaXRpb24sIHRpY2tPcHRpb25zKSB7XG4gICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMudGlja1ggPSBtaXJyb3IgPyBsaW5lQm94LngyIDogbGluZUJveC54MiAtIHRpY2tPcHRpb25zLnNpemU7XG4gICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMudGlja1kgPSBtaXJyb3IgPyBsaW5lQm94LnkxIC0gdGlja09wdGlvbnMuc2l6ZSA6IGxpbmVCb3gueTE7XG4gICAgICAgICAgICB0aWNrTGluZU9wdGlvbnMucG9zaXRpb24gPSB0aWNrUG9zaXRpb247XG5cbiAgICAgICAgICAgIGxpbmVHcm91cC5hcHBlbmQoY3JlYXRlQXhpc1RpY2sodGlja0xpbmVPcHRpb25zLCB0aWNrT3B0aW9ucykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ham9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy50cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMocmVuZGVyLCBtYWpvclRpY2tzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5vclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhdmVyc2VNaW5vclRpY2tzUG9zaXRpb25zKHJlbmRlciwgbWlub3JUaWNrcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JpZExpbmVzKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBtaW5vckdyaWRMaW5lcywgbWFqb3JHcmlkTGluZXMsIHZlcnRpY2FsIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBsaW5lQm94ID0gYWx0QXhpcy5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IGxpbmVPcHRpb25zID0ge1xuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lQm94W3ZlcnRpY2FsID8gXCJ4MVwiIDogXCJ5MVwiXSxcbiAgICAgICAgICAgIGxpbmVFbmQ6IGxpbmVCb3hbdmVydGljYWwgPyBcIngyXCIgOiBcInkyXCJdLFxuICAgICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1ham9yVGlja3MgPSBbXTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmdyaWRMaW5lc1Zpc3VhbCgpO1xuICAgICAgICBmdW5jdGlvbiByZW5kZXIodGlja1Bvc2l0aW9uLCBncmlkTGluZSkge1xuICAgICAgICAgICAgaWYgKCFpbkFycmF5KHRpY2tQb3NpdGlvbiwgbWFqb3JUaWNrcykpIHtcbiAgICAgICAgICAgICAgICBsaW5lT3B0aW9ucy5wb3NpdGlvbiA9IHRpY2tQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKGNyZWF0ZUF4aXNHcmlkTGluZShsaW5lT3B0aW9ucywgZ3JpZExpbmUpKTtcblxuICAgICAgICAgICAgICAgIG1ham9yVGlja3MucHVzaCh0aWNrUG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1ham9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhdmVyc2VNYWpvclRpY2tzUG9zaXRpb25zKHJlbmRlciwgbWFqb3JHcmlkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pbm9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhdmVyc2VNaW5vclRpY2tzUG9zaXRpb25zKHJlbmRlciwgbWlub3JHcmlkTGluZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZU1ham9yVGlja3NQb3NpdGlvbnMoY2FsbGJhY2ssIHRpY2tPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgbGluZVN0YXJ0LCBzdGVwIH0gPSB0aGlzLl9saW5lT3B0aW9ucygpO1xuICAgICAgICBjb25zdCB7IGxvZ01pbiwgbG9nTWF4IH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IHBvd2VyID0gTWF0aC5jZWlsKGxvZ01pbikgKyB0aWNrT3B0aW9ucy5za2lwOyBwb3dlciA8PSBsb2dNYXg7IHBvd2VyICs9IHRpY2tPcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IHJvdW5kKGxpbmVTdGFydCArIHN0ZXAgKiAocG93ZXIgLSBsb2dNaW4pLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgICAgICAgICBjYWxsYmFjayhwb3NpdGlvbiwgdGlja09wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHJhdmVyc2VNaW5vclRpY2tzUG9zaXRpb25zKGNhbGxiYWNrLCB0aWNrT3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCBtaW5vclVuaXQsIG1ham9yVW5pdDogYmFzZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IGxpbmVTdGFydCwgc3RlcCB9ID0gdGhpcy5fbGluZU9wdGlvbnMoKTtcbiAgICAgICAgY29uc3QgeyBsb2dNaW4sIGxvZ01heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLmZsb29yKGxvZ01pbik7XG5cbiAgICAgICAgZm9yIChsZXQgcG93ZXIgPSBzdGFydDsgcG93ZXIgPCBsb2dNYXg7IHBvd2VyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yT3B0aW9ucyA9IHRoaXMuX21pbm9ySW50ZXJ2YWxPcHRpb25zKHBvd2VyKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IHRpY2tPcHRpb25zLnNraXA7IGlkeCA8IG1pbm9yVW5pdDsgaWR4ICs9IHRpY2tPcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1pbm9yT3B0aW9ucy52YWx1ZSArIGlkeCAqIG1pbm9yT3B0aW9ucy5taW5vclN0ZXA7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPj0gbWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gcm91bmQobGluZVN0YXJ0ICsgc3RlcCAqIChsb2codmFsdWUsIGJhc2UpIC0gbG9nTWluKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwb3NpdGlvbiwgdGlja09wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUF4aXNMYWJlbChpbmRleCwgbGFiZWxPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBvd2VyID0gTWF0aC5jZWlsKHRoaXMubG9nTWluICsgaW5kZXgpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IE1hdGgucG93KHRoaXMub3B0aW9ucy5tYWpvclVuaXQsIHBvd2VyKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuYXhpc0xhYmVsVGV4dCh2YWx1ZSwgbnVsbCwgbGFiZWxPcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gbmV3IEF4aXNMYWJlbCh2YWx1ZSwgdGV4dCwgaW5kZXgsIG51bGwsIGxhYmVsT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc2hvdWxkUmVuZGVyTm90ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMucmFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHJhbmdlLm1pbiA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSByYW5nZS5tYXg7XG4gICAgfVxuXG4gICAgcGFuKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy50cmFuc2xhdGVSYW5nZShkZWx0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0UmFuZ2UocmFuZ2UubWluLCByYW5nZS5tYXgsIHRoaXMudG90YWxNaW4sIHRoaXMudG90YWxNYXgsIHJhbmdlLm9mZnNldCk7XG4gICAgfVxuXG4gICAgcG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gdGhpcy5nZXRWYWx1ZShzdGFydCk7XG4gICAgICAgIGNvbnN0IGVuZFZhbHVlID0gdGhpcy5nZXRWYWx1ZShlbmQpO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHpvb21SYW5nZShkZWx0YSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHRvdGFsTWluLCB0b3RhbE1heCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbmV3UmFuZ2UgPSB0aGlzLnNjYWxlUmFuZ2UoZGVsdGEpO1xuICAgICAgICBjb25zdCBtaW4gPSBsaW1pdFZhbHVlKG5ld1JhbmdlLm1pbiwgdG90YWxNaW4sIHRvdGFsTWF4KTtcbiAgICAgICAgY29uc3QgbWF4ID0gbGltaXRWYWx1ZShuZXdSYW5nZS5tYXgsIHRvdGFsTWluLCB0b3RhbE1heCk7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBvcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgY29uc3QgYWNjZXB0T3B0aW9uc1JhbmdlID0gbWF4ID4gbWluICYmIG9wdGlvbnMubWluICYmIG9wdGlvbnMubWF4ICYmIChyb3VuZChsb2cob3B0aW9ucy5tYXgsIGJhc2UpIC0gbG9nKG9wdGlvbnMubWluLCBiYXNlKSwgREVGQVVMVF9QUkVDSVNJT04pIDwgMSk7XG4gICAgICAgIGNvbnN0IGFjY2VwdE5ld1JhbmdlID0gIShvcHRpb25zLm1pbiA9PT0gdG90YWxNaW4gJiYgb3B0aW9ucy5tYXggPT09IHRvdGFsTWF4KSAmJiByb3VuZChsb2cobWF4LCBiYXNlKSAtIGxvZyhtaW4sIGJhc2UpLCBERUZBVUxUX1BSRUNJU0lPTikgPj0gMTtcblxuICAgICAgICBpZiAoYWNjZXB0T3B0aW9uc1JhbmdlIHx8IGFjY2VwdE5ld1JhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjogbWluLFxuICAgICAgICAgICAgICAgIG1heDogbWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21pbm9ySW50ZXJ2YWxPcHRpb25zKHBvd2VyKSB7XG4gICAgICAgIGNvbnN0IHsgbWlub3JVbml0LCBtYWpvclVuaXQ6IGJhc2UgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBNYXRoLnBvdyhiYXNlLCBwb3dlcik7XG4gICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IE1hdGgucG93KGJhc2UsIHBvd2VyICsgMSk7XG4gICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBuZXh0VmFsdWUgLSB2YWx1ZTtcbiAgICAgICAgY29uc3QgbWlub3JTdGVwID0gZGlmZmVyZW5jZSAvIG1pbm9yVW5pdDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWlub3JTdGVwOiBtaW5vclN0ZXBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfbGluZU9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgcmV2ZXJzZSwgdmVydGljYWwgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3QgbGluZUJveCA9IHRoaXMubGluZUJveCgpO1xuICAgICAgICBjb25zdCBkaXIgPSB2ZXJ0aWNhbCA9PT0gcmV2ZXJzZSA/IDEgOiAtMTtcbiAgICAgICAgY29uc3Qgc3RhcnRFZGdlID0gZGlyID09PSAxID8gMSA6IDI7XG4gICAgICAgIGNvbnN0IGxpbmVTaXplID0gdmVydGljYWwgPyBsaW5lQm94LmhlaWdodCgpIDogbGluZUJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBzdGVwID0gZGlyICogKGxpbmVTaXplIC8gKHRoaXMubG9nTWF4IC0gdGhpcy5sb2dNaW4pKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZUJveFt2YWx1ZUF4aXMgKyBzdGFydEVkZ2VdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGVwOiBzdGVwLFxuICAgICAgICAgICAgbGluZVN0YXJ0OiBsaW5lU3RhcnQsXG4gICAgICAgICAgICBsaW5lQm94OiBsaW5lQm94XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbml0UmFuZ2UoYXV0b01pbiwgYXV0b01heCwgYXhpc09wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICBsZXQgeyBtaW4sIG1heCB9ID0gYXhpc09wdGlvbnM7XG5cbiAgICBpZiAoZGVmaW5lZChheGlzT3B0aW9ucy5heGlzQ3Jvc3NpbmdWYWx1ZSkgJiYgYXhpc09wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWUgPD0gMCkge1xuICAgICAgICB0aHJvd05lZ2F0aXZlVmFsdWVzRXJyb3IoKTtcbiAgICB9XG5cbiAgICBpZiAoIWRlZmluZWQob3B0aW9ucy5tYXgpKSB7XG4gICAgICAgIG1heCA9IGF1dG9NYXg7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLm1heCA8PSAwKSB7XG4gICAgICAgIHRocm93TmVnYXRpdmVWYWx1ZXNFcnJvcigpO1xuICAgIH1cblxuICAgIGlmICghZGVmaW5lZChvcHRpb25zLm1pbikpIHtcbiAgICAgICAgbWluID0gYXV0b01pbjtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubWluIDw9IDApIHtcbiAgICAgICAgdGhyb3dOZWdhdGl2ZVZhbHVlc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYXV0b0F4aXNNaW4obWluLCBtYXgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBiYXNlID0gb3B0aW9ucy5tYWpvclVuaXQ7XG4gICAgbGV0IGF1dG9NaW4gPSBtaW47XG4gICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgIGF1dG9NaW4gPSBtYXggPD0gMSA/IE1hdGgucG93KGJhc2UsIC0yKSA6IDE7XG4gICAgfSBlbHNlIGlmICghb3B0aW9ucy5uYXJyb3dSYW5nZSkge1xuICAgICAgICBhdXRvTWluID0gTWF0aC5wb3coYmFzZSwgTWF0aC5mbG9vcihsb2cobWluLCBiYXNlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXV0b01pbjtcbn1cblxuZnVuY3Rpb24gYXV0b0F4aXNNYXgobWF4LCBiYXNlKSB7XG4gICAgY29uc3QgbG9nTWF4UmVtYWluZGVyID0gcm91bmQobG9nKG1heCwgYmFzZSksIERFRkFVTFRfUFJFQ0lTSU9OKSAlIDE7XG4gICAgbGV0IGF1dG9NYXg7XG4gICAgaWYgKG1heCA8PSAwKSB7XG4gICAgICAgIGF1dG9NYXggPSBiYXNlO1xuICAgIH0gZWxzZSBpZiAobG9nTWF4UmVtYWluZGVyICE9PSAwICYmIChsb2dNYXhSZW1haW5kZXIgPCAwLjMgfHwgbG9nTWF4UmVtYWluZGVyID4gMC45KSkge1xuICAgICAgICBhdXRvTWF4ID0gTWF0aC5wb3coYmFzZSwgbG9nKG1heCwgYmFzZSkgKyAwLjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGF1dG9NYXggPSBNYXRoLnBvdyhiYXNlLCBNYXRoLmNlaWwobG9nKG1heCwgYmFzZSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXV0b01heDtcbn1cblxuZnVuY3Rpb24gdGhyb3dOZWdhdGl2ZVZhbHVlc0Vycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vbiBwb3NpdGl2ZSB2YWx1ZXMgY2Fubm90IGJlIHVzZWQgZm9yIGEgbG9nYXJpdGhtaWMgYXhpc1wiKTtcbn1cblxuZnVuY3Rpb24gbG9nKHksIHgpIHtcbiAgICByZXR1cm4gTWF0aC5sb2coeSkgLyBNYXRoLmxvZyh4KTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTG9nYXJpdGhtaWNBeGlzLCB7XG4gICAgdHlwZTogXCJsb2dcIixcbiAgICBtYWpvclVuaXQ6IERFRkFVTFRfTUFKT1JfVU5JVCxcbiAgICBtaW5vclVuaXQ6IDEsXG4gICAgYXhpc0Nyb3NzaW5nVmFsdWU6IDEsXG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBCTEFDS1xuICAgIH0sXG4gICAgekluZGV4OiAxLFxuICAgIF9kZWZlckxhYmVsczogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2FyaXRobWljQXhpcztcbiIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20sIGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgYXBwZW5kLCBtYXAgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBHcmlkTGluZXNNaXhpbiA9IHtcbiAgICBjcmVhdGVHcmlkTGluZXM6IGZ1bmN0aW9uKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5hYnModGhpcy5ib3guY2VudGVyKCkueSAtIGFsdEF4aXMubGluZUJveCgpLnkxKTtcbiAgICAgICAgbGV0IGdyaWRMaW5lcyA9IFtdO1xuICAgICAgICBsZXQgc2tpcE1ham9yID0gZmFsc2U7XG4gICAgICAgIGxldCBtYWpvckFuZ2xlcywgbWlub3JBbmdsZXM7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubWFqb3JHcmlkTGluZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgbWFqb3JBbmdsZXMgPSB0aGlzLm1ham9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcyk7XG4gICAgICAgICAgICBza2lwTWFqb3IgPSB0cnVlO1xuXG4gICAgICAgICAgICBncmlkTGluZXMgPSB0aGlzLnJlbmRlck1ham9yR3JpZExpbmVzKFxuICAgICAgICAgICAgICAgIG1ham9yQW5nbGVzLCByYWRpdXMsIG9wdGlvbnMubWFqb3JHcmlkTGluZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5taW5vckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBtaW5vckFuZ2xlcyA9IHRoaXMubWlub3JHcmlkTGluZUFuZ2xlcyhhbHRBeGlzLCBza2lwTWFqb3IpO1xuXG4gICAgICAgICAgICBhcHBlbmQoZ3JpZExpbmVzLCB0aGlzLnJlbmRlck1pbm9yR3JpZExpbmVzKFxuICAgICAgICAgICAgICAgIG1pbm9yQW5nbGVzLCByYWRpdXMsIG9wdGlvbnMubWlub3JHcmlkTGluZXMsIGFsdEF4aXMsIHNraXBNYWpvclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JpZExpbmVzO1xuICAgIH0sXG5cbiAgICByZW5kZXJNYWpvckdyaWRMaW5lczogZnVuY3Rpb24oYW5nbGVzLCByYWRpdXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyR3JpZExpbmVzKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyTWlub3JHcmlkTGluZXM6IGZ1bmN0aW9uKGFuZ2xlcywgcmFkaXVzLCBvcHRpb25zLCBhbHRBeGlzLCBza2lwTWFqb3IpIHtcbiAgICAgICAgY29uc3QgcmFkaXVzQ2FsbGJhY2sgPSB0aGlzLnJhZGl1c0NhbGxiYWNrICYmIHRoaXMucmFkaXVzQ2FsbGJhY2socmFkaXVzLCBhbHRBeGlzLCBza2lwTWFqb3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJHcmlkTGluZXMoYW5nbGVzLCByYWRpdXMsIG9wdGlvbnMsIHJhZGl1c0NhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyR3JpZExpbmVzOiBmdW5jdGlvbihhbmdsZXMsIHJhZGl1cywgb3B0aW9ucywgcmFkaXVzQ2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBjaXJjbGUgPSBuZXcgZ2VvbS5DaXJjbGUoWyBjZW50ZXIueCwgY2VudGVyLnkgXSwgcmFkaXVzKTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5ncmlkTGluZXNWaXN1YWwoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IG5ldyBkcmF3LlBhdGgoc3R5bGUpO1xuICAgICAgICAgICAgaWYgKHJhZGl1c0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2lyY2xlLnJhZGl1cyA9IHJhZGl1c0NhbGxiYWNrKGFuZ2xlc1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmUubW92ZVRvKGNpcmNsZS5jZW50ZXIpXG4gICAgICAgICAgICAgICAgLmxpbmVUbyhjaXJjbGUucG9pbnRBdChhbmdsZXNbaV0gKyAxODApKTtcblxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZChsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250YWluZXIuY2hpbGRyZW47XG4gICAgfSxcblxuICAgIGdyaWRMaW5lQW5nbGVzOiBmdW5jdGlvbihhbHRBeGlzLCBzaXplLCBza2lwLCBzdGVwLCBza2lwQW5nbGVzKSB7XG4gICAgICAgIGNvbnN0IGRpdnMgPSB0aGlzLmludGVydmFscyhzaXplLCBza2lwLCBzdGVwLCBza2lwQW5nbGVzKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGFsdEF4aXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYWx0QXhpc1Zpc2libGUgPSBvcHRpb25zLnZpc2libGUgJiYgKG9wdGlvbnMubGluZSB8fCB7fSkudmlzaWJsZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIG1hcChkaXZzLCAoZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxwaGEgPSB0aGlzLmludGVydmFsQW5nbGUoZCk7XG5cbiAgICAgICAgICAgIGlmICghYWx0QXhpc1Zpc2libGUgfHwgYWxwaGEgIT09IDkwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFscGhhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBHcmlkTGluZXNNaXhpbjsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBHcmlkTGluZXNNaXhpbiBmcm9tICcuL21peGlucy9ncmlkLWxpbmVzLW1peGluJztcbmltcG9ydCBDYXRlZ29yeUF4aXMgZnJvbSAnLi9jYXRlZ29yeS1heGlzJztcbmltcG9ydCBTaGFwZUJ1aWxkZXIgZnJvbSAnLi9zaGFwZS1idWlsZGVyJztcbmltcG9ydCBSaW5nIGZyb20gJy4vcmluZyc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgQ09PUkRfUFJFQ0lTSU9OLCBBUkMgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGdldFNwYWNpbmcsIGluQXJyYXksIGxpbWl0VmFsdWUsIG1hcCwgcmFkLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhckNhdGVnb3J5QXhpcyBleHRlbmRzIENhdGVnb3J5QXhpcyB7XG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB7IG1pbjogMCwgbWF4OiB0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGggfTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMuYm94ID0gYm94O1xuICAgICAgICB0aGlzLnJlZmxvd0xhYmVscygpO1xuICAgIH1cblxuICAgIGxpbmVCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveDtcbiAgICB9XG5cbiAgICByZWZsb3dMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IHsgbGFiZWxzLCBvcHRpb25zOiB7IGxhYmVsczogbGFiZWxPcHRpb25zIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNraXAgPSBsYWJlbE9wdGlvbnMuc2tpcCB8fCAwO1xuICAgICAgICBjb25zdCBzdGVwID0gbGFiZWxPcHRpb25zLnN0ZXAgfHwgMTtcbiAgICAgICAgY29uc3QgbWVhc3VyZUJveCA9IG5ldyBCb3goKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGFiZWxzW2ldLnJlZmxvdyhtZWFzdXJlQm94KTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQm94ID0gbGFiZWxzW2ldLmJveDtcblxuICAgICAgICAgICAgbGFiZWxzW2ldLnJlZmxvdyh0aGlzLmdldFNsb3Qoc2tpcCArIGkgKiBzdGVwKS5hZGphY2VudEJveChcbiAgICAgICAgICAgICAgICAwLCBsYWJlbEJveC53aWR0aCgpLCBsYWJlbEJveC5oZWlnaHQoKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnRlcnZhbHMoc2l6ZSwgc2tpcE9wdGlvbiwgc3RlcE9wdGlvbiwgc2tpcEFuZ2xlcyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBvcHRpb25zLmNhdGVnb3JpZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBkaXZDb3VudCA9IGNhdGVnb3JpZXMgLyBzaXplIHx8IDE7XG4gICAgICAgIGNvbnN0IGRpdkFuZ2xlID0gMzYwIC8gZGl2Q291bnQ7XG4gICAgICAgIGNvbnN0IHNraXAgPSBza2lwT3B0aW9uIHx8IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBzdGVwT3B0aW9uIHx8IDE7XG4gICAgICAgIGNvbnN0IGRpdnMgPSBbXTtcbiAgICAgICAgbGV0IGFuZ2xlID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gc2tpcDsgaSA8IGRpdkNvdW50OyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IDM2MCAtIGkgKiBkaXZBbmdsZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBpICogZGl2QW5nbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFuZ2xlID0gcm91bmQoYW5nbGUsIENPT1JEX1BSRUNJU0lPTikgJSAzNjA7XG5cbiAgICAgICAgICAgIGlmICghKHNraXBBbmdsZXMgJiYgaW5BcnJheShhbmdsZSwgc2tpcEFuZ2xlcykpKSB7XG4gICAgICAgICAgICAgICAgZGl2cy5wdXNoKGFuZ2xlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXZzO1xuICAgIH1cblxuICAgIG1ham9ySW50ZXJ2YWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcnZhbHMoMSk7XG4gICAgfVxuXG4gICAgbWlub3JJbnRlcnZhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFscygwLjUpO1xuICAgIH1cblxuICAgIGludGVydmFsQW5nbGUoaW50ZXJ2YWwpIHtcbiAgICAgICAgcmV0dXJuICgzNjAgKyBpbnRlcnZhbCArIHRoaXMub3B0aW9ucy5zdGFydEFuZ2xlKSAlIDM2MDtcbiAgICB9XG5cbiAgICBtYWpvckFuZ2xlcygpIHtcbiAgICAgICAgcmV0dXJuIG1hcCh0aGlzLm1ham9ySW50ZXJ2YWxzKCksIChpbnRlcnZhbCkgPT4gdGhpcy5pbnRlcnZhbEFuZ2xlKGludGVydmFsKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIG1ham9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcykge1xuICAgICAgICBjb25zdCBtYWpvckdyaWRMaW5lcyA9IHRoaXMub3B0aW9ucy5tYWpvckdyaWRMaW5lcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZExpbmVBbmdsZXMoYWx0QXhpcywgMSwgbWFqb3JHcmlkTGluZXMuc2tpcCwgbWFqb3JHcmlkTGluZXMuc3RlcCk7XG4gICAgfVxuXG4gICAgbWlub3JHcmlkTGluZUFuZ2xlcyhhbHRBeGlzLCBza2lwTWFqb3IpIHtcbiAgICAgICAgY29uc3QgeyBtaW5vckdyaWRMaW5lcywgbWFqb3JHcmlkTGluZXMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFqb3JHcmlkTGluZUFuZ2xlcyA9IHNraXBNYWpvciA/IHRoaXMuaW50ZXJ2YWxzKDEsIG1ham9yR3JpZExpbmVzLnNraXAsIG1ham9yR3JpZExpbmVzLnN0ZXApIDogbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5ncmlkTGluZUFuZ2xlcyhhbHRBeGlzLCAwLjUsIG1pbm9yR3JpZExpbmVzLnNraXAsIG1pbm9yR3JpZExpbmVzLnN0ZXAsIG1ham9yR3JpZExpbmVBbmdsZXMpO1xuICAgIH1cblxuICAgIHJhZGl1c0NhbGxiYWNrKHJhZGl1cywgYWx0QXhpcywgc2tpcE1ham9yKSB7XG4gICAgICAgIGlmIChhbHRBeGlzLm9wdGlvbnMudHlwZSAhPT0gQVJDKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5vckFuZ2xlID0gcmFkKDM2MCAvICh0aGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGggKiAyKSk7XG4gICAgICAgICAgICBjb25zdCBtaW5vclJhZGl1cyA9IE1hdGguY29zKG1pbm9yQW5nbGUpICogcmFkaXVzO1xuICAgICAgICAgICAgY29uc3QgbWFqb3JBbmdsZXMgPSB0aGlzLm1ham9yQW5nbGVzKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJhZGl1c0NhbGxiYWNrID0gZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNraXBNYWpvciAmJiBpbkFycmF5KGFuZ2xlLCBtYWpvckFuZ2xlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhZGl1cztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWlub3JSYWRpdXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJhZGl1c0NhbGxiYWNrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUGxvdEJhbmRzKCkge1xuICAgICAgICBjb25zdCBwbG90QmFuZHMgPSB0aGlzLm9wdGlvbnMucGxvdEJhbmRzIHx8IFtdO1xuXG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5fcGxvdGJhbmRHcm91cCA9IG5ldyBkcmF3Lkdyb3VwKHtcbiAgICAgICAgICAgIHpJbmRleDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwbG90QmFuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGJhbmQgPSBwbG90QmFuZHNbaV07XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5wbG90QmFuZFNsb3QoYmFuZCk7XG4gICAgICAgICAgICBjb25zdCBzaW5nbGVTbG90ID0gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGhlYWQgPSBiYW5kLmZyb20gLSBNYXRoLmZsb29yKGJhbmQuZnJvbSk7XG4gICAgICAgICAgICBzbG90LnN0YXJ0QW5nbGUgKz0gaGVhZCAqIHNpbmdsZVNsb3QuYW5nbGU7XG5cbiAgICAgICAgICAgIGNvbnN0IHRhaWwgPSBNYXRoLmNlaWwoYmFuZC50bykgLSBiYW5kLnRvO1xuICAgICAgICAgICAgc2xvdC5hbmdsZSAtPSAodGFpbCArIGhlYWQpICogc2luZ2xlU2xvdC5hbmdsZTtcblxuICAgICAgICAgICAgY29uc3QgcmluZyA9IFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2xvdCwge1xuICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJhbmQuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJhbmQub3BhY2l0eVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJhbmQub3BhY2l0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBlbmRWaXN1YWwoZ3JvdXApO1xuICAgIH1cblxuICAgIHBsb3RCYW5kU2xvdChiYW5kKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNsb3QoYmFuZC5mcm9tLCBiYW5kLnRvIC0gMSk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChmcm9tLCB0bykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBqdXN0aWZpZWQgPSBvcHRpb25zLmp1c3RpZmllZDtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgIGNvbnN0IGRpdnMgPSB0aGlzLm1ham9yQW5nbGVzKCk7XG4gICAgICAgIGNvbnN0IHRvdGFsRGl2cyA9IGRpdnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzbG90QW5nbGUgPSAzNjAgLyB0b3RhbERpdnM7XG4gICAgICAgIGxldCBmcm9tVmFsdWUgPSBmcm9tO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UgJiYgIWp1c3RpZmllZCkge1xuICAgICAgICAgICAgZnJvbVZhbHVlID0gKGZyb21WYWx1ZSArIDEpICUgdG90YWxEaXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJvbVZhbHVlID0gbGltaXRWYWx1ZShNYXRoLmZsb29yKGZyb21WYWx1ZSksIDAsIHRvdGFsRGl2cyAtIDEpO1xuICAgICAgICBsZXQgc2xvdFN0YXJ0ID0gZGl2c1tmcm9tVmFsdWVdO1xuXG4gICAgICAgIGlmIChqdXN0aWZpZWQpIHtcbiAgICAgICAgICAgIHNsb3RTdGFydCA9IHNsb3RTdGFydCAtIHNsb3RBbmdsZSAvIDI7XG5cbiAgICAgICAgICAgIGlmIChzbG90U3RhcnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgc2xvdFN0YXJ0ICs9IDM2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvVmFsdWUgPSBsaW1pdFZhbHVlKE1hdGguY2VpbCh0byB8fCBmcm9tVmFsdWUpLCBmcm9tVmFsdWUsIHRvdGFsRGl2cyAtIDEpO1xuICAgICAgICBjb25zdCBzbG90cyA9IHRvVmFsdWUgLSBmcm9tVmFsdWUgKyAxO1xuICAgICAgICBjb25zdCBhbmdsZSA9IHNsb3RBbmdsZSAqIHNsb3RzO1xuXG4gICAgICAgIHJldHVybiBuZXcgUmluZyhib3guY2VudGVyKCksIDAsIGJveC5oZWlnaHQoKSAvIDIsIHNsb3RTdGFydCwgYW5nbGUpO1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBzbG90LnN0YXJ0QW5nbGUgKyAxODA7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIHNsb3QuYW5nbGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBnZW9tLkFyYyhbIHNsb3QuY2VudGVyLngsIHNsb3QuY2VudGVyLnkgXSwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgICAgIHJhZGl1c1g6IHNsb3QucmFkaXVzLFxuICAgICAgICAgICAgcmFkaXVzWTogc2xvdC5yYWRpdXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMub3B0aW9ucy5jYXRlZ29yaWVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGluZGV4ID0gbnVsbDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5nZXRTbG90KGkpO1xuICAgICAgICAgICAgaWYgKHNsb3QuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRhckNhdGVnb3J5QXhpcywge1xuICAgIHN0YXJ0QW5nbGU6IDkwLFxuICAgIGxhYmVsczoge1xuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMTApXG4gICAgfSxcbiAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICBqdXN0aWZpZWQ6IHRydWVcbn0pO1xuZGVlcEV4dGVuZChSYWRhckNhdGVnb3J5QXhpcy5wcm90b3R5cGUsIEdyaWRMaW5lc01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJDYXRlZ29yeUF4aXM7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IEdyaWRMaW5lc01peGluIGZyb20gJy4vbWl4aW5zL2dyaWQtbGluZXMtbWl4aW4nO1xuaW1wb3J0IFJhZGFyQ2F0ZWdvcnlBeGlzIGZyb20gJy4vcmFkYXItY2F0ZWdvcnktYXhpcyc7XG5pbXBvcnQgTnVtZXJpY0F4aXMgZnJvbSAnLi9udW1lcmljLWF4aXMnO1xuaW1wb3J0IEF4aXMgZnJvbSAnLi9heGlzJztcbmltcG9ydCBSaW5nIGZyb20gJy4vcmluZyc7XG5pbXBvcnQgQm94IGZyb20gJy4vYm94JztcblxuaW1wb3J0IHsgQkxBQ0sgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZywgZ2V0U3BhY2luZywgaW5BcnJheSwgbGltaXRWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBQb2xhckF4aXMgZXh0ZW5kcyBBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjaGFydFNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucywgY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaW5zdGFuY2VPcHRpb25zLm1pbm9yVW5pdCA9IGluc3RhbmNlT3B0aW9ucy5taW5vclVuaXQgfHwgaW5zdGFuY2VPcHRpb25zLm1ham9yVW5pdCAvIDI7XG4gICAgfVxuXG4gICAgZ2V0RGl2aXNpb25zKHN0ZXBWYWx1ZSkge1xuICAgICAgICByZXR1cm4gTnVtZXJpY0F4aXMucHJvdG90eXBlLmdldERpdmlzaW9ucy5jYWxsKHRoaXMsIHN0ZXBWYWx1ZSkgLSAxO1xuICAgIH1cblxuICAgIHJlZmxvdyhib3gpIHtcbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG4gICAgICAgIHRoaXMucmVmbG93TGFiZWxzKCk7XG4gICAgfVxuXG4gICAgcmVmbG93TGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVscywgb3B0aW9uczogeyBsYWJlbHM6IGxhYmVsT3B0aW9ucyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBza2lwID0gbGFiZWxPcHRpb25zLnNraXAgfHwgMDtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGxhYmVsT3B0aW9ucy5zdGVwIHx8IDE7XG5cbiAgICAgICAgY29uc3QgbWVhc3VyZUJveCA9IG5ldyBCb3goKTtcbiAgICAgICAgY29uc3QgZGl2cyA9IHRoaXMuaW50ZXJ2YWxzKG9wdGlvbnMubWFqb3JVbml0LCBza2lwLCBzdGVwKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGFiZWxzW2ldLnJlZmxvdyhtZWFzdXJlQm94KTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQm94ID0gbGFiZWxzW2ldLmJveDtcblxuICAgICAgICAgICAgbGFiZWxzW2ldLnJlZmxvdyh0aGlzLmdldFNsb3QoZGl2c1tpXSkuYWRqYWNlbnRCb3goMCwgbGFiZWxCb3gud2lkdGgoKSwgbGFiZWxCb3guaGVpZ2h0KCkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxpbmVCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveDtcbiAgICB9XG5cbiAgICBpbnRlcnZhbHMoc2l6ZSwgc2tpcE9wdGlvbiwgc3RlcE9wdGlvbiwgc2tpcEFuZ2xlcyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG1pbiA9IHRoaXMub3B0aW9ucy5taW47XG4gICAgICAgIGNvbnN0IGRpdmlzaW9ucyA9IHRoaXMuZ2V0RGl2aXNpb25zKHNpemUpO1xuICAgICAgICBjb25zdCBkaXZzID0gW107XG4gICAgICAgIGNvbnN0IHNraXAgPSBza2lwT3B0aW9uIHx8IDA7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBzdGVwT3B0aW9uIHx8IDE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHNraXA7IGkgPCBkaXZpc2lvbnM7IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9ICgzNjAgKyBtaW4gKyBpICogc2l6ZSkgJSAzNjA7XG4gICAgICAgICAgICBpZiAoIShza2lwQW5nbGVzICYmIGluQXJyYXkoY3VycmVudCwgc2tpcEFuZ2xlcykpKSB7XG4gICAgICAgICAgICAgICAgZGl2cy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpdnM7XG4gICAgfVxuXG4gICAgbWFqb3JJbnRlcnZhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFscyh0aGlzLm9wdGlvbnMubWFqb3JVbml0KTtcbiAgICB9XG5cbiAgICBtaW5vckludGVydmFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxzKHRoaXMub3B0aW9ucy5taW5vclVuaXQpO1xuICAgIH1cblxuICAgIGludGVydmFsQW5nbGUoaSkge1xuICAgICAgICByZXR1cm4gKDU0MCAtIGkgLSB0aGlzLm9wdGlvbnMuc3RhcnRBbmdsZSkgJSAzNjA7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZSgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIG1ham9yR3JpZExpbmVBbmdsZXMoYWx0QXhpcykge1xuICAgICAgICBjb25zdCBtYWpvckdyaWRMaW5lcyA9IHRoaXMub3B0aW9ucy5tYWpvckdyaWRMaW5lcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZExpbmVBbmdsZXMoYWx0QXhpcywgdGhpcy5vcHRpb25zLm1ham9yVW5pdCwgbWFqb3JHcmlkTGluZXMuc2tpcCwgbWFqb3JHcmlkTGluZXMuc3RlcCk7XG4gICAgfVxuXG4gICAgbWlub3JHcmlkTGluZUFuZ2xlcyhhbHRBeGlzLCBza2lwTWFqb3IpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBtaW5vckdyaWRMaW5lcywgbWFqb3JHcmlkTGluZXMgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1ham9yR3JpZExpbmVBbmdsZXMgPSBza2lwTWFqb3IgPyB0aGlzLmludGVydmFscyhvcHRpb25zLm1ham9yVW5pdCwgbWFqb3JHcmlkTGluZXMuc2tpcCwgbWFqb3JHcmlkTGluZXMuc3RlcCkgOiBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdyaWRMaW5lQW5nbGVzKGFsdEF4aXMsIG9wdGlvbnMubWlub3JVbml0LCBtaW5vckdyaWRMaW5lcy5za2lwLCBtaW5vckdyaWRMaW5lcy5zdGVwLCBtYWpvckdyaWRMaW5lQW5nbGVzKTtcbiAgICB9XG5cbiAgICBwbG90QmFuZFNsb3QoYmFuZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTbG90KGJhbmQuZnJvbSwgYmFuZC50byk7XG4gICAgfVxuXG4gICAgZ2V0U2xvdChhLCBiKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgYm94IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gb3B0aW9ucy5zdGFydEFuZ2xlO1xuICAgICAgICBsZXQgc3RhcnQgPSBsaW1pdFZhbHVlKGEsIG9wdGlvbnMubWluLCBvcHRpb25zLm1heCk7XG4gICAgICAgIGxldCBlbmQgPSBsaW1pdFZhbHVlKGIgfHwgc3RhcnQsIHN0YXJ0LCBvcHRpb25zLm1heCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgc3RhcnQgKj0gLTE7XG4gICAgICAgICAgICBlbmQgKj0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9ICg1NDAgLSBzdGFydCAtIHN0YXJ0QW5nbGUpICUgMzYwO1xuICAgICAgICBlbmQgPSAoNTQwIC0gZW5kIC0gc3RhcnRBbmdsZSkgJSAzNjA7XG5cbiAgICAgICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgICAgICAgZW5kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSaW5nKGJveC5jZW50ZXIoKSwgMCwgYm94LmhlaWdodCgpIC8gMiwgc3RhcnQsIGVuZCAtIHN0YXJ0KTtcbiAgICB9XG5cbiAgICBzbG90KGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzdGFydCA9IDM2MCAtIG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuZ2V0U2xvdChmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKGZyb20sIHRvKTtcbiAgICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoZnJvbSwgdG8pO1xuICAgICAgICBsZXQgc3RhcnRBbmdsZSwgZW5kQW5nbGU7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSA9IG1pbjtcbiAgICAgICAgICAgIGVuZEFuZ2xlID0gbWF4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRBbmdsZSA9IDM2MCAtIG1heDtcbiAgICAgICAgICAgIGVuZEFuZ2xlID0gMzYwIC0gbWluO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRBbmdsZSA9IChzdGFydEFuZ2xlICsgc3RhcnQpICUgMzYwO1xuICAgICAgICBlbmRBbmdsZSA9IChlbmRBbmdsZSArIHN0YXJ0KSAlIDM2MDtcblxuICAgICAgICByZXR1cm4gbmV3IGdlb20uQXJjKFsgc2xvdC5jZW50ZXIueCwgc2xvdC5jZW50ZXIueSBdLCB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICAgICAgcmFkaXVzWDogc2xvdC5yYWRpdXMsXG4gICAgICAgICAgICByYWRpdXNZOiBzbG90LnJhZGl1c1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWYWx1ZShwb2ludCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgZHggPSBwb2ludC54IC0gY2VudGVyLng7XG4gICAgICAgIGNvbnN0IGR5ID0gcG9pbnQueSAtIGNlbnRlci55O1xuICAgICAgICBsZXQgdGhldGEgPSBNYXRoLnJvdW5kKGRlZyhNYXRoLmF0YW4yKGR5LCBkeCkpKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gb3B0aW9ucy5zdGFydEFuZ2xlO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGV0YSAqPSAtMTtcbiAgICAgICAgICAgIHN0YXJ0ICo9IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGV0YSArIHN0YXJ0ICsgMzYwKSAlIDM2MDtcbiAgICB9XG5cbiAgICB2YWx1ZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiBNYXRoLlBJICogMlxuICAgICAgICB9O1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUG9sYXJBeGlzLCB7XG4gICAgdHlwZTogXCJwb2xhclwiLFxuICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgcmV2ZXJzZTogZmFsc2UsXG4gICAgbWFqb3JVbml0OiA2MCxcbiAgICBtaW46IDAsXG4gICAgbWF4OiAzNjAsXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIG1hcmdpbjogZ2V0U3BhY2luZygxMClcbiAgICB9LFxuICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIG1pbm9yR3JpZExpbmVzOiB7XG4gICAgICAgIGNvbG9yOiBcIiNhYWFcIlxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKFBvbGFyQXhpcy5wcm90b3R5cGUsIEdyaWRMaW5lc01peGluLCB7XG4gICAgY3JlYXRlUGxvdEJhbmRzOiBSYWRhckNhdGVnb3J5QXhpcy5wcm90b3R5cGUuY3JlYXRlUGxvdEJhbmRzLFxuICAgIG1ham9yQW5nbGVzOiBSYWRhckNhdGVnb3J5QXhpcy5wcm90b3R5cGUubWFqb3JBbmdsZXMsXG4gICAgcmFuZ2U6IE51bWVyaWNBeGlzLnByb3RvdHlwZS5yYW5nZSxcbiAgICBsYWJlbHNDb3VudDogTnVtZXJpY0F4aXMucHJvdG90eXBlLmxhYmVsc0NvdW50LFxuICAgIGNyZWF0ZUF4aXNMYWJlbDogTnVtZXJpY0F4aXMucHJvdG90eXBlLmNyZWF0ZUF4aXNMYWJlbFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGFyQXhpczsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCBTaGFwZUJ1aWxkZXIgZnJvbSAnLi4vc2hhcGUtYnVpbGRlcic7XG5pbXBvcnQgUmluZyBmcm9tICcuLi9yaW5nJztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9wb2ludCc7XG5cbmltcG9ydCB7IEFSQyB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXBwZW5kLCBkZWcsIHJhZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IFJhZGFyTnVtZXJpY0F4aXNNaXhpbiA9IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY3JlYXRlUGxvdEJhbmRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBtYWpvckdyaWRMaW5lczogeyB0eXBlIH0sIHBsb3RCYW5kcyA9IFtdIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFsdEF4aXMgPSB0aGlzLnBsb3RBcmVhLnBvbGFyQXhpcztcbiAgICAgICAgY29uc3QgbWFqb3JBbmdsZXMgPSBhbHRBeGlzLm1ham9yQW5nbGVzKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGFsdEF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuX3Bsb3RiYW5kR3JvdXAgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGxvdEJhbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBiYW5kID0gcGxvdEJhbmRzW2ldO1xuICAgICAgICAgICAgY29uc3QgYmFuZFN0eWxlID0ge1xuICAgICAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGJhbmQuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJhbmQub3BhY2l0eVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJhbmQub3BhY2l0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QoYmFuZC5mcm9tLCBiYW5kLnRvLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHJpbmcgPSBuZXcgUmluZyhjZW50ZXIsIGNlbnRlci55IC0gc2xvdC55MiwgY2VudGVyLnkgLSBzbG90LnkxLCAwLCAzNjApO1xuXG4gICAgICAgICAgICBsZXQgc2hhcGU7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gQVJDKSB7XG4gICAgICAgICAgICAgICAgc2hhcGUgPSBTaGFwZUJ1aWxkZXIuY3VycmVudC5jcmVhdGVSaW5nKHJpbmcsIGJhbmRTdHlsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNoYXBlID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5wbG90QmFuZFBvaW50cyhyaW5nLCBtYWpvckFuZ2xlcyksIGJhbmRTdHlsZSkuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHNoYXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGdyb3VwKTtcbiAgICB9LFxuXG4gICAgcGxvdEJhbmRQb2ludHM6IGZ1bmN0aW9uKHJpbmcsIGFuZ2xlcykge1xuICAgICAgICBjb25zdCBpbm5lclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBvdXRlclBvaW50cyA9IFtdO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBbIHJpbmcuY2VudGVyLngsIHJpbmcuY2VudGVyLnkgXTtcbiAgICAgICAgY29uc3QgaW5uZXJDaXJjbGUgPSBuZXcgZ2VvbS5DaXJjbGUoY2VudGVyLCByaW5nLmlubmVyUmFkaXVzKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJDaXJjbGUgPSBuZXcgZ2VvbS5DaXJjbGUoY2VudGVyLCByaW5nLnJhZGl1cyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmdsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlubmVyUG9pbnRzLnB1c2goaW5uZXJDaXJjbGUucG9pbnRBdChhbmdsZXNbaV0gKyAxODApKTtcbiAgICAgICAgICAgIG91dGVyUG9pbnRzLnB1c2gob3V0ZXJDaXJjbGUucG9pbnRBdChhbmdsZXNbaV0gKyAxODApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlubmVyUG9pbnRzLnJldmVyc2UoKTtcbiAgICAgICAgaW5uZXJQb2ludHMucHVzaChpbm5lclBvaW50c1swXSk7XG4gICAgICAgIG91dGVyUG9pbnRzLnB1c2gob3V0ZXJQb2ludHNbMF0pO1xuXG4gICAgICAgIHJldHVybiBvdXRlclBvaW50cy5jb25jYXQoaW5uZXJQb2ludHMpO1xuICAgIH0sXG5cbiAgICBjcmVhdGVHcmlkTGluZXM6IGZ1bmN0aW9uKGFsdEF4aXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFqb3JUaWNrcyA9IHRoaXMucmFkYXJNYWpvckdyaWRMaW5lUG9zaXRpb25zKCk7XG4gICAgICAgIGNvbnN0IG1ham9yQW5nbGVzID0gYWx0QXhpcy5tYWpvckFuZ2xlcygpO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhbHRBeGlzLmJveC5jZW50ZXIoKTtcbiAgICAgICAgbGV0IGdyaWRMaW5lcyA9IFtdO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1ham9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGdyaWRMaW5lcyA9IHRoaXMucmVuZGVyR3JpZExpbmVzKFxuICAgICAgICAgICAgICAgIGNlbnRlciwgbWFqb3JUaWNrcywgbWFqb3JBbmdsZXMsIG9wdGlvbnMubWFqb3JHcmlkTGluZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5taW5vckdyaWRMaW5lcy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5vclRpY2tzID0gdGhpcy5yYWRhck1pbm9yR3JpZExpbmVQb3NpdGlvbnMoKTtcbiAgICAgICAgICAgIGFwcGVuZChncmlkTGluZXMsIHRoaXMucmVuZGVyR3JpZExpbmVzKFxuICAgICAgICAgICAgICAgIGNlbnRlciwgbWlub3JUaWNrcywgbWFqb3JBbmdsZXMsIG9wdGlvbnMubWlub3JHcmlkTGluZXNcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyaWRMaW5lcztcbiAgICB9LFxuXG4gICAgcmVuZGVyR3JpZExpbmVzOiBmdW5jdGlvbihjZW50ZXIsIHRpY2tzLCBhbmdsZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IHNraXAgPSAwLCBzdGVwID0gMCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5ncmlkTGluZXNWaXN1YWwoKTtcblxuICAgICAgICBmb3IgKGxldCB0aWNrSXggPSBza2lwOyB0aWNrSXggPCB0aWNrcy5sZW5ndGg7IHRpY2tJeCArPSBzdGVwKSB7XG4gICAgICAgICAgICBjb25zdCB0aWNrUmFkaXVzID0gY2VudGVyLnkgLSB0aWNrc1t0aWNrSXhdO1xuICAgICAgICAgICAgaWYgKHRpY2tSYWRpdXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55IF0sIHRpY2tSYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09IEFSQykge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKG5ldyBkcmF3LkNpcmNsZShjaXJjbGUsIHN0eWxlKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IG5ldyBkcmF3LlBhdGgoc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhbmdsZUl4ID0gMDsgYW5nbGVJeCA8IGFuZ2xlcy5sZW5ndGg7IGFuZ2xlSXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5saW5lVG8oY2lyY2xlLnBvaW50QXQoYW5nbGVzW2FuZ2xlSXhdICsgMTgwKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsaW5lLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5jaGlsZHJlbjtcbiAgICB9LFxuXG4gICAgZ2V0VmFsdWU6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgYWx0QXhpcyA9IHRoaXMucGxvdEFyZWEucG9sYXJBeGlzO1xuICAgICAgICBjb25zdCBtYWpvckFuZ2xlcyA9IGFsdEF4aXMubWFqb3JBbmdsZXMoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYWx0QXhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHBvaW50LmRpc3RhbmNlVG8oY2VudGVyKTtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gcmFkaXVzO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXMudHlwZSAhPT0gQVJDICYmIG1ham9yQW5nbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGNlbnRlci54O1xuICAgICAgICAgICAgY29uc3QgZHkgPSBwb2ludC55IC0gY2VudGVyLnk7XG4gICAgICAgICAgICBjb25zdCB0aGV0YSA9IChkZWcoTWF0aC5hdGFuMihkeSwgZHgpKSArIDU0MCkgJSAzNjA7XG5cbiAgICAgICAgICAgIG1ham9yQW5nbGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyRGlzdGFuY2UoYSwgdGhldGEpIC0gYW5ndWxhckRpc3RhbmNlKGIsIHRoZXRhKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTb2x2ZSB0cmlhbmdsZSAoY2VudGVyLCBwb2ludCwgYXhpcyBYKSB1c2luZyBvbmUgc2lkZSAocmFkaXVzKSBhbmQgdHdvIGFuZ2xlcy5cbiAgICAgICAgICAgIC8vIEFuZ2xlcyBhcmUgZGVyaXZlZCBmcm9tIHRyaWFuZ2xlIChjZW50ZXIsIHBvaW50LCBncmlkbGluZSBYKVxuICAgICAgICAgICAgY29uc3QgbWlkQW5nbGUgPSBhbmd1bGFyRGlzdGFuY2UobWFqb3JBbmdsZXNbMF0sIG1ham9yQW5nbGVzWzFdKSAvIDI7XG4gICAgICAgICAgICBjb25zdCBhbHBoYSA9IGFuZ3VsYXJEaXN0YW5jZSh0aGV0YSwgbWFqb3JBbmdsZXNbMF0pO1xuICAgICAgICAgICAgY29uc3QgZ2FtbWEgPSA5MCAtIG1pZEFuZ2xlO1xuICAgICAgICAgICAgY29uc3QgYmV0YSA9IDE4MCAtIGFscGhhIC0gZ2FtbWE7XG5cbiAgICAgICAgICAgIGRpc3RhbmNlID0gcmFkaXVzICogKE1hdGguc2luKHJhZChiZXRhKSkgLyBNYXRoLnNpbihyYWQoZ2FtbWEpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5heGlzVHlwZSgpLnByb3RvdHlwZS5nZXRWYWx1ZS5jYWxsKFxuICAgICAgICAgICAgdGhpcywgbmV3IFBvaW50KGxpbmVCb3gueDEsIGxpbmVCb3gueTIgLSBkaXN0YW5jZSlcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBhbmd1bGFyRGlzdGFuY2UoYSwgYikge1xuICAgIHJldHVybiAxODAgLSBNYXRoLmFicyhNYXRoLmFicyhhIC0gYikgLSAxODApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSYWRhck51bWVyaWNBeGlzTWl4aW47IiwiaW1wb3J0IE51bWVyaWNBeGlzIGZyb20gJy4vbnVtZXJpYy1heGlzJztcbmltcG9ydCBSYWRhck51bWVyaWNBeGlzTWl4aW4gZnJvbSAnLi9taXhpbnMvcmFkYXItbnVtZXJpYy1heGlzLW1peGluJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhZGFyTnVtZXJpY0F4aXMgZXh0ZW5kcyBOdW1lcmljQXhpcyB7XG4gICAgcmFkYXJNYWpvckdyaWRMaW5lUG9zaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrUG9zaXRpb25zKHRoaXMub3B0aW9ucy5tYWpvclVuaXQpO1xuICAgIH1cblxuICAgIHJhZGFyTWlub3JHcmlkTGluZVBvc2l0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IG1pbm9yU2tpcFN0ZXAgPSAwO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1ham9yR3JpZExpbmVzLnZpc2libGUpIHtcbiAgICAgICAgICAgIG1pbm9yU2tpcFN0ZXAgPSBvcHRpb25zLm1ham9yVW5pdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWNrUG9zaXRpb25zKG9wdGlvbnMubWlub3JVbml0LCBtaW5vclNraXBTdGVwKTtcbiAgICB9XG5cbiAgICBheGlzVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIE51bWVyaWNBeGlzO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChSYWRhck51bWVyaWNBeGlzLnByb3RvdHlwZSwgUmFkYXJOdW1lcmljQXhpc01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJOdW1lcmljQXhpczsiLCJpbXBvcnQgTG9nYXJpdGhtaWNBeGlzIGZyb20gJy4vbG9nYXJpdGhtaWMtYXhpcyc7XG5pbXBvcnQgUmFkYXJOdW1lcmljQXhpc01peGluIGZyb20gJy4vbWl4aW5zL3JhZGFyLW51bWVyaWMtYXhpcy1taXhpbic7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhckxvZ2FyaXRobWljQXhpcyBleHRlbmRzIExvZ2FyaXRobWljQXhpcyB7XG4gICAgcmFkYXJNYWpvckdyaWRMaW5lUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICB0aGlzLnRyYXZlcnNlTWFqb3JUaWNrc1Bvc2l0aW9ucyhmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWFqb3JHcmlkTGluZXMpO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgcmFkYXJNaW5vckdyaWRMaW5lUG9zaXRpb25zKCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcblxuICAgICAgICB0aGlzLnRyYXZlcnNlTWlub3JUaWNrc1Bvc2l0aW9ucyhmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMubWlub3JHcmlkTGluZXMpO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbnM7XG4gICAgfVxuXG4gICAgYXhpc1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBMb2dhcml0aG1pY0F4aXM7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFJhZGFyTG9nYXJpdGhtaWNBeGlzLnByb3RvdHlwZSwgUmFkYXJOdW1lcmljQXhpc01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJMb2dhcml0aG1pY0F4aXM7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGxhc3QsIHJvdW5kIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY29uc3QgV0VJR0hUID0gMC4zMzM7XG5jb25zdCBFWFRSRU1VTV9BTExPV0VEX0RFVklBVElPTiA9IDAuMDE7XG5cbmNsYXNzIEN1cnZlUHJvY2Vzc29yIGV4dGVuZHMgQ2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3IoY2xvc2VkKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jbG9zZWQgPSBjbG9zZWQ7XG4gICAgfVxuXG4gICAgcHJvY2VzcyhkYXRhUG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGRhdGFQb2ludHMuc2xpY2UoMCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG4gICAgICAgIGxldCBjbG9zZWQgPSB0aGlzLmNsb3NlZDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRHVwbGljYXRlcygwLCBwb2ludHMpO1xuICAgICAgICAgICAgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZW5ndGggPCAyIHx8IChsZW5ndGggPT09IDIgJiYgcG9pbnRzWzBdLmVxdWFscyhwb2ludHNbMV0pKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHAwID0gcG9pbnRzWzBdO1xuICAgICAgICBsZXQgcDEgPSBwb2ludHNbMV07XG4gICAgICAgIGxldCBwMiA9IHBvaW50c1syXTtcblxuICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQocDApKTtcblxuICAgICAgICB3aGlsZSAocDAuZXF1YWxzKHBvaW50c1tsZW5ndGggLSAxXSkpIHtcbiAgICAgICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhbmdlbnQgPSB0aGlzLnRhbmdlbnQocDAscDEsIFgsIFkpO1xuXG4gICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KFxuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAxLCBYLCBZKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KFxuICAgICAgICAgICAgICAgIHAxLFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgWCwgWSlcbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5pdGlhbENvbnRyb2xQb2ludCwgbGFzdENvbnRyb2xQb2ludDtcblxuICAgICAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgICAgICBwMCA9IHBvaW50c1tsZW5ndGggLSAxXTsgcDEgPSBwb2ludHNbMF07IHAyID0gcG9pbnRzWzFdO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50cyA9IHRoaXMuY29udHJvbFBvaW50cyhwMCwgcDEsIHAyKTtcbiAgICAgICAgICAgIGluaXRpYWxDb250cm9sUG9pbnQgPSBjb250cm9sUG9pbnRzWzFdO1xuICAgICAgICAgICAgbGFzdENvbnRyb2xQb2ludCA9IGNvbnRyb2xQb2ludHNbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLCBwMSwgWCxZKTtcbiAgICAgICAgICAgIGluaXRpYWxDb250cm9sUG9pbnQgPSB0aGlzLmZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgWCwgWSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3AwID0gaW5pdGlhbENvbnRyb2xQb2ludDtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDw9IGxlbmd0aCAtIDM7IGlkeCsrKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoaWR4LCBwb2ludHMpO1xuICAgICAgICAgICAgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChpZHggKyAzIDw9IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHAwID0gcG9pbnRzW2lkeF07IHAxID0gcG9pbnRzW2lkeCArIDFdOyBwMiA9IHBvaW50c1tpZHggKyAyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sUG9pbnRzID0gdGhpcy5jb250cm9sUG9pbnRzKHAwLHAxLHAyKTtcblxuICAgICAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY3AwKTtcbiAgICAgICAgICAgICAgICBjcDAgPSBjb250cm9sUG9pbnRzWzFdO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY3AxID0gY29udHJvbFBvaW50c1swXTtcbiAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBnZW9tLlNlZ21lbnQocDEsIGNwMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsb3NlZCkge1xuICAgICAgICAgICAgcDAgPSBwb2ludHNbbGVuZ3RoIC0gMl07IHAxID0gcG9pbnRzW2xlbmd0aCAtIDFdOyBwMiA9IHBvaW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludHMgPSB0aGlzLmNvbnRyb2xQb2ludHMocDAsIHAxLCBwMik7XG5cbiAgICAgICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY3AwKTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMSxcbiAgICAgICAgICAgICAgICBjb250cm9sUG9pbnRzWzBdXG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChjb250cm9sUG9pbnRzWzFdKTtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBwMixcbiAgICAgICAgICAgICAgICBsYXN0Q29udHJvbFBvaW50XG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRhbmdlbnQgPSB0aGlzLnRhbmdlbnQocDEsIHAyLCBYLCBZKTtcblxuICAgICAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChjcDApO1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgZ2VvbS5TZWdtZW50KFxuICAgICAgICAgICAgICAgIHAyLFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAxLCBwMiwgWCwgWSlcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cblxuICAgIHJlbW92ZUR1cGxpY2F0ZXMoaWR4LCBwb2ludHMpIHtcbiAgICAgICAgd2hpbGUgKHBvaW50c1tpZHggKyAxXSAmJiAocG9pbnRzW2lkeF0uZXF1YWxzKHBvaW50c1tpZHggKyAxXSkgfHwgcG9pbnRzW2lkeCArIDFdLmVxdWFscyhwb2ludHNbaWR4ICsgMl0pKSkge1xuICAgICAgICAgICAgcG9pbnRzLnNwbGljZShpZHggKyAxLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludmVydEF4aXMocDAsIHAxLCBwMikge1xuICAgICAgICBsZXQgaW52ZXJ0QXhpcyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwMC54ID09PSBwMS54KSB7XG4gICAgICAgICAgICBpbnZlcnRBeGlzID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChwMS54ID09PSBwMi54KSB7XG4gICAgICAgICAgICBpZiAoKHAxLnkgPCBwMi55ICYmIHAwLnkgPD0gcDEueSkgfHwgKHAyLnkgPCBwMS55ICYmIHAxLnkgPD0gcDAueSkpIHtcbiAgICAgICAgICAgICAgICBpbnZlcnRBeGlzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZuID0gdGhpcy5saW5lRnVuY3Rpb24ocDAscDEpO1xuICAgICAgICAgICAgY29uc3QgeTIgPSB0aGlzLmNhbGN1bGF0ZUZ1bmN0aW9uKGZuLCBwMi54KTtcbiAgICAgICAgICAgIGlmICghKHAwLnkgPD0gcDEueSAmJiBwMi55IDw9IHkyKSAmJlxuICAgICAgICAgICAgICAgICEocDEueSA8PSBwMC55ICYmIHAyLnkgPj0geTIpKSB7XG4gICAgICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW52ZXJ0QXhpcztcbiAgICB9XG5cbiAgICBpc0xpbmUocDAsIHAxLCBwMikge1xuICAgICAgICBjb25zdCBmbiA9IHRoaXMubGluZUZ1bmN0aW9uKHAwLCBwMSk7XG4gICAgICAgIGNvbnN0IHkyID0gdGhpcy5jYWxjdWxhdGVGdW5jdGlvbihmbiwgcDIueCk7XG5cbiAgICAgICAgcmV0dXJuIChwMC54ID09PSBwMS54ICYmIHAxLnggPT09IHAyLngpIHx8IHJvdW5kKHkyLCAxKSA9PT0gcm91bmQocDIueSwgMSk7XG4gICAgfVxuXG4gICAgbGluZUZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICBjb25zdCBhID0gKHAyLnkgLSBwMS55KSAvIChwMi54IC0gcDEueCk7XG4gICAgICAgIGNvbnN0IGIgPSBwMS55IC0gYSAqIHAxLng7XG5cbiAgICAgICAgcmV0dXJuIFsgYiwgYSBdO1xuICAgIH1cblxuICAgIGNvbnRyb2xQb2ludHMocDAsIHAxLCBwMikge1xuICAgICAgICBsZXQgeEZpZWxkID0gWDtcbiAgICAgICAgbGV0IHlGaWVsZCA9IFk7XG4gICAgICAgIGxldCByZXN0cmljdCA9IGZhbHNlO1xuICAgICAgICBsZXQgc3dpdGNoT3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICAgICAgbGV0IHRhbmdlbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNMaW5lKHAwLCBwMSwgcDIpKSB7XG4gICAgICAgICAgICB0YW5nZW50ID0gdGhpcy50YW5nZW50KHAwLCBwMSwgWCwgWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBtb25vdG9uaWMgPSB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5pc01vbm90b25pY0J5RmllbGQocDAsIHAxLCBwMiwgWCksXG4gICAgICAgICAgICAgICAgeTogdGhpcy5pc01vbm90b25pY0J5RmllbGQocDAsIHAxLCBwMiwgWSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChtb25vdG9uaWMueCAmJiBtb25vdG9uaWMueSkge1xuICAgICAgICAgICAgICAgIHRhbmdlbnQgPSB0aGlzLnRhbmdlbnQocDAsIHAyLCBYLCBZKTtcbiAgICAgICAgICAgICAgICByZXN0cmljdCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludmVydEF4aXMocDAsIHAxLCBwMikpIHtcbiAgICAgICAgICAgICAgICAgICAgeEZpZWxkID0gWTtcbiAgICAgICAgICAgICAgICAgICAgeUZpZWxkID0gWDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobW9ub3RvbmljW3hGaWVsZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFuZ2VudCA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpZ247XG4gICAgICAgICAgICAgICAgICAgIGlmICgocDJbeUZpZWxkXSA8IHAwW3lGaWVsZF0gJiYgcDBbeUZpZWxkXSA8PSBwMVt5RmllbGRdKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHAwW3lGaWVsZF0gPCBwMlt5RmllbGRdICYmIHAxW3lGaWVsZF0gPD0gcDBbeUZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gPSBudW1iZXJTaWduKChwMlt5RmllbGRdIC0gcDBbeUZpZWxkXSkgKiAocDFbeEZpZWxkXSAtIHAwW3hGaWVsZF0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gPSAtbnVtYmVyU2lnbigocDJbeEZpZWxkXSAtIHAwW3hGaWVsZF0pICogKHAxW3lGaWVsZF0gLSBwMFt5RmllbGRdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50ID0gRVhUUkVNVU1fQUxMT1dFRF9ERVZJQVRJT04gKiBzaWduO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2hPcmllbnRhdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2Vjb25kQ29udHJvbFBvaW50ID0gdGhpcy5zZWNvbmRDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAxLCB4RmllbGQsIHlGaWVsZCk7XG5cbiAgICAgICAgaWYgKHN3aXRjaE9yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRYRmllbGQgPSB4RmllbGQ7XG4gICAgICAgICAgICB4RmllbGQgPSB5RmllbGQ7XG4gICAgICAgICAgICB5RmllbGQgPSBvbGRYRmllbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdENvbnRyb2xQb2ludCA9IHRoaXMuZmlyc3RDb250cm9sUG9pbnQodGFuZ2VudCwgcDEsIHAyLCB4RmllbGQsIHlGaWVsZCk7XG5cbiAgICAgICAgaWYgKHJlc3RyaWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0Q29udHJvbFBvaW50KHAwLCBwMSwgc2Vjb25kQ29udHJvbFBvaW50LCB0YW5nZW50KTtcbiAgICAgICAgICAgIHRoaXMucmVzdHJpY3RDb250cm9sUG9pbnQocDEsIHAyLCBmaXJzdENvbnRyb2xQb2ludCwgdGFuZ2VudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBzZWNvbmRDb250cm9sUG9pbnQsIGZpcnN0Q29udHJvbFBvaW50IF07XG4gICAgfVxuXG4gICAgcmVzdHJpY3RDb250cm9sUG9pbnQocDEsIHAyLCBjcCwgdGFuZ2VudCkge1xuICAgICAgICBpZiAocDEueSA8IHAyLnkpIHtcbiAgICAgICAgICAgIGlmIChwMi55IDwgY3AueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMS54ICsgKHAyLnkgLSBwMS55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAyLnk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNwLnkgPCBwMS55KSB7XG4gICAgICAgICAgICAgICAgY3AueCA9IHAyLnggLSAocDIueSAtIHAxLnkpIC8gdGFuZ2VudDtcbiAgICAgICAgICAgICAgICBjcC55ID0gcDEueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjcC55IDwgcDIueSkge1xuICAgICAgICAgICAgICAgIGNwLnggPSBwMS54IC0gKHAxLnkgLSBwMi55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICAgICAgY3AueSA9IHAyLnk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHAxLnkgPCBjcC55KSB7XG4gICAgICAgICAgICAgICAgY3AueCA9IHAyLnggKyAocDEueSAtIHAyLnkpIC8gdGFuZ2VudDtcbiAgICAgICAgICAgICAgICBjcC55ID0gcDEueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRhbmdlbnQocDAsIHAxLCB4RmllbGQsIHlGaWVsZCkge1xuICAgICAgICBjb25zdCB4ID0gcDFbeEZpZWxkXSAtIHAwW3hGaWVsZF07XG4gICAgICAgIGNvbnN0IHkgPSBwMVt5RmllbGRdIC0gcDBbeUZpZWxkXTtcbiAgICAgICAgbGV0IHRhbmdlbnQ7XG5cbiAgICAgICAgaWYgKHggPT09IDApIHtcbiAgICAgICAgICAgIHRhbmdlbnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFuZ2VudCA9IHkgLyB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhbmdlbnQ7XG4gICAgfVxuXG4gICAgaXNNb25vdG9uaWNCeUZpZWxkKHAwLCBwMSwgcDIsIGZpZWxkKSB7XG4gICAgICAgIHJldHVybiAocDJbZmllbGRdID4gcDFbZmllbGRdICYmIHAxW2ZpZWxkXSA+IHAwW2ZpZWxkXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHAyW2ZpZWxkXSA8IHAxW2ZpZWxkXSAmJiBwMVtmaWVsZF0gPCBwMFtmaWVsZF0pO1xuICAgIH1cblxuICAgIGZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMywgeEZpZWxkLCB5RmllbGQpIHtcbiAgICAgICAgY29uc3QgdDEgPSBwMFt4RmllbGRdO1xuICAgICAgICBjb25zdCB0MiA9IHAzW3hGaWVsZF07XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gKHQyIC0gdDEpICogV0VJR0hUO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50KHQxICsgZGlzdGFuY2UsIHAwW3lGaWVsZF0gKyBkaXN0YW5jZSAqIHRhbmdlbnQsIHhGaWVsZCwgeUZpZWxkKTtcbiAgICB9XG5cbiAgICBzZWNvbmRDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAzLCB4RmllbGQsIHlGaWVsZCkge1xuICAgICAgICBjb25zdCB0MSA9IHAwW3hGaWVsZF07XG4gICAgICAgIGNvbnN0IHQyID0gcDNbeEZpZWxkXTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSAodDIgLSB0MSkgKiBXRUlHSFQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnQodDIgLSBkaXN0YW5jZSwgcDNbeUZpZWxkXSAtIGRpc3RhbmNlICogdGFuZ2VudCwgeEZpZWxkLCB5RmllbGQpO1xuICAgIH1cblxuICAgIHBvaW50KHhWYWx1ZSwgeVZhbHVlLCB4RmllbGQsIHlGaWVsZCkge1xuICAgICAgICBjb25zdCBjb250cm9sUG9pbnQgPSBuZXcgZ2VvbS5Qb2ludCgpO1xuICAgICAgICBjb250cm9sUG9pbnRbeEZpZWxkXSA9IHhWYWx1ZTtcbiAgICAgICAgY29udHJvbFBvaW50W3lGaWVsZF0gPSB5VmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRyb2xQb2ludDtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVGdW5jdGlvbihmbiwgeCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBmbi5sZW5ndGg7XG4gICAgICAgIGxldCByZXN1bHQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBNYXRoLnBvdyh4LGkpICogZm5baV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG51bWJlclNpZ24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPD0gMCA/IC0xIDogMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ3VydmVQcm9jZXNzb3I7IiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDaGFydEF4aXMgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoYXhpcykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2F4aXMgPSBheGlzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBheGlzLm9wdGlvbnM7XG4gICAgfVxuXG4gICAgdmFsdWUocG9pbnQpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuX2F4aXM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXhpcy5nZXRDYXRlZ29yeSA/IGF4aXMuZ2V0Q2F0ZWdvcnkocG9pbnQpIDogYXhpcy5nZXRWYWx1ZShwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHNsb3QoZnJvbSwgdG8sIGxpbWl0ID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXhpcy5zbG90KGZyb20sIHRvLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgcmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9heGlzLnJhbmdlKCk7XG4gICAgfVxuXG4gICAgdmFsdWVSYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F4aXMudmFsdWVSYW5nZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRBeGlzOyIsImltcG9ydCBDaGFydEF4aXMgZnJvbSAnLi9jaGFydC1heGlzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmluZEF4aXNCeU5hbWUobmFtZSwgYXhlcykge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBpZiAoYXhlc1tpZHhdLm9wdGlvbnMubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgYXhlc1tpZHhdLnByZXBhcmVVc2VyT3B0aW9ucygpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFydEF4aXMoYXhlc1tpZHhdKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgZmluZEF4aXNCeU5hbWUgZnJvbSAnLi9maW5kLWF4aXMtYnktbmFtZSc7XG5cbmNsYXNzIENoYXJ0UGFuZSB7XG4gICAgY29uc3RydWN0b3IocGFuZSkge1xuICAgICAgICB0aGlzLnZpc3VhbCA9IHBhbmUudmlzdWFsO1xuICAgICAgICB0aGlzLmNoYXJ0c1Zpc3VhbCA9IHBhbmUuY2hhcnRDb250YWluZXIudmlzdWFsO1xuICAgICAgICB0aGlzLl9wYW5lID0gcGFuZTtcbiAgICB9XG5cbiAgICBmaW5kQXhpc0J5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBmaW5kQXhpc0J5TmFtZShuYW1lLCB0aGlzLl9wYW5lLmF4ZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnRQYW5lOyIsImltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ2hhcnRQbG90QXJlYSBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX3Bsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMudmlzdWFsID0gcGxvdEFyZWEudmlzdWFsO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRWaXN1YWwgPSBwbG90QXJlYS5fYmdWaXN1YWw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFydFBsb3RBcmVhOyIsImltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY291bnROdW1iZXJzKHZhbHVlcykge1xuICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbnVtID0gdmFsdWVzW2ldO1xuICAgICAgICBpZiAoaXNOdW1iZXIobnVtKSkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb3VudDtcbn0iLCJpbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCwgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5pbXBvcnQgY291bnROdW1iZXJzIGZyb20gJy4uL3V0aWxzL2NvdW50LW51bWJlcnMnO1xuXG5jb25zdCBBZ2dyZWdhdGVzID0ge1xuICAgIG1pbjogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCBtaW4gPSBNQVhfVkFMVUU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWluID09PSBNQVhfVkFMVUUgPyB2YWx1ZXNbMF0gOiBtaW47XG4gICAgfSxcblxuICAgIG1heDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCBtYXggPSBNSU5fVkFMVUU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF4ID09PSBNSU5fVkFMVUUgPyB2YWx1ZXNbMF0gOiBtYXg7XG4gICAgfSxcblxuICAgIHN1bTogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHN1bSArPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfSxcblxuICAgIHN1bU9yTnVsbDogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgIGlmIChjb3VudE51bWJlcnModmFsdWVzKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gQWdncmVnYXRlcy5zdW0odmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIGNvdW50OiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfSxcblxuICAgIGF2ZzogZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gY291bnROdW1iZXJzKHZhbHVlcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB2YWx1ZXNbMF07XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gQWdncmVnYXRlcy5zdW0odmFsdWVzKSAvIGNvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgZmlyc3Q6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBZ2dyZWdhdGVzOyIsImltcG9ydCB7IGdldHRlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZpZWxkKGZpZWxkLCByb3cpIHtcbiAgICBpZiAocm93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0ID0gZ2V0dGVyKGZpZWxkLCB0cnVlKTtcbiAgICByZXR1cm4gZ2V0KHJvdyk7XG59IiwiaW1wb3J0IGdldEZpZWxkIGZyb20gJy4vdXRpbHMvZ2V0LWZpZWxkJztcbmltcG9ydCB7IFZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVmaW5lZCB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIFNlcmllc0JpbmRlciBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX3ZhbHVlRmllbGRzID0ge307XG4gICAgICAgIHRoaXMuX290aGVyRmllbGRzID0ge307XG4gICAgICAgIHRoaXMuX251bGxWYWx1ZSA9IHt9O1xuICAgICAgICB0aGlzLl91bmRlZmluZWRWYWx1ZSA9IHt9O1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKHNlcmllc1R5cGVzLCB2YWx1ZUZpZWxkcyA9IFsgVkFMVUUgXSwgb3RoZXJGaWVsZHMgPSB7fSkge1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzZXJpZXNUeXBlc1tpXTtcblxuICAgICAgICAgICAgdGhpcy5fdmFsdWVGaWVsZHNbdHlwZV0gPSB2YWx1ZUZpZWxkcztcbiAgICAgICAgICAgIHRoaXMuX290aGVyRmllbGRzW3R5cGVdID0gb3RoZXJGaWVsZHM7XG4gICAgICAgICAgICB0aGlzLl9udWxsVmFsdWVbdHlwZV0gPSB0aGlzLl9tYWtlVmFsdWUodmFsdWVGaWVsZHMsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fdW5kZWZpbmVkVmFsdWVbdHlwZV0gPSB0aGlzLl9tYWtlVmFsdWUodmFsdWVGaWVsZHMsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5vbmljYWxGaWVsZHMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlRmllbGRzKHNlcmllcykuY29uY2F0KHRoaXMub3RoZXJGaWVsZHMoc2VyaWVzKSk7XG4gICAgfVxuXG4gICAgdmFsdWVGaWVsZHMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZUZpZWxkc1tzZXJpZXMudHlwZV0gfHwgWyBWQUxVRSBdO1xuICAgIH1cblxuICAgIG90aGVyRmllbGRzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3RoZXJGaWVsZHNbc2VyaWVzLnR5cGVdIHx8IFsgVkFMVUUgXTtcbiAgICB9XG5cbiAgICBiaW5kUG9pbnQoc2VyaWVzLCBwb2ludEl4LCBpdGVtKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzZXJpZXMuZGF0YTtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gZGVmaW5lZChpdGVtKSA/IGl0ZW0gOiBkYXRhW3BvaW50SXhdO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7IHZhbHVlRmllbGRzOiB7IHZhbHVlOiBwb2ludERhdGEgfSB9O1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IHRoaXMudmFsdWVGaWVsZHMoc2VyaWVzKTtcbiAgICAgICAgY29uc3Qgb3RoZXJGaWVsZHMgPSB0aGlzLl9vdGhlckZpZWxkc1tzZXJpZXMudHlwZV07XG4gICAgICAgIGxldCBmaWVsZHMsIHZhbHVlO1xuXG4gICAgICAgIGlmIChwb2ludERhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fbnVsbFZhbHVlW3Nlcmllcy50eXBlXTtcbiAgICAgICAgfSBlbHNlIGlmICghZGVmaW5lZChwb2ludERhdGEpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3VuZGVmaW5lZFZhbHVlW3Nlcmllcy50eXBlXTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBvaW50RGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkRGF0YSA9IHBvaW50RGF0YS5zbGljZSh2YWx1ZUZpZWxkcy5sZW5ndGgpO1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9iaW5kRnJvbUFycmF5KHBvaW50RGF0YSwgdmFsdWVGaWVsZHMpO1xuICAgICAgICAgICAgZmllbGRzID0gdGhpcy5fYmluZEZyb21BcnJheShmaWVsZERhdGEsIG90aGVyRmllbGRzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcG9pbnREYXRhID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb25zdCBzcmNWYWx1ZUZpZWxkcyA9IHRoaXMuc291cmNlRmllbGRzKHNlcmllcywgdmFsdWVGaWVsZHMpO1xuICAgICAgICAgICAgY29uc3Qgc3JjUG9pbnRGaWVsZHMgPSB0aGlzLnNvdXJjZUZpZWxkcyhzZXJpZXMsIG90aGVyRmllbGRzKTtcblxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9iaW5kRnJvbU9iamVjdChwb2ludERhdGEsIHZhbHVlRmllbGRzLCBzcmNWYWx1ZUZpZWxkcyk7XG4gICAgICAgICAgICBmaWVsZHMgPSB0aGlzLl9iaW5kRnJvbU9iamVjdChwb2ludERhdGEsIG90aGVyRmllbGRzLCBzcmNQb2ludEZpZWxkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZUZpZWxkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudmFsdWVGaWVsZHMudmFsdWUgPSB2YWx1ZVt2YWx1ZUZpZWxkc1swXV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdC52YWx1ZUZpZWxkcyA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0LmZpZWxkcyA9IGZpZWxkcyB8fCB7fTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIF9tYWtlVmFsdWUoZmllbGRzLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZmllbGRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZHNbaV07XG4gICAgICAgICAgICB2YWx1ZVtmaWVsZE5hbWVdID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9iaW5kRnJvbUFycmF5KGFycmF5LCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB7fTtcblxuICAgICAgICBpZiAoZmllbGRzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihmaWVsZHMubGVuZ3RoLCBhcnJheS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVbZmllbGRzW2ldXSA9IGFycmF5W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9iaW5kRnJvbU9iamVjdChvYmplY3QsIGZpZWxkcywgc3JjRmllbGRzID0gZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0ge307XG5cbiAgICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gZmllbGRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcmNGaWVsZE5hbWUgPSBzcmNGaWVsZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHNyY0ZpZWxkTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtmaWVsZE5hbWVdID0gZ2V0RmllbGQoc3JjRmllbGROYW1lLCBvYmplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzb3VyY2VGaWVsZHMoc2VyaWVzLCBjYW5vbmljYWxGaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc291cmNlRmllbGRzID0gW107XG5cbiAgICAgICAgaWYgKGNhbm9uaWNhbEZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2Fub25pY2FsRmllbGRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkTmFtZSA9IGNhbm9uaWNhbEZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VGaWVsZE5hbWUgPSBmaWVsZE5hbWUgPT09IFZBTFVFID8gXCJmaWVsZFwiIDogZmllbGROYW1lICsgXCJGaWVsZFwiO1xuXG4gICAgICAgICAgICAgICAgc291cmNlRmllbGRzLnB1c2goc2VyaWVzW3NvdXJjZUZpZWxkTmFtZV0gIT09IG51bGwgPyAoc2VyaWVzW3NvdXJjZUZpZWxkTmFtZV0gfHwgZmllbGROYW1lKSA6IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNvdXJjZUZpZWxkcztcbiAgICB9XG59XG5cblNlcmllc0JpbmRlci5jdXJyZW50ID0gbmV3IFNlcmllc0JpbmRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBTZXJpZXNCaW5kZXI7IiwiaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcblxuaW1wb3J0IHsgT0JKRUNUIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVmaW5lZCwgZ2V0dGVyLCBpc0FycmF5LCBpc051bWJlciB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IFNURF9FUlIgPSBcInN0ZGVyclwiO1xuY29uc3QgU1REX0RFViA9IFwic3RkZGV2XCI7XG5jb25zdCBwZXJjZW50UmVnZXggPSAvcGVyY2VudCg/OlxcdyopXFwoKFxcZCspXFwpLztcbmNvbnN0IHN0YW5kYXJkRGV2aWF0aW9uUmVnZXggPSBuZXcgUmVnRXhwKFwiXlwiICsgU1REX0RFViArIFwiKD86XFxcXCgoXFxcXGQrKD86XFxcXC5cXFxcZCspPylcXFxcKSk/JFwiKTtcblxuY2xhc3MgRXJyb3JSYW5nZUNhbGN1bGF0b3IgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoZXJyb3JWYWx1ZSwgc2VyaWVzLCBmaWVsZCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaW5pdEdsb2JhbFJhbmdlcyhlcnJvclZhbHVlLCBzZXJpZXMsIGZpZWxkKTtcbiAgICB9XG5cbiAgICBpbml0R2xvYmFsUmFuZ2VzKGVycm9yVmFsdWUsIHNlcmllcywgZmllbGQpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHNlcmllcy5kYXRhO1xuICAgICAgICBjb25zdCBkZXZpYXRpb25NYXRjaCA9IHN0YW5kYXJkRGV2aWF0aW9uUmVnZXguZXhlYyhlcnJvclZhbHVlKTtcblxuICAgICAgICBpZiAoZGV2aWF0aW9uTWF0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVHZXR0ZXIgPSB0aGlzLmNyZWF0ZVZhbHVlR2V0dGVyKHNlcmllcywgZmllbGQpO1xuXG4gICAgICAgICAgICBjb25zdCBhdmVyYWdlID0gdGhpcy5nZXRBdmVyYWdlKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgZGV2aWF0aW9uID0gdGhpcy5nZXRTdGFuZGFyZERldmlhdGlvbihkYXRhLCBhdmVyYWdlLCBmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsZSA9IGRldmlhdGlvbk1hdGNoWzFdID8gcGFyc2VGbG9hdChkZXZpYXRpb25NYXRjaFsxXSkgOiAxO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JSYW5nZSA9IHsgbG93OiBhdmVyYWdlLnZhbHVlIC0gZGV2aWF0aW9uICogbXVsdGlwbGUsIGhpZ2g6IGF2ZXJhZ2UudmFsdWUgKyBkZXZpYXRpb24gKiBtdWx0aXBsZSB9O1xuXG4gICAgICAgICAgICB0aGlzLmdsb2JhbFJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmFuZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yVmFsdWUuaW5kZXhPZiAmJiBlcnJvclZhbHVlLmluZGV4T2YoU1REX0VSUikgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZUdldHRlciA9IHRoaXMuY3JlYXRlVmFsdWVHZXR0ZXIoc2VyaWVzLCBmaWVsZCk7XG4gICAgICAgICAgICBjb25zdCBzdGFuZGFyZEVycm9yID0gdGhpcy5nZXRTdGFuZGFyZEVycm9yKGRhdGEsIHRoaXMuZ2V0QXZlcmFnZShkYXRhKSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsUmFuZ2UgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGxvdzogdmFsdWUgLSBzdGFuZGFyZEVycm9yLCBoaWdoOiB2YWx1ZSArIHN0YW5kYXJkRXJyb3IgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWYWx1ZUdldHRlcihzZXJpZXMsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBzZXJpZXMuZGF0YTtcbiAgICAgICAgY29uc3QgYmluZGVyID0gU2VyaWVzQmluZGVyLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IHZhbHVlRmllbGRzID0gYmluZGVyLnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkZWZpbmVkKGRhdGFbMF0pID8gZGF0YVswXSA6IHt9O1xuICAgICAgICBsZXQgdmFsdWVHZXR0ZXI7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZmllbGQgPyB2YWx1ZUZpZWxkcy5pbmRleE9mKGZpZWxkKSA6IDA7XG4gICAgICAgICAgICB2YWx1ZUdldHRlciA9IGdldHRlcihcIltcIiArIGluZGV4ICsgXCJdXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGl0ZW0pKSB7XG4gICAgICAgICAgICB2YWx1ZUdldHRlciA9IGdldHRlcigpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSBPQkpFQ1QpIHtcbiAgICAgICAgICAgIGNvbnN0IHNyY1ZhbHVlRmllbGRzID0gYmluZGVyLnNvdXJjZUZpZWxkcyhzZXJpZXMsIHZhbHVlRmllbGRzKTtcbiAgICAgICAgICAgIHZhbHVlR2V0dGVyID0gZ2V0dGVyKHNyY1ZhbHVlRmllbGRzW3ZhbHVlRmllbGRzLmluZGV4T2YoZmllbGQpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVHZXR0ZXI7XG4gICAgfVxuXG4gICAgZ2V0RXJyb3JSYW5nZShwb2ludFZhbHVlLCBlcnJvclZhbHVlKSB7XG4gICAgICAgIGxldCBsb3csIGhpZ2gsIHZhbHVlO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChlcnJvclZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nbG9iYWxSYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsUmFuZ2UocG9pbnRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNBcnJheShlcnJvclZhbHVlKSkge1xuICAgICAgICAgICAgbG93ID0gcG9pbnRWYWx1ZSAtIGVycm9yVmFsdWVbMF07XG4gICAgICAgICAgICBoaWdoID0gcG9pbnRWYWx1ZSArIGVycm9yVmFsdWVbMV07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIodmFsdWUgPSBwYXJzZUZsb2F0KGVycm9yVmFsdWUpKSkge1xuICAgICAgICAgICAgbG93ID0gcG9pbnRWYWx1ZSAtIHZhbHVlO1xuICAgICAgICAgICAgaGlnaCA9IHBvaW50VmFsdWUgKyB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgodmFsdWUgPSBwZXJjZW50UmVnZXguZXhlYyhlcnJvclZhbHVlKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRWYWx1ZSA9IHBvaW50VmFsdWUgKiAocGFyc2VGbG9hdCh2YWx1ZVsxXSkgLyAxMDApO1xuICAgICAgICAgICAgbG93ID0gcG9pbnRWYWx1ZSAtIE1hdGguYWJzKHBlcmNlbnRWYWx1ZSk7XG4gICAgICAgICAgICBoaWdoID0gcG9pbnRWYWx1ZSArIE1hdGguYWJzKHBlcmNlbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEVycm9yQmFyIHZhbHVlOiBcIiArIGVycm9yVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgbG93OiBsb3csIGhpZ2g6IGhpZ2ggfTtcbiAgICB9XG5cbiAgICBnZXRTdGFuZGFyZEVycm9yKGRhdGEsIGF2ZXJhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhbmRhcmREZXZpYXRpb24oZGF0YSwgYXZlcmFnZSwgdHJ1ZSkgLyBNYXRoLnNxcnQoYXZlcmFnZS5jb3VudCk7XG4gICAgfVxuXG4gICAgZ2V0U3RhbmRhcmREZXZpYXRpb24oZGF0YSwgYXZlcmFnZSwgaXNTYW1wbGUpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gaXNTYW1wbGUgPyBhdmVyYWdlLmNvdW50IC0gMSA6IGF2ZXJhZ2UuY291bnQ7XG4gICAgICAgIGxldCBzcXVhcmVEaWZmZXJlbmNlU3VtID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWVHZXR0ZXIoZGF0YVtpZHhdKTtcbiAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzcXVhcmVEaWZmZXJlbmNlU3VtICs9IE1hdGgucG93KHZhbHVlIC0gYXZlcmFnZS52YWx1ZSwgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHNxdWFyZURpZmZlcmVuY2VTdW0gLyB0b3RhbCk7XG4gICAgfVxuXG4gICAgZ2V0QXZlcmFnZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWVHZXR0ZXIoZGF0YVtpZHhdKTtcbiAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogc3VtIC8gY291bnQsXG4gICAgICAgICAgICBjb3VudDogY291bnRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yUmFuZ2VDYWxjdWxhdG9yOyIsImltcG9ydCB7IHN1cHBvcnQgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmNvbnN0IGJyb3dzZXIgPSBzdXBwb3J0LmJyb3dzZXIgfHwge307XG5cbmNvbnN0IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OID0gNjAwO1xuY29uc3QgRkFERUlOID0gXCJmYWRlSW5cIjtcblxuY29uc3QgR0xBU1MgPSBcImdsYXNzXCI7XG5jb25zdCBCT1JERVJfQlJJR0hUTkVTUyA9IDAuODtcbmNvbnN0IFRPT0xUSVBfT0ZGU0VUID0gNTtcbmNvbnN0IFNUQVJUX1NDQUxFID0gYnJvd3Nlci5tc2llID8gMC4wMDEgOiAwO1xuY29uc3QgRVJST1JfTE9XX0ZJRUxEID0gXCJlcnJvckxvd1wiO1xuY29uc3QgRVJST1JfSElHSF9GSUVMRCA9IFwiZXJyb3JIaWdoXCI7XG5jb25zdCBYX0VSUk9SX0xPV19GSUVMRCA9IFwieEVycm9yTG93XCI7XG5jb25zdCBYX0VSUk9SX0hJR0hfRklFTEQgPSBcInhFcnJvckhpZ2hcIjtcbmNvbnN0IFlfRVJST1JfTE9XX0ZJRUxEID0gXCJ5RXJyb3JMb3dcIjtcbmNvbnN0IFlfRVJST1JfSElHSF9GSUVMRCA9IFwieUVycm9ySGlnaFwiO1xuY29uc3QgTElORV9NQVJLRVJfU0laRSA9IDg7XG5jb25zdCBaRVJPID0gXCJ6ZXJvXCI7XG5jb25zdCBJTlRFUlBPTEFURSA9IFwiaW50ZXJwb2xhdGVcIjtcbmNvbnN0IEdBUCA9IFwiZ2FwXCI7XG5jb25zdCBBQk9WRSA9IFwiYWJvdmVcIjtcbmNvbnN0IEJFTE9XID0gXCJiZWxvd1wiO1xuXG5jb25zdCBTTU9PVEggPSBcInNtb290aFwiO1xuY29uc3QgU1RFUCA9IFwic3RlcFwiO1xuXG5jb25zdCBBUkVBID0gXCJhcmVhXCI7XG5jb25zdCBCQVIgPSBcImJhclwiO1xuY29uc3QgQk9YX1BMT1QgPSBcImJveFBsb3RcIjtcbmNvbnN0IEJVQkJMRSA9IFwiYnViYmxlXCI7XG5jb25zdCBCVUxMRVQgPSBcImJ1bGxldFwiO1xuY29uc3QgQ0FORExFU1RJQ0sgPSBcImNhbmRsZXN0aWNrXCI7XG5jb25zdCBDT0xVTU4gPSBcImNvbHVtblwiO1xuY29uc3QgRE9OVVQgPSBcImRvbnV0XCI7XG5jb25zdCBGVU5ORUwgPSBcImZ1bm5lbFwiO1xuY29uc3QgSE9SSVpPTlRBTF9XQVRFUkZBTEwgPSBcImhvcml6b250YWxXYXRlcmZhbGxcIjtcbmNvbnN0IExJTkUgPSBcImxpbmVcIjtcbmNvbnN0IE9ITEMgPSBcIm9obGNcIjtcbmNvbnN0IFBJRSA9IFwicGllXCI7XG5jb25zdCBQT0xBUl9BUkVBID0gXCJwb2xhckFyZWFcIjtcbmNvbnN0IFBPTEFSX0xJTkUgPSBcInBvbGFyTGluZVwiO1xuY29uc3QgUE9MQVJfU0NBVFRFUiA9IFwicG9sYXJTY2F0dGVyXCI7XG5jb25zdCBSQURBUl9BUkVBID0gXCJyYWRhckFyZWFcIjtcbmNvbnN0IFJBREFSX0NPTFVNTiA9IFwicmFkYXJDb2x1bW5cIjtcbmNvbnN0IFJBREFSX0xJTkUgPSBcInJhZGFyTGluZVwiO1xuY29uc3QgUkFOR0VfQVJFQSA9IFwicmFuZ2VBcmVhXCI7XG5jb25zdCBSQU5HRV9CQVIgPSBcInJhbmdlQmFyXCI7XG5jb25zdCBSQU5HRV9DT0xVTU4gPSBcInJhbmdlQ29sdW1uXCI7XG5jb25zdCBTQ0FUVEVSID0gXCJzY2F0dGVyXCI7XG5jb25zdCBTQ0FUVEVSX0xJTkUgPSBcInNjYXR0ZXJMaW5lXCI7XG5jb25zdCBWRVJUSUNBTF9BUkVBID0gXCJ2ZXJ0aWNhbEFyZWFcIjtcbmNvbnN0IFZFUlRJQ0FMX0JPWF9QTE9UID0gXCJ2ZXJ0aWNhbEJveFBsb3RcIjtcbmNvbnN0IFZFUlRJQ0FMX0JVTExFVCA9IFwidmVydGljYWxCdWxsZXRcIjtcbmNvbnN0IFZFUlRJQ0FMX0xJTkUgPSBcInZlcnRpY2FsTGluZVwiO1xuY29uc3QgVkVSVElDQUxfUkFOR0VfQVJFQSA9IFwidmVydGljYWxSYW5nZUFyZWFcIjtcbmNvbnN0IFdBVEVSRkFMTCA9IFwid2F0ZXJmYWxsXCI7XG5jb25zdCBFUVVBTExZX1NQQUNFRF9TRVJJRVMgPSBbXG4gICAgQkFSLCBDT0xVTU4sIE9ITEMsIENBTkRMRVNUSUNLLCBCT1hfUExPVCwgVkVSVElDQUxfQk9YX1BMT1QsXG4gICAgQlVMTEVULCBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTFxuXTtcblxuY29uc3QgTEVHRU5EX0lURU1fQ0xJQ0sgPSBcImxlZ2VuZEl0ZW1DbGlja1wiO1xuY29uc3QgTEVHRU5EX0lURU1fSE9WRVIgPSBcImxlZ2VuZEl0ZW1Ib3ZlclwiO1xuY29uc3QgTEVHRU5EX0lURU1fTEVBVkUgPSBcImxlZ2VuZEl0ZW1MZWF2ZVwiO1xuY29uc3QgU0VSSUVTX0NMSUNLID0gXCJzZXJpZXNDbGlja1wiO1xuY29uc3QgU0VSSUVTX0hPVkVSID0gXCJzZXJpZXNIb3ZlclwiO1xuY29uc3QgU0VSSUVTX09WRVIgPSBcInNlcmllc092ZXJcIjtcbmNvbnN0IFNFUklFU19MRUFWRSA9IFwic2VyaWVzTGVhdmVcIjtcbmNvbnN0IFBMT1RfQVJFQV9DTElDSyA9IFwicGxvdEFyZWFDbGlja1wiO1xuY29uc3QgUExPVF9BUkVBX0hPVkVSID0gXCJwbG90QXJlYUhvdmVyXCI7XG5jb25zdCBQTE9UX0FSRUFfTEVBVkUgPSBcInBsb3RBcmVhTGVhdmVcIjtcbmNvbnN0IERSQUcgPSBcImRyYWdcIjtcbmNvbnN0IERSQUdfRU5EID0gXCJkcmFnRW5kXCI7XG5jb25zdCBEUkFHX1NUQVJUID0gXCJkcmFnU3RhcnRcIjtcbmNvbnN0IFpPT01fU1RBUlQgPSBcInpvb21TdGFydFwiO1xuY29uc3QgWk9PTSA9IFwiem9vbVwiO1xuY29uc3QgWk9PTV9FTkQgPSBcInpvb21FbmRcIjtcbmNvbnN0IFNFTEVDVF9TVEFSVCA9IFwic2VsZWN0U3RhcnRcIjtcbmNvbnN0IFNFTEVDVCA9IFwic2VsZWN0XCI7XG5jb25zdCBTRUxFQ1RfRU5EID0gXCJzZWxlY3RFbmRcIjtcbmNvbnN0IFJFTkRFUiA9IFwicmVuZGVyXCI7XG5jb25zdCBTSE9XX1RPT0xUSVAgPSBcInNob3dUb29sdGlwXCI7XG5jb25zdCBISURFX1RPT0xUSVAgPSBcImhpZGVUb29sdGlwXCI7XG5jb25zdCBQQU5FX1JFTkRFUiA9IFwicGFuZVJlbmRlclwiO1xuXG5jb25zdCBMT0dBUklUSE1JQyA9IFwibG9nXCI7XG5jb25zdCBDQVRFR09SWSA9IFwiY2F0ZWdvcnlcIjtcblxuY29uc3QgSU5TSURFX0VORCA9IFwiaW5zaWRlRW5kXCI7XG5jb25zdCBJTlNJREVfQkFTRSA9IFwiaW5zaWRlQmFzZVwiO1xuY29uc3QgT1VUU0lERV9FTkQgPSBcIm91dHNpZGVFbmRcIjtcblxuY29uc3QgTU9VU0VXSEVFTCA9IFwiRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbFwiO1xuY29uc3QgTU9VU0VXSEVFTF9ERUxBWSA9IDE1MDtcblxuZXhwb3J0IHtcbiAgICBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgRkFERUlOLFxuICAgIExFR0VORF9JVEVNX0NMSUNLLCBMRUdFTkRfSVRFTV9IT1ZFUiwgTEVHRU5EX0lURU1fTEVBVkUsXG4gICAgU0VSSUVTX0NMSUNLLCBTRVJJRVNfSE9WRVIsIFNFUklFU19PVkVSLCBTRVJJRVNfTEVBVkUsIEdMQVNTLFxuICAgIEJPUkRFUl9CUklHSFRORVNTLCBUT09MVElQX09GRlNFVCxcbiAgICBTVEFSVF9TQ0FMRSwgRVJST1JfTE9XX0ZJRUxELCBFUlJPUl9ISUdIX0ZJRUxELFxuICAgIFhfRVJST1JfTE9XX0ZJRUxELCBYX0VSUk9SX0hJR0hfRklFTEQsXG4gICAgWV9FUlJPUl9MT1dfRklFTEQsIFlfRVJST1JfSElHSF9GSUVMRCxcbiAgICBMSU5FX01BUktFUl9TSVpFLCBJTlRFUlBPTEFURSwgWkVSTyxcbiAgICBTTU9PVEgsIFNURVAsIENBVEVHT1JZLCBGVU5ORUwsXG4gICAgQkFSLCBDQU5ETEVTVElDSywgUElFLCBDT0xVTU4sIEFSRUEsXG4gICAgVkVSVElDQUxfQlVMTEVULCBCT1hfUExPVCwgT0hMQywgV0FURVJGQUxMLCBMSU5FLFxuICAgIEJVTExFVCwgVkVSVElDQUxfTElORSwgVkVSVElDQUxfQVJFQSwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSxcbiAgICBSQU5HRV9DT0xVTU4sIFZFUlRJQ0FMX0JPWF9QTE9ULCBSQU5HRV9CQVIsIEhPUklaT05UQUxfV0FURVJGQUxMLFxuICAgIFNDQVRURVIsIFNDQVRURVJfTElORSwgQlVCQkxFLCBSQURBUl9BUkVBLCBSQURBUl9MSU5FLFxuICAgIFJBREFSX0NPTFVNTiwgUE9MQVJfTElORSwgUE9MQVJfQVJFQSwgUE9MQVJfU0NBVFRFUixcbiAgICBSRU5ERVIsIFBMT1RfQVJFQV9DTElDSywgUExPVF9BUkVBX0hPVkVSLCBQTE9UX0FSRUFfTEVBVkUsXG4gICAgTE9HQVJJVEhNSUMsIERSQUcsIERSQUdfU1RBUlQsIERSQUdfRU5ELCBaT09NX1NUQVJULCBaT09NLCBaT09NX0VORCxcbiAgICBTRUxFQ1RfU1RBUlQsIFNFTEVDVCwgU0VMRUNUX0VORCwgUEFORV9SRU5ERVIsIEdBUCxcbiAgICBET05VVCwgSU5TSURFX0VORCwgSU5TSURFX0JBU0UsIE9VVFNJREVfRU5ELFxuICAgIE1PVVNFV0hFRUwsIE1PVVNFV0hFRUxfREVMQVksIFNIT1dfVE9PTFRJUCwgSElERV9UT09MVElQLFxuICAgIEVRVUFMTFlfU1BBQ0VEX1NFUklFUywgQUJPVkUsIEJFTE9XXG59O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIFBvaW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgRkFERUlOLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBhbGlnblBhdGhUb1BpeGVsIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgREVGQVVMVF9FUlJPUl9CQVJfV0lEVEggPSA0O1xuXG5jbGFzcyBFcnJvckJhckJhc2UgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGxvdywgaGlnaCwgaXNWZXJ0aWNhbCwgY2hhcnQsIHNlcmllcywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmxvdyA9IGxvdztcbiAgICAgICAgdGhpcy5oaWdoID0gaGlnaDtcbiAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbDtcbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IGVuZENhcHMgPSB0aGlzLm9wdGlvbnMuZW5kQ2FwcztcbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuaXNWZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuZ2V0QXhpcygpO1xuICAgICAgICBjb25zdCB2YWx1ZUJveCA9IGF4aXMuZ2V0U2xvdCh0aGlzLmxvdywgdGhpcy5oaWdoKTtcbiAgICAgICAgY29uc3QgY2VudGVyQm94ID0gdGFyZ2V0Qm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBjYXBzV2lkdGggPSB0aGlzLmdldENhcHNXaWR0aCh0YXJnZXRCb3gsIGlzVmVydGljYWwpO1xuICAgICAgICBjb25zdCBjYXBWYWx1ZSA9IGlzVmVydGljYWwgPyBjZW50ZXJCb3gueCA6IGNlbnRlckJveC55O1xuICAgICAgICBjb25zdCBjYXBTdGFydCA9IGNhcFZhbHVlIC0gY2Fwc1dpZHRoO1xuICAgICAgICBjb25zdCBjYXBFbmQgPSBjYXBWYWx1ZSArIGNhcHNXaWR0aDtcbiAgICAgICAgbGV0IGxpbmVQb2ludHM7XG5cbiAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgIGxpbmVQb2ludHMgPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGNlbnRlckJveC54LCB2YWx1ZUJveC55MSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KGNlbnRlckJveC54LCB2YWx1ZUJveC55MilcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoZW5kQ2Fwcykge1xuICAgICAgICAgICAgICAgIGxpbmVQb2ludHMucHVzaChuZXcgUG9pbnQoY2FwU3RhcnQsIHZhbHVlQm94LnkxKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KGNhcEVuZCwgdmFsdWVCb3gueTEpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQoY2FwU3RhcnQsIHZhbHVlQm94LnkyKSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFBvaW50KGNhcEVuZCwgdmFsdWVCb3gueTIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYm94ID0gbmV3IEJveChjYXBTdGFydCwgdmFsdWVCb3gueTEsIGNhcEVuZCwgdmFsdWVCb3gueTIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGluZVBvaW50cyA9IFtcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQodmFsdWVCb3gueDEsIGNlbnRlckJveC55KSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQodmFsdWVCb3gueDIsIGNlbnRlckJveC55KVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmIChlbmRDYXBzKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvaW50cy5wdXNoKG5ldyBQb2ludCh2YWx1ZUJveC54MSwgY2FwU3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQodmFsdWVCb3gueDEsIGNhcEVuZCksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQb2ludCh2YWx1ZUJveC54MiwgY2FwU3RhcnQpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgUG9pbnQodmFsdWVCb3gueDIsIGNhcEVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KHZhbHVlQm94LngxLCBjYXBTdGFydCwgdmFsdWVCb3gueDIsIGNhcEVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpbmVQb2ludHMgPSBsaW5lUG9pbnRzO1xuICAgIH1cblxuICAgIGdldENhcHNXaWR0aChib3gsIGlzVmVydGljYWwpIHtcbiAgICAgICAgY29uc3QgYm94U2l6ZSA9IGlzVmVydGljYWwgPyBib3gud2lkdGgoKSA6IGJveC5oZWlnaHQoKTtcbiAgICAgICAgY29uc3QgY2Fwc1dpZHRoID0gTWF0aC5taW4oTWF0aC5mbG9vcihib3hTaXplIC8gMiksIERFRkFVTFRfRVJST1JfQkFSX1dJRFRIKSB8fCBERUZBVUxUX0VSUk9SX0JBUl9XSURUSDtcblxuICAgICAgICByZXR1cm4gY2Fwc1dpZHRoO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG5cbiAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy52aXN1YWwgPSB2aXN1YWwoe1xuICAgICAgICAgICAgICAgIGxvdzogdGhpcy5sb3csXG4gICAgICAgICAgICAgICAgaGlnaDogdGhpcy5oaWdoLFxuICAgICAgICAgICAgICAgIHJlY3Q6IHRoaXMuYm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuZENhcHM6IG9wdGlvbnMuZW5kQ2FwcyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IG9wdGlvbnMubGluZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRGVmYXVsdFZpc3VhbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmlzdWFsID0gdGhpcy52aXN1YWw7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZpc3VhbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaXN1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURlZmF1bHRWaXN1YWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZURlZmF1bHRWaXN1YWwoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgbGluZVBvaW50cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGluZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5saW5lLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmxpbmUuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsaW5lUG9pbnRzLmxlbmd0aDsgaWR4ICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgZHJhdy5QYXRoKGxpbmVPcHRpb25zKVxuICAgICAgICAgICAgICAgIC5tb3ZlVG8obGluZVBvaW50c1tpZHhdLngsIGxpbmVQb2ludHNbaWR4XS55KVxuICAgICAgICAgICAgICAgIC5saW5lVG8obGluZVBvaW50c1tpZHggKyAxXS54LCBsaW5lUG9pbnRzW2lkeCArIDFdLnkpO1xuXG4gICAgICAgICAgICBhbGlnblBhdGhUb1BpeGVsKGxpbmUpO1xuICAgICAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhFcnJvckJhckJhc2UsIHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICBkZWxheTogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT05cbiAgICB9LFxuICAgIGVuZENhcHM6IHRydWUsXG4gICAgbGluZToge1xuICAgICAgICB3aWR0aDogMlxuICAgIH0sXG4gICAgekluZGV4OiAxXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCYXJCYXNlOyIsImltcG9ydCBFcnJvckJhckJhc2UgZnJvbSAnLi9lcnJvci1iYXItYmFzZSc7XG5cbmNsYXNzIENhdGVnb3JpY2FsRXJyb3JCYXIgZXh0ZW5kcyBFcnJvckJhckJhc2Uge1xuICAgIGdldEF4aXMoKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmNoYXJ0LnNlcmllc1ZhbHVlQXhpcyh0aGlzLnNlcmllcyk7XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWNhbEVycm9yQmFyOyIsImltcG9ydCB7IGluQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IE1BWF9FWFBBTkRfREVQVEggPSA1O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBldmFsT3B0aW9ucyhvcHRpb25zLCBjb250ZXh0LCBzdGF0ZSA9IHt9LCBkcnlSdW4gPSBmYWxzZSkge1xuICAgIGNvbnN0IGRlZmF1bHRzID0gc3RhdGUuZGVmYXVsdHMgPSBzdGF0ZS5kZWZhdWx0cyB8fCB7fTtcbiAgICBjb25zdCBkZXB0aCA9IHN0YXRlLmRlcHRoID0gc3RhdGUuZGVwdGggfHwgMDtcbiAgICBsZXQgbmVlZHNFdmFsID0gZmFsc2U7XG5cbiAgICBzdGF0ZS5leGNsdWRlZCA9IHN0YXRlLmV4Y2x1ZGVkIHx8IFtdO1xuXG4gICAgaWYgKGRlcHRoID4gTUFYX0VYUEFORF9ERVBUSCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmICghaW5BcnJheShwcm9wZXJ0eSwgc3RhdGUuZXhjbHVkZWQpICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSBvcHRpb25zW3Byb3BlcnR5XTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBuZWVkc0V2YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZHJ5UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbcHJvcGVydHldID0gdmFsdWVPckRlZmF1bHQocHJvcFZhbHVlKGNvbnRleHQpLCBkZWZhdWx0c1twcm9wZXJ0eV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocHJvcFZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghZHJ5UnVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmRlZmF1bHRzID0gZGVmYXVsdHNbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS5kZXB0aCsrO1xuICAgICAgICAgICAgICAgIG5lZWRzRXZhbCA9IGV2YWxPcHRpb25zKHByb3BWYWx1ZSwgY29udGV4dCwgc3RhdGUsIGRyeVJ1bikgfHwgbmVlZHNFdmFsO1xuICAgICAgICAgICAgICAgIHN0YXRlLmRlcHRoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmVlZHNFdmFsO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhdGVnb3JpZXNDb3VudChzZXJpZXMpIHtcbiAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllcy5sZW5ndGg7XG4gICAgbGV0IGNhdGVnb3JpZXMgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXNDb3VudDsgaSsrKSB7XG4gICAgICAgIGNhdGVnb3JpZXMgPSBNYXRoLm1heChjYXRlZ29yaWVzLCBzZXJpZXNbaV0uZGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBjYXRlZ29yaWVzO1xufSIsImltcG9ydCBFcnJvclJhbmdlQ2FsY3VsYXRvciBmcm9tICcuL2Vycm9yLWJhcnMvZXJyb3ItcmFuZ2UtY2FsY3VsYXRvcic7XG5pbXBvcnQgQ2F0ZWdvcmljYWxFcnJvckJhciBmcm9tICcuL2Vycm9yLWJhcnMvY2F0ZWdvcmljYWwtZXJyb3ItYmFyJztcblxuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuL3Nlcmllcy1iaW5kZXInO1xuaW1wb3J0IHsgRVJST1JfTE9XX0ZJRUxELCBFUlJPUl9ISUdIX0ZJRUxEIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgZXZhbE9wdGlvbnMgZnJvbSAnLi91dGlscy9ldmFsLW9wdGlvbnMnO1xuaW1wb3J0IGNhdGVnb3JpZXNDb3VudCBmcm9tICcuL3V0aWxzL2NhdGVnb3JpZXMtY291bnQnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBWQUxVRSwgU1RSSU5HLCBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29udmVydGFibGVUb051bWJlciwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgaXNOdW1iZXIsIGxhc3QsIHNldERlZmF1bHRPcHRpb25zLCBzcGFyc2VBcnJheUxpbWl0cyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIENhdGVnb3JpY2FsQ2hhcnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucGxvdEFyZWEgPSBwbG90QXJlYTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBwbG90QXJlYS5jaGFydFNlcnZpY2U7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlBeGlzID0gcGxvdEFyZWEuc2VyaWVzQ2F0ZWdvcnlBeGlzKG9wdGlvbnMuc2VyaWVzWzBdKTtcblxuICAgICAgICAvLyBWYWx1ZSBheGlzIHJhbmdlcyBncm91cGVkIGJ5IGF4aXMgbmFtZSwgZS5nLjpcbiAgICAgICAgLy8gcHJpbWFyeTogeyBtaW46IDAsIG1heDogMSB9XG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VzID0ge307XG5cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc1BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc09wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXZhbFNlcmllcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnRyYXZlcnNlRGF0YVBvaW50cyh0aGlzLmFkZFZhbHVlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMucG9pbnRUeXBlKCkucHJvdG90eXBlLmRlZmF1bHRzO1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XSA9IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHsgfSwgZGVmYXVsdHMsIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogIXRoaXMub3B0aW9ucy5pbnZlcnRBeGVzXG4gICAgICAgICAgICB9LCBzZXJpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgcGxvdFZhbHVlKHBvaW50KSB7XG4gICAgICAgIGlmICghcG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQxMDAgJiYgaXNOdW1iZXIocG9pbnQudmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUl4ID0gcG9pbnQuY2F0ZWdvcnlJeDtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XTtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyVmFsdWVzID0gW107XG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnlTdW0gPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBjYXRlZ29yeVBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBwb2ludC5zZXJpZXMuc3RhY2s7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyU3RhY2sgPSBvdGhlci5zZXJpZXMuc3RhY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChzdGFjayAmJiBvdGhlclN0YWNrKSAmJiBzdGFjay5ncm91cCAhPT0gb3RoZXJTdGFjay5ncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIob3RoZXIudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVN1bSArPSBNYXRoLmFicyhvdGhlci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlclZhbHVlcy5wdXNoKE1hdGguYWJzKG90aGVyLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjYXRlZ29yeVN1bSA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9pbnQudmFsdWUgLyBjYXRlZ29yeVN1bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludC52YWx1ZTtcbiAgICB9XG5cbiAgICBwbG90UmFuZ2UocG9pbnQsIHN0YXJ0VmFsdWUgPSAwKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50c1twb2ludC5jYXRlZ29yeUl4XTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgbGV0IHBsb3RWYWx1ZSA9IHRoaXMucGxvdFZhbHVlKHBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aXZlID0gcGxvdFZhbHVlID49IDA7XG4gICAgICAgICAgICBsZXQgcHJldlZhbHVlID0gc3RhcnRWYWx1ZTtcbiAgICAgICAgICAgIGxldCBpc1N0YWNrZWRCYXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyID0gY2F0ZWdvcnlQb2ludHNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgPT09IG90aGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gcG9pbnQuc2VyaWVzLnN0YWNrO1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyU3RhY2sgPSBvdGhlci5zZXJpZXMuc3RhY2s7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrICYmIG90aGVyU3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gU1RSSU5HICYmIHN0YWNrICE9PSBvdGhlclN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGFjay5ncm91cCAmJiBzdGFjay5ncm91cCAhPT0gb3RoZXJTdGFjay5ncm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclZhbHVlID0gdGhpcy5wbG90VmFsdWUob3RoZXIpO1xuICAgICAgICAgICAgICAgIGlmICgob3RoZXJWYWx1ZSA+PSAwICYmIHBvc2l0aXZlKSB8fFxuICAgICAgICAgICAgICAgICAgICAob3RoZXJWYWx1ZSA8IDAgJiYgIXBvc2l0aXZlKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VmFsdWUgKz0gb3RoZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcGxvdFZhbHVlICs9IG90aGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlzU3RhY2tlZEJhciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RWYWx1ZSA9IE1hdGgubWluKHBsb3RWYWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc1N0YWNrZWRCYXIpIHtcbiAgICAgICAgICAgICAgICBwcmV2VmFsdWUgLT0gc3RhcnRWYWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFsgcHJldlZhbHVlLCBwbG90VmFsdWUgXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHBvaW50LnNlcmllcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gdGhpcy5zZXJpZXNWYWx1ZUF4aXMoc2VyaWVzKTtcbiAgICAgICAgY29uc3QgYXhpc0Nyb3NzaW5nVmFsdWUgPSB0aGlzLmNhdGVnb3J5QXhpc0Nyb3NzaW5nVmFsdWUodmFsdWVBeGlzKTtcblxuICAgICAgICByZXR1cm4gWyBheGlzQ3Jvc3NpbmdWYWx1ZSwgY29udmVydGFibGVUb051bWJlcihwb2ludC52YWx1ZSkgPyBwb2ludC52YWx1ZSA6IGF4aXNDcm9zc2luZ1ZhbHVlIF07XG4gICAgfVxuXG4gICAgc3RhY2tMaW1pdHMoYXhpc05hbWUsIHN0YWNrTmFtZSkge1xuICAgICAgICBsZXQgbWluID0gTUFYX1ZBTFVFO1xuICAgICAgICBsZXQgbWF4ID0gTUlOX1ZBTFVFO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXRlZ29yeVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2ldO1xuICAgICAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBwSXggPSAwOyBwSXggPCBjYXRlZ29yeVBvaW50cy5sZW5ndGg7IHBJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjYXRlZ29yeVBvaW50c1twSXhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQuc2VyaWVzLnN0YWNrID09PSBzdGFja05hbWUgfHwgcG9pbnQuc2VyaWVzLmF4aXMgPT09IGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0byA9IHRoaXMucGxvdFJhbmdlKHBvaW50LCAwKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKHRvKSAmJiBpc0Zpbml0ZSh0bykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHRvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHRvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IG1pbjogbWluLCBtYXg6IG1heCB9O1xuICAgIH1cblxuICAgIHVwZGF0ZVN0YWNrUmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHsgaXNTdGFja2VkLCBzZXJpZXM6IGNoYXJ0U2VyaWVzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxpbWl0c0NhY2hlID0ge307XG5cbiAgICAgICAgaWYgKGlzU3RhY2tlZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydFNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmllcyA9IGNoYXJ0U2VyaWVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNOYW1lID0gc2VyaWVzLmF4aXM7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXhpc05hbWUgKyBzZXJpZXMuc3RhY2s7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGltaXRzID0gbGltaXRzQ2FjaGVba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbWl0cykge1xuICAgICAgICAgICAgICAgICAgICBsaW1pdHMgPSB0aGlzLnN0YWNrTGltaXRzKGF4aXNOYW1lLCBzZXJpZXMuc3RhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yVG90YWxzID0gdGhpcy5lcnJvclRvdGFscztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yVG90YWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JUb3RhbHMubmVnYXRpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzLm1pbiA9IE1hdGgubWluKGxpbWl0cy5taW4sIHNwYXJzZUFycmF5TGltaXRzKGVycm9yVG90YWxzLm5lZ2F0aXZlKS5taW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yVG90YWxzLnBvc2l0aXZlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0cy5tYXggPSBNYXRoLm1heChsaW1pdHMubWF4LCBzcGFyc2VBcnJheUxpbWl0cyhlcnJvclRvdGFscy5wb3NpdGl2ZSkubWF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW1pdHMubWluICE9PSBNQVhfVkFMVUUgfHwgbGltaXRzLm1heCAhPT0gTUlOX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdHNDYWNoZVtrZXldID0gbGltaXRzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsaW1pdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID0gbGltaXRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEVycm9yQmFyKHBvaW50LCBkYXRhLCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIHNlcmllcywgc2VyaWVzSXggfSA9IHBvaW50O1xuICAgICAgICBjb25zdCBlcnJvckJhcnMgPSBwb2ludC5vcHRpb25zLmVycm9yQmFycztcbiAgICAgICAgY29uc3QgbG93VmFsdWUgPSBkYXRhLmZpZWxkc1tFUlJPUl9MT1dfRklFTERdO1xuICAgICAgICBjb25zdCBoaWdoVmFsdWUgPSBkYXRhLmZpZWxkc1tFUlJPUl9ISUdIX0ZJRUxEXTtcbiAgICAgICAgbGV0IGVycm9yUmFuZ2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGxvd1ZhbHVlKSAmJiBpc051bWJlcihoaWdoVmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvclJhbmdlID0geyBsb3c6IGxvd1ZhbHVlLCBoaWdoOiBoaWdoVmFsdWUgfTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvckJhcnMgJiYgZGVmaW5lZChlcnJvckJhcnMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzID0gdGhpcy5zZXJpZXNFcnJvclJhbmdlcyB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbc2VyaWVzSXhdID0gdGhpcy5zZXJpZXNFcnJvclJhbmdlc1tzZXJpZXNJeF0gfHxcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3JSYW5nZUNhbGN1bGF0b3IoZXJyb3JCYXJzLnZhbHVlLCBzZXJpZXMsIFZBTFVFKTtcblxuICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbc2VyaWVzSXhdLmdldEVycm9yUmFuZ2UodmFsdWUsIGVycm9yQmFycy52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3JSYW5nZSkge1xuICAgICAgICAgICAgcG9pbnQubG93ID0gZXJyb3JSYW5nZS5sb3c7XG4gICAgICAgICAgICBwb2ludC5oaWdoID0gZXJyb3JSYW5nZS5oaWdoO1xuICAgICAgICAgICAgdGhpcy5hZGRQb2ludEVycm9yQmFyKHBvaW50LCBjYXRlZ29yeUl4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFBvaW50RXJyb3JCYXIocG9pbnQsIGNhdGVnb3J5SXgpIHtcbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9ICF0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHBvaW50Lm9wdGlvbnMuZXJyb3JCYXJzO1xuICAgICAgICBsZXQgeyBzZXJpZXMsIGxvdywgaGlnaCB9ID0gcG9pbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrZWRFcnJvclJhbmdlID0gdGhpcy5zdGFja2VkRXJyb3JSYW5nZShwb2ludCwgY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICBsb3cgPSBzdGFja2VkRXJyb3JSYW5nZS5sb3c7XG4gICAgICAgICAgICBoaWdoID0gc3RhY2tlZEVycm9yUmFuZ2UuaGlnaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkcyA9IHsgY2F0ZWdvcnlJeDogY2F0ZWdvcnlJeCwgc2VyaWVzOiBzZXJpZXMgfTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmFuZ2UoeyB2YWx1ZTogbG93IH0sIGZpZWxkcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHsgdmFsdWU6IGhpZ2ggfSwgZmllbGRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVycm9yQmFyID0gbmV3IENhdGVnb3JpY2FsRXJyb3JCYXIobG93LCBoaWdoLCBpc1ZlcnRpY2FsLCB0aGlzLCBzZXJpZXMsIG9wdGlvbnMpO1xuICAgICAgICBwb2ludC5lcnJvckJhcnMgPSBbIGVycm9yQmFyIF07XG4gICAgICAgIHBvaW50LmFwcGVuZChlcnJvckJhcik7XG4gICAgfVxuXG4gICAgc3RhY2tlZEVycm9yUmFuZ2UocG9pbnQsIGNhdGVnb3J5SXgpIHtcbiAgICAgICAgY29uc3QgcGxvdFZhbHVlID0gdGhpcy5wbG90UmFuZ2UocG9pbnQsIDApWzFdIC0gcG9pbnQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxvdyA9IHBvaW50LmxvdyArIHBsb3RWYWx1ZTtcbiAgICAgICAgY29uc3QgaGlnaCA9IHBvaW50LmhpZ2ggKyBwbG90VmFsdWU7XG5cbiAgICAgICAgdGhpcy5lcnJvclRvdGFscyA9IHRoaXMuZXJyb3JUb3RhbHMgfHwgeyBwb3NpdGl2ZTogW10sIG5lZ2F0aXZlOiBbXSB9O1xuXG4gICAgICAgIGlmIChsb3cgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yVG90YWxzLm5lZ2F0aXZlW2NhdGVnb3J5SXhdID0gTWF0aC5taW4odGhpcy5lcnJvclRvdGFscy5uZWdhdGl2ZVtjYXRlZ29yeUl4XSB8fCAwLCBsb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpZ2ggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yVG90YWxzLnBvc2l0aXZlW2NhdGVnb3J5SXhdID0gTWF0aC5tYXgodGhpcy5lcnJvclRvdGFscy5wb3NpdGl2ZVtjYXRlZ29yeUl4XSB8fCAwLCBoaWdoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGxvdzogbG93LCBoaWdoOiBoaWdoIH07XG4gICAgfVxuXG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuXG4gICAgICAgIGxldCBjYXRlZ29yeVBvaW50cyA9IHRoaXMuY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2F0ZWdvcnlQb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlQb2ludHNbY2F0ZWdvcnlJeF0gPSBjYXRlZ29yeVBvaW50cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFzZXJpZXNQb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzUG9pbnRzW3Nlcmllc0l4XSA9IHNlcmllc1BvaW50cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLmNyZWF0ZVBvaW50KGRhdGEsIGZpZWxkcyk7XG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwb2ludCwgZmllbGRzKTtcblxuICAgICAgICAgICAgcG9pbnQub3duZXIgPSB0aGlzO1xuICAgICAgICAgICAgcG9pbnQubm90ZVRleHQgPSBkYXRhLmZpZWxkcy5ub3RlVGV4dDtcbiAgICAgICAgICAgIGlmICghZGVmaW5lZChwb2ludC5kYXRhSXRlbSkpIHtcbiAgICAgICAgICAgICAgICBwb2ludC5kYXRhSXRlbSA9IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRFcnJvckJhcihwb2ludCwgZGF0YSwgY2F0ZWdvcnlJeCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgc2VyaWVzUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICBjYXRlZ29yeVBvaW50cy5wdXNoKHBvaW50KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKGRhdGEudmFsdWVGaWVsZHMsIGZpZWxkcyk7XG4gICAgfVxuXG4gICAgZXZhbFBvaW50T3B0aW9ucyhvcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJhZ2dyZWdhdGVcIiwgXCJfZXZlbnRzXCIsIFwidG9vbHRpcFwiLCBcImNvbnRlbnRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInZpc3VhbFwiLCBcInRvZ2dsZVwiLCBcIl9vdXRPZlJhbmdlTWluUG9pbnRcIiwgXCJfb3V0T2ZSYW5nZU1heFBvaW50XCIgXSB9O1xuXG4gICAgICAgIGxldCBkb0V2YWwgPSB0aGlzLl9ldmFsU2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKGRvRXZhbCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdID0gZG9FdmFsID0gZXZhbE9wdGlvbnMob3B0aW9ucywge30sIHN0YXRlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoZG9FdmFsKSB7XG4gICAgICAgICAgICBwb2ludE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBwb2ludE9wdGlvbnMpO1xuICAgICAgICAgICAgZXZhbE9wdGlvbnMocG9pbnRPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBpbmRleDogY2F0ZWdvcnlJeCxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogc2VyaWVzLmRhdGFbY2F0ZWdvcnlJeF1cbiAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludE9wdGlvbnM7XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWU7XG4gICAgICAgIGxldCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV07XG5cbiAgICAgICAgaWYgKGlzRmluaXRlKHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgICAgICBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIHZhbHVlKTtcbiAgICAgICAgICAgIGF4aXNSYW5nZS5tYXggPSBNYXRoLm1heChheGlzUmFuZ2UubWF4LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXJpZXNWYWx1ZUF4aXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBzZXJpZXMuYXhpcztcbiAgICAgICAgY29uc3QgYXhpcyA9IGF4aXNOYW1lID8gcGxvdEFyZWEubmFtZWRWYWx1ZUF4ZXNbYXhpc05hbWVdIDogcGxvdEFyZWEudmFsdWVBeGlzO1xuXG4gICAgICAgIGlmICghYXhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSB2YWx1ZSBheGlzIHdpdGggbmFtZSBcIiArIGF4aXNOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBheGlzO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlTbG90cyA9IHRoaXMuY2F0ZWdvcnlTbG90cyA9IFtdO1xuICAgICAgICBjb25zdCBjaGFydFBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLmNhdGVnb3J5QXhpcztcbiAgICAgICAgbGV0IHBvaW50SXggPSAwO1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKChkYXRhLCBmaWVsZHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgc2VyaWVzOiBjdXJyZW50U2VyaWVzIH0gPSBmaWVsZHM7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMuc2VyaWVzVmFsdWVBeGlzKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjaGFydFBvaW50c1twb2ludEl4KytdO1xuXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnlTbG90ID0gY2F0ZWdvcnlTbG90c1tjYXRlZ29yeUl4XTtcbiAgICAgICAgICAgIGlmICghY2F0ZWdvcnlTbG90KSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlTbG90c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5U2xvdCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTbG90KGNhdGVnb3J5QXhpcywgY2F0ZWdvcnlJeCwgdmFsdWVBeGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxvdFJhbmdlID0gdGhpcy5wbG90UmFuZ2UocG9pbnQsIHZhbHVlQXhpcy5zdGFydFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlU2xvdCA9IHRoaXMudmFsdWVTbG90KHZhbHVlQXhpcywgcGxvdFJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVTbG90KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50U2xvdCA9IHRoaXMucG9pbnRTbG90KGNhdGVnb3J5U2xvdCwgdmFsdWVTbG90KTtcblxuICAgICAgICAgICAgICAgICAgICBwb2ludC5hYm92ZUF4aXMgPSB0aGlzLmFib3ZlQXhpcyhwb2ludCwgdmFsdWVBeGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQuc3RhY2tWYWx1ZSA9IHBsb3RSYW5nZVsxXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlzU3RhY2tlZDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQucGVyY2VudGFnZSA9IHRoaXMucGxvdFZhbHVlKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmbG93UG9pbnQocG9pbnQsIHBvaW50U2xvdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZWZsb3dDYXRlZ29yaWVzKGNhdGVnb3J5U2xvdHMpO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jbGlwICYmIHRoaXMub3B0aW9ucy5saW1pdFBvaW50cyAmJiB0aGlzLnBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubGltaXRQb2ludHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94O1xuICAgIH1cblxuICAgIHZhbHVlU2xvdCh2YWx1ZUF4aXMsIHBsb3RSYW5nZSkge1xuICAgICAgICByZXR1cm4gdmFsdWVBeGlzLmdldFNsb3QocGxvdFJhbmdlWzBdLCBwbG90UmFuZ2VbMV0sICF0aGlzLm9wdGlvbnMuY2xpcCk7XG4gICAgfVxuXG4gICAgbGltaXRQb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5UG9pbnRzID0gdGhpcy5jYXRlZ29yeVBvaW50cztcbiAgICAgICAgY29uc3QgcG9pbnRzID0gY2F0ZWdvcnlQb2ludHNbMF0uY29uY2F0KGxhc3QoY2F0ZWdvcnlQb2ludHMpKTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbaWR4XSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGltaXRQb2ludChwb2ludHNbaWR4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaW1pdFBvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGxpbWl0dGVkU2xvdCA9IHRoaXMuY2F0ZWdvcnlBeGlzLmxpbWl0U2xvdChwb2ludC5ib3gpO1xuICAgICAgICBpZiAoIWxpbWl0dGVkU2xvdC5lcXVhbHMocG9pbnQuYm94KSkge1xuICAgICAgICAgICAgcG9pbnQucmVmbG93KGxpbWl0dGVkU2xvdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYm92ZUF4aXMocG9pbnQsIHZhbHVlQXhpcykge1xuICAgICAgICBjb25zdCBheGlzQ3Jvc3NpbmdWYWx1ZSA9IHRoaXMuY2F0ZWdvcnlBeGlzQ3Jvc3NpbmdWYWx1ZSh2YWx1ZUF4aXMpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZUF4aXMub3B0aW9ucy5yZXZlcnNlID9cbiAgICAgICAgICAgIHZhbHVlIDwgYXhpc0Nyb3NzaW5nVmFsdWUgOiB2YWx1ZSA+PSBheGlzQ3Jvc3NpbmdWYWx1ZTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcykge1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHZhbHVlQXhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlcyA9IFtdLmNvbmNhdChcbiAgICAgICAgICAgIG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVzIHx8IG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gY3Jvc3NpbmdWYWx1ZXNbY2F0ZWdvcnlBeGlzLmF4aXNJbmRleCB8fCAwXSB8fCAwO1xuICAgIH1cblxuICAgIHJlZmxvd1BvaW50KHBvaW50LCBwb2ludFNsb3QpIHtcbiAgICAgICAgcG9pbnQucmVmbG93KHBvaW50U2xvdCk7XG4gICAgfVxuXG4gICAgcmVmbG93Q2F0ZWdvcmllcygpIHsgfVxuXG4gICAgcG9pbnRTbG90KGNhdGVnb3J5U2xvdCwgdmFsdWVTbG90KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSBvcHRpb25zLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IHNsb3RYID0gaW52ZXJ0QXhlcyA/IHZhbHVlU2xvdCA6IGNhdGVnb3J5U2xvdDtcbiAgICAgICAgY29uc3Qgc2xvdFkgPSBpbnZlcnRBeGVzID8gY2F0ZWdvcnlTbG90IDogdmFsdWVTbG90O1xuXG4gICAgICAgIHJldHVybiBuZXcgQm94KHNsb3RYLngxLCBzbG90WS55MSwgc2xvdFgueDIsIHNsb3RZLnkyKTtcbiAgICB9XG5cbiAgICBjYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4KSB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeUF4aXMuZ2V0U2xvdChjYXRlZ29yeUl4KTtcbiAgICB9XG5cbiAgICB0cmF2ZXJzZURhdGFQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3QgY291bnQgPSBjYXRlZ29yaWVzQ291bnQoc2VyaWVzKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzQ291bnQgPSBzZXJpZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNDb3VudDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgdGhpcy5fb3V0T2ZSYW5nZUNhbGxiYWNrKHNlcmllc1tzZXJpZXNJeF0sIFwiX291dE9mUmFuZ2VNaW5Qb2ludFwiLCBzZXJpZXNJeCwgY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlJeCA9IDA7IGNhdGVnb3J5SXggPCBjb3VudDsgY2F0ZWdvcnlJeCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzQ291bnQ7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5QXhpcy5jYXRlZ29yeUF0KGNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMuX2JpbmRQb2ludChjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgY2F0ZWdvcnlJeCk7XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwb2ludERhdGEsIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGN1cnJlbnRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJeDogY2F0ZWdvcnlJeCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNJeDogc2VyaWVzSXhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNDb3VudDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgdGhpcy5fb3V0T2ZSYW5nZUNhbGxiYWNrKHNlcmllc1tzZXJpZXNJeF0sIFwiX291dE9mUmFuZ2VNYXhQb2ludFwiLCBzZXJpZXNJeCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX291dE9mUmFuZ2VDYWxsYmFjayhzZXJpZXMsIGZpZWxkLCBzZXJpZXNJeCwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgb3V0T2ZSYW5nZVBvaW50ID0gc2VyaWVzW2ZpZWxkXTtcbiAgICAgICAgaWYgKG91dE9mUmFuZ2VQb2ludCkge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlJeCA9IG91dE9mUmFuZ2VQb2ludC5jYXRlZ29yeUl4O1xuICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5fYmluZFBvaW50KHNlcmllcywgc2VyaWVzSXgsIGNhdGVnb3J5SXgsIG91dE9mUmFuZ2VQb2ludC5pdGVtKTtcblxuICAgICAgICAgICAgY2FsbGJhY2socG9pbnREYXRhLCB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IG91dE9mUmFuZ2VQb2ludC5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogb3V0T2ZSYW5nZVBvaW50Lml0ZW1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2JpbmRQb2ludChzZXJpZXMsIHNlcmllc0l4LCBjYXRlZ29yeUl4LCBpdGVtKSB7XG4gICAgICAgIGlmICghdGhpcy5fYmluZENhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9iaW5kQ2FjaGUgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBiaW5kQ2FjaGUgPSB0aGlzLl9iaW5kQ2FjaGVbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIWJpbmRDYWNoZSkge1xuICAgICAgICAgICAgYmluZENhY2hlID0gdGhpcy5fYmluZENhY2hlW3Nlcmllc0l4XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRhdGEgPSBiaW5kQ2FjaGVbY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IGJpbmRDYWNoZVtjYXRlZ29yeUl4XSA9IFNlcmllc0JpbmRlci5jdXJyZW50LmJpbmRQb2ludChzZXJpZXMsIGNhdGVnb3J5SXgsIGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGlmIChwb2ludC52YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZSk7XG4gICAgfVxuXG4gICAgcG9pbnRWYWx1ZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnZhbHVlRmllbGRzLnZhbHVlO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2F0ZWdvcmljYWxDaGFydCwge1xuICAgIHNlcmllczogW10sXG4gICAgaW52ZXJ0QXhlczogZmFsc2UsXG4gICAgaXNTdGFja2VkOiBmYWxzZSxcbiAgICBjbGlwOiB0cnVlLFxuICAgIGxpbWl0UG9pbnRzOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmljYWxDaGFydDsiLCJpbXBvcnQgeyBTRVJJRVNfQ0xJQ0ssIFNFUklFU19IT1ZFUiwgU0VSSUVTX0xFQVZFLCBTRVJJRVNfT1ZFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBldmVudEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBQb2ludEV2ZW50c01peGluID0ge1xuICAgIGNsaWNrOiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19DTElDSyxcbiAgICAgICAgICAgIHRoaXMuZXZlbnRBcmdzKGUpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIGhvdmVyOiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICByZXR1cm4gY2hhcnQudHJpZ2dlcihcbiAgICAgICAgICAgIFNFUklFU19IT1ZFUixcbiAgICAgICAgICAgIHRoaXMuZXZlbnRBcmdzKGUpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIG92ZXI6IGZ1bmN0aW9uKGNoYXJ0LCBlKSB7XG4gICAgICAgIHJldHVybiBjaGFydC50cmlnZ2VyKFxuICAgICAgICAgICAgU0VSSUVTX09WRVIsXG4gICAgICAgICAgICB0aGlzLmV2ZW50QXJncyhlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICBvdXQ6IGZ1bmN0aW9uKGNoYXJ0LCBlKSB7XG4gICAgICAgIHJldHVybiBjaGFydC50cmlnZ2VyKFxuICAgICAgICAgICAgU0VSSUVTX0xFQVZFLFxuICAgICAgICAgICAgdGhpcy5ldmVudEFyZ3MoZSlcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgZXZlbnRBcmdzOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLmNhdGVnb3J5LFxuICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgcnVubmluZ1RvdGFsOiB0aGlzLnJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgIHRvdGFsOiB0aGlzLnRvdGFsLFxuICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgIHBvaW50OiB0aGlzXG4gICAgICAgIH07XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRFdmVudHNNaXhpbjsiLCJpbXBvcnQgeyBOb3RlIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgTm90ZU1peGluID0ge1xuICAgIGNyZWF0ZU5vdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLm5vdGVzO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5ub3RlVGV4dCB8fCBvcHRpb25zLmxhYmVsLnRleHQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2UgJiYgZGVmaW5lZCh0ZXh0KSAmJiB0ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUgPSBuZXcgTm90ZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMubm90ZXMsIHRoaXMub3duZXIuY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5ub3RlKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGVNaXhpbjsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBUZXh0Qm94LCBTaGFwZUVsZW1lbnQsIEJveCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgTm90ZU1peGluIGZyb20gJy4uL21peGlucy9ub3RlLW1peGluJztcbmltcG9ydCB7IExJTkVfTUFSS0VSX1NJWkUsIEZBREVJTiwgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIEJPUkRFUl9CUklHSFRORVNTLCBUT09MVElQX09GRlNFVCwgQUJPVkUsIEJFTE9XIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgV0hJVEUsIENJUkNMRSwgQ0VOVEVSLCBUT1AsIEJPVFRPTSwgTEVGVCwgSElHSExJR0hUX1pJTkRFWCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0VGVtcGxhdGUsIHZhbHVlT3JEZWZhdWx0LCBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgTGluZVBvaW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hYm92ZUF4aXMgPSB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMuYWJvdmVBeGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy50b29sdGlwVHJhY2tpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBtYXJrZXJzLCBsYWJlbHMgfSA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAobWFya2Vycy52aXNpYmxlICYmIG1hcmtlcnMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSB0aGlzLmNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5tYXJrZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhKCk7XG4gICAgICAgICAgICBsZXQgbGFiZWxUZXh0ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIGlmIChsYWJlbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYWJlbHMuZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShsYWJlbHMuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVGV4dEJveChsYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgICAgICAgICAgICAgIHZBbGlnbjogQ0VOVEVSLFxuICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogNVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IHZhbHVlT3JEZWZhdWx0KGxhYmVscy56SW5kZXgsIHRoaXMuc2VyaWVzLnpJbmRleClcbiAgICAgICAgICAgICAgICB9LCBsYWJlbHMpLFxuICAgICAgICAgICAgICAgIHBvaW50RGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVOb3RlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3JCYXIpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuZXJyb3JCYXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFya2VyQm9yZGVyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBvcHRpb25zLmJhY2tncm91bmQ7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGRlZXBFeHRlbmQoeyBjb2xvcjogdGhpcy5jb2xvciB9LCBvcHRpb25zLmJvcmRlcik7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKGJvcmRlci5jb2xvcikpIHtcbiAgICAgICAgICAgIGJvcmRlci5jb2xvciA9IG5ldyBDb2xvcihiYWNrZ3JvdW5kKS5icmlnaHRuZXNzKEJPUkRFUl9CUklHSFRORVNTKS50b0hleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvcmRlcjtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxuXG4gICAgY3JlYXRlTWFya2VyKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBTaGFwZUVsZW1lbnQoe1xuICAgICAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5zaXplLFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICBib3JkZXI6IHRoaXMubWFya2VyQm9yZGVyKCksXG4gICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICB6SW5kZXg6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuekluZGV4LCB0aGlzLnNlcmllcy56SW5kZXgpLFxuICAgICAgICAgICAgYW5pbWF0aW9uOiBvcHRpb25zLmFuaW1hdGlvbixcbiAgICAgICAgICAgIHZpc3VhbDogb3B0aW9ucy52aXN1YWxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMsXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cblxuICAgIG1hcmtlckJveCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hcmtlcikge1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIgPSB0aGlzLmNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5tYXJrZXIucmVmbG93KHRoaXMuX2NoaWxkQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtlci5ib3g7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGFib3ZlQXhpcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3g7XG4gICAgICAgIGNvbnN0IGNoaWxkQm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRCb3gueTEgLT0gY2hpbGRCb3guaGVpZ2h0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LnkyICs9IGNoaWxkQm94LmhlaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LngxICs9IGNoaWxkQm94LndpZHRoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LngyIC09IGNoaWxkQm94LndpZHRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jaGlsZEJveCA9IGNoaWxkQm94O1xuICAgICAgICBpZiAodGhpcy5tYXJrZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWFya2VyLnJlZmxvdyhjaGlsZEJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd0xhYmVsKGNoaWxkQm94KTtcblxuICAgICAgICBpZiAodGhpcy5lcnJvckJhcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lcnJvckJhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yQmFyc1tpXS5yZWZsb3coY2hpbGRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgbGV0IG5vdGVUYXJnZXRCb3ggPSB0aGlzLm1hcmtlckJveCgpO1xuXG4gICAgICAgICAgICBpZiAoIShvcHRpb25zLm1hcmtlcnMudmlzaWJsZSAmJiBvcHRpb25zLm1hcmtlcnMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBub3RlVGFyZ2V0Qm94LmNlbnRlcigpO1xuICAgICAgICAgICAgICAgIG5vdGVUYXJnZXRCb3ggPSBuZXcgQm94KGNlbnRlci54LCBjZW50ZXIueSwgY2VudGVyLngsIGNlbnRlci55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyhub3RlVGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd0xhYmVsKGJveCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBsZXQgYW5jaG9yID0gb3B0aW9ucy5sYWJlbHMucG9zaXRpb247XG5cbiAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBhbmNob3IgPT09IEFCT1ZFID8gVE9QIDogYW5jaG9yO1xuICAgICAgICAgICAgYW5jaG9yID0gYW5jaG9yID09PSBCRUxPVyA/IEJPVFRPTSA6IGFuY2hvcjtcblxuICAgICAgICAgICAgbGFiZWwucmVmbG93KGJveCk7XG4gICAgICAgICAgICBsYWJlbC5ib3guYWxpZ25Ubyh0aGlzLm1hcmtlckJveCgpLCBhbmNob3IpO1xuICAgICAgICAgICAgbGFiZWwucmVmbG93KGxhYmVsLmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Lm1hcmtlcnM7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IHRoaXMubWFya2VyQm9yZGVyKCkuY29sb3I7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubWFya2VycztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2l6ZSArIChvcHRpb25zLmJvcmRlci53aWR0aCB8fCAwKSArIChtYXJrZXJzLmJvcmRlci53aWR0aCB8fCAwKTtcblxuICAgICAgICBjb25zdCBzaGFkb3cgPSBuZXcgU2hhcGVFbGVtZW50KHtcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZSxcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb24sXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBtYXJrZXJzLmNvbG9yIHx8IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJzLmJvcmRlci5jb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogbWFya2Vycy5ib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQobWFya2Vycy5ib3JkZXIub3BhY2l0eSwgMSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChtYXJrZXJzLm9wYWNpdHksIDEpXG4gICAgICAgIH0pO1xuICAgICAgICBzaGFkb3cucmVmbG93KHRoaXMuX2NoaWxkQm94KTtcblxuICAgICAgICByZXR1cm4gc2hhZG93LmdldEVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tYXJrZXIgfHwge30pLnZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICBjb25zdCBtYXJrZXIgPSB0aGlzLm1hcmtlcjtcbiAgICAgICAgbGV0IHZpc3VhbCwgcmVjdDtcblxuICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICByZWN0ID0gbWFya2VyLnBhZGRpbmdCb3gudG9SZWN0KCk7XG4gICAgICAgICAgICB2aXN1YWwgPSBtYXJrZXIudmlzdWFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMub3B0aW9ucy5tYXJrZXJzLnNpemU7XG4gICAgICAgICAgICBjb25zdCBoYWxmU2l6ZSA9IHNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgICAgICByZWN0ID0gbmV3IGdlb20uUmVjdChbIGNlbnRlci54IC0gaGFsZlNpemUsIGNlbnRlci55IC0gaGFsZlNpemUgXSwgWyBzaXplLCBzaXplIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlY3Q6IHJlY3QsXG4gICAgICAgICAgICB2aXN1YWw6IHZpc3VhbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IG1hcmtlckJveCA9IHRoaXMubWFya2VyQm94KCk7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpO1xuICAgICAgICBjb25zdCBzaG93VG9vbHRpcCA9ICFjbGlwQm94IHx8IGNsaXBCb3gub3ZlcmxhcHMobWFya2VyQm94KTtcblxuICAgICAgICBpZiAoc2hvd1Rvb2x0aXApIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBtYXJrZXJCb3gueDIgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgICAgICBsZXQgeSwgdmVydGljYWxBbGlnbjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgeSA9IG1hcmtlckJveC55MTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ID0gbWFya2VyQm94LnkyO1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBUT1A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsQWxpZ24sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgb3ZlcmxhcHNCb3goYm94KSB7XG4gICAgICAgIGNvbnN0IG1hcmtlckJveCA9IHRoaXMubWFya2VyQm94KCk7XG4gICAgICAgIHJldHVybiBtYXJrZXJCb3gub3ZlcmxhcHMoYm94KTtcbiAgICB9XG5cbiAgICB1bmNsaXBFbGVtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLm9wdGlvbnMubm9jbGlwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbkxpbmVQb2ludC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgbWFya2Vyczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBiYWNrZ3JvdW5kOiBXSElURSxcbiAgICAgICAgc2l6ZTogTElORV9NQVJLRVJfU0laRSxcbiAgICAgICAgdHlwZTogQ0lSQ0xFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH0sXG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgcG9zaXRpb246IEFCT1ZFLFxuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNCksXG4gICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB6SW5kZXg6IEhJR0hMSUdIVF9aSU5ERVhcbiAgICB9LFxuICAgIGVycm9yQmFyczoge1xuICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZGVlcEV4dGVuZChMaW5lUG9pbnQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcbmRlZXBFeHRlbmQoTGluZVBvaW50LnByb3RvdHlwZSwgTm90ZU1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZVBvaW50O1xuIiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgZGVmaW5lZCwgaXNGdW5jdGlvbiwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMaW5lU2VnbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IobGluZVBvaW50cywgc2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGluZVBvaW50cyA9IGxpbmVQb2ludHM7XG4gICAgICAgIHRoaXMuc2VyaWVzID0gc2VyaWVzO1xuICAgICAgICB0aGlzLnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgfVxuXG4gICAgcG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMubGluZVBvaW50cyk7XG4gICAgfVxuXG4gICAgdG9HZW9tZXRyeVBvaW50cyhwb2ludHMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbaV0gJiYgcG9pbnRzW2ldLnZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocG9pbnRzW2ldLl9jaGlsZEJveC50b1JlY3QoKS5jZW50ZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gdGhpcy5zZXJpZXMudmlzdWFsO1xuICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgcG9pbnRzOiB0aGlzLnRvR2VvbWV0cnlQb2ludHModGhpcy5saW5lUG9pbnRzKSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50VmlzdWFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzdWFsICYmICFkZWZpbmVkKHRoaXMudmlzdWFsLm9wdGlvbnMuekluZGV4KSkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsLm9wdGlvbnMuekluZGV4ID0gdGhpcy5zZXJpZXMuekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50VmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWdtZW50VmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHNlcmllcyB9ID0gdGhpcztcbiAgICAgICAgbGV0IHsgY29sb3IsIF9kZWZhdWx0czogZGVmYXVsdHMgfSA9IHNlcmllcztcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjb2xvcikgJiYgZGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGNvbG9yID0gZGVmYXVsdHMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5wb2ludHMoKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBzZXJpZXMud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IHNlcmllcy5kYXNoVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogc2VyaWVzLnpJbmRleFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jbG9zZWQpIHtcbiAgICAgICAgICAgIGxpbmUuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsID0gbGluZTtcbiAgICB9XG5cbiAgICBhbGlhc0ZvcihlLCBjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmdldE5lYXJlc3RQb2ludChjb29yZHMueCwgY29vcmRzLnksIHRoaXMuc2VyaWVzSXgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoTGluZVNlZ21lbnQsIHtcbiAgICBjbG9zZWQ6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgbGFzdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFN0ZXBMaW5lTWl4aW4gPSB7XG4gICAgY2FsY3VsYXRlU3RlcFBvaW50czogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMucGFyZW50LnBsb3RBcmVhLnNlcmllc0NhdGVnb3J5QXhpcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IHsganVzdGlmaWVkLCB2ZXJ0aWNhbCwgcmV2ZXJzZSB9ID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3Qgc3RlcEF4aXMgPSB2ZXJ0aWNhbCA/IFggOiBZO1xuICAgICAgICBjb25zdCBheGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3Qgc3RlcERpciA9IHJldmVyc2UgPyAyIDogMTtcbiAgICAgICAgY29uc3QgZGlyID0gc3RlcERpcjtcblxuICAgICAgICBsZXQgcHJldmlvdXNQb2ludCA9IHRvR2VvbWV0cnlQb2ludChwb2ludHNbMF0sIHN0ZXBBeGlzLCBzdGVwRGlyLCBheGlzLCBkaXIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbIHByZXZpb3VzUG9pbnQgXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAxOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0b0dlb21ldHJ5UG9pbnQocG9pbnRzW2lkeF0sIHN0ZXBBeGlzLCBzdGVwRGlyLCBheGlzLCBkaXIpO1xuXG4gICAgICAgICAgICBpZiAocHJldmlvdXNQb2ludFtzdGVwQXhpc10gIT09IHBvaW50W3N0ZXBBeGlzXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBQb2ludCA9IG5ldyBnZW9tLlBvaW50KCk7XG4gICAgICAgICAgICAgICAgc3RlcFBvaW50W3N0ZXBBeGlzXSA9IHByZXZpb3VzUG9pbnRbc3RlcEF4aXNdO1xuICAgICAgICAgICAgICAgIHN0ZXBQb2ludFtheGlzXSA9IHBvaW50W2F4aXNdO1xuXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3RlcFBvaW50LCBwb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByZXZpb3VzUG9pbnQgPSBwb2ludDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghanVzdGlmaWVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0b0dlb21ldHJ5UG9pbnQobGFzdChwb2ludHMpLCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgcmV2ZXJzZSA/IDEgOiAyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNQb2ludCAhPT0gbGFzdChyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwcmV2aW91c1BvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9XG59O1xuXG5mdW5jdGlvbiB0b0dlb21ldHJ5UG9pbnQobGludFBvaW50LCBzdGVwQXhpcywgc3RlcERpciwgYXhpcywgZGlyKSB7XG4gICAgY29uc3QgYm94ID0gbGludFBvaW50LmJveDtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgZ2VvbS5Qb2ludCgpO1xuXG4gICAgcmVzdWx0W3N0ZXBBeGlzXSA9IGJveFtzdGVwQXhpcyArIHN0ZXBEaXJdO1xuICAgIHJlc3VsdFtheGlzXSA9IGJveFtheGlzICsgZGlyXTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBMaW5lTWl4aW47IiwiaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4vbGluZS1zZWdtZW50JztcbmltcG9ydCBTdGVwTGluZU1peGluIGZyb20gJy4vc3RlcC1saW5lLW1peGluJztcbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGVwTGluZVNlZ21lbnQgZXh0ZW5kcyBMaW5lU2VnbWVudCB7XG4gICAgcG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVTdGVwUG9pbnRzKHRoaXMubGluZVBvaW50cyk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFN0ZXBMaW5lU2VnbWVudC5wcm90b3R5cGUsIFN0ZXBMaW5lTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBTdGVwTGluZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBDdXJ2ZVByb2Nlc3NvciB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU3BsaW5lU2VnbWVudCBleHRlbmRzIExpbmVTZWdtZW50IHtcbiAgICBzZWdtZW50VmlzdWFsKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBzZXJpZXMuX2RlZmF1bHRzO1xuICAgICAgICBsZXQgY29sb3IgPSBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VydmVQcm9jZXNzb3IgPSBuZXcgQ3VydmVQcm9jZXNzb3IodGhpcy5vcHRpb25zLmNsb3NlZCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gY3VydmVQcm9jZXNzb3IucHJvY2Vzcyh0aGlzLnBvaW50cygpKTtcbiAgICAgICAgY29uc3QgY3VydmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogc2VyaWVzLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNlcmllcy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBzZXJpZXMuZGFzaFR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB6SW5kZXg6IHNlcmllcy56SW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY3VydmUuc2VnbWVudHMucHVzaC5hcHBseShjdXJ2ZS5zZWdtZW50cywgc2VnbWVudHMpO1xuXG4gICAgICAgIHRoaXMudmlzdWFsID0gY3VydmU7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVTZWdtZW50OyIsImltcG9ydCB7IFpFUk8sIElOVEVSUE9MQVRFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IExpbmVDaGFydE1peGluID0ge1xuICAgIHJlbmRlclNlZ21lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzZXJpZXNQb2ludHMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllc1BvaW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBsYXN0U2VnbWVudDtcblxuICAgICAgICB0aGlzLl9zZWdtZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNDb3VudDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBzb3J0ZWRQb2ludHMgPSB0aGlzLnNvcnRQb2ludHMoc2VyaWVzUG9pbnRzW3Nlcmllc0l4XSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludENvdW50ID0gc29ydGVkUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBsaW5lUG9pbnRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgcG9pbnRDb3VudDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBzb3J0ZWRQb2ludHNbcG9pbnRJeF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoY3VycmVudFNlcmllcykgIT09IElOVEVSUE9MQVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lUG9pbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50ID0gdGhpcy5jcmVhdGVTZWdtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBsYXN0U2VnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFNlZ21lbnQobGFzdFNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsaW5lUG9pbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsYXN0U2VnbWVudCA9IHRoaXMuY3JlYXRlU2VnbWVudChcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIGxhc3RTZWdtZW50XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRTZWdtZW50KGxhc3RTZWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4udW5zaGlmdC5hcHBseSh0aGlzLmNoaWxkcmVuLCB0aGlzLl9zZWdtZW50cyk7XG4gICAgfSxcblxuICAgIF9hZGRTZWdtZW50OiBmdW5jdGlvbihzZWdtZW50KSB7XG4gICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHNlZ21lbnQucGFyZW50ID0gdGhpcztcbiAgICB9LFxuXG4gICAgc29ydFBvaW50czogZnVuY3Rpb24ocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfSxcblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXM6IGZ1bmN0aW9uKHNlcmllcykge1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gc2VyaWVzLm1pc3NpbmdWYWx1ZXM7XG4gICAgICAgIGNvbnN0IGFzc3VtZVplcm8gPSAhbWlzc2luZ1ZhbHVlcyAmJiB0aGlzLm9wdGlvbnMuaXNTdGFja2VkO1xuXG4gICAgICAgIHJldHVybiBhc3N1bWVaZXJvID8gWkVSTyA6IG1pc3NpbmdWYWx1ZXMgfHwgSU5URVJQT0xBVEU7XG4gICAgfSxcblxuICAgIGdldE5lYXJlc3RQb2ludDogZnVuY3Rpb24oeCwgeSwgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbmV3IFBvaW50KHgsIHkpO1xuICAgICAgICBjb25zdCBhbGxQb2ludHMgPSB0aGlzLnNlcmllc1BvaW50c1tzZXJpZXNJeF07XG4gICAgICAgIGxldCBuZWFyZXN0UG9pbnREaXN0YW5jZSA9IE1BWF9WQUxVRTtcbiAgICAgICAgbGV0IG5lYXJlc3RQb2ludDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBhbGxQb2ludHNbaV07XG5cbiAgICAgICAgICAgIGlmIChwb2ludCAmJiBkZWZpbmVkKHBvaW50LnZhbHVlKSAmJiBwb2ludC52YWx1ZSAhPT0gbnVsbCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50Qm94ID0gcG9pbnQuYm94O1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50RGlzdGFuY2UgPSBwb2ludEJveC5jZW50ZXIoKS5kaXN0YW5jZVRvKHRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnREaXN0YW5jZSA8IG5lYXJlc3RQb2ludERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgICAgICAgICBuZWFyZXN0UG9pbnREaXN0YW5jZSA9IHBvaW50RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5lYXJlc3RQb2ludDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lQ2hhcnRNaXhpbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDbGlwQW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLl9zZXRFbmQodGhpcy5vcHRpb25zLmJveC54MSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5vcHRpb25zLmJveDtcbiAgICAgICAgdGhpcy5fc2V0RW5kKGludGVycG9sYXRlVmFsdWUoYm94LngxLCBib3gueDIsIHBvcykpO1xuICAgIH1cblxuICAgIF9zZXRFbmQoeCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IGVsZW1lbnQuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IHRvcFJpZ2h0ID0gc2VnbWVudHNbMV0uYW5jaG9yKCk7XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gc2VnbWVudHNbMl0uYW5jaG9yKCk7XG5cbiAgICAgICAgZWxlbWVudC5zdXNwZW5kKCk7XG4gICAgICAgIHRvcFJpZ2h0LnNldFgoeCk7XG4gICAgICAgIGVsZW1lbnQucmVzdW1lKCk7XG4gICAgICAgIGJvdHRvbVJpZ2h0LnNldFgoeCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDbGlwQW5pbWF0aW9uLCB7XG4gICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG59KTtcblxuZHJhdy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoXCJjbGlwXCIsIENsaXBBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBDbGlwQW5pbWF0aW9uOyIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbnlIYXNaSW5kZXgoZWxlbWVudHMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKGVsZW1lbnRzW2lkeF0uekluZGV4KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2xpcEFuaW1hdGlvbiBmcm9tICcuLi9hbmltYXRpb25zL2NsaXAtYW5pbWF0aW9uJztcbmltcG9ydCBhbnlIYXNaSW5kZXggZnJvbSAnLi4vdXRpbHMvYW55LWhhcy16LWluZGV4JztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBDbGlwQW5pbWF0aW9uTWl4aW4gPSB7XG4gICAgY3JlYXRlQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0Um9vdCgpO1xuICAgICAgICBpZiAocm9vdCAmJiAocm9vdC5vcHRpb25zIHx8IHt9KS50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHJvb3Quc2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2xpcFBhdGggPSBkcmF3LlBhdGguZnJvbVJlY3QoYm94LnRvUmVjdCgpKTtcbiAgICAgICAgICAgIHRoaXMudmlzdWFsLmNsaXAoY2xpcFBhdGgpO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQ2xpcEFuaW1hdGlvbihjbGlwUGF0aCwge1xuICAgICAgICAgICAgICAgIGJveDogYm94XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhbnlIYXNaSW5kZXgodGhpcy5vcHRpb25zLnNlcmllcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDaGlsZHJlbkFuaW1hdGlvbihjbGlwUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldENoaWxkcmVuQW5pbWF0aW9uOiBmdW5jdGlvbihjbGlwUGF0aCkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmFuaW1hdGlvblBvaW50cygpO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgaWYgKHBvaW50ICYmIHBvaW50LnZpc3VhbCAmJiBkZWZpbmVkKHBvaW50LnZpc3VhbC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwb2ludC52aXN1YWwuY2xpcChjbGlwUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDbGlwQW5pbWF0aW9uTWl4aW47IiwiaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IExpbmVQb2ludCBmcm9tICcuL2xpbmUtcG9pbnQnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4vbGluZS1zZWdtZW50JztcbmltcG9ydCBTdGVwTGluZVNlZ21lbnQgZnJvbSAnLi9zdGVwLWxpbmUtc2VnbWVudCc7XG5pbXBvcnQgU3BsaW5lU2VnbWVudCBmcm9tICcuL3NwbGluZS1zZWdtZW50JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgQ2xpcEFuaW1hdGlvbk1peGluIGZyb20gJy4uL21peGlucy9jbGlwLWFuaW1hdGlvbi1taXhpbic7XG5cbmltcG9ydCB7IFpFUk8sIFNNT09USCwgU1RFUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMaW5lQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdGFja1JhbmdlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBMaW5lUG9pbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgbWlzc2luZ1ZhbHVlcyA9IHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpO1xuICAgICAgICBsZXQgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzLnZhbHVlO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh2YWx1ZSkgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChtaXNzaW5nVmFsdWVzID09PSBaRVJPKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgTGluZVBvaW50KHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKHBvaW50KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50KSB7XG4gICAgICAgIGxldCBwbG90VmFsdWUgPSB0aGlzLnBsb3RWYWx1ZShwb2ludCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SXggPSBwb2ludC5jYXRlZ29yeUl4O1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBjYXRlZ29yeVBvaW50c1tpXTtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludCA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGxvdFZhbHVlICs9IHRoaXMucGxvdFZhbHVlKG90aGVyKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNTdGFja2VkMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsb3RWYWx1ZSA9IE1hdGgubWluKHBsb3RWYWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBwbG90VmFsdWUsIHBsb3RWYWx1ZSBdO1xuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBjdXJyZW50U2VyaWVzLnN0eWxlO1xuICAgICAgICBsZXQgcG9pbnRUeXBlO1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3RlcExpbmVTZWdtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBMaW5lU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgcG9pbnRUeXBlKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludHNbaWR4XSB8fCB7fSkubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKExpbmVDaGFydC5wcm90b3R5cGUsIExpbmVDaGFydE1peGluLCBDbGlwQW5pbWF0aW9uTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lQ2hhcnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgYXBwZW5kLCBkZWVwRXh0ZW5kLCBpc0Z1bmN0aW9uLCBsYXN0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQXJlYVNlZ21lbnQgZXh0ZW5kcyBMaW5lU2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZTZWdtZW50LCBzdGFja1BvaW50cykge1xuICAgICAgICBzdXBlcihsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCk7XG5cbiAgICAgICAgdGhpcy5wcmV2U2VnbWVudCA9IHByZXZTZWdtZW50O1xuICAgICAgICB0aGlzLnN0YWNrUG9pbnRzID0gc3RhY2tQb2ludHM7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSBzZXJpZXMuX2RlZmF1bHRzO1xuICAgICAgICBjb25zdCBsaW5lT3B0aW9ucyA9IHNlcmllcy5saW5lIHx8IHt9O1xuICAgICAgICBsZXQgY29sb3IgPSBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29sb3IpICYmIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBjb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgZHJhdy5Hcm91cCh7XG4gICAgICAgICAgICB6SW5kZXg6IHNlcmllcy56SW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVGaWxsKHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGxpbmVPcHRpb25zLndpZHRoID4gMCAmJiBsaW5lT3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVTdHJva2Uoe1xuICAgICAgICAgICAgICAgIHN0cm9rZTogZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIGxpbmVDYXA6IFwiYnV0dFwiXG4gICAgICAgICAgICAgICAgfSwgbGluZU9wdGlvbnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9zdHJva2VTZWdtZW50cztcblxuICAgICAgICBpZiAoIXNlZ21lbnRzKSB7XG4gICAgICAgICAgICBzZWdtZW50cyA9IHRoaXMuX3N0cm9rZVNlZ21lbnRzID0gdGhpcy5jcmVhdGVTdHJva2VTZWdtZW50cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy5wb2ludHMoKSk7XG4gICAgfVxuXG4gICAgc3RhY2tTZWdtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMucHJldlNlZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZTZWdtZW50LmNyZWF0ZVN0YWNrU2VnbWVudHModGhpcy5zdGFja1BvaW50cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVTdGFja1NlZ21lbnRzKHRoaXMuc3RhY2tQb2ludHMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMudG9HZW9tZXRyeVBvaW50cyhzdGFja1BvaW50cykpLnJldmVyc2UoKTtcbiAgICB9XG5cbiAgICBzZWdtZW50c0Zyb21Qb2ludHMocG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludHMubWFwKChwb2ludCkgPT4gbmV3IGdlb20uU2VnbWVudChwb2ludCkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0cm9rZShzdHlsZSkge1xuICAgICAgICBjb25zdCBzdHJva2UgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgc3Ryb2tlLnNlZ21lbnRzLnB1c2guYXBwbHkoc3Ryb2tlLnNlZ21lbnRzLCB0aGlzLnN0cm9rZVNlZ21lbnRzKCkpO1xuXG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChzdHJva2UpO1xuICAgIH1cblxuICAgIGhhc1N0YWNrU2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldlNlZ21lbnQgfHwgKHRoaXMuc3RhY2tQb2ludHMgJiYgdGhpcy5zdGFja1BvaW50cy5sZW5ndGgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUZpbGwoc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc3Ryb2tlU2VnbWVudHMgPSB0aGlzLnN0cm9rZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IGZpbGxTZWdtZW50cyA9IHN0cm9rZVNlZ21lbnRzLnNsaWNlKDApO1xuICAgICAgICBjb25zdCBoYXNTdGFja1NlZ21lbnRzID0gdGhpcy5oYXNTdGFja1NlZ21lbnQoKTtcblxuICAgICAgICBpZiAoaGFzU3RhY2tTZWdtZW50cykge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tTZWdtZW50cyA9IHRoaXMuc3RhY2tTZWdtZW50cygpO1xuXG4gICAgICAgICAgICBhcHBlbmQoZmlsbFNlZ21lbnRzLCBzdGFja1NlZ21lbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpbGwgPSBuZXcgZHJhdy5QYXRoKHN0eWxlKTtcbiAgICAgICAgZmlsbC5zZWdtZW50cy5wdXNoLmFwcGx5KGZpbGwuc2VnbWVudHMsIGZpbGxTZWdtZW50cyk7XG5cbiAgICAgICAgaWYgKCFoYXNTdGFja1NlZ21lbnRzICYmIHN0cm9rZVNlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsbFRvQXhlcyhmaWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChmaWxsKTtcbiAgICB9XG5cbiAgICBmaWxsVG9BeGVzKGZpbGxQYXRoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSBjaGFydC5vcHRpb25zLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IGNoYXJ0LnNlcmllc1ZhbHVlQXhpcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IGNyb3NzaW5nVmFsdWUgPSBjaGFydC5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG4gICAgICAgIGNvbnN0IGVuZFNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdChjcm9zc2luZ1ZhbHVlLCBjcm9zc2luZ1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnN0cm9rZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBzZWdtZW50c1swXS5hbmNob3IoKTtcbiAgICAgICAgY29uc3QgbGFzdFBvaW50ID0gbGFzdChzZWdtZW50cykuYW5jaG9yKCk7XG4gICAgICAgIGxldCBlbmQgPSBpbnZlcnRBeGVzID8gZW5kU2xvdC54MSA6IGVuZFNsb3QueTE7XG5cbiAgICAgICAgaWYgKGludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIGZpbGxQYXRoLmxpbmVUbyhlbmQsIGxhc3RQb2ludC55KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGVuZCwgZmlyc3RQb2ludC55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGxQYXRoLmxpbmVUbyhsYXN0UG9pbnQueCwgZW5kKVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGZpcnN0UG9pbnQueCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IFN0ZXBMaW5lTWl4aW4gZnJvbSAnLi4vbGluZS1jaGFydC9zdGVwLWxpbmUtbWl4aW4nO1xuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4vYXJlYS1zZWdtZW50JztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFN0ZXBBcmVhU2VnbWVudCBleHRlbmRzIEFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy5jYWxjdWxhdGVTdGVwUG9pbnRzKHRoaXMubGluZVBvaW50cykpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMuY2FsY3VsYXRlU3RlcFBvaW50cyhzdGFja1BvaW50cykpLnJldmVyc2UoKTtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoU3RlcEFyZWFTZWdtZW50LnByb3RvdHlwZSwgU3RlcExpbmVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFN0ZXBBcmVhU2VnbWVudDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgQ3VydmVQcm9jZXNzb3IgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IEFyZWFTZWdtZW50IGZyb20gJy4vYXJlYS1zZWdtZW50JztcblxuY2xhc3MgU3BsaW5lQXJlYVNlZ21lbnQgZXh0ZW5kcyBBcmVhU2VnbWVudCB7XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3QgY3VydmVQcm9jZXNzb3IgPSBuZXcgQ3VydmVQcm9jZXNzb3IodGhpcy5vcHRpb25zLmNsb3NlZCk7XG4gICAgICAgIGNvbnN0IGxpbmVQb2ludHMgPSB0aGlzLnBvaW50cygpO1xuXG4gICAgICAgIHJldHVybiBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKGxpbmVQb2ludHMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHN0cm9rZVNlZ21lbnRzID0gdGhpcy5zdHJva2VTZWdtZW50cygpO1xuICAgICAgICBjb25zdCBzdGFja1NlZ21lbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGlkeCA9IHN0cm9rZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHN0cm9rZVNlZ21lbnRzW2lkeF07XG4gICAgICAgICAgICBzdGFja1NlZ21lbnRzLnB1c2gobmV3IGdlb20uU2VnbWVudChcbiAgICAgICAgICAgICAgICBzZWdtZW50LmFuY2hvcigpLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQuY29udHJvbE91dCgpLFxuICAgICAgICAgICAgICAgIHNlZ21lbnQuY29udHJvbEluKClcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YWNrU2VnbWVudHM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVBcmVhU2VnbWVudDsiLCJpbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1jaGFydCc7XG5pbXBvcnQgTGluZVBvaW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1wb2ludCc7XG5cbmltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuL2FyZWEtc2VnbWVudCc7XG5pbXBvcnQgU3RlcEFyZWFTZWdtZW50IGZyb20gJy4vc3RlcC1hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFNwbGluZUFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNURVAsIFNNT09USCwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEFyZWFDaGFydCBleHRlbmRzIExpbmVDaGFydCB7XG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldlNlZ21lbnQpIHtcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gdGhpcy5vcHRpb25zLmlzU3RhY2tlZDtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSAoY3VycmVudFNlcmllcy5saW5lIHx8IHt9KS5zdHlsZTtcbiAgICAgICAgbGV0IHByZXZpb3VzU2VnbWVudDtcblxuICAgICAgICBsZXQgc3RhY2tQb2ludHM7XG4gICAgICAgIGlmIChpc1N0YWNrZWQgJiYgc2VyaWVzSXggPiAwICYmIHByZXZTZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gdGhpcy5zZXJpZXNNaXNzaW5nVmFsdWVzKGN1cnJlbnRTZXJpZXMpO1xuICAgICAgICAgICAgaWYgKG1pc3NpbmdWYWx1ZXMgIT09IFwiZ2FwXCIpIHtcbiAgICAgICAgICAgICAgICBzdGFja1BvaW50cyA9IHByZXZTZWdtZW50LmxpbmVQb2ludHM7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNTZWdtZW50ID0gcHJldlNlZ21lbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YWNrUG9pbnRzID0gdGhpcy5fZ2FwU3RhY2tQb2ludHMobGluZVBvaW50cywgc2VyaWVzSXgsIHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb2ludFR5cGU7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gU1RFUCkge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gU3RlcEFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZUFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRUeXBlID0gQXJlYVNlZ21lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IHBvaW50VHlwZShsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCwgcHJldmlvdXNTZWdtZW50LCBzdGFja1BvaW50cyk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICBjb25zdCBzdGFja1BvaW50cyA9IHRoaXMuX3N0YWNrUG9pbnRzO1xuICAgICAgICBpZiAoc3RhY2tQb2ludHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0YWNrUG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFja1BvaW50ID0gc3RhY2tQb2ludHNbaWR4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludFNsb3QgPSB0aGlzLmNhdGVnb3J5QXhpcy5nZXRTbG90KHN0YWNrUG9pbnQuY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludC5yZWZsb3cocG9pbnRTbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nYXBTdGFja1BvaW50cyhsaW5lUG9pbnRzLCBzZXJpZXNJeCwgc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGxldCBzdGFydElkeCA9IGxpbmVQb2ludHNbMF0uY2F0ZWdvcnlJeDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IGxpbmVQb2ludHMubGVuZ3RoO1xuICAgICAgICBpZiAoc3RhcnRJZHggPCAwKSB7XG4gICAgICAgICAgICBzdGFydElkeCA9IDA7XG4gICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZElkeCA9IHN0YXJ0SWR4ICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBwb2ludE9mZnNldCA9IHRoaXMuc2VyaWVzT3B0aW9uc1swXS5fb3V0T2ZSYW5nZU1pblBvaW50ID8gMSA6IDA7XG4gICAgICAgIGNvbnN0IHN0YWNrUG9pbnRzID0gW107XG5cbiAgICAgICAgdGhpcy5fc3RhY2tQb2ludHMgPSB0aGlzLl9zdGFja1BvaW50cyB8fCBbXTtcbiAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlJeCA9IHN0YXJ0SWR4OyBjYXRlZ29yeUl4IDwgZW5kSWR4OyBjYXRlZ29yeUl4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50SXggPSBjYXRlZ29yeUl4ICsgcG9pbnRPZmZzZXQ7XG4gICAgICAgICAgICBsZXQgY3VycmVudFNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWVzSXgtLTtcbiAgICAgICAgICAgICAgICBwb2ludCA9IHNlcmllc1BvaW50c1tjdXJyZW50U2VyaWVzSXhdW3BvaW50SXhdO1xuICAgICAgICAgICAgfSB3aGlsZSAoY3VycmVudFNlcmllc0l4ID4gMCAmJiAhcG9pbnQpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUgIT09IFNURVAgJiYgY2F0ZWdvcnlJeCA+IHN0YXJ0SWR4ICYmICFzZXJpZXNQb2ludHNbY3VycmVudFNlcmllc0l4XVtwb2ludEl4IC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaCh0aGlzLl9wcmV2aW91c1NlZ21lbnRQb2ludChjYXRlZ29yeUl4LCBwb2ludEl4LCBwb2ludEl4IC0gMSwgY3VycmVudFNlcmllc0l4KSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUgIT09IFNURVAgJiYgY2F0ZWdvcnlJeCArIDEgPCBlbmRJZHggJiYgIXNlcmllc1BvaW50c1tjdXJyZW50U2VyaWVzSXhdW3BvaW50SXggKyAxXSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFja1BvaW50cy5wdXNoKHRoaXMuX3ByZXZpb3VzU2VnbWVudFBvaW50KGNhdGVnb3J5SXgsIHBvaW50SXgsIHBvaW50SXggKyAxLCBjdXJyZW50U2VyaWVzSXgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhcFN0YWNrUG9pbnQgPSB0aGlzLl9jcmVhdGVHYXBTdGFja1BvaW50KGNhdGVnb3J5SXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrUG9pbnRzLnB1c2goZ2FwU3RhY2tQb2ludCk7XG4gICAgICAgICAgICAgICAgc3RhY2tQb2ludHMucHVzaChnYXBTdGFja1BvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGFja1BvaW50cztcbiAgICB9XG5cbiAgICBfcHJldmlvdXNTZWdtZW50UG9pbnQoY2F0ZWdvcnlJeCwgcG9pbnRJeCwgc2VnbWVudEl4LCBzZXJpZXNJZHgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHM7XG4gICAgICAgIGxldCBpbmRleCA9IHNlcmllc0lkeDtcbiAgICAgICAgbGV0IHBvaW50O1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA+IDAgJiYgIXBvaW50KSB7XG4gICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgcG9pbnQgPSBzZXJpZXNQb2ludHNbaW5kZXhdW3NlZ21lbnRJeF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuX2NyZWF0ZUdhcFN0YWNrUG9pbnQoY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICB0aGlzLl9zdGFja1BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50ID0gc2VyaWVzUG9pbnRzW2luZGV4XVtwb2ludEl4XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBfY3JlYXRlR2FwU3RhY2tQb2ludChjYXRlZ29yeUl4KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnBvaW50T3B0aW9ucyh7fSwgMCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IExpbmVQb2ludCgwLCBvcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY2F0ZWdvcnlJeCA9IGNhdGVnb3J5SXg7XG4gICAgICAgIHBvaW50LnNlcmllcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBzZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykge1xuICAgICAgICByZXR1cm4gc2VyaWVzLm1pc3NpbmdWYWx1ZXMgfHwgWkVSTztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFyZWFDaGFydDsiLCJpbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0ge307XG4gICAgfVxuXG4gICAgdXBkYXRlKGNoYXJ0QXhpc1Jhbmdlcykge1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzO1xuXG4gICAgICAgIGZvciAobGV0IGF4aXNOYW1lIGluIGNoYXJ0QXhpc1Jhbmdlcykge1xuICAgICAgICAgICAgY29uc3QgY2hhcnRSYW5nZSA9IGNoYXJ0QXhpc1Jhbmdlc1theGlzTmFtZV07XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBheGlzUmFuZ2VzW2F4aXNOYW1lXTtcbiAgICAgICAgICAgIGF4aXNSYW5nZXNbYXhpc05hbWVdID0gcmFuZ2UgPSByYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGNoYXJ0UmFuZ2UubWluKTtcbiAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgY2hhcnRSYW5nZS5tYXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoYXhpc05hbWUpIHtcbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBxdWVyeShheGlzTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5heGlzUmFuZ2VzW2F4aXNOYW1lXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF4aXNHcm91cFJhbmdlVHJhY2tlcjsiLCJpbXBvcnQgeyBDaGFydEVsZW1lbnQsIFRleHRCb3gsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgRkFERUlOLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgSU5TSURFX0VORCwgSU5TSURFX0JBU0UsIE9VVFNJREVfRU5EIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgQ0VOVEVSLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIFgsIFksIEJMQUNLIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRTcGFjaW5nLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckxhYmVsIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50LCBvcHRpb25zLCBwb2ludERhdGEpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50ZXh0Qm94ID0gbmV3IFRleHRCb3goY29udGVudCwgdGhpcy5vcHRpb25zLCBwb2ludERhdGEpO1xuICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLnRleHRCb3gpO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy50ZXh0Qm94Lm9wdGlvbnMubm9jbGlwID0gdGhpcy5vcHRpb25zLm5vY2xpcDtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdmVydGljYWwsIGFib3ZlQXhpcyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IHRleHRPcHRpb25zID0gdGV4dC5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSB0ZXh0LmJveDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRleHQub3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICBsZXQgbGFiZWxCb3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSB2ZXJ0aWNhbCA/IENFTlRFUiA6IExFRlQ7XG4gICAgICAgIHRleHRPcHRpb25zLnZBbGlnbiA9IHZlcnRpY2FsID8gVE9QIDogQ0VOVEVSO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREVfRU5EKSB7XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0T3B0aW9ucy52QWxpZ24gPSBUT1A7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWFib3ZlQXhpcyAmJiBib3guaGVpZ2h0KCkgPCB0YXJnZXRCb3guaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBhYm92ZUF4aXMgPyBSSUdIVCA6IExFRlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICB0ZXh0T3B0aW9ucy52QWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICB0ZXh0T3B0aW9ucy5hbGlnbiA9IENFTlRFUjtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREVfQkFTRSkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMudkFsaWduID0gYWJvdmVBeGlzID8gQk9UVE9NIDogVE9QO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0T3B0aW9ucy5hbGlnbiA9IGFib3ZlQXhpcyA/IExFRlQgOiBSSUdIVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBPVVRTSURFX0VORCkge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDEsIHRhcmdldEJveC55MSAtIGJveC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MiwgdGFyZ2V0Qm94LnkxXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIsIHRhcmdldEJveC55MiArIGJveC5oZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dE9wdGlvbnMuYWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICAgICAgaWYgKGFib3ZlQXhpcykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDIsIHRhcmdldEJveC55MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJveC54MiArIGJveC53aWR0aCgpLCB0YXJnZXRCb3gueTJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbEJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3gueDEgLSBib3gud2lkdGgoKSwgdGFyZ2V0Qm94LnkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Qm94LngxLCB0YXJnZXRCb3gueTJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMucm90YXRpb24pIHtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHBhZGRpbmcubGVmdCA9IHBhZGRpbmcucmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICAobGFiZWxCb3gud2lkdGgoKSAtIHRleHQuY29udGVudEJveC53aWR0aCgpKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhZGRpbmcudG9wID0gcGFkZGluZy5ib3R0b20gPVxuICAgICAgICAgICAgICAgICAgICAobGFiZWxCb3guaGVpZ2h0KCkgLSB0ZXh0LmNvbnRlbnRCb3guaGVpZ2h0KCkpIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRleHQucmVmbG93KGxhYmVsQm94KTtcbiAgICB9XG5cbiAgICBhbGlnblRvQ2xpcEJveChjbGlwQm94KSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBmaWVsZCA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gZmllbGQgKyBcIjFcIjtcbiAgICAgICAgY29uc3QgZW5kID0gZmllbGQgKyBcIjJcIjtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IHBhcmVudEJveCA9IHRoaXMucGFyZW50LmJveDtcblxuICAgICAgICBpZiAocGFyZW50Qm94W3N0YXJ0XSA8IGNsaXBCb3hbc3RhcnRdIHx8IGNsaXBCb3hbZW5kXSA8IHBhcmVudEJveFtlbmRdKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCb3ggPSB0ZXh0LnBhZGRpbmdCb3guY2xvbmUoKTtcbiAgICAgICAgICAgIHRhcmdldEJveFtzdGFydF0gPSBNYXRoLm1heChwYXJlbnRCb3hbc3RhcnRdLCBjbGlwQm94W3N0YXJ0XSk7XG4gICAgICAgICAgICB0YXJnZXRCb3hbZW5kXSA9IE1hdGgubWluKHBhcmVudEJveFtlbmRdLCBjbGlwQm94W2VuZF0pO1xuXG4gICAgICAgICAgICB0aGlzLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXJMYWJlbCwge1xuICAgIHBvc2l0aW9uOiBPVVRTSURFX0VORCxcbiAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgcGFkZGluZzogZ2V0U3BhY2luZyg0KSxcbiAgICBjb2xvcjogQkxBQ0ssXG4gICAgYmFja2dyb3VuZDogXCJcIixcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgIGNvbG9yOiBcIlwiXG4gICAgfSxcbiAgICBhYm92ZUF4aXM6IHRydWUsXG4gICAgdmVydGljYWw6IGZhbHNlLFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgIGRlbGF5OiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxuICAgIH0sXG4gICAgekluZGV4OiAyXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQmFyTGFiZWw7IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpIHtcbiAgICBjb25zdCBvdmVybGF5ID0gb3B0aW9ucy5vdmVybGF5O1xuXG4gICAgcmV0dXJuIG92ZXJsYXkgJiYgb3ZlcmxheS5ncmFkaWVudCAmJiBvdmVybGF5LmdyYWRpZW50ICE9PSBcIm5vbmVcIjtcbn0iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQmFyTGFiZWwgZnJvbSAnLi9iYXItbGFiZWwnO1xuXG5pbXBvcnQgeyBCT1JERVJfQlJJR0hUTkVTUywgVE9PTFRJUF9PRkZTRVQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgaGFzR3JhZGllbnRPdmVybGF5IGZyb20gJy4uL3V0aWxzL2hhcy1ncmFkaWVudC1vdmVybGF5JztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcbmltcG9ydCBOb3RlTWl4aW4gZnJvbSAnLi4vbWl4aW5zL25vdGUtbWl4aW4nO1xuXG5pbXBvcnQgeyBXSElURSwgTEVGVCwgUklHSFQsIEJPVFRPTSwgVE9QIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRUZW1wbGF0ZSwgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBCQVJfQUxJR05fTUlOX1dJRFRIID0gNjtcblxuY2xhc3MgQmFyIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmNvbG9yIHx8IFdISVRFO1xuICAgICAgICB0aGlzLmFib3ZlQXhpcyA9IHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5hYm92ZUF4aXMsIHRydWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFyKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmVycm9yQmFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBvcHRpb25zLmxhYmVscztcblxuICAgICAgICBpZiAobGFiZWxzLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50RGF0YSA9IHRoaXMucG9pbnREYXRhKCk7XG4gICAgICAgICAgICBsZXQgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKGxhYmVscyk7XG4gICAgICAgICAgICBsZXQgbGFiZWxUZXh0O1xuXG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxUZXh0ID0gdGhpcy5mb3JtYXRWYWx1ZShsYWJlbHMuZm9ybWF0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IG5ldyBCYXJMYWJlbChsYWJlbFRleHQsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHNcbiAgICAgICAgICAgICksIHBvaW50RGF0YSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5sYWJlbDtcblxuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcblxuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsLm9wdGlvbnMuYWJvdmVBeGlzID0gdGhpcy5hYm92ZUF4aXM7XG4gICAgICAgICAgICBsYWJlbC5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vdGUpIHtcbiAgICAgICAgICAgIHRoaXMubm90ZS5yZWZsb3codGFyZ2V0Qm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVycm9yQmFycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVycm9yQmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JCYXJzW2ldLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY3VzdG9tVmlzdWFsID0gb3B0aW9ucy52aXN1YWw7XG5cbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlzdWFsID0gdGhpcy5yZWN0VmlzdWFsID0gY3VzdG9tVmlzdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0aGlzLnBlcmNlbnRhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsOiB0aGlzLnJ1bm5pbmdUb3RhbCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWwsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Q6IGJveC50b1JlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlY3QoZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZCh2aXN1YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm94LndpZHRoKCkgPiAwICYmIGJveC5oZWlnaHQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVJlY3QodGhpcy52aXN1YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUmVjdCh2aXN1YWwpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9yZGVyID0gb3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IHN0cm9rZU9wYWNpdHkgPSBkZWZpbmVkKGJvcmRlci5vcGFjaXR5KSA/IGJvcmRlci5vcGFjaXR5IDogb3B0aW9ucy5vcGFjaXR5O1xuICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5ib3gudG9SZWN0KCk7XG5cbiAgICAgICAgcmVjdC5zaXplLndpZHRoID0gTWF0aC5yb3VuZChyZWN0LnNpemUud2lkdGgpO1xuXG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnJlY3RWaXN1YWwgPSBkcmF3LlBhdGguZnJvbVJlY3QocmVjdCwge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmdldEJvcmRlckNvbG9yKCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBzdHJva2VPcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmJveC53aWR0aCgpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJveC5oZWlnaHQoKTtcblxuICAgICAgICBjb25zdCBzaXplID0gb3B0aW9ucy52ZXJ0aWNhbCA/IHdpZHRoIDogaGVpZ2h0O1xuXG4gICAgICAgIGlmIChzaXplID4gQkFSX0FMSUdOX01JTl9XSURUSCkge1xuICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChwYXRoKTtcblxuICAgICAgICAgICAgLy8gRml4ZXMgbGluZUpvaW4gaXNzdWUgaW4gZmlyZWZveCB3aGVuIHRoZSBqb2luZWQgbGluZXMgYXJlIHBhcmFsbGVsXG4gICAgICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHtcbiAgICAgICAgICAgICAgICBwYXRoLm9wdGlvbnMuc3Ryb2tlLmxpbmVKb2luID0gXCJyb3VuZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmlzdWFsLmFwcGVuZChwYXRoKTtcblxuICAgICAgICBpZiAoaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5jcmVhdGVHcmFkaWVudE92ZXJsYXkocGF0aCwgeyBiYXNlQ29sb3I6IHRoaXMuY29sb3IgfSwgZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgZW5kOiAhb3B0aW9ucy52ZXJ0aWNhbCA/IFsgMCwgMSBdIDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9LCBvcHRpb25zLm92ZXJsYXkpKTtcblxuICAgICAgICAgICAgdmlzdWFsLmFwcGVuZChvdmVybGF5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChzdHlsZSkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHN0eWxlKTtcblxuICAgICAgICByZXR1cm4gYWxpZ25QYXRoVG9QaXhlbChoaWdobGlnaHQpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdFZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcmVjdDogdGhpcy5ib3gudG9SZWN0KCksXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMucmVjdFZpc3VhbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldEJvcmRlckNvbG9yKCkge1xuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMub3B0aW9ucy5ib3JkZXI7XG4gICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSBib3JkZXIuX2JyaWdodG5lc3MgfHwgQk9SREVSX0JSSUdIVE5FU1M7XG4gICAgICAgIGxldCBib3JkZXJDb2xvciA9IGJvcmRlci5jb2xvcjtcblxuICAgICAgICBpZiAoIWRlZmluZWQoYm9yZGVyQ29sb3IpKSB7XG4gICAgICAgICAgICBib3JkZXJDb2xvciA9IG5ldyBDb2xvcihjb2xvcikuYnJpZ2h0bmVzcyhicmlnaHRuZXNzKS50b0hleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvcmRlckNvbG9yO1xuICAgIH1cblxuICAgIHRvb2x0aXBBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgYm94LCBhYm92ZUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNsaXBCb3ggPSB0aGlzLm93bmVyLnBhbmUuY2xpcEJveCgpIHx8IGJveDtcbiAgICAgICAgbGV0IGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgIGxldCB2ZXJ0aWNhbEFsaWduID0gVE9QO1xuICAgICAgICBsZXQgeCwgeTtcblxuICAgICAgICBpZiAob3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgeCA9IE1hdGgubWluKGJveC54MiwgY2xpcEJveC54MikgKyBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgIGlmIChhYm92ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5tYXgoYm94LnkxLCBjbGlwQm94LnkxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWluKGJveC55MiwgY2xpcEJveC55Mik7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHgxID0gTWF0aC5tYXgoYm94LngxLCBjbGlwQm94LngxKTtcbiAgICAgICAgICAgIGNvbnN0IHgyID0gTWF0aC5taW4oYm94LngyLCBjbGlwQm94LngyKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbiA9IEJPVFRPTTtcbiAgICAgICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbiA9IFJJR0hUO1xuICAgICAgICAgICAgICAgICAgICB4ID0geDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHgxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5ID0gTWF0aC5tYXgoYm94LnkxLCBjbGlwQm94LnkxKSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYWJvdmVBeGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MiArIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MSAtIFRPT0xUSVBfT0ZGU0VUO1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KGJveC55MSwgY2xpcEJveC55MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbEFsaWduLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgb3ZlcmxhcHNCb3goYm94KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveC5vdmVybGFwcyhib3gpO1xuICAgIH1cblxuICAgIHBvaW50RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgIHN0YWNrVmFsdWU6IHRoaXMuc3RhY2tWYWx1ZSxcbiAgICAgICAgICAgIHJ1bm5pbmdUb3RhbDogdGhpcy5ydW5uaW5nVG90YWwsXG4gICAgICAgICAgICB0b3RhbDogdGhpcy50b3RhbCxcbiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoQmFyLnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5kZWVwRXh0ZW5kKEJhci5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbkJhci5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDogdHJ1ZSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcImdsYXNzXCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInswfVwiXG4gICAgfSxcbiAgICBvcGFjaXR5OiAxLFxuICAgIG5vdGVzOiB7XG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJhcjsiLCJleHBvcnQgZnVuY3Rpb24gZm9yRWFjaChlbGVtZW50cywgY2FsbGJhY2spIHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hSZXZlcnNlKGVsZW1lbnRzLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGlkeCA9IGxlbmd0aCAtIDE7IGlkeCA+PSAwOyBpZHgtLSkge1xuICAgICAgICBjYWxsYmFjayhlbGVtZW50c1tpZHhdLCBpZHggLSBsZW5ndGggLSAxKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ2hhcnRFbGVtZW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IGZvckVhY2gsIGZvckVhY2hSZXZlcnNlIH0gZnJvbSAnLi91dGlscyc7XG5cbmNsYXNzIENsdXN0ZXJMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoID0gb3B0aW9ucy5ydGwgPyBmb3JFYWNoUmV2ZXJzZSA6IGZvckVhY2g7XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICBjb25zdCB7IHZlcnRpY2FsLCBnYXAsIHNwYWNpbmcgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYXhpcyA9IHZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHNsb3RzID0gY291bnQgKyBnYXAgKyAoc3BhY2luZyAqIChjb3VudCAtIDEpKTtcbiAgICAgICAgY29uc3Qgc2xvdFNpemUgPSAodmVydGljYWwgPyBib3guaGVpZ2h0KCkgOiBib3gud2lkdGgoKSkgLyBzbG90cztcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gYm94W2F4aXMgKyAxXSArIHNsb3RTaXplICogKGdhcCAvIDIpO1xuXG4gICAgICAgIHRoaXMuZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQm94ID0gKGNoaWxkLmJveCB8fCBib3gpLmNsb25lKCk7XG5cbiAgICAgICAgICAgIGNoaWxkQm94W2F4aXMgKyAxXSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgY2hpbGRCb3hbYXhpcyArIDJdID0gcG9zaXRpb24gKyBzbG90U2l6ZTtcblxuICAgICAgICAgICAgY2hpbGQucmVmbG93KGNoaWxkQm94KTtcbiAgICAgICAgICAgIGlmIChpZHggPCBjb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAoc2xvdFNpemUgKiBzcGFjaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9zaXRpb24gKz0gc2xvdFNpemU7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQ2x1c3RlckxheW91dCwge1xuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBnYXA6IDAsXG4gICAgc3BhY2luZzogMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENsdXN0ZXJMYXlvdXQ7IiwiaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTdGFja1dyYXAgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzID0gdGhpcy5vcHRpb25zLnZlcnRpY2FsID8gWCA6IFk7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgY29uc3QgY2hpbGRyZW5Db3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgbGV0IGJveCA9IHRoaXMuYm94ID0gbmV3IEJveCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGlsZC52aXNpYmxlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQm94ID0gY3VycmVudENoaWxkLmJveC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIGNoaWxkQm94LnNuYXBUbyh0YXJnZXRCb3gsIHBvc2l0aW9uQXhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBib3ggPSB0aGlzLmJveCA9IGNoaWxkQm94LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkLnJlZmxvdyhjaGlsZEJveCk7XG4gICAgICAgICAgICAgICAgYm94LndyYXAoY2hpbGRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTdGFja1dyYXAsIHtcbiAgICB2ZXJ0aWNhbDogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN0YWNrV3JhcDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQmFyIGZyb20gJy4vYmFyJztcblxuaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IENsdXN0ZXJMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L2NsdXN0ZXItbGF5b3V0JztcbmltcG9ydCBTdGFja1dyYXAgZnJvbSAnLi4vbGF5b3V0L3N0YWNrLXdyYXAnO1xuaW1wb3J0IHsgQkFSLCBPVVRTSURFX0VORCwgSU5TSURFX0VORCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBhbnlIYXNaSW5kZXggZnJvbSAnLi4vdXRpbHMvYW55LWhhcy16LWluZGV4JztcblxuaW1wb3J0IHsgU1RSSU5HLCBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckNoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YWNrUmFuZ2UoKTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBCYXI7XG4gICAgfVxuXG4gICAgY2x1c3RlclR5cGUoKSB7XG4gICAgICAgIHJldHVybiBDbHVzdGVyTGF5b3V0O1xuICAgIH1cblxuICAgIHN0YWNrVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFN0YWNrV3JhcDtcbiAgICB9XG5cbiAgICBzdGFja0xpbWl0cyhheGlzTmFtZSwgc3RhY2tOYW1lKSB7XG4gICAgICAgIGNvbnN0IGxpbWl0cyA9IHN1cGVyLnN0YWNrTGltaXRzKGF4aXNOYW1lLCBzdGFja05hbWUpO1xuXG4gICAgICAgIHJldHVybiBsaW1pdHM7XG4gICAgfVxuXG4gICAgY3JlYXRlUG9pbnQoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaXNTdGFja2VkID0gb3B0aW9ucy5pc1N0YWNrZWQ7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wb2ludFZhbHVlKGRhdGEpO1xuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCk7XG5cbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gcG9pbnRPcHRpb25zLmxhYmVscztcbiAgICAgICAgaWYgKGlzU3RhY2tlZCkge1xuICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5wb3NpdGlvbiA9PT0gT1VUU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbE9wdGlvbnMucG9zaXRpb24gPSBJTlNJREVfRU5EO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRPcHRpb25zLmlzU3RhY2tlZCA9IGlzU3RhY2tlZDtcblxuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmICh2YWx1ZSA8IDAgJiYgcG9pbnRPcHRpb25zLm5lZ2F0aXZlQ29sb3IpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLm5lZ2F0aXZlQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludE9wdGlvbnMgPSB0aGlzLmV2YWxQb2ludE9wdGlvbnMoXG4gICAgICAgICAgICBwb2ludE9wdGlvbnMsIHZhbHVlLCBjYXRlZ29yeSwgY2F0ZWdvcnlJeCwgc2VyaWVzLCBzZXJpZXNJeFxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHNlcmllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGNvbG9yID0gcG9pbnRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnRUeXBlID0gdGhpcy5wb2ludFR5cGUoKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgcG9pbnRUeXBlKHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY29uc3QgY2x1c3RlclR5cGUgPSB0aGlzLmNsdXN0ZXJUeXBlKCk7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IGNsdXN0ZXJUeXBlKHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1N0YWNrZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrV3JhcCA9IHRoaXMuZ2V0U3RhY2tXcmFwKHNlcmllcywgY2x1c3Rlcik7XG4gICAgICAgICAgICBzdGFja1dyYXAuYXBwZW5kKHBvaW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsdXN0ZXIuYXBwZW5kKHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBnZXRTdGFja1dyYXAoc2VyaWVzLCBjbHVzdGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gc2VyaWVzLnN0YWNrO1xuICAgICAgICBjb25zdCBzdGFja0dyb3VwID0gc3RhY2sgPyBzdGFjay5ncm91cCB8fCBzdGFjayA6IHN0YWNrO1xuICAgICAgICBjb25zdCB3cmFwcyA9IGNsdXN0ZXIuY2hpbGRyZW47XG4gICAgICAgIGxldCBzdGFja1dyYXA7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdGFja0dyb3VwID09PSBTVFJJTkcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd3JhcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHNbaV0uX3N0YWNrR3JvdXAgPT09IHN0YWNrR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tXcmFwID0gd3JhcHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YWNrV3JhcCA9IHdyYXBzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGFja1dyYXApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrVHlwZSA9IHRoaXMuc3RhY2tUeXBlKCk7XG4gICAgICAgICAgICBzdGFja1dyYXAgPSBuZXcgc3RhY2tUeXBlKHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogIXRoaXMub3B0aW9ucy5pbnZlcnRBeGVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YWNrV3JhcC5fc3RhY2tHcm91cCA9IHN0YWNrR3JvdXA7XG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChzdGFja1dyYXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YWNrV3JhcDtcbiAgICB9XG5cbiAgICBjYXRlZ29yeVNsb3QoY2F0ZWdvcnlBeGlzLCBjYXRlZ29yeUl4LCB2YWx1ZUF4aXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlTbG90ID0gY2F0ZWdvcnlBeGlzLmdldFNsb3QoY2F0ZWdvcnlJeCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSB2YWx1ZUF4aXMuc3RhcnRWYWx1ZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmlzU3RhY2tlZCkge1xuICAgICAgICAgICAgY29uc3QgemVyb1Nsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdChzdGFydFZhbHVlLCBzdGFydFZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrQXhpcyA9IG9wdGlvbnMuaW52ZXJ0QXhlcyA/IFggOiBZO1xuICAgICAgICAgICAgY2F0ZWdvcnlTbG90W3N0YWNrQXhpcyArIDFdID0gY2F0ZWdvcnlTbG90W3N0YWNrQXhpcyArIDJdID0gemVyb1Nsb3Rbc3RhY2tBeGlzICsgMV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlTbG90O1xuICAgIH1cblxuICAgIHJlZmxvd0NhdGVnb3JpZXMoY2F0ZWdvcnlTbG90cykge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0ucmVmbG93KGNhdGVnb3J5U2xvdHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLl9zZXRBbmltYXRpb25PcHRpb25zKCk7XG4gICAgICAgIHN1cGVyLmNyZWF0ZUFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmIChhbnlIYXNaSW5kZXgodGhpcy5vcHRpb25zLnNlcmllcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldENoaWxkcmVuQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0Q2hpbGRyZW5BbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRWaXN1YWwgPSBwb2ludC52aXN1YWw7XG4gICAgICAgICAgICBpZiAocG9pbnRWaXN1YWwgJiYgZGVmaW5lZChwb2ludFZpc3VhbC5vcHRpb25zLnpJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBwb2ludC5vcHRpb25zLmFuaW1hdGlvbiA9IHRoaXMub3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgICAgICAgICAgcG9pbnQuY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0QW5pbWF0aW9uT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gb3B0aW9ucy5hbmltYXRpb24gfHwge307XG4gICAgICAgIGxldCBvcmlnaW47XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaXNTdGFja2VkKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSB0aGlzLnNlcmllc1ZhbHVlQXhpcyhvcHRpb25zLnNlcmllc1swXSk7XG4gICAgICAgICAgICBvcmlnaW4gPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZUF4aXMuc3RhcnRWYWx1ZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9yaWdpbiA9IHRoaXMuY2F0ZWdvcnlBeGlzLmdldFNsb3QoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb24ub3JpZ2luID0gbmV3IGdlb20uUG9pbnQob3JpZ2luLngxLCBvcmlnaW4ueTEpO1xuICAgICAgICBhbmltYXRpb24udmVydGljYWwgPSAhb3B0aW9ucy5pbnZlcnRBeGVzO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQmFyQ2hhcnQsIHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogQkFSXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhckNoYXJ0OyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgQ29sb3IgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IE5vdGVNaXhpbiBmcm9tICcuLi9taXhpbnMvbm90ZS1taXhpbic7XG5cbmltcG9ydCB7IFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBoYXNHcmFkaWVudE92ZXJsYXkgZnJvbSAnLi4vdXRpbHMvaGFzLWdyYWRpZW50LW92ZXJsYXknO1xuXG5pbXBvcnQgeyBXSElURSwgTEVGVCwgVE9QIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBDYW5kbGVzdGljayBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdmFsdWUsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvY1Nsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5vcGVuLCB2YWx1ZS5jbG9zZSk7XG4gICAgICAgIGNvbnN0IGxoU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLmxvdywgdmFsdWUuaGlnaCk7XG5cbiAgICAgICAgb2NTbG90LngxID0gbGhTbG90LngxID0gYm94LngxO1xuICAgICAgICBvY1Nsb3QueDIgPSBsaFNsb3QueDIgPSBib3gueDI7XG5cbiAgICAgICAgdGhpcy5yZWFsQm9keSA9IG9jU2xvdDtcblxuICAgICAgICBjb25zdCBtaWQgPSBsaFNsb3QuY2VudGVyKCkueDtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW107XG5cbiAgICAgICAgcG9pbnRzLnB1c2goWyBbIG1pZCwgbGhTbG90LnkxIF0sIFsgbWlkLCBvY1Nsb3QueTEgXSBdKTtcbiAgICAgICAgcG9pbnRzLnB1c2goWyBbIG1pZCwgb2NTbG90LnkyIF0sIFsgbWlkLCBsaFNsb3QueTIgXSBdKTtcblxuICAgICAgICB0aGlzLmxpbmVzID0gcG9pbnRzO1xuXG4gICAgICAgIHRoaXMuYm94ID0gbGhTbG90LmNsb25lKCkud3JhcChvY1Nsb3QpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTm90ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZsb3dOb3RlKCk7XG4gICAgfVxuXG4gICAgcmVmbG93Tm90ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyh0aGlzLmJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuICAgICAgICB0aGlzLl9tYWluVmlzdWFsID0gdGhpcy5tYWluVmlzdWFsKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChcbiAgICAgICAgICAgIHRoaXMuX21haW5WaXN1YWxcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU92ZXJsYXkoKTtcbiAgICB9XG5cbiAgICBtYWluVmlzdWFsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBuZXcgZHJhdy5Hcm91cCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQm9keShncm91cCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGluZXMoZ3JvdXAsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBjcmVhdGVCb2R5KGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBib2R5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMucmVhbEJvZHkudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyLndpZHRoID4gMCkge1xuICAgICAgICAgICAgYm9keS5vcHRpb25zLnNldChcInN0cm9rZVwiLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuZ2V0Qm9yZGVyQ29sb3IoKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5ib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuYm9yZGVyLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuYm9yZGVyLm9wYWNpdHksIG9wdGlvbnMub3BhY2l0eSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChib2R5KTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZChib2R5KTtcblxuICAgICAgICBpZiAoaGFzR3JhZGllbnRPdmVybGF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KGJvZHksIHsgYmFzZUNvbG9yOiB0aGlzLmNvbG9yIH0sIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIGVuZDogIW9wdGlvbnMudmVydGljYWwgPyBbIDAsIDEgXSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSwgb3B0aW9ucy5vdmVybGF5KSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZXMoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgdGhpcy5saW5lcywgb3B0aW9ucy5saW5lKTtcbiAgICB9XG5cbiAgICBkcmF3TGluZXMoY29udGFpbmVyLCBvcHRpb25zLCBsaW5lcywgbGluZU9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFsaW5lcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZVN0eWxlID0ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGxpbmVPcHRpb25zLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdmFsdWVPckRlZmF1bHQobGluZU9wdGlvbnMub3BhY2l0eSwgb3B0aW9ucy5vcGFjaXR5KSxcbiAgICAgICAgICAgICAgICB3aWR0aDogbGluZU9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGxpbmVPcHRpb25zLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIGxpbmVDYXA6IFwiYnV0dFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKGxpbmVzW2ldLCBsaW5lU3R5bGUpO1xuICAgICAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChsaW5lKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCb3JkZXJDb2xvcigpIHtcbiAgICAgICAgY29uc3QgYm9yZGVyID0gdGhpcy5vcHRpb25zLmJvcmRlcjtcbiAgICAgICAgbGV0IGJvcmRlckNvbG9yID0gYm9yZGVyLmNvbG9yO1xuXG4gICAgICAgIGlmICghZGVmaW5lZChib3JkZXJDb2xvcikpIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yID0gbmV3IENvbG9yKHRoaXMuY29sb3IpLmJyaWdodG5lc3MoYm9yZGVyLl9icmlnaHRuZXNzKS50b0hleCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvcmRlckNvbG9yO1xuICAgIH1cblxuICAgIGNyZWF0ZU92ZXJsYXkoKSB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQob3ZlcmxheSk7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0O1xuICAgICAgICBjb25zdCBub3JtYWxDb2xvciA9IHRoaXMuY29sb3I7XG5cbiAgICAgICAgdGhpcy5jb2xvciA9IGhpZ2hsaWdodC5jb2xvciB8fCB0aGlzLmNvbG9yO1xuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5tYWluVmlzdWFsKFxuICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgbGluZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5nZXRCb3JkZXJDb2xvcigpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgaGlnaGxpZ2h0KVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNvbG9yID0gbm9ybWFsQ29sb3I7XG5cbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFpblZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcmVjdDogdGhpcy5ib3gudG9SZWN0KCksXG4gICAgICAgICAgICB2aXN1YWw6IHRoaXMuX21haW5WaXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveDtcbiAgICAgICAgY29uc3QgY2xpcEJveCA9IHRoaXMub3duZXIucGFuZS5jbGlwQm94KCkgfHwgYm94O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogbmV3IFBvaW50KGJveC54MiArIFRPT0xUSVBfT0ZGU0VULCBNYXRoLm1heChib3gueTEsIGNsaXBCb3gueTEpICsgVE9PTFRJUF9PRkZTRVQpLFxuICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBMRUZULFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBUT1BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIG92ZXJsYXBzQm94KGJveCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3gub3ZlcmxhcHMoYm94KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhbmRsZXN0aWNrLCB7XG4gICAgdmVydGljYWw6IHRydWUsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjhcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwiZ2xhc3NcIlxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiPHRhYmxlPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRoIGNvbHNwYW49JzInPns0OmR9PC90aD48L3RyPlwiICtcbiAgICAgICAgICAgICAgICAgICAgXCI8dHI+PHRkPk9wZW46PC90ZD48dGQ+ezA6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+SGlnaDo8L3RkPjx0ZD57MTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5Mb3c6PC90ZD48dGQ+ezI6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+Q2xvc2U6PC90ZD48dGQ+ezM6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgIFwiPC90YWJsZT5cIlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICBub3Rlczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBsYWJlbDoge31cbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChDYW5kbGVzdGljay5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuZGVlcEV4dGVuZChDYW5kbGVzdGljay5wcm90b3R5cGUsIE5vdGVNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmRsZXN0aWNrOyIsImltcG9ydCBjb3VudE51bWJlcnMgZnJvbSAnLi9jb3VudC1udW1iZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJlTnVtYmVycyh2YWx1ZXMpIHtcbiAgICByZXR1cm4gY291bnROdW1iZXJzKHZhbHVlcykgPT09IHZhbHVlcy5sZW5ndGg7XG59IiwiaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuaW1wb3J0IENsdXN0ZXJMYXlvdXQgZnJvbSAnLi4vbGF5b3V0L2NsdXN0ZXItbGF5b3V0JztcbmltcG9ydCBDYW5kbGVzdGljayBmcm9tICcuL2NhbmRsZXN0aWNrJztcblxuaW1wb3J0IENsaXBBbmltYXRpb25NaXhpbiBmcm9tICcuLi9taXhpbnMvY2xpcC1hbmltYXRpb24tbWl4aW4nO1xuaW1wb3J0IHsgQ0FORExFU1RJQ0sgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGFyZU51bWJlcnMgZnJvbSAnLi4vdXRpbHMvYXJlLW51bWJlcnMnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENhbmRsZXN0aWNrQ2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcblxuICAgIHJlZmxvd0NhdGVnb3JpZXMoY2F0ZWdvcnlTbG90cykge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0ucmVmbG93KGNhdGVnb3J5U2xvdHNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuICAgICAgICBjb25zdCB2YWx1ZVBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgaGFzVmFsdWUgPSBhcmVOdW1iZXJzKHZhbHVlUGFydHMpO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsdXN0ZXIgPSBjaGlsZHJlbltjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFjbHVzdGVyKSB7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IENsdXN0ZXJMYXlvdXQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLmludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgZ2FwOiBvcHRpb25zLmdhcCxcbiAgICAgICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICAgICAgcnRsOiAhb3B0aW9ucy5pbnZlcnRBeGVzICYmICh0aGlzLmNoYXJ0U2VydmljZSB8fCB7fSkucnRsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNsdXN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUl4O1xuICAgICAgICAgICAgcG9pbnQuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgIHBvaW50LnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgICAgIHBvaW50LnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBwb2ludC5vd25lciA9IHRoaXM7XG4gICAgICAgICAgICBwb2ludC5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICAgICAgcG9pbnQubm90ZVRleHQgPSBkYXRhLmZpZWxkcy5ub3RlVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICBjYXRlZ29yeVBvaW50cy5wdXNoKHBvaW50KTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBDYW5kbGVzdGljaztcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBjYXRlZ29yeSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCBwb2ludFR5cGUgPSB0aGlzLnBvaW50VHlwZSgpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG4gICAgICAgIGxldCBwb2ludE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBzZXJpZXMpO1xuICAgICAgICBsZXQgY29sb3IgPSBkYXRhLmZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG5cbiAgICAgICAgcG9pbnRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgcG9pbnRPcHRpb25zLCB2YWx1ZSwgY2F0ZWdvcnksIGNhdGVnb3J5SXgsIHNlcmllcywgc2VyaWVzSXhcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoc2VyaWVzLnR5cGUgPT09IENBTkRMRVNUSUNLKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUub3BlbiA+IHZhbHVlLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBkYXRhLmZpZWxkcy5kb3duQ29sb3IgfHwgc2VyaWVzLmRvd25Db2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50T3B0aW9ucy52ZXJ0aWNhbCA9ICF0aGlzLm9wdGlvbnMuaW52ZXJ0QXhlcztcblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBwb2ludFR5cGUodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHNwbGl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFsgdmFsdWUubG93LCB2YWx1ZS5vcGVuLCB2YWx1ZS5jbG9zZSwgdmFsdWUuaGlnaCBdO1xuICAgIH1cblxuICAgIHVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgbGV0IGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXTtcblxuICAgICAgICBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPVxuICAgICAgICAgICAgYXhpc1JhbmdlIHx8IHsgbWluOiBNQVhfVkFMVUUsIG1heDogTUlOX1ZBTFVFIH07XG5cbiAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID0ge1xuICAgICAgICAgICAgbWluOiBNYXRoLm1pbi5hcHBseShNYXRoLCBwYXJ0cy5jb25jYXQoWyBheGlzUmFuZ2UubWluIF0pKSxcbiAgICAgICAgICAgIG1heDogTWF0aC5tYXguYXBwbHkoTWF0aCwgcGFydHMuY29uY2F0KFsgYXhpc1JhbmdlLm1heCBdKSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LFxuICAgICAgICAgICAgdmFsdWUub3BlbiwgdmFsdWUuaGlnaCxcbiAgICAgICAgICAgIHZhbHVlLmxvdywgdmFsdWUuY2xvc2UsIHBvaW50LmNhdGVnb3J5XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHM7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKENhbmRsZXN0aWNrQ2hhcnQucHJvdG90eXBlLCBDbGlwQW5pbWF0aW9uTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5kbGVzdGlja0NoYXJ0OyIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgQ2FuZGxlc3RpY2sgZnJvbSAnLi4vY2FuZGxlc3RpY2stY2hhcnQvY2FuZGxlc3RpY2snO1xuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgeyBTaGFwZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgTElORV9NQVJLRVJfU0laRSwgQk9SREVSX0JSSUdIVE5FU1MgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBDUk9TUywgQ0lSQ0xFLCBXSElURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCb3hQbG90IGV4dGVuZHMgQ2FuZGxlc3RpY2sge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHZhbHVlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZU5vdGUoKTtcbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdmFsdWUsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKG9wdGlvbnMpO1xuICAgICAgICBsZXQgd2hpc2tlclNsb3QsIGJveFNsb3Q7XG5cbiAgICAgICAgdGhpcy5ib3hTbG90ID0gYm94U2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLnExLCB2YWx1ZS5xMyk7XG4gICAgICAgIHRoaXMucmVhbEJvZHkgPSBib3hTbG90O1xuICAgICAgICB0aGlzLnJlZmxvd0JveFNsb3QoYm94KTtcblxuICAgICAgICB0aGlzLndoaXNrZXJTbG90ID0gd2hpc2tlclNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5sb3dlciwgdmFsdWUudXBwZXIpO1xuICAgICAgICB0aGlzLnJlZmxvd1doaXNrZXJTbG90KGJveCk7XG5cbiAgICAgICAgY29uc3QgbWVkaWFuU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLm1lZGlhbik7XG5cbiAgICAgICAgaWYgKHZhbHVlLm1lYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lYW5TbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodmFsdWUubWVhbik7XG4gICAgICAgICAgICB0aGlzLm1lYW5Qb2ludHMgPSB0aGlzLmNhbGNNZWFuUG9pbnRzKGJveCwgbWVhblNsb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53aGlza2VyUG9pbnRzID0gdGhpcy5jYWxjV2hpc2tlclBvaW50cyhib3hTbG90LCB3aGlza2VyU2xvdCk7XG4gICAgICAgIHRoaXMubWVkaWFuUG9pbnRzID0gdGhpcy5jYWxjTWVkaWFuUG9pbnRzKGJveCwgbWVkaWFuU2xvdCk7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB3aGlza2VyU2xvdC5jbG9uZSgpLndyYXAoYm94U2xvdCk7XG4gICAgICAgIHRoaXMucmVmbG93Tm90ZSgpO1xuICAgIH1cblxuICAgIHJlZmxvd0JveFNsb3QoYm94KSB7XG4gICAgICAgIHRoaXMuYm94U2xvdC54MSA9IGJveC54MTtcbiAgICAgICAgdGhpcy5ib3hTbG90LngyID0gYm94LngyO1xuICAgIH1cblxuICAgIHJlZmxvd1doaXNrZXJTbG90KGJveCkge1xuICAgICAgICB0aGlzLndoaXNrZXJTbG90LngxID0gYm94LngxO1xuICAgICAgICB0aGlzLndoaXNrZXJTbG90LngyID0gYm94LngyO1xuICAgIH1cblxuICAgIGNhbGNNZWFuUG9pbnRzKGJveCwgbWVhblNsb3QpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFsgWyBib3gueDEsIG1lYW5TbG90LnkxIF0sIFsgYm94LngyLCBtZWFuU2xvdC55MSBdIF1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBjYWxjV2hpc2tlclBvaW50cyhib3hTbG90LCB3aGlza2VyU2xvdCkge1xuICAgICAgICBjb25zdCBtaWQgPSB3aGlza2VyU2xvdC5jZW50ZXIoKS54O1xuICAgICAgICByZXR1cm4gWyBbXG4gICAgICAgICAgICBbIG1pZCAtIDUsIHdoaXNrZXJTbG90LnkxIF0sIFsgbWlkICsgNSwgd2hpc2tlclNsb3QueTEgXSxcbiAgICAgICAgICAgIFsgbWlkLCB3aGlza2VyU2xvdC55MSBdLCBbIG1pZCwgYm94U2xvdC55MSBdXG4gICAgICAgIF0sIFtcbiAgICAgICAgICAgIFsgbWlkIC0gNSwgd2hpc2tlclNsb3QueTIgXSwgWyBtaWQgKyA1LCB3aGlza2VyU2xvdC55MiBdLFxuICAgICAgICAgICAgWyBtaWQsIHdoaXNrZXJTbG90LnkyIF0sIFsgbWlkLCBib3hTbG90LnkyIF1cbiAgICAgICAgXSBdO1xuICAgIH1cblxuICAgIGNhbGNNZWRpYW5Qb2ludHMoYm94LCBtZWRpYW5TbG90KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFsgYm94LngxLCBtZWRpYW5TbG90LnkxIF0sIFsgYm94LngyLCBtZWRpYW5TbG90LnkxIF0gXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlbmRlck91dGxpZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBvdXRsaWVycyA9IHZhbHVlLm91dGxpZXJzIHx8IFtdO1xuICAgICAgICBjb25zdCBvdXRlckZlbmNlID0gTWF0aC5hYnModmFsdWUucTMgLSB2YWx1ZS5xMSkgKiAzO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgICBsZXQgbWFya2VycyA9IG9wdGlvbnMubWFya2VycyB8fCB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsaWVyVmFsdWUgPSBvdXRsaWVyc1tpXTtcbiAgICAgICAgICAgIGlmIChvdXRsaWVyVmFsdWUgPCB2YWx1ZS5xMyArIG91dGVyRmVuY2UgJiYgb3V0bGllclZhbHVlID4gdmFsdWUucTEgLSBvdXRlckZlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWFya2VycyA9IG9wdGlvbnMub3V0bGllcnM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hcmtlcnMgPSBvcHRpb25zLmV4dHJlbWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1hcmtlcnNCb3JkZXIgPSBkZWVwRXh0ZW5kKHt9LCBtYXJrZXJzLmJvcmRlcik7XG5cbiAgICAgICAgICAgIGlmICghZGVmaW5lZChtYXJrZXJzQm9yZGVyLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKHRoaXMuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNCb3JkZXIuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNCb3JkZXIuY29sb3IgPVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yKG1hcmtlcnMuYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFNoYXBlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgdHlwZTogbWFya2Vycy50eXBlLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBtYXJrZXJzLnNpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBtYXJrZXJzLnNpemUsXG4gICAgICAgICAgICAgICAgcm90YXRpb246IG1hcmtlcnMucm90YXRpb24sXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogbWFya2Vyc0JvcmRlcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBtYXJrZXJzLm9wYWNpdHlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzaGFwZS52YWx1ZSA9IG91dGxpZXJWYWx1ZTtcblxuICAgICAgICAgICAgZWxlbWVudHMucHVzaChzaGFwZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZmxvd091dGxpZXJzKGVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlZmxvd091dGxpZXJzKG91dGxpZXJzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMub3duZXIuc2VyaWVzVmFsdWVBeGlzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0bGllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxpZXJWYWx1ZSA9IG91dGxpZXJzW2ldLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbWFya2VyQm94ID0gdmFsdWVBeGlzLmdldFNsb3Qob3V0bGllclZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIG1hcmtlckJveC5tb3ZlKGNlbnRlci54KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFya2VyQm94Lm1vdmUodW5kZWZpbmVkLCBjZW50ZXIueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYm94ID0gdGhpcy5ib3gud3JhcChtYXJrZXJCb3gpO1xuICAgICAgICAgICAgb3V0bGllcnNbaV0ucmVmbG93KG1hcmtlckJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWluVmlzdWFsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBzdXBlci5tYWluVmlzdWFsKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvdXRsaWVycyA9IHRoaXMucmVuZGVyT3V0bGllcnMob3B0aW9ucyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRsaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG91dGxpZXJzW2ldLmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmVzKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmRyYXdMaW5lcyhjb250YWluZXIsIG9wdGlvbnMsIHRoaXMud2hpc2tlclBvaW50cywgb3B0aW9ucy53aGlza2Vycyk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmVzKGNvbnRhaW5lciwgb3B0aW9ucywgdGhpcy5tZWRpYW5Qb2ludHMsIG9wdGlvbnMubWVkaWFuKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZXMoY29udGFpbmVyLCBvcHRpb25zLCB0aGlzLm1lYW5Qb2ludHMsIG9wdGlvbnMubWVhbik7XG4gICAgfVxuXG4gICAgZ2V0Qm9yZGVyQ29sb3IoKSB7XG4gICAgICAgIGlmICgodGhpcy5vcHRpb25zLmJvcmRlciB8fCB7fSkuY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm9yZGVyLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldEJvcmRlckNvbG9yKCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCb3hQbG90LCB7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjhcbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9LFxuICAgIG1lZGlhbjoge1xuICAgICAgICBjb2xvcjogXCIjZjZmNmY2XCJcbiAgICB9LFxuICAgIG1lYW46IHtcbiAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgIGRhc2hUeXBlOiBcImRhc2hcIixcbiAgICAgICAgY29sb3I6IFwiI2Y2ZjZmNlwiXG4gICAgfSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcImdsYXNzXCJcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcIjx0YWJsZT5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0aCBjb2xzcGFuPScyJz57NjpkfTwvdGg+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5Mb3dlcjo8L3RkPjx0ZD57MDpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5RMTo8L3RkPjx0ZD57MTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5NZWRpYW46PC90ZD48dGQ+ezI6Q308L3RkPjwvdHI+XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIjx0cj48dGQ+TWVhbjo8L3RkPjx0ZD57NTpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5RMzo8L3RkPjx0ZD57MzpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgICAgIFwiPHRyPjx0ZD5VcHBlcjo8L3RkPjx0ZD57NDpDfTwvdGQ+PC90cj5cIiArXG4gICAgICAgICAgICAgICAgXCI8L3RhYmxlPlwiXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5vdGVzOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGxhYmVsOiB7fVxuICAgIH0sXG4gICAgb3V0bGllcnM6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgc2l6ZTogTElORV9NQVJLRVJfU0laRSxcbiAgICAgICAgdHlwZTogQ1JPU1MsXG4gICAgICAgIGJhY2tncm91bmQ6IFdISVRFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAwXG4gICAgfSxcbiAgICBleHRyZW1lczoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICBzaXplOiBMSU5FX01BUktFUl9TSVpFLFxuICAgICAgICB0eXBlOiBDSVJDTEUsXG4gICAgICAgIGJhY2tncm91bmQ6IFdISVRFLFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAyLFxuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9LFxuICAgICAgICBvcGFjaXR5OiAwXG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoQm94UGxvdC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBCb3hQbG90OyIsImltcG9ydCBCb3hQbG90IGZyb20gJy4vYm94LXBsb3QnO1xuXG5jbGFzcyBWZXJ0aWNhbEJveFBsb3QgZXh0ZW5kcyBCb3hQbG90IHtcbiAgICByZWZsb3dCb3hTbG90KGJveCkge1xuICAgICAgICB0aGlzLmJveFNsb3QueTEgPSBib3gueTE7XG4gICAgICAgIHRoaXMuYm94U2xvdC55MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICByZWZsb3dXaGlza2VyU2xvdChib3gpIHtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC55MSA9IGJveC55MTtcbiAgICAgICAgdGhpcy53aGlza2VyU2xvdC55MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICBjYWxjTWVhblBvaW50cyhib3gsIG1lYW5TbG90KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFsgbWVhblNsb3QueDEsIGJveC55MSBdLCBbIG1lYW5TbG90LngxLCBib3gueTIgXSBdXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgY2FsY1doaXNrZXJQb2ludHMoYm94U2xvdCwgd2hpc2tlclNsb3QpIHtcbiAgICAgICAgY29uc3QgbWlkID0gd2hpc2tlclNsb3QuY2VudGVyKCkueTtcbiAgICAgICAgcmV0dXJuIFsgW1xuICAgICAgICAgICAgWyB3aGlza2VyU2xvdC54MSwgbWlkIC0gNSBdLCBbIHdoaXNrZXJTbG90LngxLCBtaWQgKyA1IF0sXG4gICAgICAgICAgICBbIHdoaXNrZXJTbG90LngxLCBtaWQgXSwgWyBib3hTbG90LngxLCBtaWQgXVxuICAgICAgICBdLCBbXG4gICAgICAgICAgICBbIHdoaXNrZXJTbG90LngyLCBtaWQgLSA1IF0sIFsgd2hpc2tlclNsb3QueDIsIG1pZCArIDUgXSxcbiAgICAgICAgICAgIFsgd2hpc2tlclNsb3QueDIsIG1pZCBdLCBbIGJveFNsb3QueDIsIG1pZCBdXG4gICAgICAgIF0gXTtcbiAgICB9XG5cbiAgICBjYWxjTWVkaWFuUG9pbnRzKGJveCwgbWVkaWFuU2xvdCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgWyBbIG1lZGlhblNsb3QueDEsIGJveC55MSBdLCBbIG1lZGlhblNsb3QueDEsIGJveC55MiBdIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlcnRpY2FsQm94UGxvdDsiLCJpbXBvcnQgQ2FuZGxlc3RpY2tDaGFydCBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljay1jaGFydCc7XG5pbXBvcnQgVmVydGljYWxCb3hQbG90IGZyb20gJy4vdmVydGljYWwtYm94LXBsb3QnO1xuaW1wb3J0IEJveFBsb3QgZnJvbSAnLi9ib3gtcGxvdCc7XG5pbXBvcnQgQ2x1c3RlckxheW91dCBmcm9tICcuLi9sYXlvdXQvY2x1c3Rlci1sYXlvdXQnO1xuXG5pbXBvcnQgYXJlTnVtYmVycyBmcm9tICcuLi91dGlscy9hcmUtbnVtYmVycyc7XG5cbmltcG9ydCB7IE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQm94UGxvdENoYXJ0IGV4dGVuZHMgQ2FuZGxlc3RpY2tDaGFydCB7XG4gICAgYWRkVmFsdWUoZGF0YSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY2F0ZWdvcnlJeCwgY2F0ZWdvcnksIHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuICAgICAgICBjb25zdCB2YWx1ZVBhcnRzID0gdGhpcy5zcGxpdFZhbHVlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgaGFzVmFsdWUgPSBhcmVOdW1iZXJzKHZhbHVlUGFydHMpO1xuICAgICAgICBjb25zdCBkYXRhSXRlbSA9IHNlcmllcy5kYXRhW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgY2F0ZWdvcnlQb2ludHMgPSB0aGlzLmNhdGVnb3J5UG9pbnRzW2NhdGVnb3J5SXhdO1xuICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgaWYgKCFjYXRlZ29yeVBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUl4XSA9IGNhdGVnb3J5UG9pbnRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIHBvaW50ID0gdGhpcy5jcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNsdXN0ZXIgPSBjaGlsZHJlbltjYXRlZ29yeUl4XTtcbiAgICAgICAgaWYgKCFjbHVzdGVyKSB7XG4gICAgICAgICAgICBjbHVzdGVyID0gbmV3IENsdXN0ZXJMYXlvdXQoe1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBvcHRpb25zLmludmVydEF4ZXMsXG4gICAgICAgICAgICAgICAgZ2FwOiBvcHRpb25zLmdhcCxcbiAgICAgICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICAgICAgcnRsOiAhb3B0aW9ucy5pbnZlcnRBeGVzICYmICh0aGlzLmNoYXJ0U2VydmljZSB8fCB7fSkucnRsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNsdXN0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgICAgICBjbHVzdGVyLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgICAgIHBvaW50LmNhdGVnb3J5SXggPSBjYXRlZ29yeUl4O1xuICAgICAgICAgICAgcG9pbnQuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgICAgIHBvaW50LnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgICAgIHBvaW50LnNlcmllc0l4ID0gc2VyaWVzSXg7XG4gICAgICAgICAgICBwb2ludC5vd25lciA9IHRoaXM7XG4gICAgICAgICAgICBwb2ludC5kYXRhSXRlbSA9IGRhdGFJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChwb2ludCk7XG4gICAgICAgIGNhdGVnb3J5UG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnZlcnRBeGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gVmVydGljYWxCb3hQbG90O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJveFBsb3Q7XG4gICAgfVxuXG4gICAgc3BsaXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdmFsdWUubG93ZXIsIHZhbHVlLnExLCB2YWx1ZS5tZWRpYW4sXG4gICAgICAgICAgICB2YWx1ZS5xMywgdmFsdWUudXBwZXJcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gZmllbGRzLnNlcmllcy5heGlzO1xuICAgICAgICBsZXQgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdO1xuICAgICAgICBsZXQgcGFydHMgPSB0aGlzLnNwbGl0VmFsdWUodmFsdWUpLmNvbmNhdCh0aGlzLmZpbHRlck91dGxpZXJzKHZhbHVlLm91dGxpZXJzKSk7XG5cbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUubWVhbikpIHtcbiAgICAgICAgICAgIHBhcnRzID0gcGFydHMuY29uY2F0KHZhbHVlLm1lYW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgIGF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgIGF4aXNSYW5nZSA9IHRoaXMudmFsdWVBeGlzUmFuZ2VzW2F4aXNOYW1lXSA9IHtcbiAgICAgICAgICAgIG1pbjogTWF0aC5taW4uYXBwbHkoTWF0aCwgcGFydHMuY29uY2F0KFsgYXhpc1JhbmdlLm1pbiBdKSksXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4LmFwcGx5KE1hdGgsIHBhcnRzLmNvbmNhdChbIGF4aXNSYW5nZS5tYXggXSkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9pbnQudmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCxcbiAgICAgICAgICAgIHZhbHVlLmxvd2VyLCB2YWx1ZS5xMSwgdmFsdWUubWVkaWFuLFxuICAgICAgICAgICAgdmFsdWUucTMsIHZhbHVlLnVwcGVyLCB2YWx1ZS5tZWFuLCBwb2ludC5jYXRlZ29yeVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZpbHRlck91dGxpZXJzKGl0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IChpdGVtcyB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICBpZiAoZGVmaW5lZChpdGVtKSAmJiBpdGVtICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQm94UGxvdENoYXJ0OyIsImltcG9ydCBFcnJvckJhckJhc2UgZnJvbSAnLi9lcnJvci1iYXItYmFzZSc7XG5cbmNsYXNzIFNjYXR0ZXJFcnJvckJhciBleHRlbmRzIEVycm9yQmFyQmFzZSB7XG4gICAgZ2V0QXhpcygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuY2hhcnQuc2VyaWVzQXhlcyh0aGlzLnNlcmllcyk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmlzVmVydGljYWwgPyBheGVzLnkgOiBheGVzLng7XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyRXJyb3JCYXI7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhc1ZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZWQodmFsdWUpICYmIHZhbHVlICE9PSBudWxsO1xufSIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBDbGlwQW5pbWF0aW9uTWl4aW4gZnJvbSAnLi4vbWl4aW5zL2NsaXAtYW5pbWF0aW9uLW1peGluJztcbmltcG9ydCBFcnJvclJhbmdlQ2FsY3VsYXRvciBmcm9tICcuLi9lcnJvci1iYXJzL2Vycm9yLXJhbmdlLWNhbGN1bGF0b3InO1xuaW1wb3J0IFNjYXR0ZXJFcnJvckJhciBmcm9tICcuLi9lcnJvci1iYXJzL3NjYXR0ZXItZXJyb3ItYmFyJztcbmltcG9ydCBMaW5lUG9pbnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLXBvaW50JztcbmltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcblxuaW1wb3J0IGhhc1ZhbHVlIGZyb20gJy4uL3V0aWxzL2hhcy12YWx1ZSc7XG5pbXBvcnQgZXZhbE9wdGlvbnMgZnJvbSAnLi4vdXRpbHMvZXZhbC1vcHRpb25zJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNOdW1iZXIsIGlzU3RyaW5nLCBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZLCBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnLi4vLi4vZGF0ZS11dGlscyc7XG5cbmNsYXNzIFNjYXR0ZXJDaGFydCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IocGxvdEFyZWEsIG9wdGlvbnMpIHtcblxuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gcGxvdEFyZWEuY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLl9pbml0RmllbGRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBfaW5pdEZpZWxkcygpIHtcbiAgICAgICAgLy8gWCBhbmQgWSBheGlzIHJhbmdlcyBncm91cGVkIGJ5IG5hbWUsIGUuZy46XG4gICAgICAgIC8vIHByaW1hcnk6IHsgbWluOiAwLCBtYXg6IDEgfVxuICAgICAgICB0aGlzLnhBeGlzUmFuZ2VzID0ge307XG4gICAgICAgIHRoaXMueUF4aXNSYW5nZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc1BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlcmllc09wdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZXZhbFNlcmllcyA9IFtdO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy50cmF2ZXJzZURhdGFQb2ludHModGhpcy5hZGRWYWx1ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBhZGRFcnJvckJhcihwb2ludCwgZmllbGQsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlW2ZpZWxkXTtcbiAgICAgICAgY29uc3QgdmFsdWVFcnJvckZpZWxkID0gZmllbGQgKyBcIlZhbHVlXCI7XG4gICAgICAgIGNvbnN0IGxvd0ZpZWxkID0gZmllbGQgKyBcIkVycm9yTG93XCI7XG4gICAgICAgIGNvbnN0IGhpZ2hGaWVsZCA9IGZpZWxkICsgXCJFcnJvckhpZ2hcIjtcbiAgICAgICAgY29uc3QgeyBzZXJpZXNJeCwgc2VyaWVzIH0gPSBmaWVsZHM7XG4gICAgICAgIGNvbnN0IGVycm9yQmFycyA9IHBvaW50Lm9wdGlvbnMuZXJyb3JCYXJzO1xuICAgICAgICBjb25zdCBsb3dWYWx1ZSA9IGZpZWxkc1tsb3dGaWVsZF07XG4gICAgICAgIGNvbnN0IGhpZ2hWYWx1ZSA9IGZpZWxkc1toaWdoRmllbGRdO1xuXG4gICAgICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGxldCBlcnJvclJhbmdlO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyKGxvd1ZhbHVlKSAmJiBpc051bWJlcihoaWdoVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHsgbG93OiBsb3dWYWx1ZSwgaGlnaDogaGlnaFZhbHVlIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvckJhcnMgJiYgZGVmaW5lZChlcnJvckJhcnNbdmFsdWVFcnJvckZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcmllc0Vycm9yUmFuZ2VzID0gdGhpcy5zZXJpZXNFcnJvclJhbmdlcyB8fCB7IHg6IFtdLCB5OiBbXSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JSYW5nZUNhbGN1bGF0b3IoZXJyb3JCYXJzW3ZhbHVlRXJyb3JGaWVsZF0sIHNlcmllcywgZmllbGQpO1xuXG4gICAgICAgICAgICAgICAgZXJyb3JSYW5nZSA9IHRoaXMuc2VyaWVzRXJyb3JSYW5nZXNbZmllbGRdW3Nlcmllc0l4XS5nZXRFcnJvclJhbmdlKHZhbHVlLCBlcnJvckJhcnNbdmFsdWVFcnJvckZpZWxkXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlcnJvclJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQb2ludEVycm9yQmFyKGVycm9yUmFuZ2UsIHBvaW50LCBmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRQb2ludEVycm9yQmFyKGVycm9yUmFuZ2UsIHBvaW50LCBmaWVsZCkge1xuICAgICAgICBjb25zdCB7IGxvdywgaGlnaCB9ID0gZXJyb3JSYW5nZTtcbiAgICAgICAgY29uc3QgeyBzZXJpZXMsIG9wdGlvbnM6IHsgZXJyb3JCYXJzOiBvcHRpb25zIH0gfSA9IHBvaW50O1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gZmllbGQgPT09IFk7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7fTtcblxuICAgICAgICBwb2ludFtmaWVsZCArIFwiTG93XCJdID0gbG93O1xuICAgICAgICBwb2ludFtmaWVsZCArIFwiSGlnaFwiXSA9IGhpZ2g7XG5cbiAgICAgICAgcG9pbnQuZXJyb3JCYXJzID0gcG9pbnQuZXJyb3JCYXJzIHx8IFtdO1xuICAgICAgICBjb25zdCBlcnJvckJhciA9IG5ldyBTY2F0dGVyRXJyb3JCYXIobG93LCBoaWdoLCBpc1ZlcnRpY2FsLCB0aGlzLCBzZXJpZXMsIG9wdGlvbnMpO1xuICAgICAgICBwb2ludC5lcnJvckJhcnMucHVzaChlcnJvckJhcik7XG4gICAgICAgIHBvaW50LmFwcGVuZChlcnJvckJhcik7XG5cbiAgICAgICAgaXRlbVtmaWVsZF0gPSBsb3c7XG4gICAgICAgIHRoaXMudXBkYXRlUmFuZ2UoaXRlbSwgc2VyaWVzKTtcbiAgICAgICAgaXRlbVtmaWVsZF0gPSBoaWdoO1xuICAgICAgICB0aGlzLnVwZGF0ZVJhbmdlKGl0ZW0sIHNlcmllcyk7XG4gICAgfVxuXG4gICAgYWRkVmFsdWUodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHZhbHVlO1xuICAgICAgICBjb25zdCBzZXJpZXNJeCA9IGZpZWxkcy5zZXJpZXNJeDtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgIGNvbnN0IG1pc3NpbmdWYWx1ZXMgPSB0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuXG4gICAgICAgIGxldCBwb2ludFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmICghKGhhc1ZhbHVlKHgpICYmIGhhc1ZhbHVlKHkpKSkge1xuICAgICAgICAgICAgcG9pbnRWYWx1ZSA9IHRoaXMuY3JlYXRlTWlzc2luZ1ZhbHVlKHBvaW50VmFsdWUsIG1pc3NpbmdWYWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50O1xuICAgICAgICBpZiAocG9pbnRWYWx1ZSkge1xuICAgICAgICAgICAgcG9pbnQgPSB0aGlzLmNyZWF0ZVBvaW50KHBvaW50VmFsdWUsIGZpZWxkcyk7XG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBvaW50LCBmaWVsZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3JCYXIocG9pbnQsIFgsIGZpZWxkcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFcnJvckJhcihwb2ludCwgWSwgZmllbGRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUmFuZ2UocG9pbnRWYWx1ZSwgZmllbGRzLnNlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgc2VyaWVzUG9pbnRzLnB1c2gocG9pbnQpO1xuICAgIH1cblxuICAgIHNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzKSB7XG4gICAgICAgIHJldHVybiBzZXJpZXMubWlzc2luZ1ZhbHVlcztcbiAgICB9XG5cbiAgICBjcmVhdGVNaXNzaW5nVmFsdWUoKSB7fVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIHNlcmllcykge1xuICAgICAgICBjb25zdCBpbnRsU2VydmljZSA9IHRoaXMuY2hhcnRTZXJ2aWNlLmludGw7XG4gICAgICAgIGNvbnN0IHsgeEF4aXM6IHhBeGlzTmFtZSwgeUF4aXM6IHlBeGlzTmFtZSB9ID0gc2VyaWVzO1xuICAgICAgICBsZXQgeyB4LCB5IH0gPSB2YWx1ZTtcbiAgICAgICAgbGV0IHhBeGlzUmFuZ2UgPSB0aGlzLnhBeGlzUmFuZ2VzW3hBeGlzTmFtZV07XG4gICAgICAgIGxldCB5QXhpc1JhbmdlID0gdGhpcy55QXhpc1Jhbmdlc1t5QXhpc05hbWVdO1xuXG4gICAgICAgIGlmIChoYXNWYWx1ZSh4KSkge1xuICAgICAgICAgICAgeEF4aXNSYW5nZSA9IHRoaXMueEF4aXNSYW5nZXNbeEF4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgeEF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoeCkpIHtcbiAgICAgICAgICAgICAgICB4ID0gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCB4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeEF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbih4QXhpc1JhbmdlLm1pbiwgeCk7XG4gICAgICAgICAgICB4QXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KHhBeGlzUmFuZ2UubWF4LCB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZSh5KSkge1xuICAgICAgICAgICAgeUF4aXNSYW5nZSA9IHRoaXMueUF4aXNSYW5nZXNbeUF4aXNOYW1lXSA9XG4gICAgICAgICAgICAgICAgeUF4aXNSYW5nZSB8fCB7IG1pbjogTUFYX1ZBTFVFLCBtYXg6IE1JTl9WQUxVRSB9O1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcoeSkpIHtcbiAgICAgICAgICAgICAgICB5ID0gcGFyc2VEYXRlKGludGxTZXJ2aWNlLCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeUF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbih5QXhpc1JhbmdlLm1pbiwgeSk7XG4gICAgICAgICAgICB5QXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KHlBeGlzUmFuZ2UubWF4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWxQb2ludE9wdGlvbnMob3B0aW9ucywgdmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IHNlcmllcywgc2VyaWVzSXggfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJ0b29sdGlwXCIsIFwiY29udGVudFwiLCBcInRlbXBsYXRlXCIsIFwidmlzdWFsXCIsIFwidG9nZ2xlXCIsIFwiX291dE9mUmFuZ2VNaW5Qb2ludFwiLCBcIl9vdXRPZlJhbmdlTWF4UG9pbnRcIiBdIH07XG5cbiAgICAgICAgbGV0IGRvRXZhbCA9IHRoaXMuX2V2YWxTZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICBpZiAoIWRlZmluZWQoZG9FdmFsKSkge1xuICAgICAgICAgICAgdGhpcy5fZXZhbFNlcmllc1tzZXJpZXNJeF0gPSBkb0V2YWwgPSBldmFsT3B0aW9ucyhvcHRpb25zLCB7fSwgc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGlmIChkb0V2YWwpIHtcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpO1xuICAgICAgICAgICAgZXZhbE9wdGlvbnMocG9pbnRPcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBmaWVsZHMuZGF0YUl0ZW1cbiAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludE9wdGlvbnM7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gTGluZVBvaW50O1xuICAgIH1cblxuICAgIHBvaW50T3B0aW9ucyhzZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGxldCBvcHRpb25zID0gdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XTtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMucG9pbnRUeXBlKCkucHJvdG90eXBlLmRlZmF1bHRzO1xuICAgICAgICAgICAgdGhpcy5zZXJpZXNPcHRpb25zW3Nlcmllc0l4XSA9IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudG9vbHRpcC5mb3JtYXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy5sYWJlbHMuZm9ybWF0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgc2VyaWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gZmllbGRzLnNlcmllcztcbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IHRoaXMucG9pbnRPcHRpb25zKHNlcmllcywgZmllbGRzLnNlcmllc0l4KTtcbiAgICAgICAgbGV0IGNvbG9yID0gZmllbGRzLmNvbG9yIHx8IHNlcmllcy5jb2xvcjtcblxuICAgICAgICBwb2ludE9wdGlvbnMgPSB0aGlzLmV2YWxQb2ludE9wdGlvbnMocG9pbnRPcHRpb25zLCB2YWx1ZSwgZmllbGRzKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IExpbmVQb2ludCh2YWx1ZSwgcG9pbnRPcHRpb25zKTtcbiAgICAgICAgcG9pbnQuY29sb3IgPSBjb2xvcjtcblxuICAgICAgICB0aGlzLmFwcGVuZChwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIHNlcmllc0F4ZXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IHsgeEF4aXM6IHhBeGlzTmFtZSwgeUF4aXM6IHlBeGlzTmFtZSB9ID0gc2VyaWVzO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMucGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHhBeGlzID0geEF4aXNOYW1lID8gcGxvdEFyZWEubmFtZWRYQXhlc1t4QXhpc05hbWVdIDogcGxvdEFyZWEuYXhpc1g7XG4gICAgICAgIGNvbnN0IHlBeGlzID0geUF4aXNOYW1lID8gcGxvdEFyZWEubmFtZWRZQXhlc1t5QXhpc05hbWVdIDogcGxvdEFyZWEuYXhpc1k7XG5cbiAgICAgICAgaWYgKCF4QXhpcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBYIGF4aXMgd2l0aCBuYW1lIFwiICsgeEF4aXNOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgheUF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgWSBheGlzIHdpdGggbmFtZSBcIiArIHlBeGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeEF4aXMsXG4gICAgICAgICAgICB5OiB5QXhpc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgY29uc3QgY2hhcnRQb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgY29uc3QgbGltaXQgPSAhdGhpcy5vcHRpb25zLmNsaXA7XG4gICAgICAgIGxldCBwb2ludEl4ID0gMDtcblxuXG4gICAgICAgIHRoaXMudHJhdmVyc2VEYXRhUG9pbnRzKCh2YWx1ZSwgZmllbGRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGNoYXJ0UG9pbnRzW3BvaW50SXgrK107XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNBeGVzID0gdGhpcy5zZXJpZXNBeGVzKGZpZWxkcy5zZXJpZXMpO1xuICAgICAgICAgICAgY29uc3Qgc2xvdFggPSBzZXJpZXNBeGVzLnguZ2V0U2xvdCh2YWx1ZS54LCB2YWx1ZS54LCBsaW1pdCk7XG4gICAgICAgICAgICBjb25zdCBzbG90WSA9IHNlcmllc0F4ZXMueS5nZXRTbG90KHZhbHVlLnksIHZhbHVlLnksIGxpbWl0KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsb3RYICYmIHNsb3RZKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50U2xvdCA9IHRoaXMucG9pbnRTbG90KHNsb3RYLCBzbG90WSk7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnJlZmxvdyhwb2ludFNsb3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94O1xuICAgIH1cblxuICAgIHBvaW50U2xvdChzbG90WCwgc2xvdFkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3goc2xvdFgueDEsIHNsb3RZLnkxLCBzbG90WC54Miwgc2xvdFkueTIpO1xuICAgIH1cblxuICAgIHRyYXZlcnNlRGF0YVBvaW50cyhjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgc2VyaWVzIH0sIHNlcmllc1BvaW50cyB9ID0gdGhpcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzUG9pbnRzID0gc2VyaWVzUG9pbnRzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFNlcmllc1BvaW50cykge1xuICAgICAgICAgICAgICAgIHNlcmllc1BvaW50c1tzZXJpZXNJeF0gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgcG9pbnRJeCA9IDA7IHBvaW50SXggPCBjdXJyZW50U2VyaWVzLmRhdGEubGVuZ3RoOyBwb2ludEl4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlRmllbGRzOiB2YWx1ZSwgZmllbGRzIH0gPSB0aGlzLl9iaW5kUG9pbnQoY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHBvaW50SXgpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodmFsdWUsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgICAgICBwb2ludEl4OiBwb2ludEl4LFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0l4OiBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IGN1cnJlbnRTZXJpZXMuZGF0YVtwb2ludEl4XSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IHRoaXNcbiAgICAgICAgICAgICAgICB9LCBmaWVsZHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCB2YWx1ZS54LCB2YWx1ZS55KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludHNbaWR4XSB8fCB7fSkubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbnNldERlZmF1bHRPcHRpb25zKFNjYXR0ZXJDaGFydCwge1xuICAgIHNlcmllczogW10sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiezB9LCB7MX1cIlxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7MH0sIHsxfVwiXG4gICAgfSxcbiAgICBjbGlwOiB0cnVlXG59KTtcbmRlZXBFeHRlbmQoU2NhdHRlckNoYXJ0LnByb3RvdHlwZSwgQ2xpcEFuaW1hdGlvbk1peGluLCB7XG4gICAgX2JpbmRQb2ludDogQ2F0ZWdvcmljYWxDaGFydC5wcm90b3R5cGUuX2JpbmRQb2ludFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNjYXR0ZXJDaGFydDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20sIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgTGluZVBvaW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1wb2ludCc7XG5pbXBvcnQgeyBCT1JERVJfQlJJR0hUTkVTUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IENFTlRFUiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZSBleHRlbmRzIExpbmVQb2ludCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmFsdWUsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSB2YWx1ZS5jYXRlZ29yeTtcbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQ7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGhpZ2hsaWdodC5ib3JkZXI7XG4gICAgICAgIGNvbnN0IG1hcmtlcnMgPSB0aGlzLm9wdGlvbnMubWFya2VycztcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5ib3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IChtYXJrZXJzLnNpemUgKyBtYXJrZXJzLmJvcmRlci53aWR0aCArIGJvcmRlci53aWR0aCkgLyAyO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRHcm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IG5ldyBkcmF3LkNpcmNsZShuZXcgZ2VvbS5DaXJjbGUoWyBjZW50ZXIueCwgY2VudGVyLnkgKyByYWRpdXMgLyA1ICsgYm9yZGVyLndpZHRoIC8gMiBdLCByYWRpdXMgKyBib3JkZXIud2lkdGggLyAyKSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6ICdub25lJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGw6IHRoaXMuY3JlYXRlR3JhZGllbnQoe1xuICAgICAgICAgICAgICAgIGdyYWRpZW50OiAnYnViYmxlU2hhZG93JyxcbiAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgIHN0b3BzOiBbIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogbWFya2Vycy5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG1hcmtlcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKFsgY2VudGVyLngsIGNlbnRlci55IF0sIHJhZGl1cyksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIuY29sb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3IENvbG9yKG1hcmtlcnMuYmFja2dyb3VuZCkuYnJpZ2h0bmVzcyhCT1JERVJfQlJJR0hUTkVTUykudG9IZXgoKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJvcmRlci5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJzLmJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGlnaGxpZ2h0Lm9wYWNpdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaGlnaGxpZ2h0R3JvdXAuYXBwZW5kKHNoYWRvdywgb3ZlcmxheSk7XG5cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodEdyb3VwO1xuICAgIH1cbn1cblxuQnViYmxlLnByb3RvdHlwZS5kZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIEJ1YmJsZS5wcm90b3R5cGUuZGVmYXVsdHMsIHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgcG9zaXRpb246IENFTlRFUlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgd2lkdGg6IDIsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuQnViYmxlLnByb3RvdHlwZS5kZWZhdWx0cy5oaWdobGlnaHQuekluZGV4ID0gdW5kZWZpbmVkO1xuXG5leHBvcnQgZGVmYXVsdCBCdWJibGU7IiwiaW1wb3J0IFNjYXR0ZXJDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBCdWJibGUgZnJvbSAnLi9idWJibGUnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgQlVCQkxFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgTUlOX1ZBTFVFLCBDSVJDTEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24sIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZUNoYXJ0IGV4dGVuZHMgU2NhdHRlckNoYXJ0IHtcbiAgICBfaW5pdEZpZWxkcygpIHtcbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IE1JTl9WQUxVRTtcbiAgICAgICAgc3VwZXIuX2luaXRGaWVsZHMoKTtcbiAgICB9XG5cbiAgICBhZGRWYWx1ZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGlmICh2YWx1ZS5zaXplICE9PSBudWxsICYmICh2YWx1ZS5zaXplID4gMCB8fCAodmFsdWUuc2l6ZSA8IDAgJiYgZmllbGRzLnNlcmllcy5uZWdhdGl2ZVZhbHVlcy52aXNpYmxlKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX21heFNpemUgPSBNYXRoLm1heCh0aGlzLl9tYXhTaXplLCBNYXRoLmFicyh2YWx1ZS5zaXplKSk7XG4gICAgICAgICAgICBzdXBlci5hZGRWYWx1ZSh2YWx1ZSwgZmllbGRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnNlcmllc1BvaW50c1tmaWVsZHMuc2VyaWVzSXhdLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMudXBkYXRlQnViYmxlc1NpemUoYm94KTtcbiAgICAgICAgc3VwZXIucmVmbG93KGJveCk7XG4gICAgfVxuXG4gICAgcG9pbnRUeXBlKCkge1xuICAgICAgICByZXR1cm4gQnViYmxlO1xuICAgIH1cblxuICAgIGNyZWF0ZVBvaW50KHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gZmllbGRzLnNlcmllcztcbiAgICAgICAgY29uc3QgcG9pbnRzQ291bnQgPSBzZXJpZXMuZGF0YS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gZmllbGRzLnBvaW50SXggKiAoSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gLyBwb2ludHNDb3VudCk7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04gLSBkZWxheSxcbiAgICAgICAgICAgIHR5cGU6IEJVQkJMRVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjb2xvciA9IGZpZWxkcy5jb2xvciB8fCBzZXJpZXMuY29sb3I7XG4gICAgICAgIGlmICh2YWx1ZS5zaXplIDwgMCAmJiBzZXJpZXMubmVnYXRpdmVWYWx1ZXMudmlzaWJsZSkge1xuICAgICAgICAgICAgY29sb3IgPSB2YWx1ZU9yRGVmYXVsdChcbiAgICAgICAgICAgICAgICBzZXJpZXMubmVnYXRpdmVWYWx1ZXMuY29sb3IsIGNvbG9yXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvaW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiBkZWxheSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OIC0gZGVsYXlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMucG9pbnRPcHRpb25zKHNlcmllcywgZmllbGRzLnNlcmllc0l4KSwge1xuICAgICAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IENJUkNMRSxcbiAgICAgICAgICAgICAgICBib3JkZXI6IHNlcmllcy5ib3JkZXIsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc2VyaWVzLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBhbmltYXRpb25PcHRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhwb2ludE9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50T3B0aW9ucy5tYXJrZXJzLmJhY2tncm91bmQgPSBjb2xvcjtcblxuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBCdWJibGUodmFsdWUsIHBvaW50T3B0aW9ucyk7XG4gICAgICAgIHBvaW50LmNvbG9yID0gY29sb3I7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQocG9pbnQpO1xuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICB1cGRhdGVCdWJibGVzU2l6ZShib3gpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHNlcmllcyB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3hTaXplID0gTWF0aC5taW4oYm94LndpZHRoKCksIGJveC5oZWlnaHQoKSk7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnRzID0gdGhpcy5zZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3QgbWluU2l6ZSA9IGN1cnJlbnRTZXJpZXMubWluU2l6ZSB8fCBNYXRoLm1heChib3hTaXplICogMC4wMiwgMTApO1xuICAgICAgICAgICAgY29uc3QgbWF4U2l6ZSA9IGN1cnJlbnRTZXJpZXMubWF4U2l6ZSB8fCBib3hTaXplICogMC4yO1xuICAgICAgICAgICAgY29uc3QgbWluUiA9IG1pblNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgbWF4UiA9IG1heFNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgbWluQXJlYSA9IE1hdGguUEkgKiBtaW5SICogbWluUjtcbiAgICAgICAgICAgIGNvbnN0IG1heEFyZWEgPSBNYXRoLlBJICogbWF4UiAqIG1heFI7XG4gICAgICAgICAgICBjb25zdCBhcmVhUmFuZ2UgPSBtYXhBcmVhIC0gbWluQXJlYTtcbiAgICAgICAgICAgIGNvbnN0IGFyZWFSYXRpbyA9IGFyZWFSYW5nZSAvIHRoaXMuX21heFNpemU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHBvaW50SXggPSAwOyBwb2ludEl4IDwgc2VyaWVzUG9pbnRzLmxlbmd0aDsgcG9pbnRJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBzZXJpZXNQb2ludHNbcG9pbnRJeF07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBNYXRoLmFicyhwb2ludC52YWx1ZS5zaXplKSAqIGFyZWFSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KChtaW5BcmVhICsgYXJlYSkgLyBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZVpJbmRleCA9IHZhbHVlT3JEZWZhdWx0KHBvaW50Lm9wdGlvbnMuekluZGV4LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgekluZGV4ID0gYmFzZVpJbmRleCArICgxIC0gcmFkaXVzIC8gbWF4Uik7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVlcEV4dGVuZChwb2ludC5vcHRpb25zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IHpJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiByYWRpdXMgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogekluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiB6SW5kZXggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCB2YWx1ZS54LCB2YWx1ZS55LCB2YWx1ZS5zaXplLCBwb2ludC5jYXRlZ29yeSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge31cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWJibGVDaGFydCwge1xuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgZm9ybWF0OiBcInszfVwiXG4gICAgfSxcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9ybWF0OiBcInszfVwiXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1YmJsZUNoYXJ0OyIsImltcG9ydCB7IFNoYXBlRWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgUG9pbnRFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcG9pbnQtZXZlbnRzLW1peGluJztcblxuY2xhc3MgVGFyZ2V0IGV4dGVuZHMgU2hhcGVFbGVtZW50IHsgfVxuXG5kZWVwRXh0ZW5kKFRhcmdldC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBUYXJnZXQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgVGFyZ2V0IGZyb20gJy4vdGFyZ2V0JztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgTm90ZU1peGluIGZyb20gJy4uL21peGlucy9ub3RlLW1peGluJztcbmltcG9ydCBCYXIgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhcic7XG5cbmltcG9ydCB7IFdISVRFLCBUT1AsIFJJR0hUIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhbGlnblBhdGhUb1BpeGVsLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBzZXREZWZhdWx0T3B0aW9ucywgdmFsdWVPckRlZmF1bHQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBCdWxsZXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuYWJvdmVBeGlzID0gdGhpcy5vcHRpb25zLmFib3ZlQXhpcztcbiAgICAgICAgdGhpcy5jb2xvciA9IG9wdGlvbnMuY29sb3IgfHwgV0hJVEU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh0aGlzLnZhbHVlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IG5ldyBUYXJnZXQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnRhcmdldC5zaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogb3B0aW9ucy50YXJnZXQuY29sb3IgfHwgdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4LFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMudGFyZ2V0LmJvcmRlcixcbiAgICAgICAgICAgICAgICAgICAgdkFsaWduOiBUT1AsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiBSSUdIVFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQudmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5zZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOb3RlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCB0YXJnZXQsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaW52ZXJ0QXhlcyA9IG9wdGlvbnMuaW52ZXJ0QXhlcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5U2xvdCA9IGNoYXJ0LmNhdGVnb3J5U2xvdChjaGFydC5jYXRlZ29yeUF4aXMsIG9wdGlvbnMuY2F0ZWdvcnlJeCwgdmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWVTbG90ID0gdmFsdWVBeGlzLmdldFNsb3QodGhpcy52YWx1ZS50YXJnZXQpO1xuICAgICAgICBjb25zdCB0YXJnZXRTbG90WCA9IGludmVydEF4ZXMgPyB0YXJnZXRWYWx1ZVNsb3QgOiBjYXRlZ29yeVNsb3Q7XG4gICAgICAgIGNvbnN0IHRhcmdldFNsb3RZID0gaW52ZXJ0QXhlcyA/IGNhdGVnb3J5U2xvdCA6IHRhcmdldFZhbHVlU2xvdDtcblxuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRTbG90ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICB0YXJnZXRTbG90WC54MSwgdGFyZ2V0U2xvdFkueTEsXG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xvdFgueDIsIHRhcmdldFNsb3RZLnkyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGFyZ2V0Lm9wdGlvbnMuaGVpZ2h0ID0gaW52ZXJ0QXhlcyA/IHRhcmdldFNsb3QuaGVpZ2h0KCkgOiBvcHRpb25zLnRhcmdldC5saW5lLndpZHRoO1xuICAgICAgICAgICAgdGFyZ2V0Lm9wdGlvbnMud2lkdGggPSBpbnZlcnRBeGVzID8gb3B0aW9ucy50YXJnZXQubGluZS53aWR0aCA6IHRhcmdldFNsb3Qud2lkdGgoKTtcbiAgICAgICAgICAgIHRhcmdldC5yZWZsb3codGFyZ2V0U2xvdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ub3RlKSB7XG4gICAgICAgICAgICB0aGlzLm5vdGUucmVmbG93KGJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyLndpZHRoID4gMCkge1xuICAgICAgICAgICAgYm9keS5vcHRpb25zLnNldChcInN0cm9rZVwiLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuYm9yZGVyLmNvbG9yIHx8IHRoaXMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBvcHRpb25zLmJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmJvcmRlci5vcGFjaXR5LCBvcHRpb25zLm9wYWNpdHkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm9keVZpc3VhbCA9IGJvZHk7XG5cbiAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChib2R5KTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKGJvZHkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9keVZpc3VhbCkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBkcmF3LkFuaW1hdGlvbi5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5ib2R5VmlzdWFsLCB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KHN0eWxlKSB7XG4gICAgICAgIHJldHVybiBkcmF3LlBhdGguZnJvbVJlY3QodGhpcy5ib3gudG9SZWN0KCksIHN0eWxlKTtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvZHlWaXN1YWw7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlY3Q6IHRoaXMuYm94LnRvUmVjdCgpLFxuICAgICAgICAgICAgdmlzdWFsOiB0aGlzLmJvZHlWaXN1YWwsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb3JtYXRWYWx1ZShmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZm9ybWF0UG9pbnRWYWx1ZSh0aGlzLCBmb3JtYXQpO1xuICAgIH1cbn1cblxuQnVsbGV0LnByb3RvdHlwZS50b29sdGlwQW5jaG9yID0gQmFyLnByb3RvdHlwZS50b29sdGlwQW5jaG9yO1xuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWxsZXQsIHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICBvcGFjaXR5OiAxLFxuICAgIHRhcmdldDoge1xuICAgICAgICBzaGFwZTogXCJcIixcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgIGNvbG9yOiBcImdyZWVuXCJcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICBmb3JtYXQ6IFwiQ3VycmVudDogezB9PGJyIC8+VGFyZ2V0OiB7MX1cIlxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKEJ1bGxldC5wcm90b3R5cGUsIFBvaW50RXZlbnRzTWl4aW4pO1xuZGVlcEV4dGVuZChCdWxsZXQucHJvdG90eXBlLCBOb3RlTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBCdWxsZXQ7IiwiXG5pbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5pbXBvcnQgQmFyQ2hhcnQgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhci1jaGFydCc7XG5pbXBvcnQgQnVsbGV0IGZyb20gJy4vYnVsbGV0JztcbmltcG9ydCBDbHVzdGVyTGF5b3V0IGZyb20gJy4uL2xheW91dC9jbHVzdGVyLWxheW91dCc7XG5pbXBvcnQgeyBCQVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZGVmaW5lZCwgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQnVsbGV0Q2hhcnQgZXh0ZW5kcyBDYXRlZ29yaWNhbENoYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuXG4gICAgICAgIHdyYXBEYXRhKG9wdGlvbnMpO1xuXG4gICAgICAgIHN1cGVyKHBsb3RBcmVhLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZWZsb3dDYXRlZ29yaWVzKGNhdGVnb3J5U2xvdHMpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW2ldLnJlZmxvdyhjYXRlZ29yeVNsb3RzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBwb2ludC5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IHRoaXMuc2VyaWVzVmFsdWVBeGlzKHNlcmllcyk7XG4gICAgICAgIGNvbnN0IGF4aXNDcm9zc2luZ1ZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXNDcm9zc2luZ1ZhbHVlKHZhbHVlQXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIFsgYXhpc0Nyb3NzaW5nVmFsdWUsIHBvaW50LnZhbHVlLmN1cnJlbnQgfHwgYXhpc0Nyb3NzaW5nVmFsdWUgXTtcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBjYXRlZ29yeSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGEudmFsdWVGaWVsZHM7XG5cbiAgICAgICAgbGV0IGJ1bGxldE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHZlcnRpY2FsOiAhb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgb3ZlcmxheTogc2VyaWVzLm92ZXJsYXksXG4gICAgICAgICAgICBjYXRlZ29yeUl4OiBjYXRlZ29yeUl4LFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogb3B0aW9ucy5pbnZlcnRBeGVzXG4gICAgICAgIH0sIHNlcmllcyk7XG5cbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBidWxsZXRPcHRpb25zID0gdGhpcy5ldmFsUG9pbnRPcHRpb25zKFxuICAgICAgICAgICAgYnVsbGV0T3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgY29sb3IgPSBidWxsZXRPcHRpb25zLmNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVsbGV0ID0gbmV3IEJ1bGxldCh2YWx1ZSwgYnVsbGV0T3B0aW9ucyk7XG4gICAgICAgIGJ1bGxldC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIGxldCBjbHVzdGVyID0gY2hpbGRyZW5bY2F0ZWdvcnlJeF07XG4gICAgICAgIGlmICghY2x1c3Rlcikge1xuICAgICAgICAgICAgY2x1c3RlciA9IG5ldyBDbHVzdGVyTGF5b3V0KHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogb3B0aW9ucy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgIGdhcDogb3B0aW9ucy5nYXAsXG4gICAgICAgICAgICAgICAgc3BhY2luZzogb3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgICAgIHJ0bDogIW9wdGlvbnMuaW52ZXJ0QXhlcyAmJiAodGhpcy5jaGFydFNlcnZpY2UgfHwge30pLnJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjbHVzdGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsdXN0ZXIuYXBwZW5kKGJ1bGxldCk7XG5cbiAgICAgICAgcmV0dXJuIGJ1bGxldDtcbiAgICB9XG5cbiAgICB1cGRhdGVSYW5nZSh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudCwgdGFyZ2V0IH0gPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgIGxldCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV07XG5cbiAgICAgICAgaWYgKGRlZmluZWQoY3VycmVudCkgJiYgIWlzTmFOKGN1cnJlbnQpICYmIGRlZmluZWQodGFyZ2V0ICYmICFpc05hTih0YXJnZXQpKSkge1xuICAgICAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID1cbiAgICAgICAgICAgICAgICBheGlzUmFuZ2UgfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIGN1cnJlbnQsIHRhcmdldCk7XG4gICAgICAgICAgICBheGlzUmFuZ2UubWF4ID0gTWF0aC5tYXgoYXhpc1JhbmdlLm1heCwgY3VycmVudCwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LCBwb2ludC52YWx1ZS5jdXJyZW50LCBwb2ludC52YWx1ZS50YXJnZXQpO1xuICAgIH1cblxuICAgIHBvaW50VmFsdWUoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS52YWx1ZUZpZWxkcy5jdXJyZW50O1xuICAgIH1cblxuICAgIGFib3ZlQXhpcyhwb2ludCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlLmN1cnJlbnQ7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlID4gMDtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIHRoaXMuX3NldEFuaW1hdGlvbk9wdGlvbnMoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwb2ludHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgIHBvaW50Lm9wdGlvbnMuYW5pbWF0aW9uID0gdGhpcy5vcHRpb25zLmFuaW1hdGlvbjtcbiAgICAgICAgICAgIHBvaW50LmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5CdWxsZXRDaGFydC5wcm90b3R5cGUuX3NldEFuaW1hdGlvbk9wdGlvbnMgPSBCYXJDaGFydC5wcm90b3R5cGUuX3NldEFuaW1hdGlvbk9wdGlvbnM7XG5cbnNldERlZmF1bHRPcHRpb25zKEJ1bGxldENoYXJ0LCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IEJBUlxuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiB3cmFwRGF0YShvcHRpb25zKSB7XG4gICAgY29uc3Qgc2VyaWVzID0gb3B0aW9ucy5zZXJpZXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzZXJpZXNJdGVtID0gc2VyaWVzW2ldO1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzSXRlbS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSAmJiAhaXNBcnJheShkYXRhWzBdKSAmJiAhaXNPYmplY3QoZGF0YVswXSkpIHtcbiAgICAgICAgICAgIHNlcmllc0l0ZW0uZGF0YSA9IFsgZGF0YSBdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdWxsZXRDaGFydDsiLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCwgZ2V0U3BhY2luZywgc3R5bGVWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBTSE9XX1RPT0xUSVAsIEhJREVfVE9PTFRJUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNsYXNzIEJhc2VUb29sdGlwIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0U2VydmljZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGdldFN0eWxlKG9wdGlvbnMsIHBvaW50KSB7XG4gICAgICAgIGxldCB7IGJhY2tncm91bmQsIGJvcmRlcjogeyBjb2xvcjogYm9yZGVyIH0gfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludENvbG9yID0gcG9pbnQuY29sb3IgfHwgcG9pbnQub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSB2YWx1ZU9yRGVmYXVsdChiYWNrZ3JvdW5kLCBwb2ludENvbG9yKTtcbiAgICAgICAgICAgIGJvcmRlciA9IHZhbHVlT3JEZWZhdWx0KGJvcmRlciwgcG9pbnRDb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWRkaW5nID0gZ2V0U3BhY2luZyhvcHRpb25zLnBhZGRpbmcgfHwge30sIFwiYXV0b1wiKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGJvcmRlcixcbiAgICAgICAgICAgIGZvbnQ6IG9wdGlvbnMuZm9udCxcbiAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IHN0eWxlVmFsdWUob3B0aW9ucy5ib3JkZXIud2lkdGgpLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogc3R5bGVWYWx1ZShwYWRkaW5nLnRvcCksXG4gICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBzdHlsZVZhbHVlKHBhZGRpbmcuYm90dG9tKSxcbiAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBzdHlsZVZhbHVlKHBhZGRpbmcubGVmdCksXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHN0eWxlVmFsdWUocGFkZGluZy5yaWdodClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzaG93KG9wdGlvbnMsIHRvb2x0aXBPcHRpb25zLCBwb2ludCkge1xuICAgICAgICBvcHRpb25zLmZvcm1hdCA9IHRvb2x0aXBPcHRpb25zLmZvcm1hdDtcblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUodG9vbHRpcE9wdGlvbnMsIHBvaW50KTtcbiAgICAgICAgb3B0aW9ucy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0b29sdGlwT3B0aW9ucy5jb2xvcikgJiYgbmV3IENvbG9yKHN0eWxlLmJhY2tncm91bmRDb2xvcikucGVyY0JyaWdodG5lc3MoKSA+IDE4MCkge1xuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgPSBcImstY2hhcnQtdG9vbHRpcC1pbnZlcnNlXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5ub3RpZnkoU0hPV19UT09MVElQLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYXJ0U2VydmljZSkge1xuICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2Uubm90aWZ5KEhJREVfVE9PTFRJUCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkZWxldGUgdGhpcy5jaGFydFNlcnZpY2U7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXNlVG9vbHRpcCwge1xuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgb3BhY2l0eTogMVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VUb29sdGlwO1xuIiwiaW1wb3J0IEJhc2VUb29sdGlwIGZyb20gJy4uL3Rvb2x0aXAvYmFzZS10b29sdGlwJztcblxuaW1wb3J0IHsgSElERV9UT09MVElQIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IFRPUCwgQk9UVE9NLCBMRUZULCBSSUdIVCwgQ0VOVEVSLCBEQVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIENyb3NzaGFpclRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgY29uc3RydWN0b3IoY2hhcnRTZXJ2aWNlLCBjcm9zc2hhaXIsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoY2hhcnRTZXJ2aWNlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyb3NzaGFpciA9IGNyb3NzaGFpcjtcbiAgICAgICAgdGhpcy5mb3JtYXRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlLmZvcm1hdDtcbiAgICAgICAgdGhpcy5pbml0QXhpc05hbWUoKTtcbiAgICB9XG5cbiAgICBpbml0QXhpc05hbWUoKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmNyb3NzaGFpci5heGlzO1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IGF4aXMucGxvdEFyZWE7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBpZiAocGxvdEFyZWEuY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgICAgICBuYW1lID0gYXhpcy5nZXRDYXRlZ29yeSA/IFwiY2F0ZWdvcnlBeGlzXCIgOiBcInZhbHVlQXhpc1wiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmFtZSA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbCA/IFwieUF4aXNcIiA6IFwieEF4aXNcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmF4aXNOYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBzaG93QXQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgeyBjcm9zc2hhaXI6IHsgYXhpcyB9LCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmFsdWUgPSBheGlzW29wdGlvbnMuc3RpY2t5TW9kZSA/IFwiZ2V0Q2F0ZWdvcnlcIiA6IFwiZ2V0VmFsdWVcIl0ocG9pbnQpO1xuICAgICAgICBsZXQgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAob3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gdGhpcy5mb3JtYXRTZXJ2aWNlLmF1dG8ob3B0aW9ucy5mb3JtYXQsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChheGlzLm9wdGlvbnMudHlwZSA9PT0gREFURSkge1xuICAgICAgICAgICAgZm9ybWF0dGVkVmFsdWUgPSB0aGlzLmZvcm1hdFNlcnZpY2UuYXV0byhheGlzLm9wdGlvbnMubGFiZWxzLmRhdGVGb3JtYXRzW2F4aXMub3B0aW9ucy5iYXNlVW5pdF0sIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvdyh7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBhbmNob3I6IHRoaXMuZ2V0QW5jaG9yKCksXG4gICAgICAgICAgICBjcm9zc2hhaXI6IHRoaXMuY3Jvc3NoYWlyLFxuICAgICAgICAgICAgdmFsdWU6IGZvcm1hdHRlZFZhbHVlLFxuICAgICAgICAgICAgYXhpc05hbWU6IHRoaXMuYXhpc05hbWUsXG4gICAgICAgICAgICBheGlzSW5kZXg6IHRoaXMuY3Jvc3NoYWlyLmF4aXMuYXhpc0luZGV4XG4gICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2Uubm90aWZ5KEhJREVfVE9PTFRJUCwge1xuICAgICAgICAgICAgY3Jvc3NoYWlyOiB0aGlzLmNyb3NzaGFpcixcbiAgICAgICAgICAgIGF4aXNOYW1lOiB0aGlzLmF4aXNOYW1lLFxuICAgICAgICAgICAgYXhpc0luZGV4OiB0aGlzLmNyb3NzaGFpci5heGlzLmF4aXNJbmRleFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IHsgY3Jvc3NoYWlyLCBvcHRpb25zOiB7IHBvc2l0aW9uLCBwYWRkaW5nIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gIWNyb3NzaGFpci5heGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSBjcm9zc2hhaXIubGluZS5iYm94KCk7XG4gICAgICAgIGxldCBob3Jpem9udGFsQWxpZ24sIHZlcnRpY2FsQWxpZ24sIHBvaW50O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgaG9yaXpvbnRhbEFsaWduID0gQ0VOVEVSO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gVE9QO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gbGluZUJveC5ib3R0b21MZWZ0KCkudHJhbnNsYXRlKDAsIHBhZGRpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgICAgIHBvaW50ID0gbGluZUJveC50b3BMZWZ0KCkudHJhbnNsYXRlKDAsIC1wYWRkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsQWxpZ24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGxpbmVCb3gudG9wTGVmdCgpLnRyYW5zbGF0ZSgtcGFkZGluZywgMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWxBbGlnbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBsaW5lQm94LnRvcFJpZ2h0KCkudHJhbnNsYXRlKHBhZGRpbmcsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgIGFsaWduOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbEFsaWduLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDcm9zc2hhaXJUb29sdGlwLCB7XG4gICAgcGFkZGluZzogMTBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDcm9zc2hhaXJUb29sdGlwO1xuXG4iLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQ2F0ZWdvcnlBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgQ3Jvc3NoYWlyVG9vbHRpcCBmcm9tICcuL2Nyb3NzaGFpci10b29sdGlwJztcblxuaW1wb3J0IHsgQkxBQ0ssIFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgQ3Jvc3NoYWlyIGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihjaGFydFNlcnZpY2UsIGF4aXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5heGlzID0gYXhpcztcbiAgICAgICAgdGhpcy5zdGlja3lNb2RlID0gYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcztcblxuICAgICAgICBjb25zdCB0b29sdGlwT3B0aW9ucyA9IHRoaXMub3B0aW9ucy50b29sdGlwO1xuXG4gICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgQ3Jvc3NoYWlyVG9vbHRpcChjaGFydFNlcnZpY2UsIHRoaXMsXG4gICAgICAgICAgICAgICAgZGVlcEV4dGVuZCh7fSwgdG9vbHRpcE9wdGlvbnMsIHsgc3RpY2t5TW9kZTogdGhpcy5zdGlja3lNb2RlIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd0F0KHBvaW50KSB7XG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcbiAgICAgICAgdGhpcy5tb3ZlTGluZSgpO1xuICAgICAgICB0aGlzLmxpbmUudmlzaWJsZSh0cnVlKTtcblxuICAgICAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAuc2hvd0F0KHBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMubGluZS52aXNpYmxlKGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy50b29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZUxpbmUoKSB7XG4gICAgICAgIGNvbnN0IHsgYXhpcywgcG9pbnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmdldEJveCgpO1xuICAgICAgICBjb25zdCBkaW0gPSB2ZXJ0aWNhbCA/IFkgOiBYO1xuICAgICAgICBjb25zdCBsaW5lU3RhcnQgPSBuZXcgZ2VvbS5Qb2ludChib3gueDEsIGJveC55MSk7XG4gICAgICAgIGxldCBsaW5lRW5kO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgbGluZUVuZCA9IG5ldyBnZW9tLlBvaW50KGJveC54MiwgYm94LnkxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVFbmQgPSBuZXcgZ2VvbS5Qb2ludChib3gueDEsIGJveC55Mik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreU1vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gYXhpcy5nZXRTbG90KGF4aXMucG9pbnRDYXRlZ29yeUluZGV4KHBvaW50KSk7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0W2RpbV0gPSBsaW5lRW5kW2RpbV0gPSBzbG90LmNlbnRlcigpW2RpbV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydFtkaW1dID0gbGluZUVuZFtkaW1dID0gcG9pbnRbZGltXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm94ID0gYm94O1xuXG4gICAgICAgIHRoaXMubGluZS5tb3ZlVG8obGluZVN0YXJ0KS5saW5lVG8obGluZUVuZCk7XG4gICAgfVxuXG4gICAgZ2V0Qm94KCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzO1xuICAgICAgICBjb25zdCBheGVzID0gYXhpcy5wYW5lLmF4ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYm94ID0gYXhpcy5saW5lQm94KCkuY2xvbmUoKTtcbiAgICAgICAgY29uc3QgZGltID0gdmVydGljYWwgPyBYIDogWTtcbiAgICAgICAgbGV0IGF4aXNMaW5lQm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsICE9PSB2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGlmICghYXhpc0xpbmVCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xpbmVCb3ggPSBjdXJyZW50QXhpcy5saW5lQm94KCkuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBheGlzTGluZUJveC53cmFwKGN1cnJlbnRBeGlzLmxpbmVCb3goKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm94W2RpbSArIDFdID0gYXhpc0xpbmVCb3hbZGltICsgMV07XG4gICAgICAgIGJveFtkaW0gKyAyXSA9IGF4aXNMaW5lQm94W2RpbSArIDJdO1xuXG4gICAgICAgIHJldHVybiBib3g7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlzdWFsKCkge1xuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLmxpbmUgPSBuZXcgZHJhdy5QYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRpb25zLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogb3B0aW9ucy5kYXNoVHlwZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW92ZUxpbmUoKTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMubGluZSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy50b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENyb3NzaGFpciwge1xuICAgIGNvbG9yOiBCTEFDSyxcbiAgICB3aWR0aDogMixcbiAgICB6SW5kZXg6IC0xLFxuICAgIHRvb2x0aXA6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ3Jvc3NoYWlyOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwgfSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi9jb3JlJztcblxuY2xhc3MgQ2hhcnRDb250YWluZXIgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMucGFuZSA9IHBhbmU7XG4gICAgfVxuXG4gICAgc2hvdWxkQ2xpcCgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLm9wdGlvbnMuY2xpcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfY2xpcEJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZS5jaGFydHNCb3goKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuR3JvdXAoe1xuICAgICAgICAgICAgekluZGV4OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnNob3VsZENsaXAoKSkge1xuICAgICAgICAgICAgY29uc3QgY2xpcEJveCA9IHRoaXMuY2xpcEJveCA9IHRoaXMuX2NsaXBCb3goKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBSZWN0ID0gY2xpcEJveC50b1JlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGNsaXBQYXRoID0gZHJhdy5QYXRoLmZyb21SZWN0KGNsaXBSZWN0KTtcbiAgICAgICAgICAgIGFsaWduUGF0aFRvUGl4ZWwoY2xpcFBhdGgpO1xuXG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5jbGlwKGNsaXBQYXRoKTtcbiAgICAgICAgICAgIHRoaXMudW5jbGlwTGFiZWxzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFja1Jvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHVuY2xpcExhYmVscygpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbjogY2hhcnRzLCBjbGlwQm94IH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBjaGFydHNbaV0ucG9pbnRzIHx8IHt9O1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCAmJiBwb2ludC52aXNpYmxlICE9PSBmYWxzZSAmJiBwb2ludC5vdmVybGFwc0JveCAmJiBwb2ludC5vdmVybGFwc0JveChjbGlwQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQudW5jbGlwRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnVuY2xpcEVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxhYmVsLCBub3RlIH0gPSBwb2ludDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsICYmIGxhYmVsLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbC5hbGlnblRvQ2xpcEJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5hbGlnblRvQ2xpcEJveChjbGlwQm94KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90ZSAmJiBub3RlLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub3B0aW9ucy5ub2NsaXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLnBhcmVudDtcbiAgICB9XG59XG5cbkNoYXJ0Q29udGFpbmVyLnByb3RvdHlwZS5pc1N0YWNrUm9vdCA9IHRydWU7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0Q29udGFpbmVyOyIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94RWxlbWVudCwgVGl0bGUsIEJveCB9IGZyb20gJy4uL2NvcmUnO1xuaW1wb3J0IHsgQ2hhcnRQYW5lIH0gZnJvbSAnLi9hcGktZWxlbWVudHMnO1xuaW1wb3J0IENoYXJ0Q29udGFpbmVyIGZyb20gJy4vY2hhcnQtY29udGFpbmVyJztcblxuaW1wb3J0IHsgUEFORV9SRU5ERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUT1AsIExFRlQsIFgsIFkgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVlcEV4dGVuZCwgaXNPYmplY3QsIGxhc3QsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgUGFuZSBleHRlbmRzIEJveEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pZCA9IHBhbmVJRCgpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlVGl0bGUoKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQ2hhcnRFbGVtZW50KCk7XG5cbiAgICAgICAgdGhpcy5jaGFydENvbnRhaW5lciA9IG5ldyBDaGFydENvbnRhaW5lcih7fSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGVudCk7XG5cbiAgICAgICAgdGhpcy5heGVzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG4gICAgfVxuXG4gICAgY3JlYXRlVGl0bGUoKSB7XG4gICAgICAgIGxldCB0aXRsZU9wdGlvbnMgPSB0aGlzLm9wdGlvbnMudGl0bGU7XG4gICAgICAgIGlmIChpc09iamVjdCh0aXRsZU9wdGlvbnMpKSB7XG4gICAgICAgICAgICB0aXRsZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aXRsZU9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBhbGlnbjogdGl0bGVPcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBUT1BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aXRsZSA9IFRpdGxlLmJ1aWxkVGl0bGUodGl0bGVPcHRpb25zLCB0aGlzLCBQYW5lLnByb3RvdHlwZS5vcHRpb25zLnRpdGxlKTtcbiAgICB9XG5cbiAgICBhcHBlbmRBeGlzKGF4aXMpIHtcbiAgICAgICAgdGhpcy5jb250ZW50LmFwcGVuZChheGlzKTtcbiAgICAgICAgdGhpcy5heGVzLnB1c2goYXhpcyk7XG4gICAgICAgIGF4aXMucGFuZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQXhpc0F0KGF4aXMsIHBvcykge1xuICAgICAgICB0aGlzLmNvbnRlbnQuYXBwZW5kKGF4aXMpO1xuICAgICAgICB0aGlzLmF4ZXMuc3BsaWNlKHBvcywgMCwgYXhpcyk7XG4gICAgICAgIGF4aXMucGFuZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhcnRDb250YWluZXIucGFyZW50ICE9PSB0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hcHBlbmQodGhpcy5jaGFydENvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0cy5wdXNoKGNoYXJ0KTtcbiAgICAgICAgdGhpcy5jaGFydENvbnRhaW5lci5hcHBlbmQoY2hhcnQpO1xuICAgICAgICBjaGFydC5wYW5lID0gdGhpcztcbiAgICB9XG5cbiAgICBlbXB0eSgpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICBpZiAocGxvdEFyZWEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5heGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEucmVtb3ZlQXhpcyh0aGlzLmF4ZXNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEucmVtb3ZlQ2hhcnQodGhpcy5jaGFydHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGVzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG5cbiAgICAgICAgdGhpcy5jb250ZW50LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb250ZW50LmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuY2hhcnRDb250YWluZXIuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIC8vIENvbnRlbnQgKHN1Y2ggYXMgY2hhcnRzKSBpcyByZW5kZXJlZCwgYnV0IGV4Y2x1ZGVkIGZyb20gcmVmbG93c1xuICAgICAgICBsZXQgY29udGVudDtcbiAgICAgICAgaWYgKGxhc3QodGhpcy5jaGlsZHJlbikgPT09IHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgY29udGVudCA9IHRoaXMuY2hpbGRyZW4ucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5yZWZsb3codGFyZ2V0Qm94KTtcblxuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEJveC55MSArPSB0aGlzLnRpdGxlLmJveC5oZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpc3VhbFN0eWxlKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN1cGVyLnZpc3VhbFN0eWxlKCk7XG4gICAgICAgIHN0eWxlLnpJbmRleCA9IC0xMDtcblxuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29tcGxldGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVHcmlkTGluZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YWNrUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xpcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRMaW5lcygpIHtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IGF4ZXMuY29uY2F0KHRoaXMucGFyZW50LmF4ZXMpO1xuICAgICAgICBjb25zdCB2R3JpZExpbmVzID0gW107XG4gICAgICAgIGNvbnN0IGhHcmlkTGluZXMgPSBbXTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIElzIGZ1bGwgY29tYmluYXRpb24gcmVhbGx5IG5lY2Vzc2FyeT9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICAgICAgY29uc3QgZ3JpZExpbmVzID0gdmVydGljYWwgPyB2R3JpZExpbmVzIDogaEdyaWRMaW5lcztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWxsQXhlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChncmlkTGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsdEF4aXMgPSBhbGxBeGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVydGljYWwgIT09IGFsdEF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kKGdyaWRMaW5lcywgYXhpcy5jcmVhdGVHcmlkTGluZXMoYWx0QXhpcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy52aXN1YWwuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250ZW50LmNyZWF0ZUdyYWRpZW50ID0gdGhpcy5jcmVhdGVHcmFkaWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRlbnQucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIHRoaXMuY29udGVudC5wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodGhpcy50aXRsZS52aXN1YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRoaXMuY29udGVudC52aXN1YWwpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5ub3RpZnlSZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjaGFydHNCb3goKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmF4ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaGFydHNCb3ggPSBuZXcgQm94KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNWYWx1ZUZpZWxkID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgICAgICBjb25zdCBsaW5lQm94ID0gYXhpcy5saW5lQm94KCk7XG4gICAgICAgICAgICBjaGFydHNCb3hbYXhpc1ZhbHVlRmllbGQgKyAxXSA9IGxpbmVCb3hbYXhpc1ZhbHVlRmllbGQgKyAxXTtcbiAgICAgICAgICAgIGNoYXJ0c0JveFtheGlzVmFsdWVGaWVsZCArIDJdID0gbGluZUJveFtheGlzVmFsdWVGaWVsZCArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYXJ0c0JveC54MiA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgYWxsQXhlcyA9IHRoaXMucGFyZW50LmF4ZXM7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBhbGxBeGVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2lkeF07XG4gICAgICAgICAgICAgICAgaWYgKCFheGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluZUJveCA9IGF4aXMubGluZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjaGFydHNCb3gueDEgPSBsaW5lQm94LngxO1xuICAgICAgICAgICAgICAgICAgICBjaGFydHNCb3gueDIgPSBsaW5lQm94LngyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhcnRzQm94O1xuICAgIH1cblxuICAgIGNsaXBCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Q29udGFpbmVyLmNsaXBCb3g7XG4gICAgfVxuXG4gICAgbm90aWZ5UmVuZGVyKCkge1xuICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5nZXRTZXJ2aWNlKCk7XG4gICAgICAgIGlmIChzZXJ2aWNlKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLm5vdGlmeShQQU5FX1JFTkRFUiwge1xuICAgICAgICAgICAgICAgIHBhbmU6IG5ldyBDaGFydFBhbmUodGhpcyksXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMucGFuZUluZGV4LFxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubGV0IElEID0gMTtcblxuZnVuY3Rpb24gcGFuZUlEKCkge1xuICAgIHJldHVybiBcInBhbmVcIiArIElEKys7XG59XG5cblBhbmUucHJvdG90eXBlLmlzU3RhY2tSb290ID0gdHJ1ZTtcblxuc2V0RGVmYXVsdE9wdGlvbnMoUGFuZSwge1xuICAgIHpJbmRleDogLTEsXG4gICAgc2hyaW5rVG9GaXQ6IHRydWUsXG4gICAgdGl0bGU6IHtcbiAgICAgICAgYWxpZ246IExFRlRcbiAgICB9LFxuICAgIHZpc2libGU6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQYW5lO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwZW5kSWZOb3ROdWxsKGFycmF5LCBlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgYXJyYXkucHVzaChlbGVtZW50KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlZ21lbnRWaXNpYmxlKHNlcmllcywgZmllbGRzLCBpbmRleCkge1xuICAgIGNvbnN0IHZpc2libGUgPSBmaWVsZHMudmlzaWJsZTtcbiAgICBpZiAoZGVmaW5lZCh2aXNpYmxlKSkge1xuICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludFZpc2liaWxpdHkgPSBzZXJpZXMucG9pbnRWaXNpYmlsaXR5O1xuICAgIGlmIChwb2ludFZpc2liaWxpdHkpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50VmlzaWJpbGl0eVtpbmRleF07XG4gICAgfVxufVxuXG4iLCJpbXBvcnQgeyBpc051bWJlciwgaXNTdHJpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBzZWdtZW50VmlzaWJsZSBmcm9tICcuL3NlZ21lbnQtdmlzaWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmRTZWdtZW50cyhzZXJpZXMpIHtcbiAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGRhdGEubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBwb2ludERhdGEgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoc2VyaWVzLCBpZHgpO1xuICAgICAgICBsZXQgdmFsdWUgPSBwb2ludERhdGEudmFsdWVGaWVsZHMudmFsdWU7XG5cblxuICAgICAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgcG9pbnREYXRhLnZpc2libGUgPSBzZWdtZW50VmlzaWJsZShzZXJpZXMsIHBvaW50RGF0YS5maWVsZHMsIGlkeCkgIT09IGZhbHNlO1xuXG4gICAgICAgICAgICBwb2ludERhdGEudmFsdWUgPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChwb2ludERhdGEpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnREYXRhLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBzdW0gKz0gcG9pbnREYXRhLnZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogc3VtLFxuICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgY291bnQ6IGNvdW50XG4gICAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlcXVhbHNJZ25vcmVDYXNlKGEsIGIpIHtcbiAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgIHJldHVybiBhLnRvTG93ZXJDYXNlKCkgPT09IGIudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYSA9PT0gYjtcbn0iLCJpbXBvcnQgeyBpbkFycmF5IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgdHlwZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGNvbnN0IHNlcmllc1R5cGVzID0gW10uY29uY2F0KHR5cGVzKTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzZXJpZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2lkeF07XG4gICAgICAgIGlmIChpbkFycmF5KGN1cnJlbnRTZXJpZXMudHlwZSwgc2VyaWVzVHlwZXMpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnLi4vLi4vZGF0ZS11dGlscyc7XG5pbXBvcnQgeyBnZXR0ZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREYXRlRmllbGQoZmllbGQsIHJvdywgaW50bFNlcnZpY2UpIHtcbiAgICBpZiAocm93ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gXCJfZGF0ZV9cIiArIGZpZWxkO1xuICAgIGxldCB2YWx1ZSA9IHJvd1trZXldO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgZ2V0dGVyKGZpZWxkLCB0cnVlKShyb3cpKTtcbiAgICAgICAgcm93W2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59IiwiaW1wb3J0IGVxdWFsc0lnbm9yZUNhc2UgZnJvbSAnLi9lcXVhbHMtaWdub3JlLWNhc2UnO1xuXG5pbXBvcnQgeyBEQVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzRGF0ZUF4aXMoYXhpc09wdGlvbnMsIHNhbXBsZUNhdGVnb3J5KSB7XG4gICAgY29uc3QgdHlwZSA9IGF4aXNPcHRpb25zLnR5cGU7XG4gICAgY29uc3QgZGF0ZUNhdGVnb3J5ID0gc2FtcGxlQ2F0ZWdvcnkgaW5zdGFuY2VvZiBEYXRlO1xuXG4gICAgcmV0dXJuICghdHlwZSAmJiBkYXRlQ2F0ZWdvcnkpIHx8IGVxdWFsc0lnbm9yZUNhc2UodHlwZSwgREFURSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2luZ2xlSXRlbU9yQXJyYXkoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkubGVuZ3RoID09PSAxID8gYXJyYXlbMF0gOiBhcnJheTtcbn0iLCJpbXBvcnQgeyBJTlRFUlBPTEFURSwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb252ZXJ0YWJsZVRvTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5cbmNvbnN0IEFSRUFfUkVHRVggPSAvYXJlYS9pO1xuXG5mdW5jdGlvbiBzZXJpZXNNaXNzaW5nVmFsdWVzKHNlcmllcykge1xuICAgIGlmIChzZXJpZXMubWlzc2luZ1ZhbHVlcykge1xuICAgICAgICByZXR1cm4gc2VyaWVzLm1pc3NpbmdWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFSRUFfUkVHRVgudGVzdChzZXJpZXMudHlwZSkgfHwgc2VyaWVzLnN0YWNrID8gWkVSTyA6IElOVEVSUE9MQVRFO1xufVxuXG5mdW5jdGlvbiBoYXNWYWx1ZShzZXJpZXMsIGl0ZW0pIHtcbiAgICBjb25zdCBmaWVsZHMgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoc2VyaWVzLCBudWxsLCBpdGVtKTtcbiAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGZpZWxkcy52YWx1ZUZpZWxkcztcblxuICAgIGZvciAobGV0IGZpZWxkIGluIHZhbHVlRmllbGRzKSB7XG4gICAgICAgIGlmIChjb252ZXJ0YWJsZVRvTnVtYmVyKHZhbHVlRmllbGRzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaW5kTmV4dCh7IHN0YXJ0LCBkaXIsIG1pbiwgbWF4LCBnZXR0ZXIsIGhhc0l0ZW0sIHNlcmllcyB9KSB7XG4gICAgbGV0IHBvaW50SGFzVmFsdWUsIG91dFBvaW50O1xuICAgIGxldCBpZHggPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlkeCArPSBkaXI7XG4gICAgICAgIC8vYWdncmVnYXRpbmcgYW5kIGJpbmRpbmcgdGhlIGl0ZW0gdGFrZXMgdG9vIG11Y2ggdGltZSBmb3IgbGFyZ2UgbnVtYmVyIG9mIGNhdGVnb3JpZXNcbiAgICAgICAgLy93aWxsIGFzc3VtZSB0aGF0IGlmIHRoZSBhZ2dyZWdhdGlvbiBkb2VzIG5vdCBjcmVhdGUgdmFsdWUgZm9yIGEgbWlzc2luZyBpdGVtIGZvciBvbmUgaXQgd2lsbCBub3QgY3JlYXRlIGZvciBvdGhlcnNcbiAgICAgICAgaWYgKGhhc0l0ZW0oaWR4KSkge1xuICAgICAgICAgICAgb3V0UG9pbnQgPSBnZXR0ZXIoaWR4KTtcbiAgICAgICAgICAgIHBvaW50SGFzVmFsdWUgPSBoYXNWYWx1ZShzZXJpZXMsIG91dFBvaW50Lml0ZW0pO1xuICAgICAgICB9XG4gICAgfSB3aGlsZSAobWluIDw9IGlkeCAmJiBpZHggPD0gbWF4ICYmICFwb2ludEhhc1ZhbHVlKTtcblxuICAgIGlmIChwb2ludEhhc1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiBvdXRQb2ludDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU91dE9mUmFuZ2VQb2ludHMoc2VyaWVzLCByYW5nZSwgY291bnQsIGdldHRlciwgaGFzSXRlbSkge1xuICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHJhbmdlO1xuICAgIGNvbnN0IGhhc01pblBvaW50ID0gbWluID4gMCAmJiBtaW4gPCBjb3VudDtcbiAgICBjb25zdCBoYXNNYXhQb2ludCA9IG1heCArIDEgPCBjb3VudDtcblxuICAgIGlmIChoYXNNaW5Qb2ludCB8fCBoYXNNYXhQb2ludCkge1xuICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWVzID0gc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpO1xuICAgICAgICBsZXQgbWluUG9pbnQsIG1heFBvaW50O1xuICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcyAhPT0gSU5URVJQT0xBVEUpIHtcbiAgICAgICAgICAgIGlmIChoYXNNaW5Qb2ludCkge1xuICAgICAgICAgICAgICAgIG1pblBvaW50ID0gZ2V0dGVyKG1pbiAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzTWF4UG9pbnQpIHtcbiAgICAgICAgICAgICAgICBtYXhQb2ludCA9IGdldHRlcihtYXggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBvdXRQb2ludCwgcG9pbnRIYXNWYWx1ZTtcbiAgICAgICAgICAgIGlmIChoYXNNaW5Qb2ludCkge1xuICAgICAgICAgICAgICAgIG91dFBvaW50ID0gZ2V0dGVyKG1pbiAtIDEpO1xuICAgICAgICAgICAgICAgIHBvaW50SGFzVmFsdWUgPSBoYXNWYWx1ZShzZXJpZXMsIG91dFBvaW50Lml0ZW0pO1xuICAgICAgICAgICAgICAgIGlmICghcG9pbnRIYXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IGZpbmROZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBtaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBjb3VudCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0l0ZW06IGhhc0l0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtaW5Qb2ludCA9IG91dFBvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc01heFBvaW50KSB7XG4gICAgICAgICAgICAgICAgb3V0UG9pbnQgPSBnZXR0ZXIobWF4ICsgMSk7XG4gICAgICAgICAgICAgICAgcG9pbnRIYXNWYWx1ZSA9IGhhc1ZhbHVlKHNlcmllcywgb3V0UG9pbnQuaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludEhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gZmluZE5leHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heDogY291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNJdGVtOiBoYXNJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBvdXRQb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWluUG9pbnQpIHtcbiAgICAgICAgICAgIHNlcmllcy5fb3V0T2ZSYW5nZU1pblBvaW50ID0gbWluUG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWF4UG9pbnQpIHtcbiAgICAgICAgICAgIHNlcmllcy5fb3V0T2ZSYW5nZU1heFBvaW50ID0gbWF4UG9pbnQ7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IENyb3NzaGFpciBmcm9tICcuLi9jcm9zc2hhaXIvY3Jvc3NoYWlyJztcbmltcG9ydCBQYW5lIGZyb20gJy4uL3BhbmUnO1xuaW1wb3J0IHsgaGFzVmFsdWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IFdISVRFLCBCTEFDSywgWCwgWSwgQ09PUkRfUFJFQ0lTSU9OLCBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIFNUQVJULCBFTkQgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFwcGVuZCwgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0U3BhY2luZywgZ2V0VGVtcGxhdGUsIGluQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBsaW1pdFZhbHVlLCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQbG90QXJlYUJhc2UgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHNlcmllcywgb3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuaW5pdEZpZWxkcyhzZXJpZXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5pbml0U2VyaWVzKCk7XG4gICAgICAgIHRoaXMuY2hhcnRzID0gW107XG4gICAgICAgIHRoaXMub3B0aW9ucy5sZWdlbmQgPSB0aGlzLm9wdGlvbnMubGVnZW5kIHx8IHt9O1xuICAgICAgICB0aGlzLm9wdGlvbnMubGVnZW5kLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuYXhlcyA9IFtdO1xuICAgICAgICB0aGlzLmNyb3NzaGFpcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG4gICAgICAgIHRoaXMub3JpZ2luYWxPcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICB0aGlzLmNyZWF0ZVBhbmVzKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ3Jvc3NoYWlycygpO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7IH1cblxuICAgIGluaXRTZXJpZXMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMuc2VyaWVzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzZXJpZXNbaV0uaW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUGFuZXMoKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0geyB0aXRsZTogeyBjb2xvcjogKHRoaXMub3B0aW9ucy50aXRsZSB8fCB7fSkuY29sb3IgfSB9O1xuICAgICAgICBjb25zdCBwYW5lcyA9IFtdO1xuICAgICAgICBjb25zdCBwYW5lT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5wYW5lcyB8fCBbXTtcbiAgICAgICAgY29uc3QgcGFuZXNMZW5ndGggPSBNYXRoLm1heChwYW5lT3B0aW9ucy5sZW5ndGgsIDEpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldFRpdGxlKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcob3B0aW9ucy50aXRsZSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnRpdGxlID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRpdGxlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy50aXRsZSA9IGRlZXBFeHRlbmQoe30sIGRlZmF1bHRzLnRpdGxlLCBvcHRpb25zLnRpdGxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHBhbmVPcHRpb25zW2ldIHx8IHt9O1xuICAgICAgICAgICAgc2V0VGl0bGUob3B0aW9ucywgZGVmYXVsdHMpO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IG5ldyBQYW5lKG9wdGlvbnMpO1xuICAgICAgICAgICAgY3VycmVudFBhbmUucGFuZUluZGV4ID0gaTtcblxuICAgICAgICAgICAgcGFuZXMucHVzaChjdXJyZW50UGFuZSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjdXJyZW50UGFuZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhbmVzID0gcGFuZXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQ3Jvc3NoYWlycyhwYW5lcyA9IHRoaXMucGFuZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYW5lLmF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzID0gcGFuZS5heGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmIChheGlzLm9wdGlvbnMuY3Jvc3NoYWlyICYmIGF4aXMub3B0aW9ucy5jcm9zc2hhaXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q3Jvc3NoYWlyID0gbmV3IENyb3NzaGFpcih0aGlzLmNoYXJ0U2VydmljZSwgYXhpcywgYXhpcy5vcHRpb25zLmNyb3NzaGFpcik7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcm9zc2hhaXJzLnB1c2goY3VycmVudENyb3NzaGFpcik7XG4gICAgICAgICAgICAgICAgICAgIHBhbmUuY29udGVudC5hcHBlbmQoY3VycmVudENyb3NzaGFpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQ3Jvc3NoYWlycyhwYW5lKSB7XG4gICAgICAgIGNvbnN0IGNyb3NzaGFpcnMgPSB0aGlzLmNyb3NzaGFpcnM7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSBwYW5lLmF4ZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGNyb3NzaGFpcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXhlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChjcm9zc2hhaXJzW2ldLmF4aXMgPT09IGF4ZXNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NoYWlycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVDcm9zc2hhaXJzKCkge1xuICAgICAgICBjb25zdCBjcm9zc2hhaXJzID0gdGhpcy5jcm9zc2hhaXJzO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjcm9zc2hhaXJzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNyb3NzaGFpcnNbaWR4XS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5kUGFuZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcztcbiAgICAgICAgbGV0IG1hdGNoaW5nUGFuZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocGFuZXNbaV0ub3B0aW9ucy5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hpbmdQYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdQYW5lIHx8IHBhbmVzWzBdO1xuICAgIH1cblxuICAgIGZpbmRQb2ludFBhbmUocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGFuZXMgPSB0aGlzLnBhbmVzO1xuICAgICAgICBsZXQgbWF0Y2hpbmdQYW5lO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYW5lc1tpXS5ib3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGluZ1BhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGluZ1BhbmU7XG4gICAgfVxuXG4gICAgYXBwZW5kQXhpcyhheGlzKSB7XG4gICAgICAgIGNvbnN0IHBhbmUgPSB0aGlzLmZpbmRQYW5lKGF4aXMub3B0aW9ucy5wYW5lKTtcblxuICAgICAgICBwYW5lLmFwcGVuZEF4aXMoYXhpcyk7XG4gICAgICAgIHRoaXMuYXhlcy5wdXNoKGF4aXMpO1xuICAgICAgICBheGlzLnBsb3RBcmVhID0gdGhpcztcbiAgICB9XG5cbiAgICByZW1vdmVBeGlzKGF4aXNUb1JlbW92ZSkge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEF4ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMuYXhlc1tpXTtcbiAgICAgICAgICAgIGlmIChheGlzVG9SZW1vdmUgIT09IGF4aXMpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4ZXMucHVzaChheGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXhpcy5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4ZXMgPSBmaWx0ZXJlZEF4ZXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgdGhpcy5jaGFydHMucHVzaChjaGFydCk7XG4gICAgICAgIGlmIChwYW5lKSB7XG4gICAgICAgICAgICBwYW5lLmFwcGVuZENoYXJ0KGNoYXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNoYXJ0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUNoYXJ0KGNoYXJ0VG9SZW1vdmUpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRDaGFydHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKGNoYXJ0ICE9PSBjaGFydFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRDaGFydHMucHVzaChjaGFydCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoYXJ0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hhcnRzID0gZmlsdGVyZWRDaGFydHM7XG4gICAgfVxuXG4gICAgYWRkVG9MZWdlbmQoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gc2VyaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGVnZW5kID0gdGhpcy5vcHRpb25zLmxlZ2VuZDtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gbGVnZW5kLmxhYmVscyB8fCB7fTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVJdGVtcyA9IGxlZ2VuZC5pbmFjdGl2ZUl0ZW1zIHx8IHt9O1xuICAgICAgICBjb25zdCBpbmFjdGl2ZUl0ZW1zTGFiZWxzID0gaW5hY3RpdmVJdGVtcy5sYWJlbHMgfHwge307XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNWaXNpYmxlID0gY3VycmVudFNlcmllcy52aXNpYmxlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2VyaWVzLnZpc2libGVJbkxlZ2VuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRleHQgPSBjdXJyZW50U2VyaWVzLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gc2VyaWVzVmlzaWJsZSA/IGdldFRlbXBsYXRlKGxhYmVscykgOiBnZXRUZW1wbGF0ZShpbmFjdGl2ZUl0ZW1zTGFiZWxzKSB8fCBnZXRUZW1wbGF0ZShsYWJlbHMpO1xuICAgICAgICAgICAgaWYgKGxhYmVsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gbGFiZWxUZW1wbGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGhhc1ZhbHVlKHRleHQpID8gdGV4dCA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHNlcmllczogY3VycmVudFNlcmllc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGN1cnJlbnRTZXJpZXMuX2RlZmF1bHRzO1xuICAgICAgICAgICAgbGV0IGNvbG9yID0gY3VycmVudFNlcmllcy5jb2xvcjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbG9yKSAmJiBkZWZhdWx0cykge1xuICAgICAgICAgICAgICAgIGNvbG9yID0gZGVmYXVsdHMuY29sb3I7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpdGVtTGFiZWxPcHRpb25zLCBtYXJrZXJDb2xvcjtcbiAgICAgICAgICAgIGlmIChzZXJpZXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaXRlbUxhYmVsT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIG1hcmtlckNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW1MYWJlbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpbmFjdGl2ZUl0ZW1zTGFiZWxzLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBmb250OiBpbmFjdGl2ZUl0ZW1zTGFiZWxzLmZvbnRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1hcmtlckNvbG9yID0gaW5hY3RpdmVJdGVtcy5tYXJrZXJzLmNvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUodGV4dCkgJiYgdGV4dCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsczogaXRlbUxhYmVsT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ29sb3I6IG1hcmtlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IGN1cnJlbnRTZXJpZXMsXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogc2VyaWVzVmlzaWJsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXBwZW5kKGxlZ2VuZC5pdGVtcywgZGF0YSk7XG4gICAgfVxuXG4gICAgZ3JvdXBBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHhBeGVzID0gW107XG4gICAgICAgIGNvbnN0IHlBeGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgcGFuZUl4ID0gMDsgcGFuZUl4IDwgcGFuZXMubGVuZ3RoOyBwYW5lSXgrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZUF4ZXMgPSBwYW5lc1twYW5lSXhdLmF4ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBheGlzSXggPSAwOyBheGlzSXggPCBwYW5lQXhlcy5sZW5ndGg7IGF4aXNJeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IHBhbmVBeGVzW2F4aXNJeF07XG4gICAgICAgICAgICAgICAgaWYgKGF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICB5QXhlcy5wdXNoKGF4aXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHhBeGVzLnB1c2goYXhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgeDogeEF4ZXMsIHk6IHlBeGVzLCBhbnk6IHhBeGVzLmNvbmNhdCh5QXhlcykgfTtcbiAgICB9XG5cbiAgICBncm91cFNlcmllc0J5UGFuZSgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHNlcmllc0J5UGFuZSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMuc2VyaWVzUGFuZU5hbWUoY3VycmVudFNlcmllcyk7XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNCeVBhbmVbcGFuZV0pIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNCeVBhbmVbcGFuZV0ucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzQnlQYW5lW3BhbmVdID0gWyBjdXJyZW50U2VyaWVzIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VyaWVzQnlQYW5lO1xuICAgIH1cblxuICAgIGZpbHRlclZpc2libGVTZXJpZXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW2ldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXJpZXMudmlzaWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnBsb3RBcmVhO1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5tYXJnaW4pO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGFyZ2V0Qm94LmNsb25lKCkudW5wYWQobWFyZ2luKTtcbiAgICAgICAgdGhpcy5yZWZsb3dQYW5lcygpO1xuXG4gICAgICAgIHRoaXMuZGV0YWNoTGFiZWxzKCk7XG4gICAgICAgIHRoaXMucmVmbG93QXhlcyhwYW5lcyk7XG4gICAgICAgIHRoaXMucmVmbG93Q2hhcnRzKHBhbmVzKTtcbiAgICB9XG5cbiAgICByZWRyYXcocGFuZXMpIHtcbiAgICAgICAgY29uc3QgcGFuZXNBcnJheSA9IFtdLmNvbmNhdChwYW5lcyk7XG4gICAgICAgIHRoaXMuaW5pdFNlcmllcygpO1xuXG4gICAgICAgIC8vcHJldmVudHMgbGVhayBkdXJpbmcgcGFydGlhbCByZWRyYXdzLiB0aGUgY2FjaGVkIGdyYWRpZW50cyBvYnNlcnZlcnMgcmV0YWluIHJlZmVyZW5jZSB0byB0aGUgZGVzdHJveWVkIGVsZW1lbnRzLlxuICAgICAgICBjb25zdCByb290ID0gdGhpcy5nZXRSb290KCk7XG4gICAgICAgIGlmIChyb290KSB7XG4gICAgICAgICAgICByb290LmNsZWFuR3JhZGllbnRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ3Jvc3NoYWlycyhwYW5lc0FycmF5W2ldKTtcbiAgICAgICAgICAgIHBhbmVzQXJyYXlbaV0uZW1wdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyKHBhbmVzQXJyYXkpO1xuICAgICAgICB0aGlzLmRldGFjaExhYmVscygpO1xuICAgICAgICB0aGlzLnJlZmxvd0F4ZXModGhpcy5wYW5lcyk7XG4gICAgICAgIHRoaXMucmVmbG93Q2hhcnRzKHBhbmVzQXJyYXkpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQ3Jvc3NoYWlycyhwYW5lc0FycmF5KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhbmVzQXJyYXlbaV0ucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXhpc0Nyb3NzaW5nVmFsdWVzKGF4aXMsIGNyb3NzaW5nQXhlcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gYXhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlcyA9IFtdLmNvbmNhdChcbiAgICAgICAgICAgIG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVzIHx8IG9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdmFsdWVzVG9BZGQgPSBjcm9zc2luZ0F4ZXMubGVuZ3RoIC0gY3Jvc3NpbmdWYWx1ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBjcm9zc2luZ1ZhbHVlc1swXSB8fCAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzVG9BZGQ7IGkrKykge1xuICAgICAgICAgICAgY3Jvc3NpbmdWYWx1ZXMucHVzaChkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyb3NzaW5nVmFsdWVzO1xuICAgIH1cblxuICAgIGFsaWduQXhpc1RvKGF4aXMsIHRhcmdldEF4aXMsIGNyb3NzaW5nVmFsdWUsIHRhcmdldENyb3NzaW5nVmFsdWUpIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IGF4aXMuZ2V0U2xvdChjcm9zc2luZ1ZhbHVlLCBjcm9zc2luZ1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc2xvdEVkZ2UgPSBheGlzLm9wdGlvbnMucmV2ZXJzZSA/IDIgOiAxO1xuICAgICAgICBjb25zdCB0YXJnZXRTbG90ID0gdGFyZ2V0QXhpcy5nZXRTbG90KHRhcmdldENyb3NzaW5nVmFsdWUsIHRhcmdldENyb3NzaW5nVmFsdWUsIHRydWUpO1xuICAgICAgICBjb25zdCB0YXJnZXRFZGdlID0gdGFyZ2V0QXhpcy5vcHRpb25zLnJldmVyc2UgPyAyIDogMTtcbiAgICAgICAgY29uc3QgYXhpc0JveCA9IGF4aXMuYm94LnRyYW5zbGF0ZShcbiAgICAgICAgICAgIHRhcmdldFNsb3RbWCArIHRhcmdldEVkZ2VdIC0gc2xvdFtYICsgc2xvdEVkZ2VdLFxuICAgICAgICAgICAgdGFyZ2V0U2xvdFtZICsgdGFyZ2V0RWRnZV0gLSBzbG90W1kgKyBzbG90RWRnZV1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoYXhpcy5wYW5lICE9PSB0YXJnZXRBeGlzLnBhbmUpIHtcbiAgICAgICAgICAgIGF4aXNCb3gudHJhbnNsYXRlKDAsIGF4aXMucGFuZS5ib3gueTEgLSB0YXJnZXRBeGlzLnBhbmUuYm94LnkxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF4aXMucmVmbG93KGF4aXNCb3gpO1xuICAgIH1cblxuICAgIGFsaWduQXhlcyh4QXhlcywgeUF4ZXMpIHtcbiAgICAgICAgY29uc3QgeEFuY2hvciA9IHhBeGVzWzBdO1xuICAgICAgICBjb25zdCB5QW5jaG9yID0geUF4ZXNbMF07XG4gICAgICAgIGNvbnN0IHhBbmNob3JDcm9zc2luZ3MgPSB0aGlzLmF4aXNDcm9zc2luZ1ZhbHVlcyh4QW5jaG9yLCB5QXhlcyk7XG4gICAgICAgIGNvbnN0IHlBbmNob3JDcm9zc2luZ3MgPSB0aGlzLmF4aXNDcm9zc2luZ1ZhbHVlcyh5QW5jaG9yLCB4QXhlcyk7XG4gICAgICAgIGNvbnN0IGxlZnRBbmNob3JzID0ge307XG4gICAgICAgIGNvbnN0IHJpZ2h0QW5jaG9ycyA9IHt9O1xuICAgICAgICBjb25zdCB0b3BBbmNob3JzID0ge307XG4gICAgICAgIGNvbnN0IGJvdHRvbUFuY2hvcnMgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0geUF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gYXhpcy5wYW5lO1xuICAgICAgICAgICAgY29uc3QgcGFuZUlkID0gcGFuZS5pZDtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSBheGlzLm9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIExvY2F0ZSBwYW5lIGFuY2hvciwgaWYgYW55LCBhbmQgdXNlIGl0cyBheGlzQ3Jvc3NpbmdWYWx1ZXNcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHBhbmVBbmNob3IoeEF4ZXMsIHBhbmUpIHx8IHhBbmNob3I7XG4gICAgICAgICAgICBsZXQgYW5jaG9yQ3Jvc3NpbmdzID0geEFuY2hvckNyb3NzaW5ncztcblxuICAgICAgICAgICAgaWYgKGFuY2hvciAhPT0geEFuY2hvcikge1xuICAgICAgICAgICAgICAgIGFuY2hvckNyb3NzaW5ncyA9IHRoaXMuYXhpc0Nyb3NzaW5nVmFsdWVzKGFuY2hvciwgeUF4ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFsaWduQXhpc1RvKGF4aXMsIGFuY2hvciwgeUFuY2hvckNyb3NzaW5nc1tpXSwgYW5jaG9yQ3Jvc3NpbmdzW2ldKTtcblxuICAgICAgICAgICAgaWYgKGF4aXMub3B0aW9ucy5fb3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocm91bmQoYXhpcy5saW5lQm94KCkueDEpID09PSByb3VuZChhbmNob3IubGluZUJveCgpLngxKSkge1xuICAgICAgICAgICAgICAgIC8vIFB1c2ggdGhlIGF4aXMgdG8gdGhlIGxlZnQgdGhlIHByZXZpb3VzIHktYXhpcyBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBpZiAobGVmdEFuY2hvcnNbcGFuZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFsaWduVG8obGVmdEFuY2hvcnNbcGFuZUlkXS5ib3gsIExFRlQpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNsYXRlKC1heGlzLm9wdGlvbnMubWFyZ2luLCAwKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRBbmNob3JzW3BhbmVJZF0gPSBheGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdW5kKGF4aXMubGluZUJveCgpLngyKSA9PT0gcm91bmQoYW5jaG9yLmxpbmVCb3goKS54MikpIHtcbiAgICAgICAgICAgICAgICAvLyBGbGlwIHRoZSBsYWJlbHMgb24gdGhlIHJpZ2h0IGlmIHdlJ3JlIGF0IHRoZSByaWdodCBlbmQgb2YgdGhlIHBhbmVcbiAgICAgICAgICAgICAgICBpZiAoIWF4aXMuX21pcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMub3B0aW9ucy5sYWJlbHMubWlycm9yID0gIWF4aXMub3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICAgICAgICAgICAgICBheGlzLl9taXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5hbGlnbkF4aXNUbyhheGlzLCBhbmNob3IsIHlBbmNob3JDcm9zc2luZ3NbaV0sIGFuY2hvckNyb3NzaW5nc1tpXSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoZSBheGlzIHRvIHRoZSByaWdodCB0aGUgcHJldmlvdXMgeS1heGlzIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgICAgIGlmIChyaWdodEFuY2hvcnNbcGFuZUlkXSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveFxuICAgICAgICAgICAgICAgICAgICAgICAgLmFsaWduVG8ocmlnaHRBbmNob3JzW3BhbmVJZF0uYm94LCBSSUdIVClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoYXhpcy5vcHRpb25zLm1hcmdpbiwgMClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByaWdodEFuY2hvcnNbcGFuZUlkXSA9IGF4aXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSAhPT0gMCAmJiB5QW5jaG9yLnBhbmUgPT09IGF4aXMucGFuZSkge1xuICAgICAgICAgICAgICAgIGF4aXMuYWxpZ25Ubyh5QW5jaG9yKTtcbiAgICAgICAgICAgICAgICBheGlzLnJlZmxvdyhheGlzLmJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0geEF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gYXhpcy5wYW5lO1xuICAgICAgICAgICAgY29uc3QgcGFuZUlkID0gcGFuZS5pZDtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSBheGlzLm9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIExvY2F0ZSBwYW5lIGFuY2hvciBhbmQgdXNlIGl0cyBheGlzQ3Jvc3NpbmdWYWx1ZXNcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHBhbmVBbmNob3IoeUF4ZXMsIHBhbmUpIHx8IHlBbmNob3I7XG4gICAgICAgICAgICBsZXQgYW5jaG9yQ3Jvc3NpbmdzID0geUFuY2hvckNyb3NzaW5ncztcbiAgICAgICAgICAgIGlmIChhbmNob3IgIT09IHlBbmNob3IpIHtcbiAgICAgICAgICAgICAgICBhbmNob3JDcm9zc2luZ3MgPSB0aGlzLmF4aXNDcm9zc2luZ1ZhbHVlcyhhbmNob3IsIHhBeGVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hbGlnbkF4aXNUbyhheGlzLCBhbmNob3IsIHhBbmNob3JDcm9zc2luZ3NbaV0sIGFuY2hvckNyb3NzaW5nc1tpXSk7XG5cbiAgICAgICAgICAgIGlmIChheGlzLm9wdGlvbnMuX292ZXJsYXApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdW5kKGF4aXMubGluZUJveCgpLnkxKSA9PT0gcm91bmQoYW5jaG9yLmxpbmVCb3goKS55MSkpIHtcbiAgICAgICAgICAgICAgICAvLyBGbGlwIHRoZSBsYWJlbHMgb24gdG9wIGlmIHdlJ3JlIGF0IHRoZSB0b3Agb2YgdGhlIHBhbmVcbiAgICAgICAgICAgICAgICBpZiAoIWF4aXMuX21pcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMub3B0aW9ucy5sYWJlbHMubWlycm9yID0gIWF4aXMub3B0aW9ucy5sYWJlbHMubWlycm9yO1xuICAgICAgICAgICAgICAgICAgICBheGlzLl9taXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25BeGlzVG8oYXhpcywgYW5jaG9yLCB4QW5jaG9yQ3Jvc3NpbmdzW2ldLCBhbmNob3JDcm9zc2luZ3NbaV0pO1xuXG4gICAgICAgICAgICAgICAgLy8gUHVzaCB0aGUgYXhpcyBhYm92ZSB0aGUgcHJldmlvdXMgeC1heGlzIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgICAgIGlmICh0b3BBbmNob3JzW3BhbmVJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpcy5yZWZsb3coYXhpcy5ib3hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hbGlnblRvKHRvcEFuY2hvcnNbcGFuZUlkXS5ib3gsIFRPUClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoMCwgLWF4aXMub3B0aW9ucy5tYXJnaW4pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wQW5jaG9yc1twYW5lSWRdID0gYXhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyb3VuZChheGlzLmxpbmVCb3goKS55MiwgQ09PUkRfUFJFQ0lTSU9OKSA9PT0gcm91bmQoYW5jaG9yLmxpbmVCb3goKS55MiwgQ09PUkRfUFJFQ0lTSU9OKSkge1xuICAgICAgICAgICAgICAgIC8vIFB1c2ggdGhlIGF4aXMgYmVsb3cgdGhlIHByZXZpb3VzIHgtYXhpcyBzbyB0aGV5IGRvbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBpZiAoYm90dG9tQW5jaG9yc1twYW5lSWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAuYWxpZ25Ubyhib3R0b21BbmNob3JzW3BhbmVJZF0uYm94LCBCT1RUT00pXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNsYXRlKDAsIGF4aXMub3B0aW9ucy5tYXJnaW4pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tQW5jaG9yc1twYW5lSWRdID0gYXhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgYXhpcy5hbGlnblRvKHhBbmNob3IpO1xuICAgICAgICAgICAgICAgIGF4aXMucmVmbG93KGF4aXMuYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNocmlua0F4aXNXaWR0aChwYW5lcykge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5ncm91cEF4ZXMocGFuZXMpLmFueTtcbiAgICAgICAgY29uc3QgYXhpc0JveCA9IGF4aXNHcm91cEJveChheGVzKTtcbiAgICAgICAgbGV0IG92ZXJmbG93WCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYW5lLmF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93WCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1gsXG4gICAgICAgICAgICAgICAgICAgIGF4aXNCb3gud2lkdGgoKSAtIGN1cnJlbnRQYW5lLmNvbnRlbnRCb3gud2lkdGgoKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3ZlcmZsb3dYICE9PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRBeGlzLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEF4aXMucmVmbG93KGN1cnJlbnRBeGlzLmJveC5zaHJpbmsob3ZlcmZsb3dYLCAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hyaW5rQXhpc0hlaWdodChwYW5lcykge1xuICAgICAgICBsZXQgc2hyaW5rZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBjdXJyZW50UGFuZS5heGVzO1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmZsb3dZID0gTWF0aC5tYXgoMCwgYXhpc0dyb3VwQm94KGF4ZXMpLmhlaWdodCgpIC0gY3VycmVudFBhbmUuY29udGVudEJveC5oZWlnaHQoKSk7XG5cbiAgICAgICAgICAgIGlmIChvdmVyZmxvd1kgIT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGF4ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBheGVzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50QXhpcy5yZWZsb3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEF4aXMuYm94LnNocmluaygwLCBvdmVyZmxvd1kpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNocmlua2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaHJpbmtlZDtcbiAgICB9XG5cbiAgICBmaXRBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmdyb3VwQXhlcyhwYW5lcykuYW55O1xuICAgICAgICBsZXQgb2Zmc2V0WCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVBeGVzID0gY3VycmVudFBhbmUuYXhlcztcbiAgICAgICAgICAgIGNvbnN0IHBhbmVCb3ggPSBjdXJyZW50UGFuZS5jb250ZW50Qm94O1xuXG4gICAgICAgICAgICBpZiAocGFuZUF4ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNCb3ggPSBheGlzR3JvdXBCb3gocGFuZUF4ZXMpO1xuICAgICAgICAgICAgICAgIC8vIE9mZnNldFkgaXMgY2FsY3VsYXRlZCBhbmQgYXBwbGllZCBwZXIgcGFuZVxuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSBNYXRoLm1heChwYW5lQm94LnkxIC0gYXhpc0JveC55MSwgcGFuZUJveC55MiAtIGF4aXNCb3gueTIpO1xuXG4gICAgICAgICAgICAgICAgLy8gT2Zmc2V0WCBpcyBjYWxjdWxhdGVkIGFuZCBhcHBsaWVkIGdsb2JhbGx5XG4gICAgICAgICAgICAgICAgb2Zmc2V0WCA9IE1hdGgubWF4KG9mZnNldFgsIHBhbmVCb3gueDEgLSBheGlzQm94LngxKTtcblxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYW5lQXhlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IHBhbmVBeGVzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLnJlZmxvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLmJveC50cmFuc2xhdGUoMCwgb2Zmc2V0WSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBeGlzID0gYXhlc1tpXTtcblxuICAgICAgICAgICAgY3VycmVudEF4aXMucmVmbG93KFxuICAgICAgICAgICAgICAgIGN1cnJlbnRBeGlzLmJveC50cmFuc2xhdGUob2Zmc2V0WCwgMClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3dBeGVzKHBhbmVzKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmdyb3VwQXhlcyhwYW5lcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5yZWZsb3dQYW5lQXhlcyhwYW5lc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhlcy54Lmxlbmd0aCA+IDAgJiYgYXhlcy55Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGF4ZXMueCwgYXhlcy55KTtcbiAgICAgICAgICAgIHRoaXMuc2hyaW5rQXhpc1dpZHRoKHBhbmVzKTtcblxuICAgICAgICAgICAgdGhpcy5hdXRvUm90YXRlQXhpc0xhYmVscyhheGVzKTtcblxuICAgICAgICAgICAgdGhpcy5hbGlnbkF4ZXMoYXhlcy54LCBheGVzLnkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hyaW5rQXhpc1dpZHRoKHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGF4ZXMueCwgYXhlcy55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zaHJpbmtBeGlzSGVpZ2h0KHBhbmVzKTtcbiAgICAgICAgICAgIHRoaXMuYWxpZ25BeGVzKGF4ZXMueCwgYXhlcy55KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2hyaW5rQXhpc0hlaWdodChwYW5lcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhheGVzLngsIGF4ZXMueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZml0QXhlcyhwYW5lcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdXRvUm90YXRlQXhpc0xhYmVscyhncm91cGVkQXhlcykge1xuICAgICAgICBjb25zdCB7IHBhbmVzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBheGVzID0gYWxsUGFuZUF4ZXMocGFuZXMpO1xuICAgICAgICBsZXQgcm90YXRlZDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2lkeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5hdXRvUm90YXRlTGFiZWxzKCkpIHtcbiAgICAgICAgICAgICAgICByb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3RhdGVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwYW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZsb3dQYW5lQXhlcyhwYW5lc1tpZHhdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGdyb3VwZWRBeGVzLngubGVuZ3RoID4gMCAmJiBncm91cGVkQXhlcy55Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsaWduQXhlcyhncm91cGVkQXhlcy54LCBncm91cGVkQXhlcy55KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNocmlua0F4aXNXaWR0aChwYW5lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3dQYW5lQXhlcyhwYW5lKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSBwYW5lLmF4ZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGF4ZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXhlc1tpXS5yZWZsb3cocGFuZS5jb250ZW50Qm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd0NoYXJ0cyhwYW5lcykge1xuICAgICAgICBjb25zdCBjaGFydHMgPSB0aGlzLmNoYXJ0cztcbiAgICAgICAgY29uc3QgY291bnQgPSBjaGFydHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0UGFuZSA9IGNoYXJ0c1tpXS5wYW5lO1xuICAgICAgICAgICAgaWYgKCFjaGFydFBhbmUgfHwgaW5BcnJheShjaGFydFBhbmUsIHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIGNoYXJ0c1tpXS5yZWZsb3coYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZmxvd1BhbmVzKCkge1xuICAgICAgICBjb25zdCB7IGJveCwgcGFuZXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBhbmVzTGVuZ3RoID0gcGFuZXMubGVuZ3RoO1xuICAgICAgICBsZXQgcmVtYWluaW5nSGVpZ2h0ID0gYm94LmhlaWdodCgpO1xuICAgICAgICBsZXQgcmVtYWluaW5nUGFuZXMgPSBwYW5lc0xlbmd0aDtcbiAgICAgICAgbGV0IGF1dG9IZWlnaHRQYW5lcyA9IDA7XG4gICAgICAgIGxldCB0b3AgPSBib3gueTE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGN1cnJlbnRQYW5lLm9wdGlvbnMud2lkdGggPSBib3gud2lkdGgoKTtcblxuICAgICAgICAgICAgaWYgKCFjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGF1dG9IZWlnaHRQYW5lcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0LmluZGV4T2YgJiYgaGVpZ2h0LmluZGV4T2YoXCIlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRzID0gcGFyc2VJbnQoaGVpZ2h0LCAxMCkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0ID0gcGVyY2VudHMgKiBib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudFBhbmUucmVmbG93KGJveC5jbG9uZSgpKTtcblxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ0hlaWdodCAtPSBjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFjdXJyZW50UGFuZS5vcHRpb25zLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYW5lLm9wdGlvbnMuaGVpZ2h0ID0gcmVtYWluaW5nSGVpZ2h0IC8gYXV0b0hlaWdodFBhbmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFuZUJveCA9IGJveFxuICAgICAgICAgICAgICAgIC5jbG9uZSgpXG4gICAgICAgICAgICAgICAgLm1vdmUoYm94LngxLCB0b3ApO1xuXG4gICAgICAgICAgICBjdXJyZW50UGFuZS5yZWZsb3cocGFuZUJveCk7XG5cbiAgICAgICAgICAgIHJlbWFpbmluZ1BhbmVzLS07XG4gICAgICAgICAgICB0b3AgKz0gY3VycmVudFBhbmUub3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiYWNrZ3JvdW5kQm94KCkge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5heGVzO1xuICAgICAgICBjb25zdCBheGVzQ291bnQgPSBheGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzQSA9IGF4ZXNbaV07XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXhlc0NvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzQiA9IGF4ZXNbal07XG5cbiAgICAgICAgICAgICAgICBpZiAoYXhpc0Eub3B0aW9ucy52ZXJ0aWNhbCAhPT0gYXhpc0Iub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lQm94ID0gYXhpc0EubGluZUJveCgpLmNsb25lKCkud3JhcChheGlzQi5saW5lQm94KCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghYm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3ggPSBsaW5lQm94O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94ID0gYm94LndyYXAobGluZUJveCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYm94IHx8IHRoaXMuYm94O1xuICAgIH1cblxuICAgIGNoYXJ0c0JveGVzKCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG4gICAgICAgIGNvbnN0IGJveGVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGFuZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgYm94ZXMucHVzaChwYW5lc1tpZHhdLmNoYXJ0c0JveCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBib3hlcztcbiAgICB9XG5cbiAgICBhZGRCYWNrZ3JvdW5kUGF0aHMobXVsdGlwYXRoKSB7XG4gICAgICAgIGNvbnN0IGJveGVzID0gdGhpcy5jaGFydHNCb3hlcygpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBib3hlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBtdWx0aXBhdGgucGF0aHMucHVzaChkcmF3LlBhdGguZnJvbVJlY3QoYm94ZXNbaWR4XS50b1JlY3QoKSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYmFja2dyb3VuZENvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgYm94ZXMgPSB0aGlzLmNoYXJ0c0JveGVzKCk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGJveGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChib3hlc1tpZHhdLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZpc3VhbCgpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMucGxvdEFyZWE7XG4gICAgICAgIGxldCB7IG9wYWNpdHksIGJhY2tncm91bmQsIGJvcmRlciA9IHt9IH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoaXNUcmFuc3BhcmVudChiYWNrZ3JvdW5kKSkge1xuICAgICAgICAgICAgYmFja2dyb3VuZCA9IFdISVRFO1xuICAgICAgICAgICAgb3BhY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuX2JnVmlzdWFsID0gbmV3IGRyYXcuTXVsdGlQYXRoKHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmFja2dyb3VuZCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlci53aWR0aCA/IGJvcmRlci5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgekluZGV4OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZEJhY2tncm91bmRQYXRocyhiZyk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRWaXN1YWwoYmcpO1xuICAgIH1cblxuICAgIHBvaW50c0J5Q2F0ZWdvcnlJbmRleChjYXRlZ29yeUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0cyA9IHRoaXMuY2hhcnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICBpZiAoY2F0ZWdvcnlJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFydCA9IGNoYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQucGFuZS5vcHRpb25zLm5hbWUgPT09IFwiX25hdmlnYXRvclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGNoYXJ0c1tpXS5jYXRlZ29yeVBvaW50c1tjYXRlZ29yeUluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnRzICYmIHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2ludHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50ICYmIGRlZmluZWQocG9pbnQudmFsdWUpICYmIHBvaW50LnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBwb2ludHNCeVNlcmllc0luZGV4KHNlcmllc0luZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlclBvaW50cyhmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50LnNlcmllcy5pbmRleCA9PT0gc2VyaWVzSW5kZXg7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvaW50c0J5U2VyaWVzTmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlclBvaW50cyhmdW5jdGlvbihwb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50LnNlcmllcy5uYW1lID09PSBuYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJQb2ludHMoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gdGhpcy5jaGFydHM7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IGNoYXJ0c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IGNoYXJ0LnBvaW50cztcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9pbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgaWYgKHBvaW50ICYmIHBvaW50LnZpc2libGUgIT09IGZhbHNlICYmIGNhbGxiYWNrKHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmaW5kUG9pbnQoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hhcnRzID0gdGhpcy5jaGFydHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gY2hhcnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gY2hhcnQucG9pbnRzO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwb2ludHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudmlzaWJsZSAhPT0gZmFsc2UgJiYgY2FsbGJhY2socG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYW5lQnlQb2ludChwb2ludCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBhbmVzW2ldO1xuICAgICAgICAgICAgaWYgKHBhbmUuYm94LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXRhY2hMYWJlbHMoKSB7XG4gICAgICAgIGNvbnN0IGF4ZXMgPSB0aGlzLmdyb3VwQXhlcyh0aGlzLnBhbmVzKTtcbiAgICAgICAgY29uc3QgeEF4ZXMgPSBheGVzLng7XG4gICAgICAgIGNvbnN0IHlBeGVzID0gYXhlcy55O1xuXG4gICAgICAgIHRoaXMuZGV0YWNoQXhpc0dyb3VwTGFiZWxzKHlBeGVzLCB4QXhlcyk7XG4gICAgICAgIHRoaXMuZGV0YWNoQXhpc0dyb3VwTGFiZWxzKHhBeGVzLCB5QXhlcyk7XG4gICAgfVxuXG4gICAgZGV0YWNoQXhpc0dyb3VwTGFiZWxzKGF4ZXMsIGNyb3NzaW5nQXhlcykge1xuICAgICAgICBsZXQgbGFiZWxBeGlzQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gYXhpcy5wYW5lO1xuICAgICAgICAgICAgY29uc3QgYW5jaG9yID0gcGFuZUFuY2hvcihjcm9zc2luZ0F4ZXMsIHBhbmUpIHx8IGNyb3NzaW5nQXhlc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNJbmRleCA9IGkgKyBsYWJlbEF4aXNDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQXhpcyA9IHRoaXMuY3JlYXRlTGFiZWxBeGlzKGF4aXMsIGF4aXNJbmRleCwgYW5jaG9yKTtcblxuICAgICAgICAgICAgaWYgKGxhYmVsQXhpcykge1xuICAgICAgICAgICAgICAgIGxhYmVsQXhpc0NvdW50Kys7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSBwYW5lLmF4ZXMuaW5kZXhPZihheGlzKSArIGxhYmVsQXhpc0NvdW50O1xuICAgICAgICAgICAgICAgIHBhbmUuYXBwZW5kQXhpc0F0KGxhYmVsQXhpcywgcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsQXhpcyhheGlzLCBheGlzSW5kZXgsIGFuY2hvcikge1xuICAgICAgICBjb25zdCBsYWJlbE9wdGlvbnMgPSBheGlzLm9wdGlvbnMubGFiZWxzO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGxhYmVsT3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgICAgY29uc3Qgb25BeGlzID0gcG9zaXRpb24gIT09IEVORCAmJiBwb3NpdGlvbiAhPT0gU1RBUlQ7XG4gICAgICAgIGNvbnN0IHZpc2libGUgPSBsYWJlbE9wdGlvbnMudmlzaWJsZTtcblxuICAgICAgICBpZiAob25BeGlzIHx8IHZpc2libGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFsbEF4ZXMgPSB0aGlzLmdyb3VwQXhlcyh0aGlzLnBhbmVzKTtcbiAgICAgICAgY29uc3QgY3Jvc3NpbmdBeGVzID0gYW5jaG9yLm9wdGlvbnMudmVydGljYWwgPyBhbGxBeGVzLnggOiBhbGxBeGVzLnk7XG4gICAgICAgIGNvbnN0IGFuY2hvckNyb3NzaW5ncyA9IHRoaXMuYXhpc0Nyb3NzaW5nVmFsdWVzKGFuY2hvciwgY3Jvc3NpbmdBeGVzKTtcbiAgICAgICAgY29uc3QgZW5kID0gcG9zaXRpb24gPT09IEVORDtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBhbmNob3IucmFuZ2UoKTtcbiAgICAgICAgY29uc3QgZWRnZSA9IGVuZCA/IHJhbmdlLm1heCA6IHJhbmdlLm1pbjtcbiAgICAgICAgY29uc3QgY3Jvc3NpbmdWYWx1ZSA9IGxpbWl0VmFsdWUoYW5jaG9yQ3Jvc3NpbmdzW2F4aXNJbmRleF0sIHJhbmdlLm1pbiwgcmFuZ2UubWF4KTtcblxuICAgICAgICBpZiAoY3Jvc3NpbmdWYWx1ZSAtIGVkZ2UgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5jaG9yQ3Jvc3NpbmdzLnNwbGljZShheGlzSW5kZXggKyAxLCAwLCBlZGdlKTtcbiAgICAgICAgYW5jaG9yLm9wdGlvbnMuYXhpc0Nyb3NzaW5nVmFsdWVzID0gYW5jaG9yQ3Jvc3NpbmdzO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsQXhpcyA9IGF4aXMuY2xvbmUoKTtcbiAgICAgICAgYXhpcy5jbGVhcigpO1xuXG4gICAgICAgIGxhYmVsQXhpcy5vcHRpb25zLm5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhYmVsQXhpcy5vcHRpb25zLmxpbmUudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIGxhYmVsQXhpcy5vcHRpb25zLmNyb3NzaGFpciA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGFiZWxBeGlzLm9wdGlvbnMubm90ZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhYmVsQXhpcy5vcHRpb25zLnBsb3RCYW5kcyA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gbGFiZWxBeGlzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNTaW5nbGVBeGlzKGF4aXMpIHtcbiAgICByZXR1cm4gIWF4aXMucGFuZS5heGVzLnNvbWUoKGEpID0+XG4gICAgICAgIGEub3B0aW9ucy52ZXJ0aWNhbCA9PT0gYXhpcy5vcHRpb25zLnZlcnRpY2FsICYmIGEgIT09IGF4aXMgJiYgYS5vcHRpb25zLnZpc2libGUgIT09IGZhbHNlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gYXhpc0dyb3VwQm94KGF4ZXMpIHtcbiAgICBjb25zdCBsZW5ndGggPSBheGVzLmxlbmd0aDtcbiAgICBsZXQgYm94O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgY29uc3QgdmlzaWJsZSA9IGF4aXMub3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKHZpc2libGUgfHwgaXNTaW5nbGVBeGlzKGF4aXMpKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzQm94ID0gdmlzaWJsZSA/IGF4aXMuY29udGVudEJveCgpIDogYXhpcy5saW5lQm94KCk7XG5cbiAgICAgICAgICAgIGlmICghYm94KSB7XG4gICAgICAgICAgICAgICAgYm94ID0gYXhpc0JveC5jbG9uZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3gud3JhcChheGlzQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBib3ggfHwgbmV3IEJveCgpO1xufVxuXG5mdW5jdGlvbiBwYW5lQW5jaG9yKGF4ZXMsIHBhbmUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gYXhlc1tpXTtcbiAgICAgICAgaWYgKGFuY2hvciAmJiBhbmNob3IucGFuZSA9PT0gcGFuZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFuY2hvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNUcmFuc3BhcmVudChjb2xvcikge1xuICAgIHJldHVybiBjb2xvciA9PT0gXCJcIiB8fCBjb2xvciA9PT0gbnVsbCB8fCBjb2xvciA9PT0gXCJub25lXCIgfHwgY29sb3IgPT09IFwidHJhbnNwYXJlbnRcIiB8fCAhZGVmaW5lZChjb2xvcik7XG59XG5cbmNvbnN0IGFsbFBhbmVBeGVzID0gKHBhbmVzKSA9PiBwYW5lcy5yZWR1Y2UoKGFjYywgcGFuZSkgPT4gYWNjLmNvbmNhdChwYW5lLmF4ZXMpLCBbXSk7XG5cbnNldERlZmF1bHRPcHRpb25zKFBsb3RBcmVhQmFzZSwge1xuICAgIHNlcmllczogW10sXG4gICAgcGxvdEFyZWE6IHtcbiAgICAgICAgbWFyZ2luOiB7fVxuICAgIH0sXG4gICAgYmFja2dyb3VuZDogXCJcIixcbiAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIGluYWN0aXZlSXRlbXM6IHtcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM5MTkxOTFcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjOTE5MTkxXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQbG90QXJlYUJhc2U7XG4iLCJpbXBvcnQgeyBQTE9UX0FSRUFfSE9WRVIsIFBMT1RfQVJFQV9DTElDSyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmNvbnN0IFBsb3RBcmVhRXZlbnRzTWl4aW4gPSB7XG4gICAgaG92ZXI6IGZ1bmN0aW9uKGNoYXJ0LCBlKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIFBMT1RfQVJFQV9IT1ZFUik7XG4gICAgfSxcblxuICAgIGNsaWNrOiBmdW5jdGlvbihjaGFydCwgZSkge1xuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGNoYXJ0LCBlLCBQTE9UX0FSRUFfQ0xJQ0spO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsb3RBcmVhRXZlbnRzTWl4aW47IiwiaW1wb3J0IEFnZ3JlZ2F0ZXMgZnJvbSAnLi9hZ2dyZWdhdGVzJztcblxuaW1wb3J0IHsgQ2xhc3MsIGRlZmluZWQsIGluQXJyYXksIGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzTnVtYmVyLCBpc09iamVjdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFNlcmllc0FnZ3JlZ2F0b3IgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Ioc2VyaWVzLCBiaW5kZXIsIGRlZmF1bHRBZ2dyZWdhdGVzKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgY2Fub25pY2FsRmllbGRzID0gYmluZGVyLmNhbm9uaWNhbEZpZWxkcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGJpbmRlci52YWx1ZUZpZWxkcyhzZXJpZXMpO1xuICAgICAgICBjb25zdCBzb3VyY2VGaWVsZHMgPSBiaW5kZXIuc291cmNlRmllbGRzKHNlcmllcywgY2Fub25pY2FsRmllbGRzKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzRmllbGRzID0gdGhpcy5fc2VyaWVzRmllbGRzID0gW107XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0gZGVmYXVsdEFnZ3JlZ2F0ZXMucXVlcnkoc2VyaWVzLnR5cGUpO1xuICAgICAgICBjb25zdCByb290QWdncmVnYXRlID0gc2VyaWVzLmFnZ3JlZ2F0ZSB8fCBkZWZhdWx0cztcblxuICAgICAgICB0aGlzLl9zZXJpZXMgPSBzZXJpZXM7XG4gICAgICAgIHRoaXMuX2JpbmRlciA9IGJpbmRlcjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbm9uaWNhbEZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBjYW5vbmljYWxGaWVsZHNbaV07XG4gICAgICAgICAgICBsZXQgZmllbGRBZ2dyZWdhdGU7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChyb290QWdncmVnYXRlKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkQWdncmVnYXRlID0gcm9vdEFnZ3JlZ2F0ZVtmaWVsZF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDAgfHwgaW5BcnJheShmaWVsZCwgdmFsdWVGaWVsZHMpKSB7XG4gICAgICAgICAgICAgICAgZmllbGRBZ2dyZWdhdGUgPSByb290QWdncmVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpZWxkQWdncmVnYXRlKSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzRmllbGRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjYW5vbmljYWxOYW1lOiBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc291cmNlRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGlzRnVuY3Rpb24oZmllbGRBZ2dyZWdhdGUpID8gZmllbGRBZ2dyZWdhdGUgOiBBZ2dyZWdhdGVzW2ZpZWxkQWdncmVnYXRlXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWdncmVnYXRlUG9pbnRzKHNyY1BvaW50cywgZ3JvdXApIHtcbiAgICAgICAgY29uc3QgeyBfc2VyaWVzOiBzZXJpZXMsIF9zZXJpZXNGaWVsZHM6IHNlcmllc0ZpZWxkcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2JpbmRQb2ludHMoc3JjUG9pbnRzIHx8IFtdKTtcbiAgICAgICAgY29uc3QgZmlyc3REYXRhSXRlbSA9IGRhdGEuZGF0YUl0ZW1zWzBdO1xuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG5cbiAgICAgICAgaWYgKGZpcnN0RGF0YUl0ZW0gJiYgIWlzTnVtYmVyKGZpcnN0RGF0YUl0ZW0pICYmICFpc0FycmF5KGZpcnN0RGF0YUl0ZW0pKSB7XG4gICAgICAgICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICBmbi5wcm90b3R5cGUgPSBmaXJzdERhdGFJdGVtO1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGZuKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc0ZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzZXJpZXNGaWVsZHNbaV07XG4gICAgICAgICAgICBjb25zdCBzcmNWYWx1ZXMgPSB0aGlzLl9iaW5kRmllbGQoZGF0YS52YWx1ZXMsIGZpZWxkLmNhbm9uaWNhbE5hbWUpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBmaWVsZC50cmFuc2Zvcm0oc3JjVmFsdWVzLCBzZXJpZXMsIGRhdGEuZGF0YUl0ZW1zLCBncm91cCk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBpc09iamVjdCh2YWx1ZSkgJiYgIWRlZmluZWQodmFsdWUubGVuZ3RoKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGZpZWxkLm5hbWUsIHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2JpbmRQb2ludHMocG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IHsgX2JpbmRlcjogYmluZGVyLCBfc2VyaWVzOiBzZXJpZXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCBkYXRhSXRlbXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRJeCA9IHBvaW50c1tpXTtcblxuICAgICAgICAgICAgdmFsdWVzLnB1c2goYmluZGVyLmJpbmRQb2ludChzZXJpZXMsIHBvaW50SXgpKTtcbiAgICAgICAgICAgIGRhdGFJdGVtcy5wdXNoKHNlcmllcy5kYXRhW3BvaW50SXhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgICAgIGRhdGFJdGVtczogZGF0YUl0ZW1zXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2JpbmRGaWVsZChkYXRhLCBmaWVsZCkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY291bnQgPSBkYXRhLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVGaWVsZHMgPSBpdGVtLnZhbHVlRmllbGRzO1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZUZpZWxkc1tmaWVsZF0pKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZUZpZWxkc1tmaWVsZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gaXRlbS5maWVsZHNbZmllbGRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0VmFsdWUoZmllbGROYW1lLCB0YXJnZXQsIHZhbHVlKSB7XG4gICAgbGV0IHBhcmVudE9iaiA9IHRhcmdldDtcbiAgICBsZXQgZmllbGQgPSBmaWVsZE5hbWU7XG5cbiAgICBpZiAoZmllbGROYW1lLmluZGV4T2YoXCIuXCIpID4gLTEpIHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBmaWVsZE5hbWUuc3BsaXQoXCIuXCIpO1xuXG4gICAgICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBmaWVsZCA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoIWRlZmluZWQocGFyZW50T2JqW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRPYmpbZmllbGRdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRPYmogPSBwYXJlbnRPYmpbZmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkID0gcGFydHMuc2hpZnQoKTtcbiAgICB9XG5cbiAgICBwYXJlbnRPYmpbZmllbGRdID0gdmFsdWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlcmllc0FnZ3JlZ2F0b3I7IiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBEZWZhdWx0QWdncmVnYXRlcyBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9kZWZhdWx0cyA9IHt9O1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKHNlcmllc1R5cGVzLCBhZ2dyZWdhdGVzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRzW3Nlcmllc1R5cGVzW2ldXSA9IGFnZ3JlZ2F0ZXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBxdWVyeShzZXJpZXNUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0c1tzZXJpZXNUeXBlXTtcbiAgICB9XG59XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQgPSBuZXcgRGVmYXVsdEFnZ3JlZ2F0ZXMoKTtcblxuZXhwb3J0IGRlZmF1bHQgRGVmYXVsdEFnZ3JlZ2F0ZXM7IiwiaW1wb3J0IEJhciBmcm9tICcuLi9iYXItY2hhcnQvYmFyJztcbmltcG9ydCBCYXJMYWJlbCBmcm9tICcuLi9iYXItY2hhcnQvYmFyLWxhYmVsJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCwgZ2V0VGVtcGxhdGUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYW5nZUJhciBleHRlbmRzIEJhciB7XG4gICAgY3JlYXRlTGFiZWwoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGZyb21PcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgbGFiZWxzLCBsYWJlbHMuZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGxhYmVscywgbGFiZWxzLnRvKTtcblxuICAgICAgICBpZiAoZnJvbU9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbEZyb20gPSB0aGlzLl9jcmVhdGVMYWJlbChmcm9tT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsRnJvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9PcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxUbyA9IHRoaXMuX2NyZWF0ZUxhYmVsKHRvT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh0aGlzLmxhYmVsVG8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUxhYmVsKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGFiZWxUZW1wbGF0ZSA9IGdldFRlbXBsYXRlKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBwb2ludERhdGEgPSB0aGlzLnBvaW50RGF0YSgpO1xuXG4gICAgICAgIGxldCBsYWJlbFRleHQ7XG5cbiAgICAgICAgaWYgKGxhYmVsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IGxhYmVsVGVtcGxhdGUocG9pbnREYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IHRoaXMuZm9ybWF0VmFsdWUob3B0aW9ucy5mb3JtYXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCYXJMYWJlbChsYWJlbFRleHQsXG4gICAgICAgICAgICBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogdGhpcy5vcHRpb25zLnZlcnRpY2FsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICApLCBwb2ludERhdGEpO1xuICAgIH1cblxuICAgIHJlZmxvdyh0YXJnZXRCb3gpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgICAgICBjb25zdCB7IGxhYmVsRnJvbSwgbGFiZWxUbywgdmFsdWUgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5ib3ggPSB0YXJnZXRCb3g7XG5cbiAgICAgICAgaWYgKGxhYmVsRnJvbSkge1xuICAgICAgICAgICAgbGFiZWxGcm9tLm9wdGlvbnMuYWJvdmVBeGlzID0gdmFsdWUuZnJvbSA+IHZhbHVlLnRvO1xuICAgICAgICAgICAgbGFiZWxGcm9tLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhYmVsVG8pIHtcbiAgICAgICAgICAgIGxhYmVsVG8ub3B0aW9ucy5hYm92ZUF4aXMgPSB2YWx1ZS50byA+IHZhbHVlLmZyb207XG4gICAgICAgICAgICBsYWJlbFRvLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xuICAgICAgICAgICAgdGhpcy5ub3RlLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5SYW5nZUJhci5wcm90b3R5cGUuZGVmYXVsdHMgPSBkZWVwRXh0ZW5kKHt9LCBSYW5nZUJhci5wcm90b3R5cGUuZGVmYXVsdHMsIHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9ybWF0OiBcInswfSAtIHsxfVwiXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIGZvcm1hdDogXCJ7MX1cIlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUJhcjsiLCJpbXBvcnQgQmFyQ2hhcnQgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhci1jaGFydCc7XG5pbXBvcnQgUmFuZ2VCYXIgZnJvbSAnLi9yYW5nZS1iYXInO1xuaW1wb3J0IENhdGVnb3JpY2FsQ2hhcnQgZnJvbSAnLi4vY2F0ZWdvcmljYWwtY2hhcnQnO1xuXG5pbXBvcnQgeyBNSU5fVkFMVUUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYW5nZUJhckNoYXJ0IGV4dGVuZHMgQmFyQ2hhcnQge1xuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlQmFyO1xuICAgIH1cblxuICAgIHBvaW50VmFsdWUoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YS52YWx1ZUZpZWxkcztcbiAgICB9XG5cbiAgICBmb3JtYXRQb2ludFZhbHVlKHBvaW50LCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKHBvaW50LnZhbHVlLmZyb20gPT09IG51bGwgJiYgcG9pbnQudmFsdWUudG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnRTZXJ2aWNlLmZvcm1hdC5hdXRvKGZvcm1hdCwgcG9pbnQudmFsdWUuZnJvbSwgcG9pbnQudmFsdWUudG8pO1xuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCkge1xuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIHBvaW50LnZhbHVlLmZyb20sIHBvaW50LnZhbHVlLnRvIF07XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGZpZWxkcy5zZXJpZXMuYXhpcztcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gdmFsdWU7XG4gICAgICAgIGxldCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV07XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzTnVtYmVyKGZyb20pICYmIGlzTnVtYmVyKHRvKSkge1xuICAgICAgICAgICAgYXhpc1JhbmdlID0gdGhpcy52YWx1ZUF4aXNSYW5nZXNbYXhpc05hbWVdID0gYXhpc1JhbmdlIHx8IHsgbWluOiBNQVhfVkFMVUUsIG1heDogTUlOX1ZBTFVFIH07XG5cbiAgICAgICAgICAgIGF4aXNSYW5nZS5taW4gPSBNYXRoLm1pbihheGlzUmFuZ2UubWluLCBmcm9tKTtcbiAgICAgICAgICAgIGF4aXNSYW5nZS5tYXggPSBNYXRoLm1heChheGlzUmFuZ2UubWF4LCBmcm9tKTtcblxuICAgICAgICAgICAgYXhpc1JhbmdlLm1pbiA9IE1hdGgubWluKGF4aXNSYW5nZS5taW4sIHRvKTtcbiAgICAgICAgICAgIGF4aXNSYW5nZS5tYXggPSBNYXRoLm1heChheGlzUmFuZ2UubWF4LCB0byk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYm92ZUF4aXMocG9pbnQpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmZyb20gPCB2YWx1ZS50bztcbiAgICB9XG59XG5cblJhbmdlQmFyQ2hhcnQucHJvdG90eXBlLnBsb3RMaW1pdHMgPSBDYXRlZ29yaWNhbENoYXJ0LnByb3RvdHlwZS5wbG90TGltaXRzO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUJhckNoYXJ0OyIsImltcG9ydCBMaW5lUG9pbnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLXBvaW50JztcblxuY2xhc3MgUmFuZ2VMaW5lUG9pbnQgZXh0ZW5kcyBMaW5lUG9pbnQge1xuICAgIGFsaWFzRm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUxpbmVQb2ludDsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBSYW5nZUxpbmVQb2ludCBmcm9tICcuL3JhbmdlLWxpbmUtcG9pbnQnO1xuaW1wb3J0IFBvaW50RXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3BvaW50LWV2ZW50cy1taXhpbic7XG5pbXBvcnQgTm90ZU1peGluIGZyb20gJy4uL21peGlucy9ub3RlLW1peGluJztcblxuaW1wb3J0IHsgTElORV9NQVJLRVJfU0laRSwgRkFERUlOLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgVE9PTFRJUF9PRkZTRVQsIEFCT1ZFLCBCRUxPVyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBXSElURSwgQ0lSQ0xFLCBISUdITElHSFRfWklOREVYLCBMRUZULCBSSUdIVCwgQk9UVE9NLCBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHZhbHVlT3JEZWZhdWx0LCBnZXRTcGFjaW5nIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgQVVUTyA9ICdhdXRvJztcbmNvbnN0IERFRkFVTFRfRlJPTV9GT1JNQVQgPSAnezB9JztcbmNvbnN0IERFRkFVTFRfVE9fRk9STUFUID0gJ3sxfSc7XG5cbmNsYXNzIFJhbmdlQXJlYVBvaW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hYm92ZUF4aXMgPSB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMuYWJvdmVBeGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy50b29sdGlwVHJhY2tpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmluaXRMYWJlbHNGb3JtYXQoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IHsgbWFya2VycywgbGFiZWxzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZTtcblxuICAgICAgICBjb25zdCBmcm9tUG9pbnQgPSB0aGlzLmZyb21Qb2ludCA9IG5ldyBSYW5nZUxpbmVQb2ludCh2YWx1ZSwgZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7XG4gICAgICAgICAgICBsYWJlbHM6IGxhYmVscy5mcm9tLFxuICAgICAgICAgICAgbWFya2VyczogbWFya2Vycy5mcm9tXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCB0b1BvaW50ID0gdGhpcy50b1BvaW50ID0gbmV3IFJhbmdlTGluZVBvaW50KHZhbHVlLCBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHtcbiAgICAgICAgICAgIGxhYmVsczogbGFiZWxzLnRvLFxuICAgICAgICAgICAgbWFya2VyczogbWFya2Vycy50b1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgdGhpcy5jb3B5RmllbGRzKGZyb21Qb2ludCk7XG4gICAgICAgIHRoaXMuY29weUZpZWxkcyh0b1BvaW50KTtcblxuICAgICAgICB0aGlzLmFwcGVuZChmcm9tUG9pbnQpO1xuICAgICAgICB0aGlzLmFwcGVuZCh0b1BvaW50KTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgY29uc3QgeyBmcm9tOiBmcm9tQm94LCB0bzogdG9Cb3ggfSA9IHRhcmdldEJveDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uTGFiZWxzKGZyb21Cb3gsIHRvQm94KTtcblxuICAgICAgICB0aGlzLmZyb21Qb2ludC5yZWZsb3coZnJvbUJveCk7XG4gICAgICAgIHRoaXMudG9Qb2ludC5yZWZsb3codG9Cb3gpO1xuXG4gICAgICAgIHRoaXMuYm94ID0gdGhpcy5mcm9tUG9pbnQubWFya2VyQm94KCkuY2xvbmUoKS53cmFwKHRoaXMudG9Qb2ludC5tYXJrZXJCb3goKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlSGlnaGxpZ2h0KCkge1xuICAgICAgICBjb25zdCBncm91cCA9IG5ldyBkcmF3Lkdyb3VwKCk7XG4gICAgICAgIGdyb3VwLmFwcGVuZCh0aGlzLmZyb21Qb2ludC5jcmVhdGVIaWdobGlnaHQoKSk7XG4gICAgICAgIGdyb3VwLmFwcGVuZCh0aGlzLnRvUG9pbnQuY3JlYXRlSGlnaGxpZ2h0KCkpO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc3VhbDtcbiAgICB9XG5cbiAgICBoaWdobGlnaHRWaXN1YWxBcmdzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgZnJvbTogdGhpcy5mcm9tUG9pbnQuaGlnaGxpZ2h0VmlzdWFsQXJncygpLFxuICAgICAgICAgICAgdG86IHRoaXMudG9Qb2ludC5oaWdobGlnaHRWaXN1YWxBcmdzKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBjbGlwQm94ID0gdGhpcy5vd25lci5wYW5lLmNsaXBCb3goKTtcbiAgICAgICAgY29uc3Qgc2hvd1Rvb2x0aXAgPSAhY2xpcEJveCB8fCBjbGlwQm94Lm92ZXJsYXBzKHRoaXMuYm94KTtcblxuICAgICAgICBpZiAoc2hvd1Rvb2x0aXApIHtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94O1xuICAgICAgICAgICAgY29uc3QgY2VudGVyID0gYm94LmNlbnRlcigpO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbEFsaWduID0gTEVGVDtcbiAgICAgICAgICAgIGxldCB4LCB5LCB2ZXJ0aWNhbEFsaWduO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgeCA9IGNlbnRlci54O1xuICAgICAgICAgICAgICAgIHkgPSBib3gueTEgLSBUT09MVElQX09GRlNFVDtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduID0gQk9UVE9NO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gYm94LngyICsgVE9PTFRJUF9PRkZTRVQ7XG4gICAgICAgICAgICAgICAgeSA9IGNlbnRlci55O1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ24gPSBDRU5URVI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsQWxpZ24sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiB2ZXJ0aWNhbEFsaWduXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgb3ZlcmxhcHNCb3goYm94KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJveC5vdmVybGFwcyhib3gpO1xuICAgIH1cblxuICAgIHVuY2xpcEVsZW1lbnRzKCkge1xuICAgICAgICB0aGlzLmZyb21Qb2ludC51bmNsaXBFbGVtZW50cygpO1xuICAgICAgICB0aGlzLnRvUG9pbnQudW5jbGlwRWxlbWVudHMoKTtcbiAgICB9XG5cbiAgICBpbml0TGFiZWxzRm9ybWF0KCkge1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLm9wdGlvbnMubGFiZWxzO1xuICAgICAgICBpZiAoIWxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGlmICghbGFiZWxzLmZyb20gfHwgIWxhYmVscy5mcm9tLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGxhYmVscy5mcm9tID0gT2JqZWN0LmFzc2lnbih7fSwgbGFiZWxzLmZyb20sIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBERUZBVUxUX0ZST01fRk9STUFUXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLnRvIHx8ICFsYWJlbHMudG8uZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGFiZWxzLnRvID0gT2JqZWN0LmFzc2lnbih7fSwgbGFiZWxzLnRvLCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogREVGQVVMVF9UT19GT1JNQVRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvc2l0aW9uTGFiZWxzKGZyb21Cb3gsIHRvQm94KSB7XG4gICAgICAgIGNvbnN0IHsgbGFiZWxzLCB2ZXJ0aWNhbCB9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGlmIChsYWJlbHMucG9zaXRpb24gPT09IEFVVE8pIHtcbiAgICAgICAgICAgIGxldCBmcm9tTGFiZWxQb3NpdGlvbiwgdG9MYWJlbFBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvQm94LnkxIDw9IGZyb21Cb3gueTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9MYWJlbFBvc2l0aW9uID0gQUJPVkU7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gQkVMT1c7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9MYWJlbFBvc2l0aW9uID0gQkVMT1c7XG4gICAgICAgICAgICAgICAgICAgIGZyb21MYWJlbFBvc2l0aW9uID0gQUJPVkU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodG9Cb3gueDEgPD0gZnJvbUJveC54MSkge1xuICAgICAgICAgICAgICAgICAgICB0b0xhYmVsUG9zaXRpb24gPSBMRUZUO1xuICAgICAgICAgICAgICAgICAgICBmcm9tTGFiZWxQb3NpdGlvbiA9IFJJR0hUO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvTGFiZWxQb3NpdGlvbiA9IFJJR0hUO1xuICAgICAgICAgICAgICAgICAgICBmcm9tTGFiZWxQb3NpdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWxhYmVscy5mcm9tIHx8ICFsYWJlbHMuZnJvbS5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbVBvaW50Lm9wdGlvbnMubGFiZWxzLnBvc2l0aW9uID0gZnJvbUxhYmVsUG9zaXRpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbGFiZWxzLnRvIHx8ICFsYWJlbHMudG8ucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvUG9pbnQub3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPSB0b0xhYmVsUG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb3B5RmllbGRzKHBvaW50KSB7XG4gICAgICAgIHBvaW50LmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcbiAgICAgICAgcG9pbnQuY2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3J5O1xuICAgICAgICBwb2ludC5zZXJpZXMgPSB0aGlzLnNlcmllcztcbiAgICAgICAgcG9pbnQuY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgICAgICBwb2ludC5vd25lciA9IHRoaXMub3duZXI7XG4gICAgfVxufVxuXG5kZWVwRXh0ZW5kKFJhbmdlQXJlYVBvaW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5kZWVwRXh0ZW5kKFJhbmdlQXJlYVBvaW50LnByb3RvdHlwZSwgTm90ZU1peGluKTtcblxuUmFuZ2VBcmVhUG9pbnQucHJvdG90eXBlLmRlZmF1bHRzID0ge1xuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmQ6IFdISVRFLFxuICAgICAgICBzaXplOiBMSU5FX01BUktFUl9TSVpFLFxuICAgICAgICB0eXBlOiBDSVJDTEUsXG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgb3BhY2l0eTogMVxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBtYXJnaW46IGdldFNwYWNpbmcoMyksXG4gICAgICAgIHBhZGRpbmc6IGdldFNwYWNpbmcoNCksXG4gICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICAgICAgZGVsYXk6IElOSVRJQUxfQU5JTUFUSU9OX0RVUkFUSU9OXG4gICAgICAgIH0sXG4gICAgICAgIHBvc2l0aW9uOiBBVVRPXG4gICAgfSxcbiAgICBub3Rlczoge1xuICAgICAgICBsYWJlbDoge31cbiAgICB9LFxuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogV0hJVEUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgekluZGV4OiBISUdITElHSFRfWklOREVYXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIGZvcm1hdDogJ3swfSAtIHsxfSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUFyZWFQb2ludDtcbiIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuLi9hcmVhLWNoYXJ0L2FyZWEtc2VnbWVudCc7XG5cbmNsYXNzIFJhbmdlQXJlYVNlZ21lbnQgZXh0ZW5kcyBBcmVhU2VnbWVudCB7XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNGcm9tUG9pbnRzKHRoaXMudG9HZW9tZXRyeVBvaW50cyh0aGlzLnRvUG9pbnRzKCkpKTtcbiAgICB9XG5cbiAgICBzdGFja1NlZ21lbnRzKCkge1xuICAgICAgICBsZXQgZnJvbVNlZ21lbnRzID0gdGhpcy5mcm9tU2VnbWVudHM7XG4gICAgICAgIGlmICghdGhpcy5mcm9tU2VnbWVudHMpIHtcbiAgICAgICAgICAgIGZyb21TZWdtZW50cyA9IHRoaXMuZnJvbVNlZ21lbnRzID0gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy50b0dlb21ldHJ5UG9pbnRzKHRoaXMuZnJvbVBvaW50cygpLnJldmVyc2UoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZyb21TZWdtZW50cztcbiAgICB9XG5cbiAgICBjcmVhdGVTdHJva2Uoc3R5bGUpIHtcbiAgICAgICAgY29uc3QgdG9QYXRoID0gbmV3IGRyYXcuUGF0aChzdHlsZSk7XG4gICAgICAgIGNvbnN0IGZyb21QYXRoID0gbmV3IGRyYXcuUGF0aChzdHlsZSk7XG5cbiAgICAgICAgdG9QYXRoLnNlZ21lbnRzLnB1c2guYXBwbHkodG9QYXRoLnNlZ21lbnRzLCB0aGlzLnN0cm9rZVNlZ21lbnRzKCkpO1xuICAgICAgICBmcm9tUGF0aC5zZWdtZW50cy5wdXNoLmFwcGx5KGZyb21QYXRoLnNlZ21lbnRzLCB0aGlzLnN0YWNrU2VnbWVudHMoKSk7XG5cbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHRvUGF0aCk7XG4gICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChmcm9tUGF0aCk7XG4gICAgfVxuXG4gICAgaGFzU3RhY2tTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmcm9tUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lUG9pbnRzLm1hcChwb2ludCA9PiBwb2ludC5mcm9tUG9pbnQpO1xuICAgIH1cblxuICAgIHRvUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lUG9pbnRzLm1hcChwb2ludCA9PiBwb2ludC50b1BvaW50KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IHsgQ3VydmVQcm9jZXNzb3IgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IFJhbmdlQXJlYVNlZ21lbnQgZnJvbSAnLi9yYW5nZS1hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBTcGxpbmVSYW5nZUFyZWFTZWdtZW50IGV4dGVuZHMgUmFuZ2VBcmVhU2VnbWVudCB7XG5cbiAgICBjcmVhdGVTdHJva2VTZWdtZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ3VydmVTZWdtZW50cyh0aGlzLnRvUG9pbnRzKCkpO1xuICAgIH1cblxuICAgIHN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cztcbiAgICAgICAgaWYgKCF0aGlzLmZyb21TZWdtZW50cykge1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzID0gdGhpcy5mcm9tU2VnbWVudHMgPSB0aGlzLmNyZWF0ZUN1cnZlU2VnbWVudHModGhpcy5mcm9tUG9pbnRzKCkucmV2ZXJzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcm9tU2VnbWVudHM7XG4gICAgfVxuXG4gICAgY3JlYXRlQ3VydmVTZWdtZW50cyhwb2ludHMpIHtcbiAgICAgICAgY29uc3QgY3VydmVQcm9jZXNzb3IgPSBuZXcgQ3VydmVQcm9jZXNzb3IoKTtcblxuICAgICAgICByZXR1cm4gY3VydmVQcm9jZXNzb3IucHJvY2Vzcyh0aGlzLnRvR2VvbWV0cnlQb2ludHMocG9pbnRzKSk7XG4gICAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaW5lUmFuZ2VBcmVhU2VnbWVudDsiLCJpbXBvcnQgU3RlcExpbmVNaXhpbiBmcm9tICcuLi9saW5lLWNoYXJ0L3N0ZXAtbGluZS1taXhpbic7XG5pbXBvcnQgUmFuZ2VBcmVhU2VnbWVudCBmcm9tICcuL3JhbmdlLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU3RlcFJhbmdlQXJlYVNlZ21lbnQgZXh0ZW5kcyBSYW5nZUFyZWFTZWdtZW50IHtcblxuICAgIGNyZWF0ZVN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c0Zyb21Qb2ludHModGhpcy5jYWxjdWxhdGVTdGVwUG9pbnRzKHRoaXMudG9Qb2ludHMoKSkpO1xuICAgIH1cblxuICAgIHN0YWNrU2VnbWVudHMoKSB7XG4gICAgICAgIGxldCBmcm9tU2VnbWVudHMgPSB0aGlzLmZyb21TZWdtZW50cztcbiAgICAgICAgaWYgKCF0aGlzLmZyb21TZWdtZW50cykge1xuICAgICAgICAgICAgZnJvbVNlZ21lbnRzID0gdGhpcy5mcm9tU2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzRnJvbVBvaW50cyh0aGlzLmNhbGN1bGF0ZVN0ZXBQb2ludHModGhpcy5mcm9tUG9pbnRzKCkpKTtcbiAgICAgICAgICAgIGZyb21TZWdtZW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnJvbVNlZ21lbnRzO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChTdGVwUmFuZ2VBcmVhU2VnbWVudC5wcm90b3R5cGUsIFN0ZXBMaW5lTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBTdGVwUmFuZ2VBcmVhU2VnbWVudDsiLCJpbXBvcnQgQ2F0ZWdvcmljYWxDaGFydCBmcm9tICcuLi9jYXRlZ29yaWNhbC1jaGFydCc7XG5pbXBvcnQgTGluZUNoYXJ0TWl4aW4gZnJvbSAnLi4vbWl4aW5zL2xpbmUtY2hhcnQtbWl4aW4nO1xuaW1wb3J0IENsaXBBbmltYXRpb25NaXhpbiBmcm9tICcuLi9taXhpbnMvY2xpcC1hbmltYXRpb24tbWl4aW4nO1xuaW1wb3J0IFJhbmdlQXJlYVBvaW50IGZyb20gJy4vcmFuZ2UtYXJlYS1wb2ludCc7XG5pbXBvcnQgUmFuZ2VBcmVhU2VnbWVudCBmcm9tICcuL3JhbmdlLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgU3BsaW5lUmFuZ2VBcmVhU2VnbWVudCBmcm9tICcuL3NwbGluZS1yYW5nZS1hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFN0ZXBSYW5nZUFyZWFTZWdtZW50IGZyb20gJy4vc3RlcC1yYW5nZS1hcmVhLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IFpFUk8gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGlzRnVuY3Rpb24gfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgaGFzVmFsdWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmNsYXNzIFJhbmdlQXJlYUNoYXJ0IGV4dGVuZHMgQ2F0ZWdvcmljYWxDaGFydCB7XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyU2VnbWVudHMoKTtcbiAgICB9XG5cbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYW5nZUFyZWFQb2ludDtcbiAgICB9XG5cbiAgICBjcmVhdGVQb2ludChkYXRhLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3QgeyBjYXRlZ29yeUl4LCBjYXRlZ29yeSwgc2VyaWVzLCBzZXJpZXNJeCB9ID0gZmllbGRzO1xuICAgICAgICBsZXQgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzO1xuXG4gICAgICAgIGlmICghaGFzVmFsdWUodmFsdWUuZnJvbSkgJiYgIWhhc1ZhbHVlKHZhbHVlLnRvKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpID09PSBaRVJPKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvOiAwXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcG9pbnRPcHRpb25zID0gdGhpcy5wb2ludE9wdGlvbnMoc2VyaWVzLCBzZXJpZXNJeCk7XG4gICAgICAgIHBvaW50T3B0aW9ucyA9IHRoaXMuZXZhbFBvaW50T3B0aW9ucyhcbiAgICAgICAgICAgIHBvaW50T3B0aW9ucywgdmFsdWUsIGNhdGVnb3J5LCBjYXRlZ29yeUl4LCBzZXJpZXMsIHNlcmllc0l4XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGNvbG9yID0gZGF0YS5maWVsZHMuY29sb3IgfHwgc2VyaWVzLmNvbG9yO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihzZXJpZXMuY29sb3IpKSB7XG4gICAgICAgICAgICBjb2xvciA9IHBvaW50T3B0aW9ucy5jb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFJhbmdlQXJlYVBvaW50KHZhbHVlLCBwb2ludE9wdGlvbnMpO1xuICAgICAgICBwb2ludC5jb2xvciA9IGNvbG9yO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kKHBvaW50KTtcblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IChjdXJyZW50U2VyaWVzLmxpbmUgfHwge30pLnN0eWxlO1xuICAgICAgICBsZXQgc2VnbWVudFR5cGU7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gXCJzbW9vdGhcIikge1xuICAgICAgICAgICAgc2VnbWVudFR5cGUgPSBTcGxpbmVSYW5nZUFyZWFTZWdtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHN0eWxlID09PSBcInN0ZXBcIikge1xuICAgICAgICAgICAgc2VnbWVudFR5cGUgPSBTdGVwUmFuZ2VBcmVhU2VnbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlZ21lbnRUeXBlID0gUmFuZ2VBcmVhU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgc2VnbWVudFR5cGUobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuICAgIH1cblxuICAgIHBsb3RSYW5nZShwb2ludCwgc3RhcnRWYWx1ZSkge1xuICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gWyBzdGFydFZhbHVlLCBzdGFydFZhbHVlIF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBwb2ludC52YWx1ZS5mcm9tLCBwb2ludC52YWx1ZS50byBdO1xuICAgIH1cblxuICAgIHZhbHVlU2xvdCh2YWx1ZUF4aXMsIHBsb3RSYW5nZSkge1xuICAgICAgICBjb25zdCBmcm9tU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHBsb3RSYW5nZVswXSwgcGxvdFJhbmdlWzBdLCAhdGhpcy5vcHRpb25zLmNsaXApO1xuICAgICAgICBjb25zdCB0b1Nsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdChwbG90UmFuZ2VbMV0sIHBsb3RSYW5nZVsxXSwgIXRoaXMub3B0aW9ucy5jbGlwKTtcbiAgICAgICAgaWYgKGZyb21TbG90ICYmIHRvU2xvdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tU2xvdCxcbiAgICAgICAgICAgICAgICB0bzogdG9TbG90XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRTbG90KGNhdGVnb3J5U2xvdCwgdmFsdWVTbG90KSB7XG4gICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHZhbHVlU2xvdDtcbiAgICAgICAgbGV0IGZyb21TbG90LCB0b1Nsb3Q7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnZlcnRBeGVzKSB7XG4gICAgICAgICAgICBmcm9tU2xvdCA9IG5ldyBCb3goZnJvbS54MSwgY2F0ZWdvcnlTbG90LnkxLCBmcm9tLngyLCBjYXRlZ29yeVNsb3QueTIpO1xuICAgICAgICAgICAgdG9TbG90ID0gbmV3IEJveCh0by54MSwgY2F0ZWdvcnlTbG90LnkxLCB0by54MiwgY2F0ZWdvcnlTbG90LnkyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb21TbG90ID0gbmV3IEJveChjYXRlZ29yeVNsb3QueDEsIGZyb20ueTEsIGNhdGVnb3J5U2xvdC54MiwgZnJvbS55Mik7XG4gICAgICAgICAgICB0b1Nsb3QgPSBuZXcgQm94KGNhdGVnb3J5U2xvdC54MSwgdG8ueTEsIGNhdGVnb3J5U2xvdC54MiwgdG8ueTIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IGZyb21TbG90LFxuICAgICAgICAgICAgdG86IHRvU2xvdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFkZFZhbHVlKGRhdGEsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IGRhdGEudmFsdWVGaWVsZHM7XG4gICAgICAgIGlmICghaXNOdW1iZXIodmFsdWVGaWVsZHMuZnJvbSkpIHtcbiAgICAgICAgICAgIHZhbHVlRmllbGRzLmZyb20gPSB2YWx1ZUZpZWxkcy50bztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOdW1iZXIodmFsdWVGaWVsZHMudG8pKSB7XG4gICAgICAgICAgICB2YWx1ZUZpZWxkcy50byA9IHZhbHVlRmllbGRzLmZyb207XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5hZGRWYWx1ZShkYXRhLCBmaWVsZHMpO1xuICAgIH1cblxuICAgIHVwZGF0ZVJhbmdlKHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzTnVtYmVyKHZhbHVlLmZyb20pICYmIGlzTnVtYmVyKHZhbHVlLnRvKSkge1xuICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBmaWVsZHMuc2VyaWVzLmF4aXM7XG4gICAgICAgICAgICBjb25zdCBheGlzUmFuZ2UgPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gPSB0aGlzLnZhbHVlQXhpc1Jhbmdlc1theGlzTmFtZV0gfHwgeyBtaW46IE1BWF9WQUxVRSwgbWF4OiBNSU5fVkFMVUUgfTtcbiAgICAgICAgICAgIGNvbnN0IHsgZnJvbSwgdG8gfSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBheGlzUmFuZ2UubWluID0gTWF0aC5taW4oYXhpc1JhbmdlLm1pbiwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgYXhpc1JhbmdlLm1heCA9IE1hdGgubWF4KGF4aXNSYW5nZS5tYXgsIGZyb20sIHRvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhmb3JtYXQsIHZhbHVlLmZyb20sIHZhbHVlLnRvKTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2lkeF07XG4gICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgocG9pbnQuZnJvbVBvaW50IHx8IHt9KS5tYXJrZXIpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwb2ludC50b1BvaW50IHx8IHt9KS5tYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb25jYXQodGhpcy5fc2VnbWVudHMpO1xuICAgIH1cbn1cblxuZGVlcEV4dGVuZChSYW5nZUFyZWFDaGFydC5wcm90b3R5cGUsIExpbmVDaGFydE1peGluLCBDbGlwQW5pbWF0aW9uTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBSYW5nZUFyZWFDaGFydDtcbiIsImltcG9ydCBDYW5kbGVzdGljayBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljayc7XG5cbmNsYXNzIE9ITENQb2ludCBleHRlbmRzIENhbmRsZXN0aWNrIHtcbiAgICByZWZsb3coYm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgdmFsdWUsIG93bmVyOiBjaGFydCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmFsdWVBeGlzID0gY2hhcnQuc2VyaWVzVmFsdWVBeGlzKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBvUG9pbnRzID0gW107XG4gICAgICAgIGNvbnN0IGNQb2ludHMgPSBbXTtcbiAgICAgICAgY29uc3QgbGhQb2ludHMgPSBbXTtcblxuICAgICAgICBjb25zdCBsaFNsb3QgPSB2YWx1ZUF4aXMuZ2V0U2xvdCh2YWx1ZS5sb3csIHZhbHVlLmhpZ2gpO1xuICAgICAgICBjb25zdCBvU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLm9wZW4sIHZhbHVlLm9wZW4pO1xuICAgICAgICBjb25zdCBjU2xvdCA9IHZhbHVlQXhpcy5nZXRTbG90KHZhbHVlLmNsb3NlLCB2YWx1ZS5jbG9zZSk7XG5cbiAgICAgICAgb1Nsb3QueDEgPSBjU2xvdC54MSA9IGxoU2xvdC54MSA9IGJveC54MTtcbiAgICAgICAgb1Nsb3QueDIgPSBjU2xvdC54MiA9IGxoU2xvdC54MiA9IGJveC54MjtcblxuICAgICAgICBjb25zdCBtaWQgPSBsaFNsb3QuY2VudGVyKCkueDtcblxuICAgICAgICBvUG9pbnRzLnB1c2goWyBvU2xvdC54MSwgb1Nsb3QueTEgXSk7XG4gICAgICAgIG9Qb2ludHMucHVzaChbIG1pZCwgb1Nsb3QueTEgXSk7XG4gICAgICAgIGNQb2ludHMucHVzaChbIG1pZCwgY1Nsb3QueTEgXSk7XG4gICAgICAgIGNQb2ludHMucHVzaChbIGNTbG90LngyLCBjU2xvdC55MSBdKTtcbiAgICAgICAgbGhQb2ludHMucHVzaChbIG1pZCwgbGhTbG90LnkxIF0pO1xuICAgICAgICBsaFBvaW50cy5wdXNoKFsgbWlkLCBsaFNsb3QueTIgXSk7XG5cbiAgICAgICAgdGhpcy5saW5lcyA9IFtcbiAgICAgICAgICAgIG9Qb2ludHMsIGNQb2ludHMsIGxoUG9pbnRzXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5ib3ggPSBsaFNsb3QuY2xvbmUoKS53cmFwKG9TbG90LmNsb25lKCkud3JhcChjU2xvdCkpO1xuXG4gICAgICAgIHRoaXMucmVmbG93Tm90ZSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJvZHkoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBPSExDUG9pbnQ7IiwiaW1wb3J0IENhbmRsZXN0aWNrQ2hhcnQgZnJvbSAnLi4vY2FuZGxlc3RpY2stY2hhcnQvY2FuZGxlc3RpY2stY2hhcnQnO1xuaW1wb3J0IE9ITENQb2ludCBmcm9tICcuL29obGMtcG9pbnQnO1xuXG5jbGFzcyBPSExDQ2hhcnQgZXh0ZW5kcyBDYW5kbGVzdGlja0NoYXJ0IHtcbiAgICBwb2ludFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBPSExDUG9pbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBPSExDQ2hhcnQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgRkFERUlOLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGFsaWduUGF0aFRvUGl4ZWwsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgV2F0ZXJmYWxsU2VnbWVudCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHNlcmllcykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5zZXJpZXMgPSBzZXJpZXM7XG4gICAgfVxuXG4gICAgbGluZVBvaW50cygpIHtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTtcbiAgICAgICAgY29uc3QgeyBmcm9tOiB7IGJveDogZnJvbUJveCB9LCB0bzogeyBib3g6IHRvQm94IH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtdO1xuXG4gICAgICAgIGlmIChmcm9tLmlzVmVydGljYWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBmcm9tLmFib3ZlQXhpcyA/IGZyb21Cb3gueTEgOiBmcm9tQm94LnkyO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgWyBmcm9tQm94LngxLCB5IF0sXG4gICAgICAgICAgICAgICAgWyB0b0JveC54MiwgeSBdXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeCA9IGZyb20uYWJvdmVBeGlzID8gZnJvbUJveC54MiA6IGZyb21Cb3gueDE7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICBbIHgsIGZyb21Cb3gueTEgXSxcbiAgICAgICAgICAgICAgICBbIHgsIHRvQm94LnkyIF1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuc2VyaWVzLmxpbmUgfHwge307XG5cbiAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMubGluZVBvaW50cygpLCB7XG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogbGluZS5jb2xvcixcbiAgICAgICAgICAgICAgICB3aWR0aDogbGluZS53aWR0aCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBsaW5lLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGxpbmUuZGFzaFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWxpZ25QYXRoVG9QaXhlbChwYXRoKTtcbiAgICAgICAgdGhpcy52aXN1YWwuYXBwZW5kKHBhdGgpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoV2F0ZXJmYWxsU2VnbWVudCwge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgIGRlbGF5OiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBXYXRlcmZhbGxTZWdtZW50OyIsImltcG9ydCBCYXJDaGFydCBmcm9tICcuLi9iYXItY2hhcnQvYmFyLWNoYXJ0JztcbmltcG9ydCBTZXJpZXNCaW5kZXIgZnJvbSAnLi4vc2VyaWVzLWJpbmRlcic7XG5pbXBvcnQgV2F0ZXJmYWxsU2VnbWVudCBmcm9tICcuL3dhdGVyZmFsbC1zZWdtZW50JztcblxuaW1wb3J0IGNhdGVnb3JpZXNDb3VudCBmcm9tICcuLi91dGlscy9jYXRlZ29yaWVzLWNvdW50JztcblxuaW1wb3J0IHsgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBXYXRlcmZhbGxDaGFydCBleHRlbmRzIEJhckNoYXJ0IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVNlZ21lbnRzKCk7XG4gICAgfVxuXG4gICAgdHJhdmVyc2VEYXRhUG9pbnRzKGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHRvdGFsQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNDb3VudChzZXJpZXMpO1xuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gIXRoaXMub3B0aW9ucy5pbnZlcnRBeGVzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgcnVubmluZ1RvdGFsID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlJeCA9IDA7IGNhdGVnb3J5SXggPCB0b3RhbENhdGVnb3JpZXM7IGNhdGVnb3J5SXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBTZXJpZXNCaW5kZXIuY3VycmVudC5iaW5kUG9pbnQoY3VycmVudFNlcmllcywgY2F0ZWdvcnlJeCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlRmllbGRzLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1bW1hcnkgPSBkYXRhLmZpZWxkcy5zdW1tYXJ5O1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gdG90YWw7XG4gICAgICAgICAgICAgICAgbGV0IHRvO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN1bW1hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1bW1hcnkudG9Mb3dlckNhc2UoKSA9PT0gXCJ0b3RhbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlRmllbGRzLnZhbHVlID0gdG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvID0gdG90YWw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnZhbHVlRmllbGRzLnZhbHVlID0gcnVubmluZ1RvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBmcm9tIC0gcnVubmluZ1RvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdUb3RhbCArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gdG90YWw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YSwge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChjYXRlZ29yeUl4KSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJeDogY2F0ZWdvcnlJeCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNJeDogc2VyaWVzSXgsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1RvdGFsOiBydW5uaW5nVG90YWwsXG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICAgICAgaXNWZXJ0aWNhbDogaXNWZXJ0aWNhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2UodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBzdXBlci51cGRhdGVSYW5nZSh7IHZhbHVlOiBmaWVsZHMudG8gfSwgZmllbGRzKTtcbiAgICB9XG5cbiAgICBhYm92ZUF4aXMocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50LnZhbHVlID49IDA7XG4gICAgfVxuXG4gICAgcGxvdFJhbmdlKHBvaW50KSB7XG4gICAgICAgIHJldHVybiBbIHBvaW50LmZyb20sIHBvaW50LnRvIF07XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHNlcmllc1BvaW50cyA9IHRoaXMuc2VyaWVzUG9pbnRzO1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBzZXJpZXNQb2ludHNbc2VyaWVzSXhdO1xuXG4gICAgICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByZXZQb2ludDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwb2ludEl4ID0gMDsgcG9pbnRJeCA8IHBvaW50cy5sZW5ndGg7IHBvaW50SXgrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1twb2ludEl4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQgJiYgcHJldlBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gbmV3IFdhdGVyZmFsbFNlZ21lbnQocHJldlBvaW50LCBwb2ludCwgY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQoc2VnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcmV2UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdhdGVyZmFsbENoYXJ0OyIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZnJvbSAnLi4vYXhpcy1ncm91cC1yYW5nZS10cmFja2VyJztcbmltcG9ydCBQbG90QXJlYUV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wbG90YXJlYS1ldmVudHMtbWl4aW4nO1xuaW1wb3J0IFNlcmllc0FnZ3JlZ2F0b3IgZnJvbSAnLi4vYWdncmVnYXRlcy9zZXJpZXMtYWdncmVnYXRvcic7XG5pbXBvcnQgRGVmYXVsdEFnZ3JlZ2F0ZXMgZnJvbSAnLi4vYWdncmVnYXRlcy9kZWZhdWx0LWFnZ3JlZ2F0ZXMnO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcbmltcG9ydCBCYXJDaGFydCBmcm9tICcuLi9iYXItY2hhcnQvYmFyLWNoYXJ0JztcbmltcG9ydCBSYW5nZUJhckNoYXJ0IGZyb20gJy4uL3JhbmdlLWJhci1jaGFydC9yYW5nZS1iYXItY2hhcnQnO1xuaW1wb3J0IEJ1bGxldENoYXJ0IGZyb20gJy4uL2J1bGxldC1jaGFydC9idWxsZXQtY2hhcnQnO1xuaW1wb3J0IExpbmVDaGFydCBmcm9tICcuLi9saW5lLWNoYXJ0L2xpbmUtY2hhcnQnO1xuaW1wb3J0IEFyZWFDaGFydCBmcm9tICcuLi9hcmVhLWNoYXJ0L2FyZWEtY2hhcnQnO1xuaW1wb3J0IFJhbmdlQXJlYUNoYXJ0IGZyb20gJy4uL3JhbmdlLWFyZWEtY2hhcnQvcmFuZ2UtYXJlYS1jaGFydCc7XG5pbXBvcnQgT0hMQ0NoYXJ0IGZyb20gJy4uL29obGMtY2hhcnQvb2hsYy1jaGFydCc7XG5pbXBvcnQgQ2FuZGxlc3RpY2tDaGFydCBmcm9tICcuLi9jYW5kbGVzdGljay1jaGFydC9jYW5kbGVzdGljay1jaGFydCc7XG5pbXBvcnQgQm94UGxvdENoYXJ0IGZyb20gJy4uL2JveC1wbG90LWNoYXJ0L2JveC1wbG90LWNoYXJ0JztcbmltcG9ydCBXYXRlcmZhbGxDaGFydCBmcm9tICcuLi93YXRlcmZhbGwtY2hhcnQvd2F0ZXJmYWxsLWNoYXJ0JztcblxuaW1wb3J0IHsgQ2F0ZWdvcnlBeGlzLCBEYXRlQ2F0ZWdvcnlBeGlzLCBOdW1lcmljQXhpcywgTG9nYXJpdGhtaWNBeGlzLCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBhcHBlbmRJZk5vdE51bGwsIGNhdGVnb3JpZXNDb3VudCwgY3JlYXRlT3V0T2ZSYW5nZVBvaW50cywgZXF1YWxzSWdub3JlQ2FzZSwgZmlsdGVyU2VyaWVzQnlUeXBlLFxuICAgIGdldERhdGVGaWVsZCwgZ2V0RmllbGQsIGlzRGF0ZUF4aXMsIHNpbmdsZUl0ZW1PckFycmF5IH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBCQVIsIENPTFVNTiwgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQsIExJTkUsIFZFUlRJQ0FMX0xJTkUsIEFSRUEsIFZFUlRJQ0FMX0FSRUEsXG4gICAgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSwgUkFOR0VfQ09MVU1OLCBSQU5HRV9CQVIsIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwsXG4gICAgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9ULCBPSExDLCBDQU5ETEVTVElDSywgTE9HQVJJVEhNSUMsIFNURVAsIEVRVUFMTFlfU1BBQ0VEX1NFUklFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IERBVEUsIE1BWF9WQUxVRSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGluQXJyYXksIGlzTnVtYmVyLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBldmVudEVsZW1lbnQsIGdyZXAgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jb25zdCBBUkVBX1NFUklFUyA9IFsgQVJFQSwgVkVSVElDQUxfQVJFQSwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSBdO1xuY29uc3QgT1VUX09GX1JBTkdFX1NFUklFUyA9IFsgTElORSwgVkVSVElDQUxfTElORSBdLmNvbmNhdChBUkVBX1NFUklFUyk7XG5cbmNsYXNzIENhdGVnb3JpY2FsUGxvdEFyZWEgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuXG4gICAgaW5pdEZpZWxkcyhzZXJpZXMpIHtcbiAgICAgICAgdGhpcy5uYW1lZENhdGVnb3J5QXhlcyA9IHt9O1xuICAgICAgICB0aGlzLm5hbWVkVmFsdWVBeGVzID0ge307XG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyID0gbmV3IEF4aXNHcm91cFJhbmdlVHJhY2tlcigpO1xuXG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbnZlcnRBeGVzID0gaW5BcnJheShcbiAgICAgICAgICAgICAgICBzZXJpZXNbMF0udHlwZSwgWyBCQVIsIEJVTExFVCwgVkVSVElDQUxfTElORSwgVkVSVElDQUxfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJBTkdFX0JBUiwgSE9SSVpPTlRBTF9XQVRFUkZBTEwsIFZFUlRJQ0FMX0JPWF9QTE9UIF1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBzZXJpZXNbaV0uc3RhY2s7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrICYmIHN0YWNrLnR5cGUgPT09IFwiMTAwJVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sxMDAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlcihwYW5lcyA9IHRoaXMucGFuZXMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVDYXRlZ29yeUF4ZXMocGFuZXMpO1xuICAgICAgICB0aGlzLmFnZ3JlZ2F0ZUNhdGVnb3JpZXMocGFuZXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscyhwYW5lcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcnRzKHBhbmVzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVWYWx1ZUF4ZXMocGFuZXMpO1xuICAgIH1cblxuICAgIHJlbW92ZUF4aXMoYXhpcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGF4aXMub3B0aW9ucy5uYW1lO1xuXG4gICAgICAgIHN1cGVyLnJlbW92ZUF4aXMoYXhpcyk7XG5cbiAgICAgICAgaWYgKGF4aXMgaW5zdGFuY2VvZiBDYXRlZ29yeUF4aXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm5hbWVkQ2F0ZWdvcnlBeGVzW2F4aXNOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyLnJlc2V0KGF4aXNOYW1lKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm5hbWVkVmFsdWVBeGVzW2F4aXNOYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChheGlzID09PSB0aGlzLmNhdGVnb3J5QXhpcykge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF4aXMgPT09IHRoaXMudmFsdWVBeGlzKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy52YWx1ZUF4aXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVDaGFydHMocGFuZXMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzQnlQYW5lID0gdGhpcy5ncm91cFNlcmllc0J5UGFuZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFuZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVTZXJpZXMgPSBzZXJpZXNCeVBhbmVbcGFuZS5vcHRpb25zLm5hbWUgfHwgXCJkZWZhdWx0XCJdIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5hZGRUb0xlZ2VuZChwYW5lU2VyaWVzKTtcblxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZVNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyhwYW5lU2VyaWVzKTtcbiAgICAgICAgICAgIGlmICghdmlzaWJsZVNlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBncm91cHMgPSB0aGlzLmdyb3VwU2VyaWVzQnlDYXRlZ29yeUF4aXModmlzaWJsZVNlcmllcyk7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cEl4ID0gMDsgZ3JvdXBJeCA8IGdyb3Vwcy5sZW5ndGg7IGdyb3VwSXgrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQ2hhcnRHcm91cChncm91cHNbZ3JvdXBJeF0sIHBhbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQ2hhcnRHcm91cChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIEFSRUEsIFZFUlRJQ0FMX0FSRUEgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVJhbmdlQXJlYUNoYXJ0KFxuICAgICAgICAgICAgZmlsdGVyU2VyaWVzQnlUeXBlKHNlcmllcywgWyBSQU5HRV9BUkVBLCBWRVJUSUNBTF9SQU5HRV9BUkVBIF0pLCBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVCYXJDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgQ09MVU1OLCBCQVIgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVJhbmdlQmFyQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBTkdFX0NPTFVNTiwgUkFOR0VfQkFSIF0pLCBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVCdWxsZXRDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNhbmRsZXN0aWNrQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBDQU5ETEVTVElDSyksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUJveFBsb3RDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9UIF0pLCBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVPSExDQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBPSExDKSwgcGFuZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlV2F0ZXJmYWxsQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwgXSksIHBhbmVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUxpbmVDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgTElORSwgVkVSVElDQUxfTElORSBdKSwgcGFuZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFnZ3JlZ2F0ZUNhdGVnb3JpZXMocGFuZXMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zcmNTZXJpZXMgfHwgdGhpcy5zZXJpZXM7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZFNlcmllcyA9IFtdO1xuICAgICAgICB0aGlzLl9jdXJyZW50UG9pbnRzQ2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGUgPSB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZSB8fCB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLnNlcmllc0NhdGVnb3J5QXhpcyhjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNQYW5lID0gdGhpcy5maW5kUGFuZShjYXRlZ29yeUF4aXMub3B0aW9ucy5wYW5lKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVBeGlzID0gZXF1YWxzSWdub3JlQ2FzZShjYXRlZ29yeUF4aXMub3B0aW9ucy50eXBlLCBEQVRFKTtcblxuICAgICAgICAgICAgaWYgKChkYXRlQXhpcyB8fCBjdXJyZW50U2VyaWVzLmNhdGVnb3J5RmllbGQpICYmIGluQXJyYXkoYXhpc1BhbmUsIHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXJpZXMgPSB0aGlzLmFnZ3JlZ2F0ZVNlcmllcyhjdXJyZW50U2VyaWVzLCBjYXRlZ29yeUF4aXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWVzID0gdGhpcy5maWx0ZXJTZXJpZXMoY3VycmVudFNlcmllcywgY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJvY2Vzc2VkU2VyaWVzLnB1c2goY3VycmVudFNlcmllcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZSA9IHRoaXMuX2N1cnJlbnRQb2ludHNDYWNoZTtcbiAgICAgICAgdGhpcy5fY3VycmVudFBvaW50c0NhY2hlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNyY1NlcmllcyA9IHNlcmllcztcbiAgICAgICAgdGhpcy5zZXJpZXMgPSBwcm9jZXNzZWRTZXJpZXM7XG4gICAgfVxuXG4gICAgZmlsdGVyU2VyaWVzKHNlcmllcywgY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSAoc2VyaWVzLmRhdGEgfHwge30pLmxlbmd0aDtcbiAgICAgICAgY2F0ZWdvcnlBeGlzLl9zZXJpZXNNYXggPSBNYXRoLm1heChjYXRlZ29yeUF4aXMuX3Nlcmllc01heCB8fCAwLCBkYXRhTGVuZ3RoKTtcblxuICAgICAgICBpZiAoIShpc051bWJlcihjYXRlZ29yeUF4aXMub3B0aW9ucy5taW4pIHx8IGlzTnVtYmVyKGNhdGVnb3J5QXhpcy5vcHRpb25zLm1heCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSBjYXRlZ29yeUF4aXMuY3VycmVudFJhbmdlSW5kaWNlcygpO1xuICAgICAgICBjb25zdCBvdXRPZlJhbmdlUG9pbnRzID0gaW5BcnJheShzZXJpZXMudHlwZSwgT1VUX09GX1JBTkdFX1NFUklFUyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBkZWVwRXh0ZW5kKHt9LCBzZXJpZXMpO1xuXG4gICAgICAgIGN1cnJlbnRTZXJpZXMuZGF0YSA9IChjdXJyZW50U2VyaWVzLmRhdGEgfHwgW10pLnNsaWNlKHJhbmdlLm1pbiwgcmFuZ2UubWF4ICsgMSk7XG5cbiAgICAgICAgaWYgKG91dE9mUmFuZ2VQb2ludHMpIHtcbiAgICAgICAgICAgIGNyZWF0ZU91dE9mUmFuZ2VQb2ludHMoY3VycmVudFNlcmllcywgcmFuZ2UsIGRhdGFMZW5ndGgsIChpZHgpID0+ICh7XG4gICAgICAgICAgICAgICAgaXRlbTogc2VyaWVzLmRhdGFbaWR4XSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnlBeGlzLmNhdGVnb3J5QXQoaWR4LCB0cnVlKSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUl4OiBpZHggLSByYW5nZS5taW5cbiAgICAgICAgICAgIH0pLCAoaWR4KSA9PiBkZWZpbmVkKHNlcmllcy5kYXRhW2lkeF0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50U2VyaWVzO1xuICAgIH1cblxuICAgIGNsZWFyU2VyaWVzUG9pbnRzQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlID0ge307XG4gICAgfVxuXG4gICAgc2VyaWVzU291cmNlUG9pbnRzKHNlcmllcywgY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGAkeyBzZXJpZXMuaW5kZXggfTskeyBjYXRlZ29yeUF4aXMuY2F0ZWdvcmllc0hhc2goKSB9YDtcbiAgICAgICAgaWYgKHRoaXMuX3Nlcmllc1BvaW50c0NhY2hlW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRQb2ludHNDYWNoZVtrZXldID0gdGhpcy5fc2VyaWVzUG9pbnRzQ2FjaGVba2V5XTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJpZXNQb2ludHNDYWNoZVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBjYXRlZ29yeUF4aXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc3JjQ2F0ZWdvcmllcyA9IGF4aXNPcHRpb25zLnNyY0NhdGVnb3JpZXM7XG4gICAgICAgIGNvbnN0IGRhdGVBeGlzID0gZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBEQVRFKTtcbiAgICAgICAgY29uc3Qgc3JjRGF0YSA9IHNlcmllcy5kYXRhO1xuICAgICAgICBjb25zdCBnZXRGbiA9IGRhdGVBeGlzID8gZ2V0RGF0ZUZpZWxkIDogZ2V0RmllbGQ7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBpZiAoIWRhdGVBeGlzKSB7XG4gICAgICAgICAgICBjYXRlZ29yeUF4aXMubWFwQ2F0ZWdvcmllcygpOy8vZml4ZXMgbWFqb3IgcGVyZm9ybWFuY2UgaXNzdWUgY2F1c2VkIGJ5IHNlYXJjaGluZyBmb3IgdGhlIGluZGV4IGZvciBsYXJnZSBkYXRhXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBzcmNEYXRhLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBjYXRlZ29yeTtcbiAgICAgICAgICAgIGlmIChzZXJpZXMuY2F0ZWdvcnlGaWVsZCkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gZ2V0Rm4oc2VyaWVzLmNhdGVnb3J5RmllbGQsIHNyY0RhdGFbaWR4XSwgdGhpcy5jaGFydFNlcnZpY2UuaW50bCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gc3JjQ2F0ZWdvcmllc1tpZHhdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChjYXRlZ29yeSkgJiYgY2F0ZWdvcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXRlZ29yeUl4ID0gY2F0ZWdvcnlBeGlzLnRvdGFsSW5kZXgoY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtjYXRlZ29yeUl4XSA9IHJlc3VsdFtjYXRlZ29yeUl4XSB8fCB7IGl0ZW1zOiBbXSwgY2F0ZWdvcnk6IGNhdGVnb3J5IH07XG4gICAgICAgICAgICAgICAgcmVzdWx0W2NhdGVnb3J5SXhdLml0ZW1zLnB1c2goaWR4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQb2ludHNDYWNoZVtrZXldID0gcmVzdWx0O1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYWdncmVnYXRlU2VyaWVzKHNlcmllcywgY2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgIGNvbnN0IHNyY0RhdGEgPSBzZXJpZXMuZGF0YTtcbiAgICAgICAgaWYgKCFzcmNEYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcmllcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNyY1BvaW50cyA9IHRoaXMuc2VyaWVzU291cmNlUG9pbnRzKHNlcmllcywgY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVlcEV4dGVuZCh7fSwgc2VyaWVzKTtcbiAgICAgICAgY29uc3QgYWdncmVnYXRvciA9IG5ldyBTZXJpZXNBZ2dyZWdhdG9yKGRlZXBFeHRlbmQoe30sIHNlcmllcyksIFNlcmllc0JpbmRlci5jdXJyZW50LCBEZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc3VsdC5kYXRhID0gW107XG4gICAgICAgIGNvbnN0IGRhdGFJdGVtcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLmRhdGFJdGVtcyB8fCBbXTtcblxuICAgICAgICBjb25zdCByYW5nZSA9IGNhdGVnb3J5QXhpcy5jdXJyZW50UmFuZ2VJbmRpY2VzKCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5SXRlbSA9IChpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5SWR4ID0gaWR4IC0gcmFuZ2UubWluO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gc3JjUG9pbnRzW2lkeF07XG4gICAgICAgICAgICBpZiAoIXBvaW50KSB7XG4gICAgICAgICAgICAgICAgcG9pbnQgPSBzcmNQb2ludHNbaWR4XSA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb2ludC5jYXRlZ29yeUl4ID0gY2F0ZWdvcnlJZHg7XG5cbiAgICAgICAgICAgIGlmICghcG9pbnQuaXRlbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcnlBeGlzLmNhdGVnb3J5QXQoaWR4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBwb2ludC5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgICAgICAgICAgIHBvaW50Lml0ZW0gPSBhZ2dyZWdhdG9yLmFnZ3JlZ2F0ZVBvaW50cyhwb2ludC5pdGVtcywgY2F0ZWdvcnkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gcmFuZ2UubWluOyBpZHggPD0gcmFuZ2UubWF4OyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjYXRlZ29yeUl0ZW0oaWR4KTtcbiAgICAgICAgICAgIGRhdGFbcG9pbnQuY2F0ZWdvcnlJeF0gPSBwb2ludC5pdGVtO1xuXG4gICAgICAgICAgICBpZiAocG9pbnQuaXRlbXMgJiYgcG9pbnQuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZGF0YUl0ZW1zW3BvaW50LmNhdGVnb3J5SXhdID0gcG9pbnQuaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbkFycmF5KHJlc3VsdC50eXBlLCBPVVRfT0ZfUkFOR0VfU0VSSUVTKSkge1xuICAgICAgICAgICAgY3JlYXRlT3V0T2ZSYW5nZVBvaW50cyhyZXN1bHQsIHJhbmdlLCBjYXRlZ29yeUF4aXMudG90YWxDb3VudCgpLCBjYXRlZ29yeUl0ZW0sIChpZHgpID0+IHNyY1BvaW50c1tpZHhdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhdGVnb3J5QXhpcy5vcHRpb25zLmRhdGFJdGVtcyA9IGRhdGFJdGVtcztcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IGNoYXJ0Lm9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSB0aGlzLnNlcmllc0NhdGVnb3J5QXhpcyhzZXJpZXNbMF0pO1xuICAgICAgICBsZXQgY2F0ZWdvcmllcyA9IGNhdGVnb3J5QXhpcy5vcHRpb25zLmNhdGVnb3JpZXM7XG4gICAgICAgIGxldCBjYXRlZ29yaWVzVG9BZGQgPSBNYXRoLm1heCgwLCBjYXRlZ29yaWVzQ291bnQoc2VyaWVzKSAtIGNhdGVnb3JpZXMubGVuZ3RoKTtcblxuICAgICAgICBpZiAoY2F0ZWdvcmllc1RvQWRkID4gMCkgey8vY29uc2lkZXIgc2V0dGluZyBhbiBvcHRpb24gdG8gYXhpcyBpbnN0ZWFkIG9mIGFkZGluZyBmYWtlIGNhdGVnb3JpZXNcbiAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5jYXRlZ29yaWVzID0gY2F0ZWdvcnlBeGlzLm9wdGlvbnMuY2F0ZWdvcmllcy5zbGljZSgwKTtcbiAgICAgICAgICAgIHdoaWxlIChjYXRlZ29yaWVzVG9BZGQtLSkge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyLnVwZGF0ZShjaGFydC52YWx1ZUF4aXNSYW5nZXMpO1xuXG4gICAgICAgIHN1cGVyLmFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBSZWZhY3Rvciwgb3B0aW9uYWxseSB1c2Ugc2VyaWVzLnBhbmUgb3B0aW9uXG4gICAgc2VyaWVzUGFuZU5hbWUoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gc2VyaWVzLmF4aXM7XG4gICAgICAgIGNvbnN0IGF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICAgICAgY29uc3QgYXhpcyA9IGdyZXAoYXhpc09wdGlvbnMsIGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEubmFtZSA9PT0gYXhpc05hbWU7IH0pWzBdO1xuICAgICAgICBjb25zdCBwYW5lcyA9IG9wdGlvbnMucGFuZXMgfHwgWyB7fSBdO1xuICAgICAgICBjb25zdCBkZWZhdWx0UGFuZU5hbWUgPSAocGFuZXNbMF0gfHwge30pLm5hbWUgfHwgXCJkZWZhdWx0XCI7XG4gICAgICAgIGNvbnN0IHBhbmVOYW1lID0gKGF4aXMgfHwge30pLnBhbmUgfHwgZGVmYXVsdFBhbmVOYW1lO1xuXG4gICAgICAgIHJldHVybiBwYW5lTmFtZTtcbiAgICB9XG5cbiAgICBzZXJpZXNDYXRlZ29yeUF4aXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gc2VyaWVzLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3QgYXhpcyA9IGF4aXNOYW1lID8gdGhpcy5uYW1lZENhdGVnb3J5QXhlc1theGlzTmFtZV0gOiB0aGlzLmNhdGVnb3J5QXhpcztcblxuICAgICAgICBpZiAoIWF4aXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBsb2NhdGUgY2F0ZWdvcnkgYXhpcyB3aXRoIG5hbWUgXCIgKyBheGlzTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXhpcztcbiAgICB9XG5cbiAgICBzdGFja2FibGVDaGFydE9wdGlvbnMoZmlyc3RTZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBmaXJzdFNlcmllcy5zdGFjaztcbiAgICAgICAgY29uc3QgaXNTdGFja2VkMTAwID0gc3RhY2sgJiYgc3RhY2sudHlwZSA9PT0gXCIxMDAlXCI7XG4gICAgICAgIGNvbnN0IGNsaXAgPSBwYW5lLm9wdGlvbnMuY2xpcDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNTdGFja2VkOiBzdGFjayxcbiAgICAgICAgICAgIGlzU3RhY2tlZDEwMDogaXNTdGFja2VkMTAwLFxuICAgICAgICAgICAgY2xpcDogY2xpcFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdyb3VwU2VyaWVzQnlDYXRlZ29yeUF4aXMoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhlcyA9IFtdO1xuICAgICAgICBjb25zdCB1bmlxdWUgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VyaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBzZXJpZXNbaWR4XS5jYXRlZ29yeUF4aXMgfHwgXCIkJGRlZmF1bHQkJFwiO1xuICAgICAgICAgICAgaWYgKCF1bmlxdWUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICB1bmlxdWVbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5QXhlcy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ3JvdXBzID0gW107XG4gICAgICAgIGZvciAobGV0IGF4aXNJeCA9IDA7IGF4aXNJeCA8IGNhdGVnb3J5QXhlcy5sZW5ndGg7IGF4aXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gY2F0ZWdvcnlBeGVzW2F4aXNJeF07XG4gICAgICAgICAgICBjb25zdCBheGlzU2VyaWVzID0gZ3JvdXBTZXJpZXMoc2VyaWVzLCBheGlzLCBheGlzSXgpO1xuICAgICAgICAgICAgaWYgKGF4aXNTZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGF4aXNTZXJpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwcztcbiAgICB9XG5cbiAgICBjcmVhdGVCYXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBiYXJDaGFydCA9IG5ldyBCYXJDaGFydCh0aGlzLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgZ2FwOiBmaXJzdFNlcmllcy5nYXAsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nXG4gICAgICAgIH0sIHRoaXMuc3RhY2thYmxlQ2hhcnRPcHRpb25zKGZpcnN0U2VyaWVzLCBwYW5lKSkpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYmFyQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJhbmdlQmFyQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgcmFuZ2VDb2x1bW5DaGFydCA9IG5ldyBSYW5nZUJhckNoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgZ2FwOiBmaXJzdFNlcmllcy5nYXAsXG4gICAgICAgICAgICBzcGFjaW5nOiBmaXJzdFNlcmllcy5zcGFjaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQocmFuZ2VDb2x1bW5DaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQnVsbGV0Q2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgYnVsbGV0Q2hhcnQgPSBuZXcgQnVsbGV0Q2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmcsXG4gICAgICAgICAgICBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGJ1bGxldENoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaW5lQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgbGluZUNoYXJ0ID0gbmV3IExpbmVDaGFydCh0aGlzLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzXG4gICAgICAgIH0sIHRoaXMuc3RhY2thYmxlQ2hhcnRPcHRpb25zKGZpcnN0U2VyaWVzLCBwYW5lKSkpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQobGluZUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBcmVhQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgYXJlYUNoYXJ0ID0gbmV3IEFyZWFDaGFydCh0aGlzLCBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzXG4gICAgICAgIH0sIHRoaXMuc3RhY2thYmxlQ2hhcnRPcHRpb25zKGZpcnN0U2VyaWVzLCBwYW5lKSkpO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYXJlYUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVSYW5nZUFyZWFDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhbmdlQXJlYUNoYXJ0ID0gbmV3IFJhbmdlQXJlYUNoYXJ0KHRoaXMsIHtcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgY2xpcDogcGFuZS5vcHRpb25zLmNsaXBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChyYW5nZUFyZWFDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlT0hMQ0NoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gbmV3IE9ITENDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbmRsZXN0aWNrQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSBuZXcgQ2FuZGxlc3RpY2tDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBpbnZlcnRBeGVzOiB0aGlzLmludmVydEF4ZXMsXG4gICAgICAgICAgICBnYXA6IGZpcnN0U2VyaWVzLmdhcCxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZyxcbiAgICAgICAgICAgIGNsaXA6IHBhbmUub3B0aW9ucy5jbGlwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJveFBsb3RDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBjaGFydCA9IG5ldyBCb3hQbG90Q2hhcnQodGhpcywge1xuICAgICAgICAgICAgaW52ZXJ0QXhlczogdGhpcy5pbnZlcnRBeGVzLFxuICAgICAgICAgICAgZ2FwOiBmaXJzdFNlcmllcy5nYXAsXG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIHNwYWNpbmc6IGZpcnN0U2VyaWVzLnNwYWNpbmcsXG4gICAgICAgICAgICBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVXYXRlcmZhbGxDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCB3YXRlcmZhbGxDaGFydCA9IG5ldyBXYXRlcmZhbGxDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGludmVydEF4ZXM6IHRoaXMuaW52ZXJ0QXhlcyxcbiAgICAgICAgICAgIGdhcDogZmlyc3RTZXJpZXMuZ2FwLFxuICAgICAgICAgICAgc3BhY2luZzogZmlyc3RTZXJpZXMuc3BhY2luZ1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KHdhdGVyZmFsbENoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBheGlzUmVxdWlyZXNSb3VuZGluZyhjYXRlZ29yeUF4aXNOYW1lLCBjYXRlZ29yeUF4aXNJbmRleCkge1xuICAgICAgICBjb25zdCBjZW50ZXJlZFNlcmllcyA9IGZpbHRlclNlcmllc0J5VHlwZSh0aGlzLnNlcmllcywgRVFVQUxMWV9TUEFDRURfU0VSSUVTKTtcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgdGhpcy5zZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gdGhpcy5zZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgaWYgKGluQXJyYXkoY3VycmVudFNlcmllcy50eXBlLCBBUkVBX1NFUklFUykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gY3VycmVudFNlcmllcy5saW5lO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lICYmIGxpbmUuc3R5bGUgPT09IFNURVApIHtcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyZWRTZXJpZXMucHVzaChjdXJyZW50U2VyaWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgY2VudGVyZWRTZXJpZXMubGVuZ3RoOyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNBeGlzID0gY2VudGVyZWRTZXJpZXNbc2VyaWVzSXhdLmNhdGVnb3J5QXhpcyB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKHNlcmllc0F4aXMgPT09IGNhdGVnb3J5QXhpc05hbWUgfHwgKCFzZXJpZXNBeGlzICYmIGNhdGVnb3J5QXhpc0luZGV4ID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWdncmVnYXRlZEF4aXMoY2F0ZWdvcnlBeGlzTmFtZSwgY2F0ZWdvcnlBeGlzSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5zZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllcy5sZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0F4aXMgPSBzZXJpZXNbc2VyaWVzSXhdLmNhdGVnb3J5QXhpcyB8fCBcIlwiO1xuICAgICAgICAgICAgaWYgKChzZXJpZXNBeGlzID09PSBjYXRlZ29yeUF4aXNOYW1lIHx8ICghc2VyaWVzQXhpcyAmJiBjYXRlZ29yeUF4aXNJbmRleCA9PT0gMCkpICYmIHNlcmllc1tzZXJpZXNJeF0uY2F0ZWdvcnlGaWVsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQ2F0ZWdvcnlBeGVzTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5heGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChheGVzW2ldIGluc3RhbmNlb2YgQ2F0ZWdvcnlBeGlzKSB7XG4gICAgICAgICAgICAgICAgYXhlc1tpXS5jcmVhdGVMYWJlbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNhdGVnb3J5QXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCBpbnZlcnRBeGVzID0gdGhpcy5pbnZlcnRBeGVzO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdCh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgY29uc3QgYXhlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBheGlzT3B0aW9ucyA9IGRlZmluaXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKGF4aXNPcHRpb25zLnBhbmUpO1xuXG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBjYXRlZ29yaWVzID0gW10gfSA9IGF4aXNPcHRpb25zO1xuICAgICAgICAgICAgICAgIGF4aXNPcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBpbnZlcnRBeGVzLFxuICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiAhaW52ZXJ0QXhlcyAmJiB0aGlzLmNoYXJ0U2VydmljZS5ydGwsXG4gICAgICAgICAgICAgICAgICAgIGF4aXNDcm9zc2luZ1ZhbHVlOiBpbnZlcnRBeGVzID8gTUFYX1ZBTFVFIDogMFxuICAgICAgICAgICAgICAgIH0sIGF4aXNPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGlmICghZGVmaW5lZChheGlzT3B0aW9ucy5qdXN0aWZpZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNPcHRpb25zLmp1c3RpZmllZCA9IHRoaXMuaXNKdXN0aWZpZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5heGlzUmVxdWlyZXNSb3VuZGluZyhuYW1lLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICBheGlzT3B0aW9ucy5qdXN0aWZpZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcnlBeGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRGF0ZUF4aXMoYXhpc09wdGlvbnMsIGNhdGVnb3JpZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5QXhpcyA9IG5ldyBEYXRlQ2F0ZWdvcnlBeGlzKGF4aXNPcHRpb25zLCB0aGlzLmNoYXJ0U2VydmljZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzID0gbmV3IENhdGVnb3J5QXhpcyhheGlzT3B0aW9ucywgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zW2ldLmNhdGVnb3JpZXMgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5zcmNDYXRlZ29yaWVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZWRDYXRlZ29yeUF4ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2F0ZWdvcnkgYXhpcyB3aXRoIG5hbWUgJHsgbmFtZSB9IGlzIGFscmVhZHkgZGVmaW5lZGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZWRDYXRlZ29yeUF4ZXNbbmFtZV0gPSBjYXRlZ29yeUF4aXM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlBeGlzLmF4aXNJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYXhlcy5wdXNoKGNhdGVnb3J5QXhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRBeGlzKGNhdGVnb3J5QXhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmltYXJ5QXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzIHx8IGF4ZXNbMF07XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlBeGlzID0gcHJpbWFyeUF4aXM7XG5cbiAgICAgICAgaWYgKGludmVydEF4ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1kgPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXhpc1ggPSBwcmltYXJ5QXhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzSnVzdGlmaWVkKCkge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGlmICghaW5BcnJheShjdXJyZW50U2VyaWVzLnR5cGUsIEFSRUFfU0VSSUVTKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNyZWF0ZVZhbHVlQXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSYW5nZSA9IHRyYWNrZXIucXVlcnkoKTtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSBbXS5jb25jYXQodGhpcy5vcHRpb25zLnZhbHVlQXhpcyk7XG4gICAgICAgIGNvbnN0IGludmVydEF4ZXMgPSB0aGlzLmludmVydEF4ZXM7XG4gICAgICAgIGNvbnN0IGJhc2VPcHRpb25zID0geyB2ZXJ0aWNhbDogIWludmVydEF4ZXMsIHJldmVyc2U6IGludmVydEF4ZXMgJiYgdGhpcy5jaGFydFNlcnZpY2UucnRsIH07XG4gICAgICAgIGNvbnN0IGF4ZXMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5zdGFjazEwMCkge1xuICAgICAgICAgICAgYmFzZU9wdGlvbnMucm91bmRUb01ham9yVW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgYmFzZU9wdGlvbnMubGFiZWxzID0geyBmb3JtYXQ6IFwiUDBcIiB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSBkZWZpbml0aW9uc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXNQYW5lID0gdGhpcy5maW5kUGFuZShheGlzT3B0aW9ucy5wYW5lKTtcblxuICAgICAgICAgICAgaWYgKGluQXJyYXkoYXhpc1BhbmUsIHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBheGlzT3B0aW9ucy5uYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRBeGlzUmFuZ2UgPSBlcXVhbHNJZ25vcmVDYXNlKGF4aXNPcHRpb25zLnR5cGUsIExPR0FSSVRITUlDKSA/IHsgbWluOiAwLjEsIG1heDogMSB9IDogeyBtaW46IDAsIG1heDogMSB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdHJhY2tlci5xdWVyeShuYW1lKSB8fCBkZWZhdWx0UmFuZ2UgfHwgZGVmYXVsdEF4aXNSYW5nZTtcblxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwICYmIHJhbmdlICYmIGRlZmF1bHRSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGRlZmF1bHRSYW5nZS5taW4pO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5tYXggPSBNYXRoLm1heChyYW5nZS5tYXgsIGRlZmF1bHRSYW5nZS5tYXgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBheGlzVHlwZTtcbiAgICAgICAgICAgICAgICBpZiAoZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBMT0dBUklUSE1JQykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1R5cGUgPSBMb2dhcml0aG1pY0F4aXM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1R5cGUgPSBOdW1lcmljQXhpcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZUF4aXMgPSBuZXcgYXhpc1R5cGUocmFuZ2UubWluLCByYW5nZS5tYXgsXG4gICAgICAgICAgICAgICAgICAgIGRlZXBFeHRlbmQoe30sIGJhc2VPcHRpb25zLCBheGlzT3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWVkVmFsdWVBeGVzW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIGF4aXMgd2l0aCBuYW1lICR7IG5hbWUgfSBpcyBhbHJlYWR5IGRlZmluZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVkVmFsdWVBeGVzW25hbWVdID0gdmFsdWVBeGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZUF4aXMuYXhpc0luZGV4ID0gaTtcblxuICAgICAgICAgICAgICAgIGF4ZXMucHVzaCh2YWx1ZUF4aXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQXhpcyh2YWx1ZUF4aXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJpbWFyeUF4aXMgPSB0aGlzLnZhbHVlQXhpcyB8fCBheGVzWzBdO1xuICAgICAgICB0aGlzLnZhbHVlQXhpcyA9IHByaW1hcnlBeGlzO1xuXG4gICAgICAgIGlmIChpbnZlcnRBeGVzKSB7XG4gICAgICAgICAgICB0aGlzLmF4aXNYID0gcHJpbWFyeUF4aXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF4aXNZID0gcHJpbWFyeUF4aXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgZXZlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludChjb29yZHMueCwgY29vcmRzLnkpO1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5wb2ludFBhbmUocG9pbnQpO1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gW107XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuXG4gICAgICAgIGlmICghcGFuZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IHBhbmUuYXhlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxBeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYWxsQXhlc1tpXTtcbiAgICAgICAgICAgIGlmIChheGlzLmdldFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kSWZOb3ROdWxsKHZhbHVlcywgYXhpcy5nZXRWYWx1ZShwb2ludCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRJZk5vdE51bGwoY2F0ZWdvcmllcywgYXhpcy5nZXRDYXRlZ29yeShwb2ludCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhcHBlbmRJZk5vdE51bGwoY2F0ZWdvcmllcywgdGhpcy5jYXRlZ29yeUF4aXMuZ2V0Q2F0ZWdvcnkocG9pbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYXRlZ29yaWVzLmxlbmd0aCA+IDAgJiYgdmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNoYXJ0LnRyaWdnZXIoZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHNpbmdsZUl0ZW1PckFycmF5KGNhdGVnb3JpZXMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzaW5nbGVJdGVtT3JBcnJheSh2YWx1ZXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50UGFuZShwb2ludCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhbmUgPSBwYW5lc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFuZS5jb250ZW50Qm94LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQYW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQXhpc09wdGlvbnMoYXhpcywgb3B0aW9ucykge1xuICAgICAgICB1cGRhdGVBeGlzT3B0aW9ucyh0aGlzLm9wdGlvbnMsIGF4aXMsIG9wdGlvbnMpO1xuICAgICAgICB1cGRhdGVBeGlzT3B0aW9ucyh0aGlzLm9yaWdpbmFsT3B0aW9ucywgYXhpcywgb3B0aW9ucyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBeGlzT3B0aW9ucyh0YXJnZXRPcHRpb25zLCBheGlzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgYXhlc09wdGlvbnMgPSBheGlzIGluc3RhbmNlb2YgQ2F0ZWdvcnlBeGlzID8gW10uY29uY2F0KHRhcmdldE9wdGlvbnMuY2F0ZWdvcnlBeGlzKSA6IFtdLmNvbmNhdCh0YXJnZXRPcHRpb25zLnZhbHVlQXhpcyk7XG4gICAgZGVlcEV4dGVuZChheGVzT3B0aW9uc1theGlzLmF4aXNJbmRleF0sIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBncm91cFNlcmllcyhzZXJpZXMsIGF4aXMsIGF4aXNJeCkge1xuICAgIHJldHVybiBncmVwKHNlcmllcywgZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gKGF4aXNJeCA9PT0gMCAmJiAhcy5jYXRlZ29yeUF4aXMpIHx8IChzLmNhdGVnb3J5QXhpcyA9PT0gYXhpcyk7XG4gICAgfSk7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKENhdGVnb3JpY2FsUGxvdEFyZWEsIHtcbiAgICBjYXRlZ29yeUF4aXM6IHt9LFxuICAgIHZhbHVlQXhpczoge31cbn0pO1xuXG5kZWVwRXh0ZW5kKENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLCBQbG90QXJlYUV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2F0ZWdvcmljYWxQbG90QXJlYTsiLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIEhpZ2hsaWdodCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9wb2ludHMgPSBbXTtcbiAgICB9XG5cbiAgICBzaG93KHBvaW50cykge1xuICAgICAgICBjb25zdCBhcnJheVBvaW50cyA9IFtdLmNvbmNhdChwb2ludHMpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IGFycmF5UG9pbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBvaW50ICYmIHBvaW50LnRvZ2dsZUhpZ2hsaWdodCAmJiBwb2ludC5oYXNIaWdobGlnaHQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZVBvaW50SGlnaGxpZ2h0KHBvaW50LCBzaG93KSB7XG4gICAgICAgIGNvbnN0IHRvZ2dsZUhhbmRsZXIgPSAocG9pbnQub3B0aW9ucy5oaWdobGlnaHQgfHwge30pLnRvZ2dsZTtcbiAgICAgICAgaWYgKHRvZ2dsZUhhbmRsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50QXJncyA9IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogcG9pbnQuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBwb2ludC5zZXJpZXMsXG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IHBvaW50LmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwb2ludC52YWx1ZSxcbiAgICAgICAgICAgICAgICBzdGFja1ZhbHVlOiBwb2ludC5zdGFja1ZhbHVlLFxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBwcmV2ZW50RGVmYXVsdCxcbiAgICAgICAgICAgICAgICB2aXN1YWw6IHBvaW50LmhpZ2hsaWdodFZpc3VhbCgpLFxuICAgICAgICAgICAgICAgIHNob3c6IHNob3dcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0b2dnbGVIYW5kbGVyKGV2ZW50QXJncyk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50QXJncy5fZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIHBvaW50LnRvZ2dsZUhpZ2hsaWdodChzaG93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50LnRvZ2dsZUhpZ2hsaWdodChzaG93KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX3BvaW50cztcbiAgICAgICAgd2hpbGUgKHBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnRzLnBvcCgpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0hpZ2hsaWdodGVkKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fcG9pbnRzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBwb2ludCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEhpZ2hsaWdodDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhY2NlcHRLZXkoZSwgbW91c2VLZXkpIHtcbiAgICBjb25zdCBrZXkgPSAobW91c2VLZXkgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBldmVudCA9IGUuZXZlbnQ7XG4gICAgY29uc3QgYWNjZXB0ID0gKGtleSA9PT0gXCJub25lXCIgJiYgIShldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkpIHx8IGV2ZW50W2tleSArIFwiS2V5XCJdO1xuXG4gICAgcmV0dXJuIGFjY2VwdDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0NoYXJ0QXhpc1JhbmdlcyhheGlzUmFuZ2VzKSB7XG4gICAgY29uc3QgcmFuZ2VzID0ge307XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhpc1Jhbmdlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZSA9IGF4aXNSYW5nZXNbaWR4XTtcbiAgICAgICAgaWYgKGF4aXNSYW5nZS5heGlzLm9wdGlvbnMubmFtZSkge1xuICAgICAgICAgICAgcmFuZ2VzW2F4aXNSYW5nZS5heGlzLm9wdGlvbnMubmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgbWluOiBheGlzUmFuZ2UucmFuZ2UubWluLFxuICAgICAgICAgICAgICAgIG1heDogYXhpc1JhbmdlLnJhbmdlLm1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2VzO1xufSIsImltcG9ydCBhY2NlcHRLZXkgZnJvbSAnLi9hY2NlcHQta2V5JztcbmltcG9ydCB0b0NoYXJ0QXhpc1JhbmdlcyBmcm9tICcuL3RvLWNoYXJ0LWF4aXMtcmFuZ2VzJztcblxuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQYW5uYWJsZSBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMucGxvdEFyZWEgPSBwbG90QXJlYTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBzdGFydChlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjY2VwdEtleShlLCB0aGlzLm9wdGlvbnMua2V5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgICB9XG5cbiAgICBtb3ZlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgY29uc3QgYXhpc1JhbmdlcyA9IHRoaXMuYXhpc1JhbmdlcyA9IHRoaXMuX3BhbkF4ZXMoZSwgWCkuY29uY2F0KHRoaXMuX3BhbkF4ZXMoZSwgWSkpO1xuICAgICAgICAgICAgaWYgKGF4aXNSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0gYXhpc1JhbmdlcztcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9DaGFydEF4aXNSYW5nZXMoYXhpc1Jhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmQoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZTtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIGFjdGl2ZTtcbiAgICB9XG5cbiAgICBwYW4oKSB7XG4gICAgICAgIGNvbnN0IHsgcGxvdEFyZWEsIGF4aXNSYW5nZXMgfSA9IHRoaXM7XG4gICAgICAgIGlmIChheGlzUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhpc1Jhbmdlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBheGlzUmFuZ2VzW2lkeF07XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEudXBkYXRlQXhpc09wdGlvbnMocmFuZ2UuYXhpcywgcmFuZ2UucmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxvdEFyZWEucmVkcmF3KHBsb3RBcmVhLnBhbmVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnBsb3RBcmVhO1xuICAgIH1cblxuICAgIF9wYW5BeGVzKGUsIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5wbG90QXJlYTtcbiAgICAgICAgY29uc3QgZGVsdGEgPSAtZVtwb3NpdGlvbl0uZGVsdGE7XG4gICAgICAgIGNvbnN0IGxvY2sgPSAodGhpcy5vcHRpb25zLmxvY2sgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZEF4ZXMgPSBbXTtcblxuICAgICAgICBpZiAoZGVsdGEgIT09IDAgJiYgKGxvY2sgfHwgXCJcIikudG9Mb3dlckNhc2UoKSAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBwbG90QXJlYS5heGVzO1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgYXhlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gWCAmJiAhYXhpcy5vcHRpb25zLnZlcnRpY2FsIHx8IHBvc2l0aW9uID09PSBZICYmIGF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMucGFuKGRlbHRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmxpbWl0UmFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF4ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRBeGVzO1xuICAgIH1cbn1cblxuUGFubmFibGUucHJvdG90eXBlLm9wdGlvbnMgPSB7XG4gICAga2V5OiBcIm5vbmVcIixcbiAgICBsb2NrOiBcIm5vbmVcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgUGFubmFibGU7IiwiaW1wb3J0IGFjY2VwdEtleSBmcm9tICcuL2FjY2VwdC1rZXknO1xuaW1wb3J0IHRvQ2hhcnRBeGlzUmFuZ2VzIGZyb20gJy4vdG8tY2hhcnQtYXhpcy1yYW5nZXMnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDbGFzcywgZGVlcEV4dGVuZCwgZWxlbWVudFN0eWxlcywgZWxlbWVudE9mZnNldCwgZGVmaW5lZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFpvb21TZWxlY3Rpb24gZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoY2hhcnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IG1hcnF1ZWUgPSB0aGlzLl9tYXJxdWVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbWFycXVlZS5jbGFzc05hbWUgPSBcImstbWFycXVlZVwiO1xuICAgICAgICBjb25zdCBtYXJxdWVlQ29sb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYXJxdWVlQ29sb3IuY2xhc3NOYW1lID0gXCJrLW1hcnF1ZWUtY29sb3JcIjtcbiAgICAgICAgbWFycXVlZS5hcHBlbmRDaGlsZChtYXJxdWVlQ29sb3IpO1xuICAgIH1cblxuICAgIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXJxdWVlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX21hcnF1ZWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9tYXJxdWVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0eWxlcyhzdHlsZXMpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0aGlzLl9tYXJxdWVlLCBzdHlsZXMpO1xuICAgIH1cblxuICAgIHN0YXJ0KGUpIHtcbiAgICAgICAgaWYgKGFjY2VwdEtleShlLCB0aGlzLm9wdGlvbnMua2V5KSkge1xuICAgICAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgICAgIGNvbnN0IHpvb21QYW5lID0gdGhpcy5fem9vbVBhbmUgPSBjaGFydC5fcGxvdEFyZWEucGFuZUJ5UG9pbnQocG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgY2xpcEJveCA9IHpvb21QYW5lID8gem9vbVBhbmUuY2hhcnRzQm94KCkuY2xvbmUoKSA6IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh6b29tUGFuZSAmJiBjbGlwQm94KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fZWxlbWVudE9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgY2xpcEJveC50cmFuc2xhdGUob2Zmc2V0LmxlZnQsIG9mZnNldC50b3ApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3pvb21QYW5lQ2xpcEJveCA9IGNsaXBCb3g7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX21hcnF1ZWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3R5bGVzKHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZS5wYWdlWCArIDEsXG4gICAgICAgICAgICAgICAgICAgIHRvcDogZS5wYWdlWSArIDEsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfZWxlbWVudE9mZnNldCgpIHtcbiAgICAgICAgY29uc3QgY2hhcnRFbGVtZW50ID0gdGhpcy5jaGFydC5lbGVtZW50O1xuICAgICAgICBjb25zdCB7IHBhZGRpbmdMZWZ0LCBwYWRkaW5nVG9wIH0gPSBlbGVtZW50U3R5bGVzKGNoYXJ0RWxlbWVudCwgWyBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1RvcFwiIF0pO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBlbGVtZW50T2Zmc2V0KGNoYXJ0RWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IHBhZGRpbmdMZWZ0ICsgb2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IHBhZGRpbmdUb3AgKyBvZmZzZXQudG9wXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgbW92ZShlKSB7XG4gICAgICAgIGNvbnN0IHpvb21QYW5lID0gdGhpcy5fem9vbVBhbmU7XG4gICAgICAgIGlmICh6b29tUGFuZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZXModGhpcy5fc2VsZWN0aW9uUG9zaXRpb24oZSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5kKGUpIHtcbiAgICAgICAgY29uc3Qgem9vbVBhbmUgPSB0aGlzLl96b29tUGFuZTtcbiAgICAgICAgaWYgKHpvb21QYW5lKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50T2Zmc2V0ID0gdGhpcy5fZWxlbWVudE9mZnNldCgpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uUG9zaXRpb24gPSB0aGlzLl9zZWxlY3Rpb25Qb3NpdGlvbihlKTtcbiAgICAgICAgICAgIHNlbGVjdGlvblBvc2l0aW9uLmxlZnQgLT0gZWxlbWVudE9mZnNldC5sZWZ0O1xuICAgICAgICAgICAgc2VsZWN0aW9uUG9zaXRpb24udG9wIC09IGVsZW1lbnRPZmZzZXQudG9wO1xuXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHsgeDogc2VsZWN0aW9uUG9zaXRpb24ubGVmdCwgeTogc2VsZWN0aW9uUG9zaXRpb24udG9wIH07XG4gICAgICAgICAgICBjb25zdCBlbmQgPSB7IHg6IHNlbGVjdGlvblBvc2l0aW9uLmxlZnQgKyBzZWxlY3Rpb25Qb3NpdGlvbi53aWR0aCwgeTogc2VsZWN0aW9uUG9zaXRpb24udG9wICsgc2VsZWN0aW9uUG9zaXRpb24uaGVpZ2h0IH07XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVBeGlzUmFuZ2VzKHN0YXJ0LCBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl96b29tUGFuZTtcblxuICAgICAgICAgICAgcmV0dXJuIHRvQ2hhcnRBeGlzUmFuZ2VzKHRoaXMuYXhpc1Jhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB6b29tKCkge1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gdGhpcy5heGlzUmFuZ2VzO1xuICAgICAgICBpZiAoYXhpc1JhbmdlcyAmJiBheGlzUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLmNoYXJ0Ll9wbG90QXJlYTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4aXNSYW5nZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNSYW5nZSA9IGF4aXNSYW5nZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBwbG90QXJlYS51cGRhdGVBeGlzT3B0aW9ucyhheGlzUmFuZ2UuYXhpcywgYXhpc1JhbmdlLnJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsb3RBcmVhLnJlZHJhdyhwbG90QXJlYS5wYW5lcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUVsZW1lbnQoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21hcnF1ZWU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNoYXJ0O1xuICAgIH1cblxuICAgIF91cGRhdGVBeGlzUmFuZ2VzKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgbG9jayA9ICh0aGlzLm9wdGlvbnMubG9jayB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBheGlzUmFuZ2VzID0gW107XG5cbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuX3pvb21QYW5lLmF4ZXM7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsO1xuICAgICAgICAgICAgaWYgKCEobG9jayA9PT0gWCAmJiAhdmVydGljYWwpICYmICEobG9jayA9PT0gWSAmJiB2ZXJ0aWNhbCkgJiYgZGVmaW5lZChheGlzLmF4aXNJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMucG9pbnRzUmFuZ2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXNSYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhpc1JhbmdlcyA9IGF4aXNSYW5nZXM7XG4gICAgfVxuXG4gICAgX3NlbGVjdGlvblBvc2l0aW9uKGUpIHtcbiAgICAgICAgY29uc3QgY2xpcEJveCA9IHRoaXMuX3pvb21QYW5lQ2xpcEJveDtcbiAgICAgICAgY29uc3Qgc3RhcnRMb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHg6IGUueC5zdGFydExvY2F0aW9uLFxuICAgICAgICAgICAgeTogZS55LnN0YXJ0TG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyB4OiB7IGxvY2F0aW9uOiBwYWdlWCB9LCB5OiB7IGxvY2F0aW9uOiBwYWdlWSB9IH0gPSBlO1xuICAgICAgICBjb25zdCBsb2NrID0gKHRoaXMub3B0aW9ucy5sb2NrIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBsZWZ0ID0gTWF0aC5taW4oc3RhcnRMb2NhdGlvbi54LCBwYWdlWCk7XG4gICAgICAgIGxldCB0b3AgPSBNYXRoLm1pbihzdGFydExvY2F0aW9uLnksIHBhZ2VZKTtcbiAgICAgICAgbGV0IHdpZHRoID0gTWF0aC5hYnMoc3RhcnRMb2NhdGlvbi54IC0gcGFnZVgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5hYnMoc3RhcnRMb2NhdGlvbi55IC0gcGFnZVkpO1xuXG4gICAgICAgIGlmIChsb2NrID09PSBYKSB7XG4gICAgICAgICAgICBsZWZ0ID0gY2xpcEJveC54MTtcbiAgICAgICAgICAgIHdpZHRoID0gY2xpcEJveC53aWR0aCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NrID09PSBZKSB7XG4gICAgICAgICAgICB0b3AgPSBjbGlwQm94LnkxO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2xpcEJveC5oZWlnaHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlWCA+IGNsaXBCb3gueDIpIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2xpcEJveC54MiAtIHN0YXJ0TG9jYXRpb24ueDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlWCA8IGNsaXBCb3gueDEpIHtcbiAgICAgICAgICAgIHdpZHRoID0gc3RhcnRMb2NhdGlvbi54IC0gY2xpcEJveC54MTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlWSA+IGNsaXBCb3gueTIpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGNsaXBCb3gueTIgLSBzdGFydExvY2F0aW9uLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZVkgPCBjbGlwQm94LnkxKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBzdGFydExvY2F0aW9uLnkgLSBjbGlwQm94LnkxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IE1hdGgubWF4KGxlZnQsIGNsaXBCb3gueDEpLFxuICAgICAgICAgICAgdG9wOiBNYXRoLm1heCh0b3AsIGNsaXBCb3gueTEpLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cblpvb21TZWxlY3Rpb24ucHJvdG90eXBlLm9wdGlvbnMgPSB7XG4gICAga2V5OiBcInNoaWZ0XCIsXG4gICAgbG9jazogXCJub25lXCJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFpvb21TZWxlY3Rpb247IiwiXG5pbXBvcnQgdG9DaGFydEF4aXNSYW5nZXMgZnJvbSAnLi90by1jaGFydC1heGlzLXJhbmdlcyc7XG5cbmltcG9ydCB7IFgsIFkgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IENsYXNzLCBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgTW91c2V3aGVlbFpvb20gZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoY2hhcnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNoYXJ0ID0gY2hhcnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdXBkYXRlUmFuZ2VzKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IGxvY2sgPSAodGhpcy5vcHRpb25zLmxvY2sgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgYXhpc1JhbmdlcyA9IFtdO1xuICAgICAgICBjb25zdCBheGVzID0gdGhpcy5jaGFydC5fcGxvdEFyZWEuYXhlcztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBheGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2lkeF07XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcblxuICAgICAgICAgICAgaWYgKCEobG9jayA9PT0gWCAmJiAhdmVydGljYWwpICYmICEobG9jayA9PT0gWSAmJiB2ZXJ0aWNhbCkgJiYgYXhpcy56b29tUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IGF4aXMuem9vbVJhbmdlKC1kZWx0YSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1Jhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXM6IGF4aXMsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZTogcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGlzUmFuZ2VzID0gYXhpc1JhbmdlcztcbiAgICAgICAgcmV0dXJuIHRvQ2hhcnRBeGlzUmFuZ2VzKGF4aXNSYW5nZXMpO1xuICAgIH1cblxuICAgIHpvb20oKSB7XG4gICAgICAgIGNvbnN0IGF4aXNSYW5nZXMgPSB0aGlzLmF4aXNSYW5nZXM7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fcGxvdEFyZWE7XG5cbiAgICAgICAgaWYgKGF4aXNSYW5nZXMgJiYgYXhpc1Jhbmdlcy5sZW5ndGggJiYgcGxvdEFyZWEudXBkYXRlQXhpc09wdGlvbnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGF4aXNSYW5nZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNSYW5nZSA9IGF4aXNSYW5nZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBwbG90QXJlYS51cGRhdGVBeGlzT3B0aW9ucyhheGlzUmFuZ2UuYXhpcywgYXhpc1JhbmdlLnJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsb3RBcmVhLnJlZHJhdyhwbG90QXJlYS5wYW5lcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBkZWxldGUgdGhpcy5jaGFydDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1vdXNld2hlZWxab29tOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBCb3gsIHJlY3RUb0JveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5jbGFzcyBMZWdlbmRMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gY2hhcnRTZXJ2aWNlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsO1xuXG4gICAgICAgIHRoaXMudmlzdWFsID0gbmV3IGRyYXcuTGF5b3V0KG51bGwsIHtcbiAgICAgICAgICAgIHNwYWNpbmc6IHZlcnRpY2FsID8gMCA6IG9wdGlvbnMuc3BhY2luZyxcbiAgICAgICAgICAgIGxpbmVTcGFjaW5nOiB2ZXJ0aWNhbCA/IG9wdGlvbnMuc3BhY2luZyA6IDAsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdmVydGljYWwgPyBcInZlcnRpY2FsXCIgOiBcImhvcml6b250YWxcIixcbiAgICAgICAgICAgIHJldmVyc2U6IG9wdGlvbnMucnRsLFxuICAgICAgICAgICAgYWxpZ25JdGVtczogdmVydGljYWwgPyBcInN0YXJ0XCIgOiBcImNlbnRlclwiXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBsZWdlbmRJdGVtID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgICAgIGxlZ2VuZEl0ZW0ucmVmbG93KG5ldyBCb3goKSk7XG4gICAgICAgICAgICBsZWdlbmRJdGVtLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KGJveCkge1xuICAgICAgICB0aGlzLnZpc3VhbC5yZWN0KGJveC50b1JlY3QoKSk7XG4gICAgICAgIHRoaXMudmlzdWFsLnJlZmxvdygpO1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy52aXN1YWwuY2xpcHBlZEJCb3goKTtcblxuICAgICAgICBpZiAoYmJveCkge1xuICAgICAgICAgICAgdGhpcy5ib3ggPSByZWN0VG9Cb3goYmJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclZpc3VhbCgpIHtcbiAgICAgICAgdGhpcy5hZGRWaXN1YWwoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaXN1YWwoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBMZWdlbmRMYXlvdXQ7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBCb3hFbGVtZW50LCBGbG9hdEVsZW1lbnQsIFNoYXBlRWxlbWVudCwgVGV4dEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuaW1wb3J0IHsgTEVHRU5EX0lURU1fQ0xJQ0ssIExFR0VORF9JVEVNX0hPVkVSLCBMRUdFTkRfSVRFTV9MRUFWRSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDRU5URVIsIFdISVRFIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBldmVudEVsZW1lbnQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBMZWdlbmRJdGVtIGV4dGVuZHMgQm94RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBpZiAoIW9wdGlvbnMucnRsKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgRmxvYXRFbGVtZW50KHsgdmVydGljYWw6IGZhbHNlLCB3cmFwOiBmYWxzZSwgYWxpZ246IENFTlRFUiwgc3BhY2luZzogdGhpcy5vcHRpb25zLnNwYWNpbmcgfSk7XG4gICAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNYXJrZXIoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChuZXcgU2hhcGVFbGVtZW50KHRoaXMubWFya2VyT3B0aW9ucygpKSk7XG4gICAgfVxuXG4gICAgbWFya2VyT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFya2VyQ29sb3IgPSBvcHRpb25zLm1hcmtlckNvbG9yO1xuICAgICAgICByZXR1cm4gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy5tYXJrZXJzLCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBtYXJrZXJDb2xvcixcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBtYXJrZXJDb2xvclxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucy5sYWJlbHMpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZChuZXcgVGV4dEJveChvcHRpb25zLnRleHQsIGxhYmVsT3B0aW9ucykpO1xuICAgIH1cblxuICAgIHJlbmRlckNvbXBsZXRlKCkge1xuICAgICAgICBzdXBlci5yZW5kZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IHRoaXMub3B0aW9ucy5jdXJzb3IgfHwge307XG4gICAgICAgIGNvbnN0IGV2ZW50U2luayA9IHRoaXMuX2l0ZW1PdmVybGF5ID0gZHJhdy5QYXRoLmZyb21SZWN0KHRoaXMuY29udGFpbmVyLmJveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBXSElURSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsLFxuICAgICAgICAgICAgY3Vyc29yOiBjdXJzb3Iuc3R5bGUgfHwgY3Vyc29yXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kVmlzdWFsKGV2ZW50U2luayk7XG4gICAgfVxuXG4gICAgY2xpY2sod2lkZ2V0LCBlKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB0aGlzLmV2ZW50QXJncyhlKTtcblxuICAgICAgICBpZiAoIXdpZGdldC50cmlnZ2VyKExFR0VORF9JVEVNX0NMSUNLLCBhcmdzKSAmJiBlICYmIGUudHlwZSA9PT0gJ2NvbnRleHRtZW51Jykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3Zlcih3aWRnZXQsIGUpIHtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuZXZlbnRBcmdzKGUpO1xuXG4gICAgICAgIGlmICghd2lkZ2V0LnRyaWdnZXIoTEVHRU5EX0lURU1fSE9WRVIsIGFyZ3MpKSB7XG4gICAgICAgICAgICB3aWRnZXQuX2xlZ2VuZEl0ZW1Ib3ZlcihhcmdzLnNlcmllc0luZGV4LCBhcmdzLnBvaW50SW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBwb2ludCBob3ZlciBmb3IgbGVnZW5kIGl0ZW1zXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIG91dCh3aWRnZXQsIGUpIHtcbiAgICAgICAgd2lkZ2V0Ll91bnNldEFjdGl2ZVBvaW50KCk7XG5cbiAgICAgICAgd2lkZ2V0LnRyaWdnZXIoTEVHRU5EX0lURU1fTEVBVkUsIHRoaXMuZXZlbnRBcmdzKGUpKTtcbiAgICB9XG5cbiAgICBldmVudEFyZ3MoZSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50OiBldmVudEVsZW1lbnQoZSksXG4gICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRleHQsXG4gICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgc2VyaWVzSW5kZXg6IG9wdGlvbnMuc2VyaWVzLmluZGV4LFxuICAgICAgICAgICAgcG9pbnRJbmRleDogb3B0aW9ucy5wb2ludEluZGV4XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVuZGVyVmlzdWFsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjdXN0b21WaXN1YWwgPSBvcHRpb25zLnZpc3VhbDtcblxuICAgICAgICBpZiAoY3VzdG9tVmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbCA9IGN1c3RvbVZpc3VhbCh7XG4gICAgICAgICAgICAgICAgYWN0aXZlOiBvcHRpb25zLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IG9wdGlvbnMuc2VyaWVzLFxuICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5nZXRTZW5kZXIoKSxcbiAgICAgICAgICAgICAgICBwb2ludEluZGV4OiBvcHRpb25zLnBvaW50SW5kZXgsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiB0aGlzLm1hcmtlck9wdGlvbnMoKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBvcHRpb25zLmxhYmVsc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3JlYXRlVmlzdWFsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlzdWFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWaXN1YWwgPSB0aGlzLnZpc3VhbDtcblxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy52aXN1YWw7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaXN1YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFkZFZpc3VhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2VuZEl0ZW07XG4iLCJcbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgTGVnZW5kTGF5b3V0IGZyb20gJy4vbGVnZW5kLWxheW91dCc7XG5pbXBvcnQgTGVnZW5kSXRlbSBmcm9tICcuL2xlZ2VuZC1pdGVtJztcblxuaW1wb3J0IHsgVE9QLCBSSUdIVCwgQk9UVE9NLCBMRUZULCBDRU5URVIsIFgsIFksIEJMQUNLIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBnZXRTcGFjaW5nLCBpbkFycmF5LCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IEhPUklaT05UQUwgPSBcImhvcml6b250YWxcIjtcbmNvbnN0IFBPSU5URVIgPSBcInBvaW50ZXJcIjtcbmNvbnN0IENVU1RPTSA9IFwiY3VzdG9tXCI7XG5cbmNsYXNzIExlZ2VuZCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgY2hhcnRTZXJ2aWNlID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgaWYgKCFpbkFycmF5KHRoaXMub3B0aW9ucy5wb3NpdGlvbiwgWyBUT1AsIFJJR0hULCBCT1RUT00sIExFRlQsIENVU1RPTSBdKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBvc2l0aW9uID0gUklHSFQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlSXRlbXMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24sIGFsaWduOiB1c2VyQWxpZ24gfSA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBhbGlnbiA9IHBvc2l0aW9uO1xuICAgICAgICBsZXQgdkFsaWduID0gQ0VOVEVSO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gQ1VTVE9NKSB7XG4gICAgICAgICAgICBhbGlnbiA9IExFRlQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5BcnJheShwb3NpdGlvbiwgWyBUT1AsIEJPVFRPTSBdKSkge1xuICAgICAgICAgICAgaWYgKHVzZXJBbGlnbiA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgYWxpZ24gPSBMRUZUO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWxpZ24gPT09IFwiZW5kXCIpIHtcbiAgICAgICAgICAgICAgICBhbGlnbiA9IFJJR0hUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGlnbiA9IENFTlRFUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZBbGlnbiA9IHBvc2l0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHVzZXJBbGlnbikge1xuICAgICAgICAgICAgaWYgKHVzZXJBbGlnbiA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgdkFsaWduID0gVE9QO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1c2VyQWxpZ24gPT09IFwiZW5kXCIpIHtcbiAgICAgICAgICAgICAgICB2QWxpZ24gPSBCT1RUT007XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBCb3hFbGVtZW50KHtcbiAgICAgICAgICAgIG1hcmdpbjogb3B0aW9ucy5tYXJnaW4sXG4gICAgICAgICAgICBwYWRkaW5nOiBvcHRpb25zLnBhZGRpbmcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICBib3JkZXI6IG9wdGlvbnMuYm9yZGVyLFxuICAgICAgICAgICAgdkFsaWduOiB2QWxpZ24sXG4gICAgICAgICAgICBhbGlnbjogYWxpZ24sXG4gICAgICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4LFxuICAgICAgICAgICAgc2hyaW5rVG9GaXQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmQodGhpcy5jb250YWluZXIpO1xuICAgIH1cblxuICAgIGNyZWF0ZUl0ZW1zKCkge1xuICAgICAgICBjb25zdCBjaGFydFNlcnZpY2UgPSB0aGlzLmdldFNlcnZpY2UoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLmlzVmVydGljYWwoKTtcbiAgICAgICAgY29uc3QgaW5uZXJFbGVtZW50ID0gbmV3IExlZ2VuZExheW91dCh7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogdmVydGljYWwsXG4gICAgICAgICAgICBzcGFjaW5nOiBvcHRpb25zLnNwYWNpbmcsXG4gICAgICAgICAgICBydGw6IGNoYXJ0U2VydmljZS5ydGxcbiAgICAgICAgfSwgY2hhcnRTZXJ2aWNlKTtcbiAgICAgICAgbGV0IGl0ZW1zID0gb3B0aW9ucy5pdGVtcztcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLnNsaWNlKDApLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaW5uZXJFbGVtZW50LmFwcGVuZChuZXcgTGVnZW5kSXRlbShkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAgICAgbWFya2Vyczogb3B0aW9ucy5tYXJrZXJzLFxuICAgICAgICAgICAgICAgIGxhYmVsczogb3B0aW9ucy5sYWJlbHMsXG4gICAgICAgICAgICAgICAgcnRsOiBjaGFydFNlcnZpY2UucnRsXG4gICAgICAgICAgICB9LCBvcHRpb25zLml0ZW0sIGl0ZW0pKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpbm5lckVsZW1lbnQucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kKGlubmVyRWxlbWVudCk7XG4gICAgfVxuXG4gICAgaXNWZXJ0aWNhbCgpIHtcbiAgICAgICAgY29uc3QgeyBvcmllbnRhdGlvbiwgcG9zaXRpb24gfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSAocG9zaXRpb24gPT09IENVU1RPTSAmJiBvcmllbnRhdGlvbiAhPT0gSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgICAgIChkZWZpbmVkKG9yaWVudGF0aW9uKSA/IG9yaWVudGF0aW9uICE9PSBIT1JJWk9OVEFMIDogaW5BcnJheShwb3NpdGlvbiwgWyBMRUZULCBSSUdIVCBdKSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsO1xuICAgIH1cblxuICAgIGhhc0l0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuY2hpbGRyZW5bMF0uY2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlZ2VuZEJveCA9IHRhcmdldEJveC5jbG9uZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy5oYXNJdGVtcygpKSB7XG4gICAgICAgICAgICB0aGlzLmJveCA9IGxlZ2VuZEJveDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSBDVVNUT00pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyQ3VzdG9tUmVmbG93KGxlZ2VuZEJveCk7XG4gICAgICAgICAgICB0aGlzLmJveCA9IGxlZ2VuZEJveDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyUmVmbG93KGxlZ2VuZEJveCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb250YWluZXJSZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY29udGFpbmVyIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbiA9PT0gVE9QIHx8IHBvc2l0aW9uID09PSBCT1RUT00gPyBYIDogWTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSB0aGlzLmlzVmVydGljYWwoKTtcbiAgICAgICAgY29uc3QgYWxpZ25UYXJnZXQgPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgbGV0IGNvbnRhaW5lckJveCA9IHRhcmdldEJveC5jbG9uZSgpO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gTEVGVCB8fCBwb3NpdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC55MSA9IGFsaWduVGFyZ2V0LnkxID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCAmJiBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC55MiA9IGNvbnRhaW5lckJveC55MSArIGhlaWdodDtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC5hbGlnbihhbGlnblRhcmdldCwgWSwgY29udGFpbmVyLm9wdGlvbnMudkFsaWduKTtcbiAgICAgICAgfSBlbHNlIGlmICghdmVydGljYWwgJiYgd2lkdGgpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC54MiA9IGNvbnRhaW5lckJveC54MSArIHdpZHRoO1xuICAgICAgICAgICAgY29udGFpbmVyQm94LmFsaWduKGFsaWduVGFyZ2V0LCBYLCBjb250YWluZXIub3B0aW9ucy5hbGlnbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXIucmVmbG93KGNvbnRhaW5lckJveCk7XG4gICAgICAgIGNvbnRhaW5lckJveCA9IGNvbnRhaW5lci5ib3g7XG5cbiAgICAgICAgY29uc3QgYm94ID0gY29udGFpbmVyQm94LmNsb25lKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMub2Zmc2V0WCB8fCBvcHRpb25zLm9mZnNldFkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckJveC50cmFuc2xhdGUob3B0aW9ucy5vZmZzZXRYLCBvcHRpb25zLm9mZnNldFkpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVmbG93KGNvbnRhaW5lckJveCk7XG4gICAgICAgIH1cblxuICAgICAgICBib3hbcG9zICsgMV0gPSB0YXJnZXRCb3hbcG9zICsgMV07XG4gICAgICAgIGJveFtwb3MgKyAyXSA9IHRhcmdldEJveFtwb3MgKyAyXTtcblxuICAgICAgICB0aGlzLmJveCA9IGJveDtcbiAgICB9XG5cbiAgICBjb250YWluZXJDdXN0b21SZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY29udGFpbmVyIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFksIHdpZHRoLCBoZWlnaHQgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsKCk7XG4gICAgICAgIGxldCBjb250YWluZXJCb3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcblxuICAgICAgICBpZiAodmVydGljYWwgJiYgaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueTIgPSBjb250YWluZXJCb3gueTEgKyBoZWlnaHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZlcnRpY2FsICYmIHdpZHRoKSB7XG4gICAgICAgICAgICBjb250YWluZXJCb3gueDIgPSBjb250YWluZXJCb3gueDEgKyB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVmbG93KGNvbnRhaW5lckJveCk7XG4gICAgICAgIGNvbnRhaW5lckJveCA9IGNvbnRhaW5lci5ib3g7XG5cbiAgICAgICAgY29udGFpbmVyLnJlZmxvdyhuZXcgQm94KFxuICAgICAgICAgICAgb2Zmc2V0WCwgb2Zmc2V0WSxcbiAgICAgICAgICAgIG9mZnNldFggKyBjb250YWluZXJCb3gud2lkdGgoKSwgb2Zmc2V0WSArIGNvbnRhaW5lckJveC5oZWlnaHQoKVxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0l0ZW1zKCkpIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhMZWdlbmQsIHtcbiAgICBwb3NpdGlvbjogUklHSFQsXG4gICAgaXRlbXM6IFtdLFxuICAgIG9mZnNldFg6IDAsXG4gICAgb2Zmc2V0WTogMCxcbiAgICBtYXJnaW46IGdldFNwYWNpbmcoNSksXG4gICAgcGFkZGluZzogZ2V0U3BhY2luZyg1KSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgaXRlbToge1xuICAgICAgICBjdXJzb3I6IFBPSU5URVIsXG4gICAgICAgIHNwYWNpbmc6IDZcbiAgICB9LFxuICAgIHNwYWNpbmc6IDYsXG4gICAgYmFja2dyb3VuZDogXCJcIixcbiAgICB6SW5kZXg6IDEsXG4gICAgbWFya2Vyczoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgaGVpZ2h0OiAzLFxuICAgICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgICAgYWxpZ246IExFRlQsXG4gICAgICAgIHZBbGlnbjogQ0VOVEVSXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExlZ2VuZDsiLCJpbXBvcnQgZmlsdGVyU2VyaWVzQnlUeXBlIGZyb20gJy4uL3V0aWxzL2ZpbHRlci1zZXJpZXMtYnktdHlwZSc7XG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBsb3RBcmVhRmFjdG9yeSBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5ID0gW107XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIodHlwZSwgc2VyaWVzVHlwZXMpIHtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnkucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgc2VyaWVzVHlwZXM6IHNlcmllc1R5cGVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZShzcmNTZXJpZXMsIG9wdGlvbnMsIGNoYXJ0U2VydmljZSkge1xuICAgICAgICBjb25zdCByZWdpc3RyeSA9IHRoaXMuX3JlZ2lzdHJ5O1xuICAgICAgICBsZXQgbWF0Y2ggPSByZWdpc3RyeVswXTtcbiAgICAgICAgbGV0IHNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCByZWdpc3RyeS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHJlZ2lzdHJ5W2lkeF07XG4gICAgICAgICAgICBzZXJpZXMgPSBmaWx0ZXJTZXJpZXNCeVR5cGUoc3JjU2VyaWVzLCBlbnRyeS5zZXJpZXNUeXBlcyk7XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gZW50cnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IG1hdGNoLnR5cGUoc2VyaWVzLCBvcHRpb25zLCBjaGFydFNlcnZpY2UpO1xuICAgIH1cbn1cblxuUGxvdEFyZWFGYWN0b3J5LmN1cnJlbnQgPSBuZXcgUGxvdEFyZWFGYWN0b3J5KCk7XG5cbmV4cG9ydCBkZWZhdWx0IFBsb3RBcmVhRmFjdG9yeTsiLCJpbXBvcnQgeyBEb21FdmVudHNCdWlsZGVyIH0gZnJvbSAnLi4vc2VydmljZXMnO1xuXG5pbXBvcnQgeyBEYXRlQ2F0ZWdvcnlBeGlzLCBQb2ludCB9IGZyb20gJy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBNT1VTRVdIRUVMX0RFTEFZLCBNT1VTRVdIRUVMLCBTRUxFQ1RfU1RBUlQsIFNFTEVDVCwgU0VMRUNUX0VORCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgTEVGVCwgUklHSFQsIE1JTl9WQUxVRSwgTUFYX1ZBTFVFIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhZGRDbGFzcywgQ2xhc3MsIHJlbW92ZUNsYXNzLCBkZWVwRXh0ZW5kLCBlbGVtZW50U3R5bGVzLCBldmVudEVsZW1lbnQsIHNldERlZmF1bHRPcHRpb25zLCBsaW1pdFZhbHVlLCByb3VuZCwgYmluZEV2ZW50cywgdW5iaW5kRXZlbnRzLCBtb3VzZXdoZWVsRGVsdGEsIGhhc0NsYXNzZXMgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgcGFyc2VEYXRlIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5cbmNvbnN0IFpPT01fQUNDRUxFUkFUSU9OID0gMztcbmNvbnN0IFNFTEVDVE9SX0hFSUdIVF9BREpVU1QgPSAwLjE7XG5cbmZ1bmN0aW9uIGNyZWF0ZURpdihjbGFzc05hbWUpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBjbG9zZXN0SGFuZGxlKGVsZW1lbnQpIHtcbiAgICBsZXQgY3VycmVudCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgIWhhc0NsYXNzZXMoY3VycmVudCwgXCJrLWhhbmRsZVwiKSkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50O1xufVxuXG5jbGFzcyBTZWxlY3Rpb24gZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoY2hhcnQsIGNhdGVnb3J5QXhpcywgb3B0aW9ucywgb2JzZXJ2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCBjaGFydEVsZW1lbnQgPSBjaGFydC5lbGVtZW50O1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmNoYXJ0RWxlbWVudCA9IGNoYXJ0RWxlbWVudDtcbiAgICAgICAgdGhpcy5jYXRlZ29yeUF4aXMgPSBjYXRlZ29yeUF4aXM7XG4gICAgICAgIHRoaXMuX2RhdGVBeGlzID0gdGhpcy5jYXRlZ29yeUF4aXMgaW5zdGFuY2VvZiBEYXRlQ2F0ZWdvcnlBeGlzO1xuXG4gICAgICAgIHRoaXMuaW5pdE9wdGlvbnMoKTtcblxuICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLm9wdGlvbnMudmlzaWJsZSAmJiBjaGFydEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRWxlbWVudHMoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXQodGhpcy5faW5kZXgodGhpcy5vcHRpb25zLmZyb20pLCB0aGlzLl9pbmRleCh0aGlzLm9wdGlvbnMudG8pKTtcblxuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblBhbmUocGFuZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXRlZ29yeUF4aXMucGFuZSA9PT0gcGFuZTtcbiAgICB9XG5cbiAgICBjcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMud3JhcHBlciA9IGNyZWF0ZURpdihcImstc2VsZWN0b3JcIik7XG4gICAgICAgIGVsZW1lbnRTdHlsZXMod3JhcHBlciwge1xuICAgICAgICAgICAgdG9wOiBvcHRpb25zLm9mZnNldC50b3AsXG4gICAgICAgICAgICBsZWZ0OiBvcHRpb25zLm9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnbHRyJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24gPSBjcmVhdGVEaXYoXCJrLXNlbGVjdGlvblwiKTtcbiAgICAgICAgdGhpcy5sZWZ0TWFzayA9IGNyZWF0ZURpdihcImstbWFza1wiKTtcbiAgICAgICAgdGhpcy5yaWdodE1hc2sgPSBjcmVhdGVEaXYoXCJrLW1hc2tcIik7XG5cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmxlZnRNYXNrKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLnJpZ2h0TWFzayk7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZWN0aW9uKTtcblxuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kQ2hpbGQoY3JlYXRlRGl2KFwiay1zZWxlY3Rpb24tYmdcIikpO1xuXG4gICAgICAgIGNvbnN0IGxlZnRIYW5kbGUgPSB0aGlzLmxlZnRIYW5kbGUgPSBjcmVhdGVEaXYoXCJrLWhhbmRsZSBrLWxlZnQtaGFuZGxlXCIpO1xuICAgICAgICBjb25zdCByaWdodEhhbmRsZSA9IHRoaXMucmlnaHRIYW5kbGUgPSBjcmVhdGVEaXYoXCJrLWhhbmRsZSBrLXJpZ2h0LWhhbmRsZVwiKTtcbiAgICAgICAgbGVmdEhhbmRsZS5hcHBlbmRDaGlsZChjcmVhdGVEaXYoKSk7XG4gICAgICAgIHJpZ2h0SGFuZGxlLmFwcGVuZENoaWxkKGNyZWF0ZURpdigpKTtcblxuICAgICAgICBzZWxlY3Rpb24uYXBwZW5kQ2hpbGQobGVmdEhhbmRsZSk7XG4gICAgICAgIHNlbGVjdGlvbi5hcHBlbmRDaGlsZChyaWdodEhhbmRsZSk7XG5cbiAgICAgICAgdGhpcy5jaGFydEVsZW1lbnQuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblN0eWxlcyA9IGVsZW1lbnRTdHlsZXMoc2VsZWN0aW9uLCBbIFwiYm9yZGVyTGVmdFdpZHRoXCIsIFwiYm9yZGVyUmlnaHRXaWR0aFwiLCBcImhlaWdodFwiIF0pO1xuICAgICAgICBjb25zdCBsZWZ0SGFuZGxlSGVpZ2h0ID0gZWxlbWVudFN0eWxlcyhsZWZ0SGFuZGxlLCBcImhlaWdodFwiKS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHJpZ2h0SGFuZGxlSGVpZ2h0ID0gZWxlbWVudFN0eWxlcyhyaWdodEhhbmRsZSwgXCJoZWlnaHRcIikuaGVpZ2h0O1xuXG4gICAgICAgIG9wdGlvbnMuc2VsZWN0aW9uID0ge1xuICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogc2VsZWN0aW9uU3R5bGVzLmJvcmRlckxlZnRXaWR0aCxcbiAgICAgICAgICAgICAgICByaWdodDogc2VsZWN0aW9uU3R5bGVzLmJvcmRlclJpZ2h0V2lkdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKGxlZnRIYW5kbGUsIHtcbiAgICAgICAgICAgIHRvcDogKHNlbGVjdGlvblN0eWxlcy5oZWlnaHQgLSBsZWZ0SGFuZGxlSGVpZ2h0KSAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFN0eWxlcyhyaWdodEhhbmRsZSwge1xuICAgICAgICAgICAgdG9wOiAoc2VsZWN0aW9uU3R5bGVzLmhlaWdodCAtIHJpZ2h0SGFuZGxlSGVpZ2h0KSAvIDJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gd3JhcHBlci5zdHlsZS5jc3NUZXh0O1xuICAgIH1cblxuICAgIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW91c2V3aGVlbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNld2hlZWxIYW5kbGVyID0gdGhpcy5fbW91c2V3aGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgYmluZEV2ZW50cyh0aGlzLndyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZG9tRXZlbnRzID0gRG9tRXZlbnRzQnVpbGRlci5jcmVhdGUodGhpcy53cmFwcGVyLCB7XG4gICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IHRydWUsIC8vIGFwcGxpY2FibGUgZm9yIHRoZSBqUXVlcnkgVXNlckV2ZW50c1xuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuX3N0YXJ0LmJpbmQodGhpcyksXG4gICAgICAgICAgICBtb3ZlOiB0aGlzLl9tb3ZlLmJpbmQodGhpcyksXG4gICAgICAgICAgICBlbmQ6IHRoaXMuX2VuZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGFwOiB0aGlzLl90YXAuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHByZXNzOiB0aGlzLl9wcmVzcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZXN0YXJ0OiB0aGlzLl9nZXN0dXJlc3RhcnQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVjaGFuZ2U6IHRoaXMuX2dlc3R1cmVjaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGdlc3R1cmVlbmQ6IHRoaXMuX2dlc3R1cmVlbmQuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJveCA9IGNhdGVnb3J5QXhpcy5wYW5lLmNoYXJ0c0JveCgpO1xuICAgICAgICBjb25zdCBpbnRsU2VydmljZSA9IHRoaXMuY2hhcnQuY2hhcnRTZXJ2aWNlLmludGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGVBeGlzKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBtaW46IHBhcnNlRGF0ZShpbnRsU2VydmljZSwgb3B0aW9ucy5taW4pLFxuICAgICAgICAgICAgICAgIG1heDogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLm1heCksXG4gICAgICAgICAgICAgICAgZnJvbTogcGFyc2VEYXRlKGludGxTZXJ2aWNlLCBvcHRpb25zLmZyb20pLFxuICAgICAgICAgICAgICAgIHRvOiBwYXJzZURhdGUoaW50bFNlcnZpY2UsIG9wdGlvbnMudG8pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXModGhpcy5jaGFydEVsZW1lbnQsIFsgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdUb3BcIiBdKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICB3aWR0aDogYm94LndpZHRoKCksXG4gICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHQoKSArIFNFTEVDVE9SX0hFSUdIVF9BREpVU1QsIC8vd29ya2Fyb3VuZCBmb3Igc3ViLXBpeGVsIGhvdmVyIG9uIHRoZSBwYXRocyBpbiBjaHJvbWVcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBwYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IHBhZGRpbmdUb3BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBib3gueDEgKyBwYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGJveC55MSArIHBhZGRpbmdUb3BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tOiBvcHRpb25zLm1pbixcbiAgICAgICAgICAgIHRvOiBvcHRpb25zLm1heFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9kb21FdmVudHMuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RvbUV2ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9td1RpbWVvdXQpO1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMud3JhcHBlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21vdXNld2hlZWxIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMud3JhcHBlciwge1xuICAgICAgICAgICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoYXJ0RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yYW5nZUV2ZW50QXJncyhyYW5nZSkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBheGlzOiB0aGlzLmNhdGVnb3J5QXhpcy5vcHRpb25zLFxuICAgICAgICAgICAgZnJvbTogdGhpcy5fdmFsdWUocmFuZ2UuZnJvbSksXG4gICAgICAgICAgICB0bzogdGhpcy5fdmFsdWUocmFuZ2UudG8pXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnRFbGVtZW50KGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSB8fCAhdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0Ll91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgICAgICAgbW92ZVRhcmdldDogY2xvc2VzdEhhbmRsZSh0YXJnZXQpIHx8IHRhcmdldCxcbiAgICAgICAgICAgIHN0YXJ0TG9jYXRpb246IGUueCA/IGUueC5sb2NhdGlvbiA6IDAsXG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgIGZyb206IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSksXG4gICAgICAgICAgICAgICAgdG86IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuX3JhbmdlRXZlbnRBcmdzKHtcbiAgICAgICAgICAgIGZyb206IHRoaXMuX2luZGV4KG9wdGlvbnMuZnJvbSksXG4gICAgICAgICAgICB0bzogdGhpcy5faW5kZXgob3B0aW9ucy50bylcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJpZ2dlcihTRUxFQ1RfU1RBUlQsIGFyZ3MpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJlc3MoZSkge1xuICAgICAgICBsZXQgaGFuZGxlO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIGhhbmRsZSA9IHRoaXMuX3N0YXRlLm1vdmVUYXJnZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGUgPSBjbG9zZXN0SGFuZGxlKGV2ZW50RWxlbWVudChlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZSkge1xuICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBcImstaGFuZGxlLWFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3ZlKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBfc3RhdGU6IHN0YXRlLCBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmFuZ2UsIG1vdmVUYXJnZXQ6IHRhcmdldCB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSBjYXRlZ29yeUF4aXMub3B0aW9ucy5yZXZlcnNlO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gc3RhdGUuc3RhcnRMb2NhdGlvbiAtIGUueC5sb2NhdGlvbjtcbiAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSB7IGZyb206IHJhbmdlLmZyb20sIHRvOiByYW5nZS50byB9O1xuICAgICAgICBjb25zdCBzcGFuID0gcmFuZ2UudG8gLSByYW5nZS5mcm9tO1xuICAgICAgICBjb25zdCBzY2FsZSA9IGVsZW1lbnRTdHlsZXModGhpcy53cmFwcGVyLCBcIndpZHRoXCIpLndpZHRoIC8gKGNhdGVnb3J5QXhpcy5jYXRlZ29yaWVzQ291bnQoKSAtIDEpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLnJvdW5kKGRlbHRhIC8gc2NhbGUpICogKHJldmVyc2UgPyAtMSA6IDEpO1xuXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZWZ0SGFuZGxlID0gaGFzQ2xhc3Nlcyh0YXJnZXQsIFwiay1sZWZ0LWhhbmRsZVwiKTtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kbGUgPSBoYXNDbGFzc2VzKHRhcmdldCwgXCJrLXJpZ2h0LWhhbmRsZVwiKTtcblxuICAgICAgICBpZiAoaGFzQ2xhc3Nlcyh0YXJnZXQsIFwiay1zZWxlY3Rpb24gay1zZWxlY3Rpb24tYmdcIikpIHtcbiAgICAgICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBNYXRoLm1heChtaW4sIGZyb20gLSBvZmZzZXQpLFxuICAgICAgICAgICAgICAgIG1heCAtIHNwYW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByYW5nZS50byA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIHJhbmdlLmZyb20gKyBzcGFuLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICgobGVmdEhhbmRsZSAmJiAhcmV2ZXJzZSkgfHwgKHJpZ2h0SGFuZGxlICYmIHJldmVyc2UpKSB7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgobWluLCBmcm9tIC0gb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBtYXggLSAxXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmFuZ2UudG8gPSBNYXRoLm1heChyYW5nZS5mcm9tICsgMSwgcmFuZ2UudG8pO1xuICAgICAgICB9IGVsc2UgaWYgKChsZWZ0SGFuZGxlICYmIHJldmVyc2UpIHx8IChyaWdodEhhbmRsZSAmJiAhcmV2ZXJzZSkpIHtcbiAgICAgICAgICAgIHJhbmdlLnRvID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgobWluICsgMSwgdG8gLSBvZmZzZXQpLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihyYW5nZS50byAtIDEsIHJhbmdlLmZyb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IG9sZFJhbmdlLmZyb20gfHwgcmFuZ2UudG8gIT09IG9sZFJhbmdlLnRvKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVCwgdGhpcy5fcmFuZ2VFdmVudEFyZ3MocmFuZ2UpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbW92ZVRhcmdldCA9IHRoaXMuX3N0YXRlLm1vdmVUYXJnZXQ7XG4gICAgICAgICAgICBpZiAobW92ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKG1vdmVUYXJnZXQsIFwiay1oYW5kbGUtYWN0aXZlXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IHRoaXMuX3N0YXRlLnJhbmdlO1xuICAgICAgICAgICAgdGhpcy5zZXQocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVF9FTkQsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF90YXAoZSkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIGNhdGVnb3J5QXhpcyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5jaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJeCA9IGNhdGVnb3J5QXhpcy5wb2ludENhdGVnb3J5SW5kZXgobmV3IFBvaW50KGNvb3Jkcy54LCBjYXRlZ29yeUF4aXMuYm94LnkxKSk7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLl9pbmRleChvcHRpb25zLmZyb20pO1xuICAgICAgICBjb25zdCB0byA9IHRoaXMuX2luZGV4KG9wdGlvbnMudG8pO1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLl9pbmRleChvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWF4KTtcbiAgICAgICAgY29uc3Qgc3BhbiA9IHRvIC0gZnJvbTtcbiAgICAgICAgY29uc3QgbWlkID0gZnJvbSArIHNwYW4gLyAyO1xuICAgICAgICBjb25zdCByYW5nZSA9IHt9O1xuICAgICAgICBjb25zdCByaWdodENsaWNrID0gZS5ldmVudC53aGljaCA9PT0gMztcbiAgICAgICAgbGV0IG9mZnNldCA9IE1hdGgucm91bmQobWlkIC0gY2F0ZWdvcnlJeCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlIHx8IHJpZ2h0Q2xpY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgdGhpcy5jaGFydC5fdW5zZXRBY3RpdmVQb2ludCgpO1xuXG4gICAgICAgIGlmICghY2F0ZWdvcnlBeGlzLm9wdGlvbnMuanVzdGlmaWVkKSB7XG4gICAgICAgICAgICBvZmZzZXQtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJhbmdlLmZyb20gPSBNYXRoLm1pbihcbiAgICAgICAgICAgIE1hdGgubWF4KG1pbiwgZnJvbSAtIG9mZnNldCksXG4gICAgICAgICAgICBtYXggLSBzcGFuXG4gICAgICAgICk7XG5cbiAgICAgICAgcmFuZ2UudG8gPSBNYXRoLm1pbihyYW5nZS5mcm9tICsgc3BhbiwgbWF4KTtcblxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5yYW5nZSA9IHJhbmdlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFNFTEVDVCwgdGhpcy5fcmFuZ2VFdmVudEFyZ3MocmFuZ2UpKTtcbiAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdXNld2hlZWwoZSkge1xuICAgICAgICBsZXQgZGVsdGEgPSBtb3VzZXdoZWVsRGVsdGEoZSk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnQoeyB0YXJnZXQ6IHRoaXMuc2VsZWN0aW9uIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9zdGF0ZS5yYW5nZTtcblxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhKSA+IDEpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSBaT09NX0FDQ0VMRVJBVElPTjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb3VzZXdoZWVsLnJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSAqPSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwYW5kKGRlbHRhKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpczogdGhpcy5jYXRlZ29yeUF4aXMub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLl92YWx1ZShyYW5nZS5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgdG86IHRoaXMuX3ZhbHVlKHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fbXdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX213VGltZW91dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX213VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICAgICAgfSwgTU9VU0VXSEVFTF9ERUxBWSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZXN0YXJ0KGUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgZnJvbTogdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKSxcbiAgICAgICAgICAgICAgICB0bzogdGhpcy5faW5kZXgob3B0aW9ucy50bylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYXJncyA9IHRoaXMuX3JhbmdlRXZlbnRBcmdzKHRoaXMuX3N0YXRlLnJhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy50cmlnZ2VyKFNFTEVDVF9TVEFSVCwgYXJncykpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXN0dXJlZW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1RfRU5ELCB0aGlzLl9yYW5nZUV2ZW50QXJncyh0aGlzLl9zdGF0ZS5yYW5nZSkpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVjaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGNoYXJ0LCBfc3RhdGU6IHN0YXRlLCBvcHRpb25zLCBjYXRlZ29yeUF4aXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gc3RhdGUucmFuZ2U7XG4gICAgICAgIGNvbnN0IHAwID0gY2hhcnQuX3RvTW9kZWxDb29yZGluYXRlcyhlLnRvdWNoZXNbMF0ueC5sb2NhdGlvbikueDtcbiAgICAgICAgY29uc3QgcDEgPSBjaGFydC5fdG9Nb2RlbENvb3JkaW5hdGVzKGUudG91Y2hlc1sxXS54LmxvY2F0aW9uKS54O1xuICAgICAgICBjb25zdCBsZWZ0ID0gTWF0aC5taW4ocDAsIHAxKTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBNYXRoLm1heChwMCwgcDEpO1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICByYW5nZS5mcm9tID0gY2F0ZWdvcnlBeGlzLnBvaW50Q2F0ZWdvcnlJbmRleChuZXcgUG9pbnQobGVmdCkpIHx8IG9wdGlvbnMubWluO1xuXG4gICAgICAgIHJhbmdlLnRvID0gY2F0ZWdvcnlBeGlzLnBvaW50Q2F0ZWdvcnlJbmRleChuZXcgUG9pbnQocmlnaHQpKSB8fCBvcHRpb25zLm1heDtcblxuICAgICAgICB0aGlzLm1vdmUocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuXG4gICAgICAgIHRoaXMudHJpZ2dlcihTRUxFQ1QsIHRoaXMuX3JhbmdlRXZlbnRBcmdzKHJhbmdlKSk7XG4gICAgfVxuXG4gICAgX2luZGV4KHZhbHVlKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlJbmRleCh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgX3ZhbHVlKGluZGV4KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGluZGV4O1xuICAgICAgICBpZiAodGhpcy5fZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jYXRlZ29yeUF4aXMuY2F0ZWdvcnlBdChpbmRleCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPiB0aGlzLm9wdGlvbnMubWF4KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm9wdGlvbnMubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIF9zbG90KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IHRoaXMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGV4KHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlBeGlzLmdldFNsb3QoaW5kZXgsIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICBtb3ZlKGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSB0aGlzLmNhdGVnb3J5QXhpcy5vcHRpb25zLnJldmVyc2U7XG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0LCBwYWRkaW5nLCBzZWxlY3Rpb246IHsgYm9yZGVyIH0gfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGxlZnQgPSByZXZlcnNlID8gdG8gOiBmcm9tO1xuICAgICAgICBjb25zdCByaWdodCA9IHJldmVyc2UgPyBmcm9tIDogdG87XG4gICAgICAgIGNvbnN0IGVkZ2UgPSAneCcgKyAocmV2ZXJzZSA/IDIgOiAxKTtcblxuICAgICAgICBsZXQgYm94ID0gdGhpcy5fc2xvdChsZWZ0KTtcbiAgICAgICAgY29uc3QgbGVmdE1hc2tXaWR0aCA9IHJvdW5kKGJveFtlZGdlXSAtIG9mZnNldC5sZWZ0ICsgcGFkZGluZy5sZWZ0KTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMubGVmdE1hc2ssIHtcbiAgICAgICAgICAgIHdpZHRoOiBsZWZ0TWFza1dpZHRoXG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0TWFza1dpZHRoXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJveCA9IHRoaXMuX3Nsb3QocmlnaHQpO1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0TWFza1dpZHRoID0gcm91bmQob3B0aW9ucy53aWR0aCAtIChib3hbZWRnZV0gLSBvZmZzZXQubGVmdCArIHBhZGRpbmcubGVmdCkpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMucmlnaHRNYXNrLCB7XG4gICAgICAgICAgICB3aWR0aDogcmlnaHRNYXNrV2lkdGhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGRpc3RhbmNlID0gb3B0aW9ucy53aWR0aCAtIHJpZ2h0TWFza1dpZHRoO1xuICAgICAgICBpZiAoZGlzdGFuY2UgIT09IG9wdGlvbnMud2lkdGgpIHtcbiAgICAgICAgICAgIGRpc3RhbmNlICs9IGJvcmRlci5yaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRTdHlsZXModGhpcy5yaWdodE1hc2ssIHtcbiAgICAgICAgICAgIGxlZnQ6IGRpc3RhbmNlXG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuc2VsZWN0aW9uLCB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5tYXgob3B0aW9ucy53aWR0aCAtIChsZWZ0TWFza1dpZHRoICsgcmlnaHRNYXNrV2lkdGgpIC0gYm9yZGVyLnJpZ2h0LCAwKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXQoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5faW5kZXgob3B0aW9ucy5taW4pO1xuICAgICAgICBjb25zdCBtYXggPSB0aGlzLl9pbmRleChvcHRpb25zLm1heCk7XG4gICAgICAgIGNvbnN0IGZyb21WYWx1ZSA9IGxpbWl0VmFsdWUodGhpcy5faW5kZXgoZnJvbSksIG1pbiwgbWF4KTtcbiAgICAgICAgY29uc3QgdG9WYWx1ZSA9IGxpbWl0VmFsdWUodGhpcy5faW5kZXgodG8pLCBmcm9tVmFsdWUgKyAxLCBtYXgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZShmcm9tVmFsdWUsIHRvVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5mcm9tID0gdGhpcy5fdmFsdWUoZnJvbVZhbHVlKTtcbiAgICAgICAgb3B0aW9ucy50byA9IHRoaXMuX3ZhbHVlKHRvVmFsdWUpO1xuICAgIH1cblxuICAgIGV4cGFuZChkZWx0YSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLl9pbmRleChvcHRpb25zLm1pbik7XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMuX2luZGV4KG9wdGlvbnMubWF4KTtcbiAgICAgICAgY29uc3QgekRpciA9IG9wdGlvbnMubW91c2V3aGVlbC56b29tO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5faW5kZXgob3B0aW9ucy5mcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0aGlzLl9pbmRleChvcHRpb25zLnRvKTtcbiAgICAgICAgbGV0IHJhbmdlID0geyBmcm9tOiBmcm9tLCB0bzogdG8gfTtcbiAgICAgICAgY29uc3Qgb2xkUmFuZ2UgPSBkZWVwRXh0ZW5kKHt9LCByYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICByYW5nZSA9IHRoaXMuX3N0YXRlLnJhbmdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHpEaXIgIT09IFJJR0hUKSB7XG4gICAgICAgICAgICByYW5nZS5mcm9tID0gbGltaXRWYWx1ZShcbiAgICAgICAgICAgICAgICBsaW1pdFZhbHVlKGZyb20gLSBkZWx0YSwgMCwgdG8gLSAxKSxcbiAgICAgICAgICAgICAgICBtaW4sIG1heFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh6RGlyICE9PSBMRUZUKSB7XG4gICAgICAgICAgICByYW5nZS50byA9IGxpbWl0VmFsdWUoXG4gICAgICAgICAgICAgICAgbGltaXRWYWx1ZSh0byArIGRlbHRhLCByYW5nZS5mcm9tICsgMSwgbWF4KSxcbiAgICAgICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICAgICAgbWF4XG4gICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZS5mcm9tICE9PSBvbGRSYW5nZS5mcm9tIHx8IHJhbmdlLnRvICE9PSBvbGRSYW5nZS50bykge1xuICAgICAgICAgICAgdGhpcy5zZXQocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9ic2VydmVyIHx8IHRoaXMuY2hhcnQpLnRyaWdnZXIobmFtZSwgYXJncyk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTZWxlY3Rpb24sIHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIG1vdXNld2hlZWw6IHtcbiAgICAgICAgem9vbTogXCJib3RoXCJcbiAgICB9LFxuICAgIG1pbjogTUlOX1ZBTFVFLFxuICAgIG1heDogTUFYX1ZBTFVFXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uO1xuIiwiaW1wb3J0IEJhc2VUb29sdGlwIGZyb20gJy4vYmFzZS10b29sdGlwJztcblxuaW1wb3J0IHsgZGVlcEV4dGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBCYXNlVG9vbHRpcCB7XG4gICAgc2hvdyhwb2ludCkge1xuICAgICAgICBpZiAoIXBvaW50IHx8ICFwb2ludC50b29sdGlwQW5jaG9yIHx8ICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX2N1cnJlbnQgPT09IHBvaW50KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgcG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gcG9pbnQudG9vbHRpcEFuY2hvcigpO1xuXG4gICAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBwb2ludDtcbiAgICAgICAgICAgIHN1cGVyLnNob3coe1xuICAgICAgICAgICAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgICAgICAgICAgICBhbmNob3I6IGFuY2hvclxuICAgICAgICAgICAgfSwgb3B0aW9ucywgcG9pbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fY3VycmVudDtcbiAgICAgICAgc3VwZXIuaGlkZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9vbHRpcDsiLCJpbXBvcnQgQmFzZVRvb2x0aXAgZnJvbSAnLi9iYXNlLXRvb2x0aXAnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgZ3JlcCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBTaGFyZWRUb29sdGlwIGV4dGVuZHMgQmFzZVRvb2x0aXAge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHBsb3RBcmVhLmNoYXJ0U2VydmljZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wbG90QXJlYSA9IHBsb3RBcmVhO1xuICAgICAgICB0aGlzLmZvcm1hdFNlcnZpY2UgPSBwbG90QXJlYS5jaGFydFNlcnZpY2UuZm9ybWF0O1xuICAgIH1cblxuICAgIHNob3dBdChwb2ludHMsIGNvb3Jkcykge1xuICAgICAgICBjb25zdCB0b29sdGlwUG9pbnRzID0gZ3JlcChwb2ludHMsIGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gcG9pbnQuc2VyaWVzLnRvb2x0aXA7XG4gICAgICAgICAgICBjb25zdCBleGNsdWRlZCA9IHRvb2x0aXAgJiYgdG9vbHRpcC52aXNpYmxlID09PSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuICFleGNsdWRlZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRvb2x0aXBQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0b29sdGlwUG9pbnRzWzBdO1xuICAgICAgICAgICAgY29uc3Qgc2xvdCA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzLmdldFNsb3QocG9pbnQuY2F0ZWdvcnlJeCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGNvb3JkcyA/IHRoaXMuX3Nsb3RBbmNob3IoY29vcmRzLCBzbG90KSA6IHRoaXMuX2RlZmF1bHRBbmNob3IocG9pbnQsIHNsb3QpO1xuXG4gICAgICAgICAgICB0aGlzLnNob3coe1xuICAgICAgICAgICAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgICAgICAgICAgIHNoYXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwb2ludHM6IHBvaW50cyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogcG9pbnQuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlUZXh0OiB0aGlzLmZvcm1hdFNlcnZpY2UuYXV0byh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlGb3JtYXQsIHBvaW50LmNhdGVnb3J5KSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMucGxvdEFyZWEuc2VyaWVzXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Nsb3RBbmNob3IocG9pbnQsIHNsb3QpIHtcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IFwibGVmdFwiLFxuICAgICAgICAgICAgdmVydGljYWw6IFwiY2VudGVyXCJcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcG9pbnQueCA9IHNsb3QuY2VudGVyKCkueDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogcG9pbnQsXG4gICAgICAgICAgICBhbGlnbjogYWxpZ25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZGVmYXVsdEFuY2hvcihwb2ludCwgc2xvdCkge1xuICAgICAgICBjb25zdCBib3ggPSBwb2ludC5vd25lci5wYW5lLmNoYXJ0c0JveCgpO1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IHRoaXMucGxvdEFyZWEuY2F0ZWdvcnlBeGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3Qgc2xvdENlbnRlciA9IHNsb3QuY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGFsaWduID0ge1xuICAgICAgICAgICAgaG9yaXpvbnRhbDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgIHZlcnRpY2FsOiBcImNlbnRlclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGNlbnRlclBvaW50O1xuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIGNlbnRlclBvaW50ID0gbmV3IFBvaW50KGNlbnRlci54LCBzbG90Q2VudGVyLnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2VudGVyUG9pbnQgPSBuZXcgUG9pbnQoc2xvdENlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IGNlbnRlclBvaW50LFxuICAgICAgICAgICAgYWxpZ246IGFsaWduXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhTaGFyZWRUb29sdGlwLCB7XG4gICAgY2F0ZWdvcnlGb3JtYXQ6ICd7MDpkfSdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTaGFyZWRUb29sdGlwOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgZ2VvbWV0cnkgYXMgZ2VvbSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgSU5JVElBTF9BTklNQVRJT05fRFVSQVRJT04sIEJBUiwgU1RBUlRfU0NBTEUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJhckNoYXJ0QW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYmJveCA9IGVsZW1lbnQuYmJveCgpO1xuXG4gICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICB0aGlzLm9yaWdpbiA9IG9wdGlvbnMub3JpZ2luO1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMudmVydGljYWwgPyBZIDogWDtcblxuICAgICAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdGhpcy5mcm9tU2NhbGUgPSBuZXcgZ2VvbS5Qb2ludCgxLCAxKTtcbiAgICAgICAgICAgIGZyb21TY2FsZVtheGlzXSA9IFNUQVJUX1NDQUxFO1xuXG4gICAgICAgICAgICBlbGVtZW50LnRyYW5zZm9ybShnZW9tLnRyYW5zZm9ybSgpXG4gICAgICAgICAgICAgICAgLnNjYWxlKGZyb21TY2FsZS54LCBmcm9tU2NhbGUueSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCBzY2FsZVggPSBpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuZnJvbVNjYWxlLngsIDEsIHBvcyk7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tU2NhbGUueSwgMSwgcG9zKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShzY2FsZVgsIHNjYWxlWSwgdGhpcy5vcmlnaW4pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIHN1cGVyLmFib3J0KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0obnVsbCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCYXJDaGFydEFuaW1hdGlvbiwge1xuICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEJBUiwgQmFyQ2hhcnRBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXJDaGFydEFuaW1hdGlvbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFNUQVJUX1NDQUxFLCBCVUJCTEUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEJ1YmJsZUFuaW1hdGlvbiBleHRlbmRzIGRyYXcuQW5pbWF0aW9uIHtcbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIgPSB0aGlzLmVsZW1lbnQuYmJveCgpLmNlbnRlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShTVEFSVF9TQ0FMRSwgU1RBUlRfU0NBTEUsIGNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShwb3MsIHBvcywgdGhpcy5jZW50ZXIpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhCdWJibGVBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IFwiZWFzZU91dEVsYXN0aWNcIlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEJVQkJMRSwgQnViYmxlQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgQnViYmxlQW5pbWF0aW9uOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgRkFERUlOIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBGYWRlSW5BbmltYXRpb24gZXh0ZW5kcyBkcmF3LkFuaW1hdGlvbiB7XG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuZmFkZVRvID0gdGhpcy5lbGVtZW50Lm9wYWNpdHkoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9wYWNpdHkoMCk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9wYWNpdHkocG9zICogdGhpcy5mYWRlVG8pO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoRmFkZUluQW5pbWF0aW9uLCB7XG4gICAgZHVyYXRpb246IDIwMCxcbiAgICBlYXNpbmc6IFwibGluZWFyXCJcbn0pO1xuXG5kcmF3LkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihGQURFSU4sIEZhZGVJbkFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEZhZGVJbkFuaW1hdGlvbjsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFNUQVJUX1NDQUxFLCBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiwgUElFIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBQaWVBbmltYXRpb24gZXh0ZW5kcyBkcmF3LkFuaW1hdGlvbiB7XG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC50cmFuc2Zvcm0oZ2VvbS50cmFuc2Zvcm0oKVxuICAgICAgICAgICAgLnNjYWxlKFNUQVJUX1NDQUxFLCBTVEFSVF9TQ0FMRSwgdGhpcy5vcHRpb25zLmNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICB0aGlzLmVsZW1lbnQudHJhbnNmb3JtKGdlb20udHJhbnNmb3JtKClcbiAgICAgICAgICAgIC5zY2FsZShwb3MsIHBvcywgdGhpcy5vcHRpb25zLmNlbnRlcilcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBpZUFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogXCJlYXNlT3V0RWxhc3RpY1wiLFxuICAgIGR1cmF0aW9uOiBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTlxufSk7XG5cbmRyYXcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFBJRSwgUGllQW5pbWF0aW9uKTtcblxuZXhwb3J0IGRlZmF1bHQgUGllQW5pbWF0aW9uOyIsImltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi9zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBMaW5lQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvbGluZS1jaGFydC1taXhpbic7XG5pbXBvcnQgTGluZVNlZ21lbnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLXNlZ21lbnQnO1xuaW1wb3J0IFNwbGluZVNlZ21lbnQgZnJvbSAnLi4vbGluZS1jaGFydC9zcGxpbmUtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNNT09USCwgWkVSTyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBoYXNWYWx1ZSBmcm9tICcuLi91dGlscy9oYXMtdmFsdWUnO1xuXG5pbXBvcnQgeyBkZWVwRXh0ZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgU2NhdHRlckxpbmVDaGFydCBleHRlbmRzIFNjYXR0ZXJDaGFydCB7XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBzdXBlci5yZW5kZXIoKTtcblxuICAgICAgICB0aGlzLnJlbmRlclNlZ21lbnRzKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGN1cnJlbnRTZXJpZXMuc3R5bGU7XG4gICAgICAgIGxldCBwb2ludFR5cGU7XG5cbiAgICAgICAgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBMaW5lU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgcG9pbnRUeXBlKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHN1cGVyLmFuaW1hdGlvblBvaW50cygpO1xuICAgICAgICByZXR1cm4gcG9pbnRzLmNvbmNhdCh0aGlzLl9zZWdtZW50cyk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWlzc2luZ1ZhbHVlKHZhbHVlLCBtaXNzaW5nVmFsdWVzKSB7XG4gICAgICAgIGlmIChtaXNzaW5nVmFsdWVzID09PSBaRVJPKSB7XG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgeDogdmFsdWUueCxcbiAgICAgICAgICAgICAgICB5OiB2YWx1ZS55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFoYXNWYWx1ZShtaXNzaW5nVmFsdWUueCkpIHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nVmFsdWUueCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKG1pc3NpbmdWYWx1ZS55KSkge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdWYWx1ZS55ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtaXNzaW5nVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmRlZXBFeHRlbmQoU2NhdHRlckxpbmVDaGFydC5wcm90b3R5cGUsIExpbmVDaGFydE1peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgU2NhdHRlckxpbmVDaGFydDsiLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgQXhpc0dyb3VwUmFuZ2VUcmFja2VyIGZyb20gJy4uL2F4aXMtZ3JvdXAtcmFuZ2UtdHJhY2tlcic7XG5pbXBvcnQgUGxvdEFyZWFFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcGxvdGFyZWEtZXZlbnRzLW1peGluJztcbmltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vc2NhdHRlci1jaGFydHMvc2NhdHRlci1jaGFydCc7XG5pbXBvcnQgU2NhdHRlckxpbmVDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IEJ1YmJsZUNoYXJ0IGZyb20gJy4uL2J1YmJsZS1jaGFydC9idWJibGUtY2hhcnQnO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuLi9zZXJpZXMtYmluZGVyJztcblxuaW1wb3J0IHsgTnVtZXJpY0F4aXMsIExvZ2FyaXRobWljQXhpcywgRGF0ZVZhbHVlQXhpcywgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IGZpbHRlclNlcmllc0J5VHlwZSBmcm9tICcuLi91dGlscy9maWx0ZXItc2VyaWVzLWJ5LXR5cGUnO1xuaW1wb3J0IGVxdWFsc0lnbm9yZUNhc2UgZnJvbSAnLi4vdXRpbHMvZXF1YWxzLWlnbm9yZS1jYXNlJztcbmltcG9ydCBzaW5nbGVJdGVtT3JBcnJheSBmcm9tICcuLi91dGlscy9zaW5nbGUtaXRlbS1vci1hcnJheSc7XG5cbmltcG9ydCB7IFNDQVRURVIsIFNDQVRURVJfTElORSwgQlVCQkxFLCBMT0dBUklUSE1JQyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IERBVEUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGV2ZW50RWxlbWVudCwgZ3JlcCwgaW5BcnJheSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBYWVBsb3RBcmVhIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICBpbml0RmllbGRzKCkge1xuICAgICAgICB0aGlzLm5hbWVkWEF4ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5uYW1lZFlBeGVzID0ge307XG5cbiAgICAgICAgdGhpcy54QXhpc1JhbmdlVHJhY2tlciA9IG5ldyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy55QXhpc1JhbmdlVHJhY2tlciA9IG5ldyBBeGlzR3JvdXBSYW5nZVRyYWNrZXIoKTtcbiAgICB9XG5cbiAgICByZW5kZXIocGFuZXMgPSB0aGlzLnBhbmVzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc0J5UGFuZSA9IHRoaXMuZ3JvdXBTZXJpZXNCeVBhbmUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYW5lID0gcGFuZXNbaV07XG4gICAgICAgICAgICBjb25zdCBwYW5lU2VyaWVzID0gc2VyaWVzQnlQYW5lW3BhbmUub3B0aW9ucy5uYW1lIHx8IFwiZGVmYXVsdFwiXSB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMuYWRkVG9MZWdlbmQocGFuZVNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFNlcmllcyA9IHRoaXMuZmlsdGVyVmlzaWJsZVNlcmllcyhwYW5lU2VyaWVzKTtcblxuICAgICAgICAgICAgaWYgKCFmaWx0ZXJlZFNlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNjYXR0ZXJDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIFNDQVRURVIpLFxuICAgICAgICAgICAgICAgIHBhbmVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2NhdHRlckxpbmVDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIFNDQVRURVJfTElORSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdWJibGVDaGFydChcbiAgICAgICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoZmlsdGVyZWRTZXJpZXMsIEJVQkJMRSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3JlYXRlQXhlcyhwYW5lcyk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgdGhpcy54QXhpc1JhbmdlVHJhY2tlci51cGRhdGUoY2hhcnQueEF4aXNSYW5nZXMpO1xuICAgICAgICB0aGlzLnlBeGlzUmFuZ2VUcmFja2VyLnVwZGF0ZShjaGFydC55QXhpc1Jhbmdlcyk7XG5cbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIHJlbW92ZUF4aXMoYXhpcykge1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGF4aXMub3B0aW9ucy5uYW1lO1xuXG4gICAgICAgIHN1cGVyLnJlbW92ZUF4aXMoYXhpcyk7XG5cbiAgICAgICAgaWYgKGF4aXMub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdGhpcy55QXhpc1JhbmdlVHJhY2tlci5yZXNldChheGlzTmFtZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5uYW1lZFlBeGVzW2F4aXNOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueEF4aXNSYW5nZVRyYWNrZXIucmVzZXQoYXhpc05hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubmFtZWRYQXhlc1theGlzTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1g7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpcyA9PT0gdGhpcy5heGlzWSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXhpc1k7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBSZWZhY3Rvciwgb3B0aW9uYWxseSB1c2Ugc2VyaWVzLnBhbmUgb3B0aW9uXG4gICAgc2VyaWVzUGFuZU5hbWUoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHhBeGlzTmFtZSA9IHNlcmllcy54QXhpcztcbiAgICAgICAgY29uc3QgeEF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueEF4aXMpO1xuICAgICAgICBjb25zdCB4QXhpcyA9IGdyZXAoeEF4aXNPcHRpb25zLCBmdW5jdGlvbihhKSB7IHJldHVybiBhLm5hbWUgPT09IHhBeGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHlBeGlzTmFtZSA9IHNlcmllcy55QXhpcztcbiAgICAgICAgY29uc3QgeUF4aXNPcHRpb25zID0gW10uY29uY2F0KG9wdGlvbnMueUF4aXMpO1xuICAgICAgICBjb25zdCB5QXhpcyA9IGdyZXAoeUF4aXNPcHRpb25zLCBmdW5jdGlvbihhKSB7IHJldHVybiBhLm5hbWUgPT09IHlBeGlzTmFtZTsgfSlbMF07XG4gICAgICAgIGNvbnN0IHBhbmVzID0gb3B0aW9ucy5wYW5lcyB8fCBbIHt9IF07XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYW5lTmFtZSA9IHBhbmVzWzBdLm5hbWUgfHwgXCJkZWZhdWx0XCI7XG4gICAgICAgIGNvbnN0IHBhbmVOYW1lID0gKHhBeGlzIHx8IHt9KS5wYW5lIHx8ICh5QXhpcyB8fCB7fSkucGFuZSB8fCBkZWZhdWx0UGFuZU5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVOYW1lO1xuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KFxuICAgICAgICAgICAgICAgIG5ldyBTY2F0dGVyQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcywgY2xpcDogcGFuZS5vcHRpb25zLmNsaXAgfSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJMaW5lQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGFydChcbiAgICAgICAgICAgICAgICBuZXcgU2NhdHRlckxpbmVDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzLCBjbGlwOiBwYW5lLm9wdGlvbnMuY2xpcCB9KSxcbiAgICAgICAgICAgICAgICBwYW5lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlQnViYmxlQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGFydChcbiAgICAgICAgICAgICAgICBuZXcgQnViYmxlQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcywgY2xpcDogcGFuZS5vcHRpb25zLmNsaXAgfSksXG4gICAgICAgICAgICAgICAgcGFuZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVhZQXhpcyhvcHRpb25zLCB2ZXJ0aWNhbCwgYXhpc0luZGV4KSB7XG4gICAgICAgIGNvbnN0IGF4aXNOYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgICAgICBjb25zdCBuYW1lZEF4ZXMgPSB2ZXJ0aWNhbCA/IHRoaXMubmFtZWRZQXhlcyA6IHRoaXMubmFtZWRYQXhlcztcbiAgICAgICAgY29uc3QgdHJhY2tlciA9IHZlcnRpY2FsID8gdGhpcy55QXhpc1JhbmdlVHJhY2tlciA6IHRoaXMueEF4aXNSYW5nZVRyYWNrZXI7XG4gICAgICAgIGNvbnN0IGF4aXNPcHRpb25zID0gZGVlcEV4dGVuZCh7IHJldmVyc2U6ICF2ZXJ0aWNhbCAmJiB0aGlzLmNoYXJ0U2VydmljZS5ydGwgfSwgb3B0aW9ucywgeyB2ZXJ0aWNhbDogdmVydGljYWwgfSk7XG4gICAgICAgIGNvbnN0IGlzTG9nID0gZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBMT0dBUklUSE1JQyk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSYW5nZSA9IHRyYWNrZXIucXVlcnkoKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdEF4aXNSYW5nZSA9IGlzTG9nID8geyBtaW46IDAuMSwgbWF4OiAxIH0gOiB7IG1pbjogMCwgbWF4OiAxIH07XG4gICAgICAgIGNvbnN0IHJhbmdlID0gdHJhY2tlci5xdWVyeShheGlzTmFtZSkgfHwgZGVmYXVsdFJhbmdlIHx8IGRlZmF1bHRBeGlzUmFuZ2U7XG4gICAgICAgIGNvbnN0IHR5cGVTYW1wbGVzID0gWyBheGlzT3B0aW9ucy5taW4sIGF4aXNPcHRpb25zLm1heCBdO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSB0aGlzLnNlcmllcztcblxuICAgICAgICBmb3IgKGxldCBzZXJpZXNJeCA9IDA7IHNlcmllc0l4IDwgc2VyaWVzLmxlbmd0aDsgc2VyaWVzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tzZXJpZXNJeF07XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNBeGlzTmFtZSA9IGN1cnJlbnRTZXJpZXNbdmVydGljYWwgPyBcInlBeGlzXCIgOiBcInhBeGlzXCJdO1xuICAgICAgICAgICAgaWYgKChzZXJpZXNBeGlzTmFtZSA9PT0gYXhpc09wdGlvbnMubmFtZSkgfHwgKGF4aXNJbmRleCA9PT0gMCAmJiAhc2VyaWVzQXhpc05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQb2ludFZhbHVlID0gU2VyaWVzQmluZGVyLmN1cnJlbnQuYmluZFBvaW50KGN1cnJlbnRTZXJpZXMsIDApLnZhbHVlRmllbGRzO1xuICAgICAgICAgICAgICAgIHR5cGVTYW1wbGVzLnB1c2goZmlyc3RQb2ludFZhbHVlW3ZlcnRpY2FsID8gXCJ5XCIgOiBcInhcIl0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXhpc0luZGV4ID09PSAwICYmIGRlZmF1bHRSYW5nZSkge1xuICAgICAgICAgICAgcmFuZ2UubWluID0gTWF0aC5taW4ocmFuZ2UubWluLCBkZWZhdWx0UmFuZ2UubWluKTtcbiAgICAgICAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgZGVmYXVsdFJhbmdlLm1heCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5mZXJyZWREYXRlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZVNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlU2FtcGxlc1tpXSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBpbmZlcnJlZERhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGF4aXNUeXBlO1xuICAgICAgICBpZiAoZXF1YWxzSWdub3JlQ2FzZShheGlzT3B0aW9ucy50eXBlLCBEQVRFKSB8fCAoIWF4aXNPcHRpb25zLnR5cGUgJiYgaW5mZXJyZWREYXRlKSkge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBEYXRlVmFsdWVBeGlzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTG9nKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IExvZ2FyaXRobWljQXhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF4aXNUeXBlID0gTnVtZXJpY0F4aXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBheGlzID0gbmV3IGF4aXNUeXBlKHJhbmdlLm1pbiwgcmFuZ2UubWF4LCBheGlzT3B0aW9ucywgdGhpcy5jaGFydFNlcnZpY2UpO1xuICAgICAgICBheGlzLmF4aXNJbmRleCA9IGF4aXNJbmRleDtcblxuICAgICAgICBpZiAoYXhpc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChuYW1lZEF4ZXNbYXhpc05hbWVdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAkeyB2ZXJ0aWNhbCA/IFwiWVwiIDogXCJYXCIgfSBheGlzIHdpdGggbmFtZSAkeyBheGlzTmFtZSB9IGlzIGFscmVhZHkgZGVmaW5lZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZWRBeGVzW2F4aXNOYW1lXSA9IGF4aXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcGVuZEF4aXMoYXhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgfVxuXG4gICAgY3JlYXRlQXhlcyhwYW5lcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB4QXhlc09wdGlvbnMgPSBbXS5jb25jYXQob3B0aW9ucy54QXhpcyk7XG4gICAgICAgIGNvbnN0IHhBeGVzID0gW107XG4gICAgICAgIGNvbnN0IHlBeGVzT3B0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLnlBeGlzKTtcbiAgICAgICAgY29uc3QgeUF4ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB4QXhlc09wdGlvbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpc1BhbmUgPSB0aGlzLmZpbmRQYW5lKHhBeGVzT3B0aW9uc1tpZHhdLnBhbmUpO1xuICAgICAgICAgICAgaWYgKGluQXJyYXkoYXhpc1BhbmUsIHBhbmVzKSkge1xuICAgICAgICAgICAgICAgIHhBeGVzLnB1c2godGhpcy5jcmVhdGVYWUF4aXMoeEF4ZXNPcHRpb25zW2lkeF0sIGZhbHNlLCBpZHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHlBeGVzT3B0aW9ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzUGFuZSA9IHRoaXMuZmluZFBhbmUoeUF4ZXNPcHRpb25zW2lkeF0ucGFuZSk7XG4gICAgICAgICAgICBpZiAoaW5BcnJheShheGlzUGFuZSwgcGFuZXMpKSB7XG4gICAgICAgICAgICAgICAgeUF4ZXMucHVzaCh0aGlzLmNyZWF0ZVhZQXhpcyh5QXhlc09wdGlvbnNbaWR4XSwgdHJ1ZSwgaWR4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4aXNYID0gdGhpcy5heGlzWCB8fCB4QXhlc1swXTtcbiAgICAgICAgdGhpcy5heGlzWSA9IHRoaXMuYXhpc1kgfHwgeUF4ZXNbMF07XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgYWxsQXhlcyA9IHRoaXMuYXhlcztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYWxsQXhlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHhWYWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeVZhbHVlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBhbGxBeGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gYXhpcy5vcHRpb25zLnZlcnRpY2FsID8geVZhbHVlcyA6IHhWYWx1ZXM7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBheGlzLmdldFZhbHVlKHBvaW50KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHhWYWx1ZXMubGVuZ3RoID4gMCAmJiB5VmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNoYXJ0LnRyaWdnZXIoZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZXZlbnRFbGVtZW50KGUpLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgeDogc2luZ2xlSXRlbU9yQXJyYXkoeFZhbHVlcyksXG4gICAgICAgICAgICAgICAgeTogc2luZ2xlSXRlbU9yQXJyYXkoeVZhbHVlcylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQXhpc09wdGlvbnMoYXhpcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IGF4aXMub3B0aW9ucy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuZ3JvdXBBeGVzKHRoaXMucGFuZXMpO1xuICAgICAgICBjb25zdCBpbmRleCA9ICh2ZXJ0aWNhbCA/IGF4ZXMueSA6IGF4ZXMueCkuaW5kZXhPZihheGlzKTtcblxuICAgICAgICB1cGRhdGVBeGlzT3B0aW9ucyh0aGlzLm9wdGlvbnMsIGluZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucyk7XG4gICAgICAgIHVwZGF0ZUF4aXNPcHRpb25zKHRoaXMub3JpZ2luYWxPcHRpb25zLCBpbmRleCwgdmVydGljYWwsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQXhpc09wdGlvbnModGFyZ2V0T3B0aW9ucywgYXhpc0luZGV4LCB2ZXJ0aWNhbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGF4aXNPcHRpb25zID0gKFtdLmNvbmNhdCh2ZXJ0aWNhbCA/IHRhcmdldE9wdGlvbnMueUF4aXMgOiB0YXJnZXRPcHRpb25zLnhBeGlzKSlbYXhpc0luZGV4XTtcbiAgICBkZWVwRXh0ZW5kKGF4aXNPcHRpb25zLCBvcHRpb25zKTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoWFlQbG90QXJlYSwge1xuICAgIHhBeGlzOiB7fSxcbiAgICB5QXhpczoge31cbn0pO1xuXG5kZWVwRXh0ZW5kKFhZUGxvdEFyZWEucHJvdG90eXBlLCBQbG90QXJlYUV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgWFlQbG90QXJlYTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcsIGdlb21ldHJ5IGFzIGdlb20sIENvbG9yIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIFNoYXBlQnVpbGRlciwgVGV4dEJveCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBPVVRTSURFX0VORCwgSU5TSURFX0VORCwgUElFLCBGQURFSU4sIFRPT0xUSVBfT0ZGU0VUIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBoYXNHcmFkaWVudE92ZXJsYXkgZnJvbSAnLi4vdXRpbHMvaGFzLWdyYWRpZW50LW92ZXJsYXknO1xuXG5pbXBvcnQgeyBUT1AsIEJPVFRPTSwgTEVGVCwgUklHSFQsIERFRkFVTFRfRk9OVCwgQ0lSQ0xFLCBXSElURSwgQkxBQ0ssIENFTlRFUiwgREVGQVVMVF9QUkVDSVNJT04gfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBnZXRTcGFjaW5nLCBnZXRUZW1wbGF0ZSwgZGVlcEV4dGVuZCwgcm91bmQsIHJhZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZVNlZ21lbnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBzZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNlY3RvciA9IHNlY3RvcjtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMub3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGNoYXJ0U2VydmljZSA9IHRoaXMub3duZXIuY2hhcnRTZXJ2aWNlO1xuICAgICAgICBsZXQgbGFiZWxUZXh0ID0gdGhpcy52YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWQgfHwgdGhpcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgY29uc3QgcG9pbnREYXRhID0gdGhpcy5wb2ludERhdGEoKTtcblxuICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgbGFiZWxUZXh0ID0gbGFiZWxUZW1wbGF0ZShwb2ludERhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKGxhYmVscy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IGNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhsYWJlbHMuZm9ybWF0LCBsYWJlbFRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlICYmIChsYWJlbFRleHQgfHwgbGFiZWxUZXh0ID09PSAwKSkge1xuICAgICAgICAgICAgaWYgKGxhYmVscy5wb3NpdGlvbiA9PT0gQ0VOVEVSIHx8IGxhYmVscy5wb3NpdGlvbiA9PT0gSU5TSURFX0VORCkge1xuICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3NWYWx1ZSA9IG5ldyBDb2xvcih0aGlzLm9wdGlvbnMuY29sb3IpLnBlcmNCcmlnaHRuZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChicmlnaHRuZXNzVmFsdWUgPiAxODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscy5jb2xvciA9IEJMQUNLO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmNvbG9yID0gV0hJVEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFsYWJlbHMuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHMuYmFja2dyb3VuZCA9IHRoaXMub3B0aW9ucy5jb2xvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lTGFiZWxzID0gY2hhcnRTZXJ2aWNlLnRoZW1lLnNlcmllc0RlZmF1bHRzLmxhYmVscztcbiAgICAgICAgICAgICAgICBsYWJlbHMuY29sb3IgPSBsYWJlbHMuY29sb3IgfHwgdGhlbWVMYWJlbHMuY29sb3I7XG4gICAgICAgICAgICAgICAgbGFiZWxzLmJhY2tncm91bmQgPSBsYWJlbHMuYmFja2dyb3VuZCB8fCB0aGVtZUxhYmVscy5iYWNrZ3JvdW5kO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVGV4dEJveChsYWJlbFRleHQsIGRlZXBFeHRlbmQoe30sIGxhYmVscywge1xuICAgICAgICAgICAgICAgIGFsaWduOiBDRU5URVIsXG4gICAgICAgICAgICAgICAgdkFsaWduOiBcIlwiLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBGQURFSU4sXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIHBvaW50RGF0YSk7XG5cbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHRoaXMubGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmJveCA9IHRhcmdldEJveDtcbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbCgpO1xuICAgIH1cblxuICAgIHJlZmxvd0xhYmVsKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgbGFiZWxzOiBsYWJlbHNPcHRpb25zIH0sIGxhYmVsIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpO1xuICAgICAgICBjb25zdCBsYWJlbHNEaXN0YW5jZSA9IGxhYmVsc09wdGlvbnMuZGlzdGFuY2U7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFdpZHRoID0gbGFiZWwuYm94LndpZHRoKCk7XG4gICAgICAgICAgICBsZXQgbHA7XG5cbiAgICAgICAgICAgIGlmIChsYWJlbHNPcHRpb25zLnBvc2l0aW9uID09PSBDRU5URVIpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gTWF0aC5hYnMoKHNlY3Rvci5yYWRpdXMgLSBsYWJlbEhlaWdodCkgLyAyKSArIGxhYmVsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGxwID0gc2VjdG9yLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChscC54LCBscC55IC0gbGFiZWxIZWlnaHQgLyAyLCBscC54LCBscC55KSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsc09wdGlvbnMucG9zaXRpb24gPT09IElOU0lERV9FTkQpIHtcbiAgICAgICAgICAgICAgICBzZWN0b3IucmFkaXVzID0gc2VjdG9yLnJhZGl1cyAtIGxhYmVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBscCA9IHNlY3Rvci5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3gobHAueCwgbHAueSAtIGxhYmVsSGVpZ2h0IC8gMiwgbHAueCwgbHAueSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgeDE7XG4gICAgICAgICAgICAgICAgbHAgPSBzZWN0b3IuY2xvbmUoKS5leHBhbmQobGFiZWxzRGlzdGFuY2UpLnBvaW50KGFuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAobHAueCA+PSBzZWN0b3IuY2VudGVyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBscC54ICsgbGFiZWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwub3JpZW50YXRpb24gPSBSSUdIVDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB4MSA9IGxwLnggLSBsYWJlbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5vcmllbnRhdGlvbiA9IExFRlQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KHgxLCBscC55IC0gbGFiZWxIZWlnaHQsIGxwLngsIGxwLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBzZWN0b3IsIG9wdGlvbnMgfSA9IHRoaXM7XG5cbiAgICAgICAgc3VwZXIuY3JlYXRlVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnZpc3VhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAoc2VjdG9yLnN0YXJ0QW5nbGUgKyAxODApICUgMzYwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc3VhbCA9IG9wdGlvbnMudmlzdWFsKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiB0aGlzLmRhdGFJdGVtLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZTogdGhpcy5wZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBzZWN0b3IucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogc3RhcnRBbmdsZSArIHNlY3Rvci5hbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaXN1YWw6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IGRyYXcuR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbChncm91cCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodmlzdWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VnbWVudFZpc3VhbCh0aGlzLnZpc3VhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVTZWdtZW50VmlzdWFsKGdyb3VwKSB7XG4gICAgICAgIGNvbnN0IHsgc2VjdG9yLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBib3JkZXJPcHRpb25zID0gb3B0aW9ucy5ib3JkZXIgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGJvcmRlck9wdGlvbnMud2lkdGggPiAwID8ge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGJvcmRlck9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlck9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogYm9yZGVyT3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXJPcHRpb25zLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gOiB7fTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBvcHRpb25zLmNvbG9yO1xuICAgICAgICBjb25zdCBmaWxsID0ge1xuICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZpc3VhbCA9IHRoaXMuY3JlYXRlU2VnbWVudChzZWN0b3IsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgZmlsbDogZmlsbCxcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgfSwgYm9yZGVyKSk7XG5cbiAgICAgICAgZ3JvdXAuYXBwZW5kKHZpc3VhbCk7XG5cbiAgICAgICAgaWYgKGhhc0dyYWRpZW50T3ZlcmxheShvcHRpb25zKSkge1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMuY3JlYXRlR3JhZGllbnRPdmVybGF5KHZpc3VhbCwge1xuICAgICAgICAgICAgICAgIGJhc2VDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tGaWxsOiBmaWxsXG4gICAgICAgICAgICB9LCBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBjZW50ZXI6IFsgc2VjdG9yLmNlbnRlci54LCBzZWN0b3IuY2VudGVyLnkgXSxcbiAgICAgICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIHJhZGl1czogc2VjdG9yLnJhZGl1cyxcbiAgICAgICAgICAgICAgICB1c2VyU3BhY2U6IHRydWVcbiAgICAgICAgICAgIH0sIG9wdGlvbnMub3ZlcmxheSkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVNlZ21lbnQoc2VjdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnNpbmdsZVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZHJhdy5DaXJjbGUobmV3IGdlb20uQ2lyY2xlKG5ldyBnZW9tLlBvaW50KHNlY3Rvci5jZW50ZXIueCwgc2VjdG9yLmNlbnRlci55KSwgc2VjdG9yLnJhZGl1cyksIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgc2VjdG9yOiB7IGNlbnRlciB9IH0gPSB0aGlzO1xuXG4gICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgY2VudGVyOiBbIGNlbnRlci54LCBjZW50ZXIueSBdLFxuICAgICAgICAgICAgICAgIGRlbGF5OiB0aGlzLmFuaW1hdGlvbkRlbGF5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN1cGVyLmNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhpZ2hsaWdodChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQgfHwge307XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGhpZ2hsaWdodC5ib3JkZXIgfHwge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2VnbWVudCh0aGlzLnNlY3RvciwgZGVlcEV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBoaWdobGlnaHQuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogaGlnaGxpZ2h0Lm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgICAgICB3aWR0aDogYm9yZGVyLndpZHRoLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIuY29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzdWFsLmNoaWxkcmVuWzBdO1xuICAgIH1cblxuICAgIGhpZ2hsaWdodFZpc3VhbEFyZ3MoKSB7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuc2VjdG9yO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICByYWRpdXM6IHNlY3Rvci5yYWRpdXMsXG4gICAgICAgICAgICBpbm5lclJhZGl1czogc2VjdG9yLmlubmVyUmFkaXVzLFxuICAgICAgICAgICAgY2VudGVyOiBuZXcgZ2VvbS5Qb2ludChzZWN0b3IuY2VudGVyLngsIHNlY3Rvci5jZW50ZXIueSksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBzZWN0b3IuYW5nbGUgKyBzZWN0b3Iuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIHZpc3VhbDogdGhpcy52aXN1YWxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0b29sdGlwQW5jaG9yKCkge1xuICAgICAgICBjb25zdCBzZWN0b3IgPSB0aGlzLnNlY3Rvci5jbG9uZSgpLmV4cGFuZChUT09MVElQX09GRlNFVCk7XG4gICAgICAgIGNvbnN0IG1pZEFuZGxlID0gc2VjdG9yLm1pZGRsZSgpO1xuICAgICAgICBjb25zdCBtaWRQb2ludCA9IHNlY3Rvci5wb2ludChtaWRBbmRsZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvaW50OiBtaWRQb2ludCxcbiAgICAgICAgICAgIGFsaWduOiB0b29sdGlwQWxpZ25tZW50KG1pZEFuZGxlICsgMTgwKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZvcm1hdFZhbHVlKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5mb3JtYXRQb2ludFZhbHVlKHRoaXMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgcG9pbnREYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YUl0ZW06IHRoaXMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgc2VyaWVzOiB0aGlzLnNlcmllcyxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgUkFEXzMwID0gcm91bmQocmFkKDMwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuY29uc3QgUkFEXzYwID0gcm91bmQocmFkKDYwKSwgREVGQVVMVF9QUkVDSVNJT04pO1xuXG5mdW5jdGlvbiB0b29sdGlwQWxpZ25tZW50KGFuZ2xlKSB7XG4gICAgY29uc3QgcmFkaWFucyA9IHJhZChhbmdsZSk7XG4gICAgY29uc3Qgc2luZSA9IHJvdW5kKE1hdGguc2luKHJhZGlhbnMpLCBERUZBVUxUX1BSRUNJU0lPTik7XG4gICAgY29uc3QgY29zaW5lID0gcm91bmQoTWF0aC5jb3MocmFkaWFucyksIERFRkFVTFRfUFJFQ0lTSU9OKTtcblxuXG4gICAgbGV0IGhvcml6b250YWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpID4gUkFEXzYwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBDRU5URVI7XG4gICAgfSBlbHNlIGlmIChjb3NpbmUgPCAwKSB7XG4gICAgICAgIGhvcml6b250YWwgPSBSSUdIVDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob3Jpem9udGFsID0gTEVGVDtcbiAgICB9XG5cbiAgICBsZXQgdmVydGljYWw7XG4gICAgaWYgKE1hdGguYWJzKHNpbmUpIDwgUkFEXzMwKSB7XG4gICAgICAgIHZlcnRpY2FsID0gQ0VOVEVSO1xuICAgIH0gZWxzZSBpZiAoc2luZSA8IDApIHtcbiAgICAgICAgdmVydGljYWwgPSBCT1RUT007XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmVydGljYWwgPSBUT1A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbCxcbiAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgfTtcbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUGllU2VnbWVudCwge1xuICAgIGNvbG9yOiBXSElURSxcbiAgICBvdmVybGF5OiB7XG4gICAgICAgIGdyYWRpZW50OiBcInJvdW5kZWRCZXZlbFwiXG4gICAgfSxcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDAuNVxuICAgIH0sXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBkaXN0YW5jZTogMzUsXG4gICAgICAgIGZvbnQ6IERFRkFVTFRfRk9OVCxcbiAgICAgICAgbWFyZ2luOiBnZXRTcGFjaW5nKDAuNSksXG4gICAgICAgIGFsaWduOiBDSVJDTEUsXG4gICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgcG9zaXRpb246IE9VVFNJREVfRU5EXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUElFXG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9XG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuZGVlcEV4dGVuZChQaWVTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cbmV4cG9ydCBkZWZhdWx0IFBpZVNlZ21lbnQ7IiwiaW1wb3J0IHsgZ2V0VGVtcGxhdGUgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgaGFzVmFsdWUgfSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IFBpZUNoYXJ0TWl4aW4gPSB7XG4gICAgY3JlYXRlTGVnZW5kSXRlbTogZnVuY3Rpb24odmFsdWUsIHBvaW50LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxlZ2VuZE9wdGlvbnMgPSB0aGlzLm9wdGlvbnMubGVnZW5kIHx8IHt9O1xuICAgICAgICBjb25zdCBsYWJlbHNPcHRpb25zID0gbGVnZW5kT3B0aW9ucy5sYWJlbHMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXMgPSBsZWdlbmRPcHRpb25zLmluYWN0aXZlSXRlbXMgfHwge307XG4gICAgICAgIGNvbnN0IGluYWN0aXZlSXRlbXNMYWJlbHMgPSBpbmFjdGl2ZUl0ZW1zLmxhYmVscyB8fCB7fTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnZpc2libGVJbkxlZ2VuZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50VmlzaWJsZSA9IG9wdGlvbnMudmlzaWJsZSAhPT0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gcG9pbnRWaXNpYmxlID8gZ2V0VGVtcGxhdGUobGFiZWxzT3B0aW9ucykgOlxuICAgICAgICAgICAgICAgIGdldFRlbXBsYXRlKGluYWN0aXZlSXRlbXNMYWJlbHMpIHx8IGdldFRlbXBsYXRlKGxhYmVsc09wdGlvbnMpO1xuICAgICAgICAgICAgbGV0IHRleHQgPSBvcHRpb25zLmNhdGVnb3J5O1xuXG4gICAgICAgICAgICBpZiAobGFiZWxUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBsYWJlbFRlbXBsYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YUl0ZW06IG9wdGlvbnMuZGF0YUl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IG9wdGlvbnMucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpdGVtTGFiZWxPcHRpb25zLCBtYXJrZXJDb2xvcjtcbiAgICAgICAgICAgIGlmIChwb2ludFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBpdGVtTGFiZWxPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSBwb2ludC5jb2xvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbUxhYmVsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGluYWN0aXZlSXRlbXNMYWJlbHMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGZvbnQ6IGluYWN0aXZlSXRlbXNMYWJlbHMuZm9udFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWFya2VyQ29sb3IgPSAoaW5hY3RpdmVJdGVtcy5tYXJrZXJzIHx8IHt9KS5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc1ZhbHVlKHRleHQpICYmIHRleHQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHBvaW50VmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRJbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBvcHRpb25zLnNlcmllcyxcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQ29sb3I6IG1hcmtlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IGl0ZW1MYWJlbE9wdGlvbnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBpZUNoYXJ0TWl4aW47IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3LCBnZW9tZXRyeSB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IFBpZVNlZ21lbnQgZnJvbSAnLi9waWUtc2VnbWVudCc7XG5pbXBvcnQgUGllQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvcGllLWNoYXJ0LW1peGluJztcbmltcG9ydCB7IENoYXJ0RWxlbWVudCwgUmluZywgQm94LCBQb2ludCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBPVVRTSURFX0VORCwgRkFERUlOLCBDT0xVTU4gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYmluZFNlZ21lbnRzLCBldmFsT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzJztcblxuaW1wb3J0IHsgQ0lSQ0xFLCBSSUdIVCwgQ0VOVEVSIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkLCBpc0Z1bmN0aW9uLCBsYXN0LCByb3VuZCwgc2V0RGVmYXVsdE9wdGlvbnMsIHZhbHVlT3JEZWZhdWx0IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY29uc3QgUElFX1NFQ1RPUl9BTklNX0RFTEFZID0gNzA7XG5cbmNsYXNzIFBpZUNoYXJ0IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwbG90QXJlYSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnBsb3RBcmVhID0gcGxvdEFyZWE7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlID0gcGxvdEFyZWEuY2hhcnRTZXJ2aWNlO1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zID0gW107XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnRyYXZlcnNlRGF0YVBvaW50cyh0aGlzLmFkZFZhbHVlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHRyYXZlcnNlRGF0YVBvaW50cyhjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHBsb3RBcmVhOiB7IG9wdGlvbnM6IHsgc2VyaWVzQ29sb3JzID0gW10gfSB9IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb2xvcnNDb3VudCA9IHNlcmllc0NvbG9ycy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgc2VyaWVzSXggPSAwOyBzZXJpZXNJeCA8IHNlcmllc0NvdW50OyBzZXJpZXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gc2VyaWVzW3Nlcmllc0l4XTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBjdXJyZW50U2VyaWVzLmRhdGE7XG4gICAgICAgICAgICBjb25zdCB7IHRvdGFsLCBwb2ludHMsIGNvdW50IH0gPSBiaW5kU2VnbWVudHMoY3VycmVudFNlcmllcyk7XG4gICAgICAgICAgICBjb25zdCBhbmdsZVBlclZhbHVlID0gMzYwIC8gdG90YWw7XG4gICAgICAgICAgICBsZXQgY29uc3RhbnRBbmdsZTtcbiAgICAgICAgICAgIGlmICghaXNGaW5pdGUoYW5nbGVQZXJWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdGFudEFuZ2xlID0gMzYwIC8gY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY3VycmVudEFuZ2xlO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChjdXJyZW50U2VyaWVzLnN0YXJ0QW5nbGUpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEFuZ2xlID0gY3VycmVudFNlcmllcy5zdGFydEFuZ2xlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5nbGUgPSBvcHRpb25zLnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNJeCAhPT0gc2VyaWVzQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXJpZXMubGFiZWxzLnBvc2l0aW9uID09PSBPVVRTSURFX0VORCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWVzLmxhYmVscy5wb3NpdGlvbiA9IENFTlRFUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnREYXRhID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghcG9pbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZmllbGRzLCB2YWx1ZSwgdmlzaWJsZSB9ID0gcG9pbnREYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gdmFsdWUgIT09IDAgPyAoY29uc3RhbnRBbmdsZSB8fCAodmFsdWUgKiBhbmdsZVBlclZhbHVlKSkgOiAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4cGxvZGUgPSBkYXRhLmxlbmd0aCAhPT0gMSAmJiBCb29sZWFuKGZpZWxkcy5leHBsb2RlKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihjdXJyZW50U2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2VyaWVzLmNvbG9yID0gZmllbGRzLmNvbG9yIHx8IHNlcmllc0NvbG9yc1tpICUgY29sb3JzQ291bnRdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHBvaW50RGF0YS52YWx1ZUZpZWxkcy52YWx1ZSwgbmV3IFJpbmcobnVsbCwgMCwgMCwgY3VycmVudEFuZ2xlLCBhbmdsZSksIHtcbiAgICAgICAgICAgICAgICAgICAgb3duZXI6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBkZWZpbmVkKGZpZWxkcy5jYXRlZ29yeSkgPyBmaWVsZHMuY2F0ZWdvcnkgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBjdXJyZW50U2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJpZXNJeDogc2VyaWVzSXgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtOiBkYXRhW2ldLFxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiB0b3RhbCAhPT0gMCA/IHZhbHVlIC8gdG90YWwgOiAwLFxuICAgICAgICAgICAgICAgICAgICBleHBsb2RlOiBleHBsb2RlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlSW5MZWdlbmQ6IGZpZWxkcy52aXNpYmxlSW5MZWdlbmQsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogc2VyaWVzQ291bnQgLSBzZXJpZXNJeCxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IHRoaXMuYW5pbWF0aW9uRGVsYXkoaSwgc2VyaWVzSXgsIHNlcmllc0NvdW50KVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBbmdsZSArPSBhbmdsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBldmFsU2VnbWVudE9wdGlvbnMob3B0aW9ucywgdmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBmaWVsZHMuc2VyaWVzO1xuXG4gICAgICAgIGV2YWxPcHRpb25zKG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHNlcmllczogc2VyaWVzLFxuICAgICAgICAgICAgZGF0YUl0ZW06IGZpZWxkcy5kYXRhSXRlbSxcbiAgICAgICAgICAgIGNhdGVnb3J5OiBmaWVsZHMuY2F0ZWdvcnksXG4gICAgICAgICAgICBwZXJjZW50YWdlOiBmaWVsZHMucGVyY2VudGFnZVxuICAgICAgICB9LCB7IGRlZmF1bHRzOiBzZXJpZXMuX2RlZmF1bHRzLCBleGNsdWRlZDogWyBcImRhdGFcIiwgXCJjb250ZW50XCIsIFwidGVtcGxhdGVcIiwgXCJ2aXN1YWxcIiwgXCJ0b2dnbGVcIiBdIH0pO1xuICAgIH1cblxuICAgIGFkZFZhbHVlKHZhbHVlLCBzZWN0b3IsIGZpZWxkcykge1xuICAgICAgICBjb25zdCBzZWdtZW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGZpZWxkcy5zZXJpZXMsIHsgaW5kZXg6IGZpZWxkcy5pbmRleCB9KTtcbiAgICAgICAgdGhpcy5ldmFsU2VnbWVudE9wdGlvbnMoc2VnbWVudE9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlTGVnZW5kSXRlbSh2YWx1ZSwgc2VnbWVudE9wdGlvbnMsIGZpZWxkcyk7XG5cbiAgICAgICAgaWYgKGZpZWxkcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBQaWVTZWdtZW50KHZhbHVlLCBzZWN0b3IsIHNlZ21lbnRPcHRpb25zKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzZWdtZW50LCBmaWVsZHMpO1xuICAgICAgICB0aGlzLmFwcGVuZChzZWdtZW50KTtcbiAgICAgICAgdGhpcy5wb2ludHMucHVzaChzZWdtZW50KTtcbiAgICB9XG5cbiAgICByZWZsb3codGFyZ2V0Qm94KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcG9pbnRzLCBzZXJpZXNDb25maWdzID0gW10gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYm94ID0gdGFyZ2V0Qm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gNTtcbiAgICAgICAgY29uc3QgbWluV2lkdGggPSBNYXRoLm1pbihib3gud2lkdGgoKSwgYm94LmhlaWdodCgpKTtcbiAgICAgICAgY29uc3QgaGFsZk1pbldpZHRoID0gbWluV2lkdGggLyAyO1xuICAgICAgICBjb25zdCBkZWZhdWx0UGFkZGluZyA9IG1pbldpZHRoIC0gbWluV2lkdGggKiAwLjg1O1xuICAgICAgICBjb25zdCBuZXdCb3ggPSBuZXcgQm94KGJveC54MSwgYm94LnkxLCBib3gueDEgKyBtaW5XaWR0aCwgYm94LnkxICsgbWluV2lkdGgpO1xuICAgICAgICBjb25zdCBuZXdCb3hDZW50ZXIgPSBuZXdCb3guY2VudGVyKCk7XG4gICAgICAgIGNvbnN0IGJveENlbnRlciA9IGJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzQ291bnQgPSBvcHRpb25zLnNlcmllcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGxlZnRTaWRlTGFiZWxzID0gW107XG4gICAgICAgIGNvbnN0IHJpZ2h0U2lkZUxhYmVscyA9IFtdO1xuICAgICAgICBsZXQgcGFkZGluZyA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMucGFkZGluZywgZGVmYXVsdFBhZGRpbmcpO1xuXG4gICAgICAgIHRoaXMudGFyZ2V0Qm94ID0gdGFyZ2V0Qm94O1xuXG4gICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nID4gaGFsZk1pbldpZHRoIC0gc3BhY2UgPyBoYWxmTWluV2lkdGggLSBzcGFjZSA6IHBhZGRpbmc7XG4gICAgICAgIG5ld0JveC50cmFuc2xhdGUoYm94Q2VudGVyLnggLSBuZXdCb3hDZW50ZXIueCwgYm94Q2VudGVyLnkgLSBuZXdCb3hDZW50ZXIueSk7XG5cbiAgICAgICAgY29uc3QgcmFkaXVzID0gaGFsZk1pbldpZHRoIC0gcGFkZGluZztcbiAgICAgICAgY29uc3QgY2VudGVyID0gbmV3IFBvaW50KFxuICAgICAgICAgICAgcmFkaXVzICsgbmV3Qm94LngxICsgcGFkZGluZyxcbiAgICAgICAgICAgIHJhZGl1cyArIG5ld0JveC55MSArIHBhZGRpbmdcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICBjb25zdCBzZWN0b3IgPSBzZWdtZW50LnNlY3RvcjtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc0luZGV4ID0gc2VnbWVudC5zZXJpZXNJeDtcbiAgICAgICAgICAgIHNlY3Rvci5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgICAgICBzZWN0b3IuY2VudGVyID0gY2VudGVyO1xuXG4gICAgICAgICAgICBpZiAoc2VyaWVzQ29uZmlncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpZXNDb25maWcgPSBzZXJpZXNDb25maWdzW3Nlcmllc0luZGV4XTtcbiAgICAgICAgICAgICAgICBzZWN0b3IuaW5uZXJSYWRpdXMgPSBzZXJpZXNDb25maWcuaW5uZXJSYWRpdXM7XG4gICAgICAgICAgICAgICAgc2VjdG9yLnJhZGl1cyA9IHNlcmllc0NvbmZpZy5yYWRpdXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZXJpZXNJbmRleCA9PT0gc2VyaWVzQ291bnQgLSAxICYmIHNlZ21lbnQuZXhwbG9kZSkge1xuICAgICAgICAgICAgICAgIHNlY3Rvci5jZW50ZXIgPSBzZWN0b3IuY2xvbmUoKS5zZXRSYWRpdXMoc2VjdG9yLnJhZGl1cyAqIDAuMTUpLnBvaW50KHNlY3Rvci5taWRkbGUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlZ21lbnQucmVmbG93KG5ld0JveCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gc2VnbWVudC5sYWJlbDtcbiAgICAgICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5vcHRpb25zLnBvc2l0aW9uID09PSBPVVRTSURFX0VORCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VyaWVzSW5kZXggPT09IHNlcmllc0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9yaWVudGF0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUxhYmVscy5wdXNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFNpZGVMYWJlbHMucHVzaChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdFNpZGVMYWJlbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGVmdFNpZGVMYWJlbHMuc29ydCh0aGlzLmxhYmVsQ29tcGFyYXRvcih0cnVlKSk7XG4gICAgICAgICAgICB0aGlzLmxlZnRMYWJlbHNSZWZsb3cobGVmdFNpZGVMYWJlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJpZ2h0U2lkZUxhYmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByaWdodFNpZGVMYWJlbHMuc29ydCh0aGlzLmxhYmVsQ29tcGFyYXRvcihmYWxzZSkpO1xuICAgICAgICAgICAgdGhpcy5yaWdodExhYmVsc1JlZmxvdyhyaWdodFNpZGVMYWJlbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ib3ggPSBuZXdCb3g7XG4gICAgfVxuXG4gICAgbGVmdExhYmVsc1JlZmxvdyhsYWJlbHMpIHtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VzID0gdGhpcy5kaXN0YW5jZUJldHdlZW5MYWJlbHMobGFiZWxzKTtcblxuICAgICAgICB0aGlzLmRpc3RyaWJ1dGVMYWJlbHMoZGlzdGFuY2VzLCBsYWJlbHMpO1xuICAgIH1cblxuICAgIHJpZ2h0TGFiZWxzUmVmbG93KGxhYmVscykge1xuICAgICAgICBjb25zdCBkaXN0YW5jZXMgPSB0aGlzLmRpc3RhbmNlQmV0d2VlbkxhYmVscyhsYWJlbHMpO1xuXG4gICAgICAgIHRoaXMuZGlzdHJpYnV0ZUxhYmVscyhkaXN0YW5jZXMsIGxhYmVscyk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VCZXR3ZWVuTGFiZWxzKGxhYmVscykge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gbGFzdCh0aGlzLnBvaW50cyk7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHNlZ21lbnQuc2VjdG9yO1xuICAgICAgICBjb25zdCBjb3VudCA9IGxhYmVscy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBsciA9IHNlY3Rvci5yYWRpdXMgKyBzZWdtZW50Lm9wdGlvbnMubGFiZWxzLmRpc3RhbmNlO1xuICAgICAgICBjb25zdCBkaXN0YW5jZXMgPSBbXTtcbiAgICAgICAgbGV0IGZpcnN0Qm94ID0gbGFiZWxzWzBdLmJveDtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gcm91bmQoZmlyc3RCb3gueTEgLSAoc2VjdG9yLmNlbnRlci55IC0gbHIgLSBmaXJzdEJveC5oZWlnaHQoKSAtIGZpcnN0Qm94LmhlaWdodCgpIC8gMikpO1xuXG4gICAgICAgIGRpc3RhbmNlcy5wdXNoKGRpc3RhbmNlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZEJveCA9IGxhYmVsc1tpICsgMV0uYm94O1xuXG4gICAgICAgICAgICBmaXJzdEJveCA9IGxhYmVsc1tpXS5ib3g7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IHJvdW5kKHNlY29uZEJveC55MSAtIGZpcnN0Qm94LnkyKTtcbiAgICAgICAgICAgIGRpc3RhbmNlcy5wdXNoKGRpc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBkaXN0YW5jZSA9IHJvdW5kKHNlY3Rvci5jZW50ZXIueSArIGxyIC0gbGFiZWxzW2NvdW50XS5ib3gueTIgLSBsYWJlbHNbY291bnRdLmJveC5oZWlnaHQoKSAvIDIpO1xuICAgICAgICBkaXN0YW5jZXMucHVzaChkaXN0YW5jZSk7XG5cbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlcztcbiAgICB9XG5cbiAgICBkaXN0cmlidXRlTGFiZWxzKGRpc3RhbmNlcywgbGFiZWxzKSB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gZGlzdGFuY2VzLmxlbmd0aDtcbiAgICAgICAgbGV0IGxlZnQsIHJpZ2h0LCByZW1haW5pbmc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICByZW1haW5pbmcgPSAtZGlzdGFuY2VzW2ldO1xuICAgICAgICAgICAgbGVmdCA9IHJpZ2h0ID0gaTtcblxuICAgICAgICAgICAgd2hpbGUgKHJlbWFpbmluZyA+IDAgJiYgKGxlZnQgPj0gMCB8fCByaWdodCA8IGNvdW50KSkge1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IHRoaXMuX3Rha2VEaXN0YW5jZShkaXN0YW5jZXMsIGksIC0tbGVmdCwgcmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICByZW1haW5pbmcgPSB0aGlzLl90YWtlRGlzdGFuY2UoZGlzdGFuY2VzLCBpLCArK3JpZ2h0LCByZW1haW5pbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZsb3dMYWJlbHMoZGlzdGFuY2VzLCBsYWJlbHMpO1xuICAgIH1cblxuICAgIF90YWtlRGlzdGFuY2UoZGlzdGFuY2VzLCBhbmNob3IsIHBvc2l0aW9uLCBhbW91bnQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGFtb3VudDtcbiAgICAgICAgaWYgKGRpc3RhbmNlc1twb3NpdGlvbl0gPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhdmFpbGFibGUgPSBNYXRoLm1pbihkaXN0YW5jZXNbcG9zaXRpb25dLCByZXN1bHQpO1xuICAgICAgICAgICAgcmVzdWx0IC09IGF2YWlsYWJsZTtcbiAgICAgICAgICAgIGRpc3RhbmNlc1twb3NpdGlvbl0gLT0gYXZhaWxhYmxlO1xuICAgICAgICAgICAgZGlzdGFuY2VzW2FuY2hvcl0gKz0gYXZhaWxhYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZWZsb3dMYWJlbHMoZGlzdGFuY2VzLCBsYWJlbHMpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IGxhc3QodGhpcy5wb2ludHMpO1xuICAgICAgICBjb25zdCBzZWN0b3IgPSBzZWdtZW50LnNlY3RvcjtcbiAgICAgICAgY29uc3QgbGFiZWxPcHRpb25zID0gc2VnbWVudC5vcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgbGFiZWxzQ291bnQgPSBsYWJlbHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBsYWJlbERpc3RhbmNlID0gbGFiZWxPcHRpb25zLmRpc3RhbmNlO1xuICAgICAgICBsZXQgYm94WSA9IHNlY3Rvci5jZW50ZXIueSAtIChzZWN0b3IucmFkaXVzICsgbGFiZWxEaXN0YW5jZSkgLSBsYWJlbHNbMF0uYm94LmhlaWdodCgpO1xuICAgICAgICBsZXQgYm94WDtcblxuICAgICAgICBkaXN0YW5jZXNbMF0gKz0gMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IGxhYmVsLmJveDtcblxuICAgICAgICAgICAgYm94WSArPSBkaXN0YW5jZXNbaV07XG4gICAgICAgICAgICBib3hYID0gdGhpcy5oQWxpZ25MYWJlbChcbiAgICAgICAgICAgICAgICBib3gueDIsXG4gICAgICAgICAgICAgICAgc2VjdG9yLmNsb25lKCkuZXhwYW5kKGxhYmVsRGlzdGFuY2UpLFxuICAgICAgICAgICAgICAgIGJveFksXG4gICAgICAgICAgICAgICAgYm94WSArIGJveC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBsYWJlbC5vcmllbnRhdGlvbiA9PT0gUklHSFQpO1xuXG4gICAgICAgICAgICBpZiAobGFiZWwub3JpZW50YXRpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsT3B0aW9ucy5hbGlnbiAhPT0gQ0lSQ0xFKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveFggPSBzZWN0b3IucmFkaXVzICsgc2VjdG9yLmNlbnRlci54ICsgbGFiZWxEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3goYm94WCArIGJveC53aWR0aCgpLCBib3hZLCBib3hYLCBib3hZKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbE9wdGlvbnMuYWxpZ24gIT09IENJUkNMRSkge1xuICAgICAgICAgICAgICAgICAgICBib3hYID0gc2VjdG9yLmNlbnRlci54IC0gc2VjdG9yLnJhZGl1cyAtIGxhYmVsRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhYmVsLnJlZmxvdyhuZXcgQm94KGJveFggLSBib3gud2lkdGgoKSwgYm94WSwgYm94WCwgYm94WSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib3hZICs9IGJveC5oZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IGNvbm5lY3RvcnMgfSwgcG9pbnRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNwYWNlID0gNDtcblxuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICB0aGlzLl9jb25uZWN0b3JMaW5lcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHsgc2VjdG9yLCBsYWJlbCB9ID0gc2VnbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdG9yc0NvbG9yID0gKHNlZ21lbnQub3B0aW9ucy5jb25uZWN0b3JzIHx8IHt9KS5jb2xvciB8fCBjb25uZWN0b3JzLmNvbG9yO1xuXG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0b3JMaW5lID0gbmV3IGRyYXcuUGF0aCh7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbm5lY3RvcnNDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjb25uZWN0b3JzLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRkFERUlOLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsYXk6IHNlZ21lbnQuYW5pbWF0aW9uRGVsYXlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsLm9wdGlvbnMucG9zaXRpb24gPT09IE9VVFNJREVfRU5EKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJveCA9IGxhYmVsLmJveDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyUG9pbnQgPSBzZWN0b3IuY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBzZWN0b3IucG9pbnQoYW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWlkZGxlID0gbmV3IFBvaW50KGJveC54MSwgYm94LmNlbnRlcigpLnkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3IsIGVuZCwgY3Jvc3Npbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzZWN0b3IuY2xvbmUoKS5leHBhbmQoY29ubmVjdG9ycy5wYWRkaW5nKS5wb2ludChhbmdsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubW92ZVRvKHN0YXJ0LngsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBFeHRyYWN0IGludG8gYSBtZXRob2QgdG8gcmVtb3ZlIGR1cGxpY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbC5vcmllbnRhdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IG5ldyBQb2ludChib3gueDEgLSBjb25uZWN0b3JzLnBhZGRpbmcsIGJveC5jZW50ZXIoKS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nID0gaW50ZXJzZWN0aW9uKGNlbnRlclBvaW50LCBzdGFydCwgbWlkZGxlLCBlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkZGxlID0gbmV3IFBvaW50KGVuZC54IC0gc3BhY2UsIGVuZC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nID0gY3Jvc3NpbmcgfHwgbWlkZGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcueCA9IE1hdGgubWluKGNyb3NzaW5nLngsIG1pZGRsZS54KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRJbkNpcmNsZShjcm9zc2luZywgc2VjdG9yLmNlbnRlciwgc2VjdG9yLnJhZGl1cyArIHNwYWNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzaW5nLnggPCBzZWN0b3IuY2VudGVyLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzciA9IHNlY3Rvci5jZW50ZXIueCArIHNlY3Rvci5yYWRpdXMgKyBzcGFjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5vcHRpb25zLmxhYmVscy5hbGlnbiAhPT0gQ09MVU1OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzciA8IG1pZGRsZS54KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhzciwgc3RhcnQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhzdGFydC54ICsgc3BhY2UgKiAyLCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHNyLCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8obWlkZGxlLngsIGVuZC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcueSA9IGVuZC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKGNyb3NzaW5nLngsIGNyb3NzaW5nLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gbmV3IFBvaW50KGJveC54MiArIGNvbm5lY3RvcnMucGFkZGluZywgYm94LmNlbnRlcigpLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBpbnRlcnNlY3Rpb24oY2VudGVyUG9pbnQsIHN0YXJ0LCBtaWRkbGUsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRkbGUgPSBuZXcgUG9pbnQoZW5kLnggKyBzcGFjZSwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcgPSBjcm9zc2luZyB8fCBtaWRkbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy54ID0gTWF0aC5tYXgoY3Jvc3NpbmcueCwgbWlkZGxlLngpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb2ludEluQ2lyY2xlKGNyb3NzaW5nLCBzZWN0b3IuY2VudGVyLCBzZWN0b3IucmFkaXVzICsgc3BhY2UpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Jvc3NpbmcueCA+IHNlY3Rvci5jZW50ZXIueCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyID0gc2VjdG9yLmNlbnRlci54IC0gc2VjdG9yLnJhZGl1cyAtIHNwYWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50Lm9wdGlvbnMubGFiZWxzLmFsaWduICE9PSBDT0xVTU4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNyID4gbWlkZGxlLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHNyLCBzdGFydC55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvckxpbmUubGluZVRvKHN0YXJ0LnggLSBzcGFjZSAqIDIsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oc3IsIHN0YXJ0LnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhtaWRkbGUueCwgZW5kLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcm9zc2luZy55ID0gZW5kLnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTGluZS5saW5lVG8oY3Jvc3NpbmcueCwgY3Jvc3NpbmcueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JMaW5lLmxpbmVUbyhlbmQueCwgZW5kLnkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RvckxpbmVzLnB1c2goY29ubmVjdG9yTGluZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsLmFwcGVuZChjb25uZWN0b3JMaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJWaXN1YWwoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlclZpc3VhbCgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VyaWVzLmZpbmQob3B0aW9ucyA9PiBvcHRpb25zLmF1dG9GaXQpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRCb3ggPSB0aGlzLnRhcmdldEJveDtcbiAgICAgICAgICAgIGNvbnN0IHBpZUNlbnRlciA9IHRoaXMuYm94LmNlbnRlcigpO1xuICAgICAgICAgICAgY29uc3QgYmJveCA9IHRoaXMudmlzdWFsLmJib3goKTtcbiAgICAgICAgICAgIGlmICghYmJveCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYmJveEJvdHRvbSA9IGJib3guYm90dG9tUmlnaHQoKTtcblxuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAocGllQ2VudGVyLnkgLSB0YXJnZXRCb3gueTEpIC8gKHBpZUNlbnRlci55IC0gYmJveC5vcmlnaW4ueSksXG4gICAgICAgICAgICAgICAgKHRhcmdldEJveC55MiAtIHBpZUNlbnRlci55KSAvIChiYm94Qm90dG9tLnkgLSBwaWVDZW50ZXIueSksXG4gICAgICAgICAgICAgICAgKHBpZUNlbnRlci54IC0gdGFyZ2V0Qm94LngxKSAvIChwaWVDZW50ZXIueCAtIGJib3gub3JpZ2luLngpLFxuICAgICAgICAgICAgICAgICh0YXJnZXRCb3gueDIgLSBwaWVDZW50ZXIueCkgLyAoYmJveEJvdHRvbS54IC0gcGllQ2VudGVyLngpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoc2NhbGUgPCAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWwudHJhbnNmb3JtKGdlb21ldHJ5LnRyYW5zZm9ybSgpLnNjYWxlKHNjYWxlLCBzY2FsZSwgWyBwaWVDZW50ZXIueCwgcGllQ2VudGVyLnkgXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGFiZWxDb21wYXJhdG9yKHJldmVyc2UpIHtcbiAgICAgICAgY29uc3QgcmV2ZXJzZVZhbHVlID0gcmV2ZXJzZSA/IC0xIDogMTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSAoYS5wYXJlbnQuc2VjdG9yLm1pZGRsZSgpICsgMjcwKSAlIDM2MDtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IChiLnBhcmVudC5zZWN0b3IubWlkZGxlKCkgKyAyNzApICUgMzYwO1xuICAgICAgICAgICAgcmV0dXJuIChmaXJzdCAtIHNlY29uZCkgKiByZXZlcnNlVmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaEFsaWduTGFiZWwob3JpZ2luYWxYLCBzZWN0b3IsIHkxLCB5MiwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgcmFkaXVzLCBjZW50ZXI6IHsgeDogY3gsIHk6IGN5IH0gfSA9IHNlY3RvcjtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKE1hdGguYWJzKGN5IC0geTEpLCBNYXRoLmFicyhjeSAtIHkyKSk7XG5cbiAgICAgICAgaWYgKHQgPiByYWRpdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3ggKyBNYXRoLnNxcnQoKHJhZGl1cyAqIHJhZGl1cykgLSAodCAqIHQpKSAqIChkaXJlY3Rpb24gPyAxIDogLTEpO1xuICAgIH1cblxuICAgIHBvaW50SW5DaXJjbGUocG9pbnQsIGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdyhjZW50ZXIueCAtIHBvaW50LngsIDIpICsgTWF0aC5wb3coY2VudGVyLnkgLSBwb2ludC55LCAyKSA8IE1hdGgucG93KHJhZGl1cywgMik7XG4gICAgfVxuXG4gICAgZm9ybWF0UG9pbnRWYWx1ZShwb2ludCwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhmb3JtYXQsIHBvaW50LnZhbHVlKTtcbiAgICB9XG5cbiAgICBhbmltYXRpb25EZWxheShjYXRlZ29yeUluZGV4KSB7XG4gICAgICAgIHJldHVybiBjYXRlZ29yeUluZGV4ICogUElFX1NFQ1RPUl9BTklNX0RFTEFZO1xuICAgIH1cblxuICAgIHN0YWNrUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oYTEsIGEyLCBiMSwgYjIpIHtcbiAgICBjb25zdCB1YXQgPSAoYjIueCAtIGIxLngpICogKGExLnkgLSBiMS55KSAtIChiMi55IC0gYjEueSkgKiAoYTEueCAtIGIxLngpO1xuICAgIGNvbnN0IHViID0gKGIyLnkgLSBiMS55KSAqIChhMi54IC0gYTEueCkgLSAoYjIueCAtIGIxLngpICogKGEyLnkgLSBhMS55KTtcblxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHViICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IHVhID0gKHVhdCAvIHViKTtcblxuICAgICAgICByZXN1bHQgPSBuZXcgUG9pbnQoXG4gICAgICAgICAgICBhMS54ICsgdWEgKiAoYTIueCAtIGExLngpLFxuICAgICAgICAgICAgYTEueSArIHVhICogKGEyLnkgLSBhMS55KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBpZUNoYXJ0LCB7XG4gICAgc3RhcnRBbmdsZTogOTAsXG4gICAgY29ubmVjdG9yczoge1xuICAgICAgICB3aWR0aDogMixcbiAgICAgICAgY29sb3I6IFwiIzkzOTM5M1wiLFxuICAgICAgICBwYWRkaW5nOiA4XG4gICAgfSxcbiAgICBpbmFjdGl2ZUl0ZW1zOiB7XG4gICAgICAgIG1hcmtlcnM6IHt9LFxuICAgICAgICBsYWJlbHM6IHt9XG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoUGllQ2hhcnQucHJvdG90eXBlLCBQaWVDaGFydE1peGluKTtcblxuUGllQ2hhcnQucHJvdG90eXBlLmlzU3RhY2tSb290ID0gdHJ1ZTtcblxuZXhwb3J0IGRlZmF1bHQgUGllQ2hhcnQ7XG4iLCJpbXBvcnQgUGxvdEFyZWFCYXNlIGZyb20gJy4vcGxvdGFyZWEtYmFzZSc7XG5pbXBvcnQgUGllQ2hhcnQgZnJvbSAnLi4vcGllLWNoYXJ0L3BpZS1jaGFydCc7XG5cbmltcG9ydCB7IGFwcGVuZCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFBpZVBsb3RBcmVhIGV4dGVuZHMgUGxvdEFyZWFCYXNlIHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUGllQ2hhcnQodGhpcy5zZXJpZXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBpZUNoYXJ0KHNlcmllcykge1xuICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IHNlcmllc1swXTtcbiAgICAgICAgY29uc3QgcGllQ2hhcnQgPSBuZXcgUGllQ2hhcnQodGhpcywge1xuICAgICAgICAgICAgc2VyaWVzOiBzZXJpZXMsXG4gICAgICAgICAgICBwYWRkaW5nOiBmaXJzdFNlcmllcy5wYWRkaW5nLFxuICAgICAgICAgICAgc3RhcnRBbmdsZTogZmlyc3RTZXJpZXMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGNvbm5lY3RvcnM6IGZpcnN0U2VyaWVzLmNvbm5lY3RvcnMsXG4gICAgICAgICAgICBsZWdlbmQ6IHRoaXMub3B0aW9ucy5sZWdlbmRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChwaWVDaGFydCk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgICAgICBhcHBlbmQodGhpcy5vcHRpb25zLmxlZ2VuZC5pdGVtcywgY2hhcnQubGVnZW5kSXRlbXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGllUGxvdEFyZWE7IiwiaW1wb3J0IFBpZVNlZ21lbnQgZnJvbSAnLi4vcGllLWNoYXJ0L3BpZS1zZWdtZW50JztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBQSUUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBTaGFwZUJ1aWxkZXIsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRG9udXRTZWdtZW50IGV4dGVuZHMgUGllU2VnbWVudCB7XG4gICAgcmVmbG93TGFiZWwoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyBsYWJlbHM6IGxhYmVsc09wdGlvbnMgfSwgbGFiZWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlY3RvciA9IHRoaXMuc2VjdG9yLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gc2VjdG9yLm1pZGRsZSgpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCk7XG4gICAgICAgICAgICBpZiAobGFiZWxzT3B0aW9ucy5wb3NpdGlvbiA9PT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgc2VjdG9yLnJhZGl1cyAtPSAoc2VjdG9yLnJhZGl1cyAtIHNlY3Rvci5pbm5lclJhZGl1cykgLyAyO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbHAgPSBzZWN0b3IucG9pbnQoYW5nbGUpO1xuXG4gICAgICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3gobHAueCwgbHAueSAtIGxhYmVsSGVpZ2h0IC8gMiwgbHAueCwgbHAueSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdXBlci5yZWZsb3dMYWJlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChzZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFNoYXBlQnVpbGRlci5jdXJyZW50LmNyZWF0ZVJpbmcoc2VjdG9yLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKERvbnV0U2VnbWVudCwge1xuICAgIG92ZXJsYXk6IHtcbiAgICAgICAgZ3JhZGllbnQ6IFwicm91bmRlZEdsYXNzXCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUElFXG4gICAgfVxufSk7XG5cbmRlZXBFeHRlbmQoRG9udXRTZWdtZW50LnByb3RvdHlwZSwgUG9pbnRFdmVudHNNaXhpbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgRG9udXRTZWdtZW50O1xuIiwiaW1wb3J0IFBpZUNoYXJ0IGZyb20gJy4uL3BpZS1jaGFydC9waWUtY2hhcnQnO1xuaW1wb3J0IERvbnV0U2VnbWVudCBmcm9tICcuL2RvbnV0LXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQsIHNldERlZmF1bHRPcHRpb25zLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNvbnN0IERPTlVUX1NFQ1RPUl9BTklNX0RFTEFZID0gNTA7XG5cbmNsYXNzIERvbnV0Q2hhcnQgZXh0ZW5kcyBQaWVDaGFydCB7XG4gICAgYWRkVmFsdWUodmFsdWUsIHNlY3RvciwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgZmllbGRzLnNlcmllcywgeyBpbmRleDogZmllbGRzLmluZGV4IH0pO1xuICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhzZWdtZW50T3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMZWdlbmRJdGVtKHZhbHVlLCBzZWdtZW50T3B0aW9ucywgZmllbGRzKTtcblxuICAgICAgICBpZiAoIXZhbHVlIHx8IGZpZWxkcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBEb251dFNlZ21lbnQodmFsdWUsIHNlY3Rvciwgc2VnbWVudE9wdGlvbnMpO1xuXG4gICAgICAgIE9iamVjdC5hc3NpZ24oc2VnbWVudCwgZmllbGRzKTtcbiAgICAgICAgdGhpcy5hcHBlbmQoc2VnbWVudCk7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuXG4gICAgcmVmbG93KHRhcmdldEJveCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSB0YXJnZXRCb3guY2xvbmUoKTtcbiAgICAgICAgY29uc3Qgc3BhY2UgPSA1O1xuICAgICAgICBjb25zdCBtaW5XaWR0aCA9IE1hdGgubWluKGJveC53aWR0aCgpLCBib3guaGVpZ2h0KCkpO1xuICAgICAgICBjb25zdCBoYWxmTWluV2lkdGggPSBtaW5XaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRQYWRkaW5nID0gbWluV2lkdGggLSBtaW5XaWR0aCAqIDAuODU7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBjb25zdCBzZXJpZXNDb3VudCA9IHNlcmllcy5sZW5ndGg7XG5cbiAgICAgICAgbGV0IHBhZGRpbmcgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnBhZGRpbmcsIGRlZmF1bHRQYWRkaW5nKTtcbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgPiBoYWxmTWluV2lkdGggLSBzcGFjZSA/IGhhbGZNaW5XaWR0aCAtIHNwYWNlIDogcGFkZGluZztcblxuICAgICAgICBsZXQgdG90YWxTaXplID0gaGFsZk1pbldpZHRoIC0gcGFkZGluZztcbiAgICAgICAgbGV0IHNlcmllc1dpdGhvdXRTaXplID0gMDtcbiAgICAgICAgbGV0IGhvbGVTaXplO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQoY3VycmVudFNlcmllcy5ob2xlU2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9sZVNpemUgPSBjdXJyZW50U2VyaWVzLmhvbGVTaXplO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbFNpemUgLT0gY3VycmVudFNlcmllcy5ob2xlU2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKGN1cnJlbnRTZXJpZXMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICB0b3RhbFNpemUgLT0gY3VycmVudFNlcmllcy5zaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNXaXRob3V0U2l6ZSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChjdXJyZW50U2VyaWVzLm1hcmdpbikgJiYgaSAhPT0gc2VyaWVzQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgICAgdG90YWxTaXplIC09IGN1cnJlbnRTZXJpZXMubWFyZ2luO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKGhvbGVTaXplKSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNpemUgPSAoaGFsZk1pbldpZHRoIC0gcGFkZGluZykgLyAoc2VyaWVzQ291bnQgKyAwLjc1KTtcbiAgICAgICAgICAgIGhvbGVTaXplID0gY3VycmVudFNpemUgKiAwLjc1O1xuICAgICAgICAgICAgdG90YWxTaXplIC09IGhvbGVTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlubmVyUmFkaXVzID0gaG9sZVNpemU7XG4gICAgICAgIGxldCBtYXJnaW4gPSAwO1xuICAgICAgICBsZXQgc2l6ZSwgcmFkaXVzO1xuXG4gICAgICAgIHRoaXMuc2VyaWVzQ29uZmlncyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNlcmllcyA9IHNlcmllc1tpXTtcbiAgICAgICAgICAgIHNpemUgPSB2YWx1ZU9yRGVmYXVsdChjdXJyZW50U2VyaWVzLnNpemUsIHRvdGFsU2l6ZSAvIHNlcmllc1dpdGhvdXRTaXplKTtcbiAgICAgICAgICAgIGlubmVyUmFkaXVzICs9IG1hcmdpbjtcbiAgICAgICAgICAgIHJhZGl1cyA9IGlubmVyUmFkaXVzICsgc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc2VyaWVzQ29uZmlncy5wdXNoKHsgaW5uZXJSYWRpdXM6IGlubmVyUmFkaXVzLCByYWRpdXM6IHJhZGl1cyB9KTtcbiAgICAgICAgICAgIG1hcmdpbiA9IGN1cnJlbnRTZXJpZXMubWFyZ2luIHx8IDA7XG4gICAgICAgICAgICBpbm5lclJhZGl1cyA9IHJhZGl1cztcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnJlZmxvdyh0YXJnZXRCb3gpO1xuICAgIH1cblxuICAgIGFuaW1hdGlvbkRlbGF5KGNhdGVnb3J5SW5kZXgsIHNlcmllc0luZGV4LCBzZXJpZXNDb3VudCkge1xuICAgICAgICByZXR1cm4gY2F0ZWdvcnlJbmRleCAqIERPTlVUX1NFQ1RPUl9BTklNX0RFTEFZICtcbiAgICAgICAgICAgIChJTklUSUFMX0FOSU1BVElPTl9EVVJBVElPTiAqIChzZXJpZXNJbmRleCArIDEpIC8gKHNlcmllc0NvdW50ICsgMSkpO1xuICAgIH1cbn1cblxuXG5zZXREZWZhdWx0T3B0aW9ucyhEb251dENoYXJ0LCB7XG4gICAgc3RhcnRBbmdsZTogOTAsXG4gICAgY29ubmVjdG9yczoge1xuICAgICAgICB3aWR0aDogMixcbiAgICAgICAgY29sb3I6IFwiIzkzOTM5M1wiLFxuICAgICAgICBwYWRkaW5nOiA4XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IERvbnV0Q2hhcnQ7IiwiaW1wb3J0IFBpZVBsb3RBcmVhIGZyb20gJy4vcGllLXBsb3RhcmVhJztcbmltcG9ydCBEb251dENoYXJ0IGZyb20gJy4uL2RvbnV0LWNoYXJ0L2RvbnV0LWNoYXJ0JztcblxuY2xhc3MgRG9udXRQbG90QXJlYSBleHRlbmRzIFBpZVBsb3RBcmVhIHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlRG9udXRDaGFydCh0aGlzLnNlcmllcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRG9udXRDaGFydChzZXJpZXMpIHtcbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGNvbnN0IGRvbnV0Q2hhcnQgPSBuZXcgRG9udXRDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIHBhZGRpbmc6IGZpcnN0U2VyaWVzLnBhZGRpbmcsXG4gICAgICAgICAgICBjb25uZWN0b3JzOiBmaXJzdFNlcmllcy5jb25uZWN0b3JzLFxuICAgICAgICAgICAgbGVnZW5kOiB0aGlzLm9wdGlvbnMubGVnZW5kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoZG9udXRDaGFydCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb251dFBsb3RBcmVhOyIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBBeGlzR3JvdXBSYW5nZVRyYWNrZXIgZnJvbSAnLi4vYXhpcy1ncm91cC1yYW5nZS10cmFja2VyJztcbmltcG9ydCB7IFJhZGFyTG9nYXJpdGhtaWNBeGlzLCBSYWRhck51bWVyaWNBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IExPR0FSSVRITUlDIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuaW1wb3J0IHsgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBZLCBDRU5URVIgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcblxuY29uc3QgREVGQVVMVF9QQURESU5HID0gMC4xNTtcblxuY2xhc3MgUG9sYXJQbG90QXJlYUJhc2UgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgICAgIHRoaXMudmFsdWVBeGlzUmFuZ2VUcmFja2VyID0gbmV3IEF4aXNHcm91cFJhbmdlVHJhY2tlcigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5hZGRUb0xlZ2VuZCh0aGlzLnNlcmllcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlUG9sYXJBeGlzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcnRzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlVmFsdWVBeGlzKCk7XG4gICAgfVxuXG4gICAgYWxpZ25BeGVzKCkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy52YWx1ZUF4aXM7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5yYW5nZSgpO1xuICAgICAgICBjb25zdCBjcm9zc2luZ1ZhbHVlID0gYXhpcy5vcHRpb25zLnJldmVyc2UgPyByYW5nZS5tYXggOiByYW5nZS5taW47XG4gICAgICAgIGNvbnN0IHNsb3QgPSBheGlzLmdldFNsb3QoY3Jvc3NpbmdWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucG9sYXJBeGlzLmdldFNsb3QoMCkuY2VudGVyO1xuICAgICAgICBjb25zdCBheGlzQm94ID0gYXhpcy5ib3gudHJhbnNsYXRlKFxuICAgICAgICAgICAgY2VudGVyLnggLSBzbG90LngxLFxuICAgICAgICAgICAgY2VudGVyLnkgLSBzbG90LnkxXG4gICAgICAgICk7XG5cbiAgICAgICAgYXhpcy5yZWZsb3coYXhpc0JveCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmFsdWVBeGlzKCkge1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXI7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSYW5nZSA9IHRyYWNrZXIucXVlcnkoKTtcbiAgICAgICAgY29uc3QgYXhpc09wdGlvbnMgPSB0aGlzLnZhbHVlQXhpc09wdGlvbnMoe1xuICAgICAgICAgICAgcm91bmRUb01ham9yVW5pdDogZmFsc2UsXG4gICAgICAgICAgICB6SW5kZXg6IC0xXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgYXhpc1R5cGUsIGF4aXNEZWZhdWx0UmFuZ2U7XG5cbiAgICAgICAgaWYgKGF4aXNPcHRpb25zLnR5cGUgPT09IExPR0FSSVRITUlDKSB7XG4gICAgICAgICAgICBheGlzVHlwZSA9IFJhZGFyTG9nYXJpdGhtaWNBeGlzO1xuICAgICAgICAgICAgYXhpc0RlZmF1bHRSYW5nZSA9IHsgbWluOiAwLjEsIG1heDogMSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXhpc1R5cGUgPSBSYWRhck51bWVyaWNBeGlzO1xuICAgICAgICAgICAgYXhpc0RlZmF1bHRSYW5nZSA9IHsgbWluOiAwLCBtYXg6IDEgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJhbmdlID0gdHJhY2tlci5xdWVyeShuYW1lKSB8fCBkZWZhdWx0UmFuZ2UgfHwgYXhpc0RlZmF1bHRSYW5nZTtcblxuICAgICAgICBpZiAocmFuZ2UgJiYgZGVmYXVsdFJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGRlZmF1bHRSYW5nZS5taW4pO1xuICAgICAgICAgICAgcmFuZ2UubWF4ID0gTWF0aC5tYXgocmFuZ2UubWF4LCBkZWZhdWx0UmFuZ2UubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbHVlQXhpcyA9IG5ldyBheGlzVHlwZShcbiAgICAgICAgICAgIHJhbmdlLm1pbiwgcmFuZ2UubWF4LFxuICAgICAgICAgICAgYXhpc09wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudmFsdWVBeGlzID0gdmFsdWVBeGlzO1xuICAgICAgICB0aGlzLmFwcGVuZEF4aXModmFsdWVBeGlzKTtcbiAgICB9XG5cbiAgICByZWZsb3dBeGVzKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgcGxvdEFyZWE6IG9wdGlvbnMgfSwgdmFsdWVBeGlzLCBwb2xhckF4aXMsIGJveCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSBNYXRoLm1pbihib3gud2lkdGgoKSwgYm94LmhlaWdodCgpKSAqIERFRkFVTFRfUEFERElORztcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGdldFNwYWNpbmcob3B0aW9ucy5wYWRkaW5nIHx8IHt9LCBkZWZhdWx0UGFkZGluZyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3ggPSBib3guY2xvbmUoKS51bnBhZChwYWRkaW5nKTtcbiAgICAgICAgY29uc3QgYXhpc0JveCA9IHBhZGRpbmdCb3guY2xvbmUoKTtcblxuICAgICAgICBheGlzQm94LnkyID0gYXhpc0JveC55MSArIE1hdGgubWluKGF4aXNCb3gud2lkdGgoKSwgYXhpc0JveC5oZWlnaHQoKSk7XG4gICAgICAgIGF4aXNCb3guYWxpZ24ocGFkZGluZ0JveCwgWSwgQ0VOVEVSKTtcblxuICAgICAgICBjb25zdCB2YWx1ZUF4aXNCb3ggPSBheGlzQm94LmNsb25lKCkuc2hyaW5rKDAsIGF4aXNCb3guaGVpZ2h0KCkgLyAyKTtcblxuICAgICAgICBwb2xhckF4aXMucmVmbG93KGF4aXNCb3gpO1xuICAgICAgICB2YWx1ZUF4aXMucmVmbG93KHZhbHVlQXhpc0JveCk7XG4gICAgICAgIGNvbnN0IGhlaWdodERpZmYgPSB2YWx1ZUF4aXMubGluZUJveCgpLmhlaWdodCgpIC0gdmFsdWVBeGlzLmJveC5oZWlnaHQoKTtcbiAgICAgICAgdmFsdWVBeGlzLnJlZmxvdyh2YWx1ZUF4aXMuYm94LnVucGFkKHsgdG9wOiBoZWlnaHREaWZmIH0pKTtcblxuICAgICAgICB0aGlzLmF4aXNCb3ggPSBheGlzQm94O1xuICAgICAgICB0aGlzLmFsaWduQXhlcyhheGlzQm94KTtcbiAgICB9XG5cbiAgICBiYWNrZ3JvdW5kQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3g7XG4gICAgfVxuXG4gICAgZGV0YWNoTGFiZWxzKCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJQbG90QXJlYUJhc2U7XG4iLCJpbXBvcnQgU2NhdHRlckNoYXJ0IGZyb20gJy4uL3NjYXR0ZXItY2hhcnRzL3NjYXR0ZXItY2hhcnQnO1xuXG5pbXBvcnQgeyBQb2ludCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJTY2F0dGVyQ2hhcnQgZXh0ZW5kcyBTY2F0dGVyQ2hhcnQge1xuICAgIHBvaW50U2xvdChzbG90WCwgc2xvdFkpIHtcbiAgICAgICAgY29uc3QgdmFsdWVSYWRpdXMgPSBzbG90WC5jZW50ZXIueSAtIHNsb3RZLnkxO1xuICAgICAgICBjb25zdCBzbG90ID0gUG9pbnQub25DaXJjbGUoc2xvdFguY2VudGVyLCBzbG90WC5zdGFydEFuZ2xlLCB2YWx1ZVJhZGl1cyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCb3goc2xvdC54LCBzbG90LnksIHNsb3QueCwgc2xvdC55KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyU2NhdHRlckNoYXJ0LCB7XG4gICAgY2xpcDogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhclNjYXR0ZXJDaGFydDsiLCJpbXBvcnQgU2NhdHRlckxpbmVDaGFydCBmcm9tICcuLi9zY2F0dGVyLWNoYXJ0cy9zY2F0dGVyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFBvbGFyU2NhdHRlckNoYXJ0IGZyb20gJy4uL3BvbGFyLXNjYXR0ZXItY2hhcnQvcG9sYXItc2NhdHRlci1jaGFydCc7XG5cbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJMaW5lQ2hhcnQgZXh0ZW5kcyBTY2F0dGVyTGluZUNoYXJ0IHtcbn1cblxuUG9sYXJMaW5lQ2hhcnQucHJvdG90eXBlLnBvaW50U2xvdCA9IFBvbGFyU2NhdHRlckNoYXJ0LnByb3RvdHlwZS5wb2ludFNsb3Q7XG5cbnNldERlZmF1bHRPcHRpb25zKFBvbGFyTGluZUNoYXJ0LCB7XG4gICAgY2xpcDogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhckxpbmVDaGFydDsiLCJpbXBvcnQgU3BsaW5lQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9zcGxpbmUtYXJlYS1zZWdtZW50JztcbmltcG9ydCB7IEN1cnZlUHJvY2Vzc29yIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmNsYXNzIFNwbGluZVBvbGFyQXJlYVNlZ21lbnQgZXh0ZW5kcyBTcGxpbmVBcmVhU2VnbWVudCB7XG4gICAgZmlsbFRvQXhlcyhmaWxsUGF0aCkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9wb2xhckF4aXNDZW50ZXIoKTtcbiAgICAgICAgZmlsbFBhdGgubGluZVRvKGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgfVxuXG4gICAgX3BvbGFyQXhpc0NlbnRlcigpIHtcbiAgICAgICAgY29uc3QgcG9sYXJBeGlzID0gdGhpcy5wYXJlbnQucGxvdEFyZWEucG9sYXJBeGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBwb2xhckF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cblxuICAgIHN0cm9rZVNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9zdHJva2VTZWdtZW50cztcblxuICAgICAgICBpZiAoIXNlZ21lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLl9wb2xhckF4aXNDZW50ZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnZlUHJvY2Vzc29yID0gbmV3IEN1cnZlUHJvY2Vzc29yKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVQb2ludHMgPSB0aGlzLnBvaW50cygpO1xuXG4gICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2goY2VudGVyKTtcbiAgICAgICAgICAgIHNlZ21lbnRzID0gdGhpcy5fc3Ryb2tlU2VnbWVudHMgPSBjdXJ2ZVByb2Nlc3Nvci5wcm9jZXNzKGxpbmVQb2ludHMpO1xuICAgICAgICAgICAgc2VnbWVudHMucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVQb2xhckFyZWFTZWdtZW50OyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlb20gfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgQXJlYVNlZ21lbnQgZnJvbSAnLi4vYXJlYS1jaGFydC9hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBQb2xhckFyZWFTZWdtZW50IGV4dGVuZHMgQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoZmlsbFBhdGgpIHtcbiAgICAgICAgY29uc3QgcG9sYXJBeGlzID0gdGhpcy5wYXJlbnQucGxvdEFyZWEucG9sYXJBeGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBwb2xhckF4aXMuYm94LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBjZW50ZXJTZWdtZW50ID0gbmV3IGdlb20uU2VnbWVudChbIGNlbnRlci54LCBjZW50ZXIueSBdKTtcblxuICAgICAgICBmaWxsUGF0aC5zZWdtZW50cy51bnNoaWZ0KGNlbnRlclNlZ21lbnQpO1xuICAgICAgICBmaWxsUGF0aC5zZWdtZW50cy5wdXNoKGNlbnRlclNlZ21lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9sYXJBcmVhU2VnbWVudDsiLCJpbXBvcnQgUG9sYXJMaW5lQ2hhcnQgZnJvbSAnLi4vcG9sYXItbGluZS1jaGFydC9wb2xhci1saW5lLWNoYXJ0JztcbmltcG9ydCBTcGxpbmVQb2xhckFyZWFTZWdtZW50IGZyb20gJy4vc3BsaW5lLXBvbGFyLWFyZWEtc2VnbWVudCc7XG5pbXBvcnQgUG9sYXJBcmVhU2VnbWVudCBmcm9tICcuL3BvbGFyLWFyZWEtc2VnbWVudCc7XG5cbmltcG9ydCB7IFNNT09USCwgSU5URVJQT0xBVEUsIFpFUk8sIEdBUCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBoYXNWYWx1ZSBmcm9tICcuLi91dGlscy9oYXMtdmFsdWUnO1xuXG5jbGFzcyBQb2xhckFyZWFDaGFydCBleHRlbmRzIFBvbGFyTGluZUNoYXJ0IHtcbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gKGN1cnJlbnRTZXJpZXMubGluZSB8fCB7fSkuc3R5bGU7XG4gICAgICAgIGxldCBzZWdtZW50O1xuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFNwbGluZVBvbGFyQXJlYVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VnbWVudCA9IG5ldyBQb2xhckFyZWFTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG5cbiAgICBjcmVhdGVNaXNzaW5nVmFsdWUodmFsdWUsIG1pc3NpbmdWYWx1ZXMpIHtcbiAgICAgICAgbGV0IG1pc3NpbmdWYWx1ZTtcblxuICAgICAgICBpZiAoaGFzVmFsdWUodmFsdWUueCkgJiYgbWlzc2luZ1ZhbHVlcyAhPT0gSU5URVJQT0xBVEUpIHtcbiAgICAgICAgICAgIG1pc3NpbmdWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICB4OiB2YWx1ZS54LFxuICAgICAgICAgICAgICAgIHk6IHZhbHVlLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobWlzc2luZ1ZhbHVlcyA9PT0gWkVSTykge1xuICAgICAgICAgICAgICAgIG1pc3NpbmdWYWx1ZS55ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtaXNzaW5nVmFsdWU7XG4gICAgfVxuXG4gICAgc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5taXNzaW5nVmFsdWVzIHx8IFpFUk87XG4gICAgfVxuXG4gICAgX2hhc01pc3NpbmdWYWx1ZXNHYXAoKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IHRoaXMub3B0aW9ucy5zZXJpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VyaWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlcmllc01pc3NpbmdWYWx1ZXMoc2VyaWVzW2lkeF0pID09PSBHQVApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNvcnRQb2ludHMocG9pbnRzKSB7XG4gICAgICAgIHBvaW50cy5zb3J0KHhDb21wYXJlcik7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hhc01pc3NpbmdWYWx1ZXNHYXAoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKHZhbHVlLnkpICYmIHRoaXMuc2VyaWVzTWlzc2luZ1ZhbHVlcyhwb2ludC5zZXJpZXMpID09PSBHQVApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwb2ludHNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB4Q29tcGFyZXIoYSwgYikge1xuICAgIHJldHVybiBhLnZhbHVlLnggLSBiLnZhbHVlLng7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGFyQXJlYUNoYXJ0OyIsImltcG9ydCBQb2xhclBsb3RBcmVhQmFzZSBmcm9tICcuL3BvbGFyLXBsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IFBvbGFyTGluZUNoYXJ0IGZyb20gJy4uL3BvbGFyLWxpbmUtY2hhcnQvcG9sYXItbGluZS1jaGFydCc7XG5pbXBvcnQgUG9sYXJTY2F0dGVyQ2hhcnQgZnJvbSAnLi4vcG9sYXItc2NhdHRlci1jaGFydC9wb2xhci1zY2F0dGVyLWNoYXJ0JztcbmltcG9ydCBQb2xhckFyZWFDaGFydCBmcm9tICcuLi9wb2xhci1hcmVhLWNoYXJ0L3BvbGFyLWFyZWEtY2hhcnQnO1xuaW1wb3J0IFBsb3RBcmVhRXZlbnRzTWl4aW4gZnJvbSAnLi4vbWl4aW5zL3Bsb3RhcmVhLWV2ZW50cy1taXhpbic7XG5cbmltcG9ydCB7IFBvbGFyQXhpcywgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcblxuaW1wb3J0IHsgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBmaWx0ZXJTZXJpZXNCeVR5cGUgZnJvbSAnLi4vdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlJztcblxuaW1wb3J0IHsgQVJDIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBldmVudEVsZW1lbnQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUG9sYXJQbG90QXJlYSBleHRlbmRzIFBvbGFyUGxvdEFyZWFCYXNlIHtcbiAgICBjcmVhdGVQb2xhckF4aXMoKSB7XG4gICAgICAgIGNvbnN0IHBvbGFyQXhpcyA9IG5ldyBQb2xhckF4aXModGhpcy5vcHRpb25zLnhBeGlzLCB0aGlzLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5wb2xhckF4aXMgPSBwb2xhckF4aXM7XG4gICAgICAgIHRoaXMuYXhpc1ggPSBwb2xhckF4aXM7XG4gICAgICAgIHRoaXMuYXBwZW5kQXhpcyhwb2xhckF4aXMpO1xuICAgIH1cblxuICAgIHZhbHVlQXhpc09wdGlvbnMoZGVmYXVsdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBFeHRlbmQoZGVmYXVsdHMsIHtcbiAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7IHR5cGU6IEFSQyB9LFxuICAgICAgICAgICAgbWlub3JHcmlkTGluZXM6IHsgdHlwZTogQVJDIH1cbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLnlBeGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWYWx1ZUF4aXMoKSB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZVZhbHVlQXhpcygpO1xuICAgICAgICB0aGlzLmF4aXNZID0gdGhpcy52YWx1ZUF4aXM7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgdGhpcy52YWx1ZUF4aXNSYW5nZVRyYWNrZXIudXBkYXRlKGNoYXJ0LnlBeGlzUmFuZ2VzKTtcblxuICAgICAgICBQbG90QXJlYUJhc2UucHJvdG90eXBlLmFwcGVuZENoYXJ0LmNhbGwodGhpcywgY2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJ0cygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHRoaXMuc2VyaWVzKTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMucGFuZXNbMF07XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMaW5lQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX0xJTkUgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVTY2F0dGVyQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX1NDQVRURVIgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFBPTEFSX0FSRUEgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGluZUNoYXJ0KHNlcmllcywgcGFuZSkge1xuICAgICAgICBpZiAoc2VyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGluZUNoYXJ0ID0gbmV3IFBvbGFyTGluZUNoYXJ0KHRoaXMsIHsgc2VyaWVzOiBzZXJpZXMgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChsaW5lQ2hhcnQsIHBhbmUpO1xuICAgIH1cblxuICAgIGNyZWF0ZVNjYXR0ZXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNjYXR0ZXJDaGFydCA9IG5ldyBQb2xhclNjYXR0ZXJDaGFydCh0aGlzLCB7IHNlcmllczogc2VyaWVzIH0pO1xuXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoc2NhdHRlckNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBcmVhQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcmVhQ2hhcnQgPSBuZXcgUG9sYXJBcmVhQ2hhcnQodGhpcywgeyBzZXJpZXM6IHNlcmllcyB9KTtcblxuICAgICAgICB0aGlzLmFwcGVuZENoYXJ0KGFyZWFDaGFydCwgcGFuZSk7XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoRXZlbnQoY2hhcnQsIGUsIGV2ZW50VHlwZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcG9pbnQgPSBuZXcgUG9pbnQoY29vcmRzLngsIGNvb3Jkcy55KTtcbiAgICAgICAgY29uc3QgeFZhbHVlID0gdGhpcy5heGlzWC5nZXRWYWx1ZShwb2ludCk7XG4gICAgICAgIGNvbnN0IHlWYWx1ZSA9IHRoaXMuYXhpc1kuZ2V0VmFsdWUocG9pbnQpO1xuXG4gICAgICAgIGlmICh4VmFsdWUgIT09IG51bGwgJiYgeVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjaGFydC50cmlnZ2VyKGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgICAgICB4OiB4VmFsdWUsXG4gICAgICAgICAgICAgICAgeTogeVZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNyb3NzaGFpcnMoKSB7fVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhQb2xhclBsb3RBcmVhLCB7XG4gICAgeEF4aXM6IHt9LFxuICAgIHlBeGlzOiB7fVxufSk7XG5cbmRlZXBFeHRlbmQoUG9sYXJQbG90QXJlYS5wcm90b3R5cGUsIFBsb3RBcmVhRXZlbnRzTWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBQb2xhclBsb3RBcmVhOyIsImltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi4vbGluZS1jaGFydC9saW5lLWNoYXJ0JztcbmltcG9ydCBTcGxpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvc3BsaW5lLXNlZ21lbnQnO1xuaW1wb3J0IExpbmVTZWdtZW50IGZyb20gJy4uL2xpbmUtY2hhcnQvbGluZS1zZWdtZW50JztcblxuaW1wb3J0IHsgUG9pbnQsIEJveCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBTTU9PVEggfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgbGFzdCB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmZ1bmN0aW9uIGdyb3VwQnlTZXJpZXNJeChzZWdtZW50cykge1xuICAgIGNvbnN0IHNlcmllc1NlZ21lbnRzID0gW107XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VnbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaWR4XTtcbiAgICAgICAgc2VyaWVzU2VnbWVudHNbc2VnbWVudC5zZXJpZXNJeF0gPSBzZXJpZXNTZWdtZW50c1tzZWdtZW50LnNlcmllc0l4XSB8fCBbXTtcbiAgICAgICAgc2VyaWVzU2VnbWVudHNbc2VnbWVudC5zZXJpZXNJeF0ucHVzaChzZWdtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VyaWVzU2VnbWVudHM7XG59XG5cbmNsYXNzIFJhZGFyTGluZUNoYXJ0IGV4dGVuZHMgTGluZUNoYXJ0IHtcblxuICAgIHBvaW50U2xvdChjYXRlZ29yeVNsb3QsIHZhbHVlU2xvdCkge1xuICAgICAgICBjb25zdCB2YWx1ZVJhZGl1cyA9IGNhdGVnb3J5U2xvdC5jZW50ZXIueSAtIHZhbHVlU2xvdC55MTtcbiAgICAgICAgY29uc3Qgc2xvdCA9IFBvaW50Lm9uQ2lyY2xlKGNhdGVnb3J5U2xvdC5jZW50ZXIsIGNhdGVnb3J5U2xvdC5taWRkbGUoKSwgdmFsdWVSYWRpdXMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgQm94KHNsb3QueCwgc2xvdC55LCBzbG90LngsIHNsb3QueSk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2VnbWVudHMoKSB7XG4gICAgICAgIHN1cGVyLnJlbmRlclNlZ21lbnRzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NlZ21lbnRzICYmIHRoaXMuX3NlZ21lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmllc1NlZ21lbnRzID0gZ3JvdXBCeVNlcmllc0l4KHRoaXMuX3NlZ21lbnRzKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc2VyaWVzU2VnbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRzID0gc2VyaWVzU2VnbWVudHNbaWR4XTtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5saW5lUG9pbnRzLnB1c2goc2VnbWVudHNbMF0ubGluZVBvaW50c1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudChsaW5lUG9pbnRzLCBjdXJyZW50U2VyaWVzLCBzZXJpZXNJeCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGN1cnJlbnRTZXJpZXMuc3R5bGU7XG4gICAgICAgIGxldCBwb2ludFR5cGU7XG5cbiAgICAgICAgaWYgKHN0eWxlID09PSBTTU9PVEgpIHtcbiAgICAgICAgICAgIHBvaW50VHlwZSA9IFNwbGluZVNlZ21lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludFR5cGUgPSBMaW5lU2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBuZXcgcG9pbnRUeXBlKGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4KTtcblxuICAgICAgICBpZiAobGluZVBvaW50cy5sZW5ndGggPT09IGN1cnJlbnRTZXJpZXMuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNlZ21lbnQub3B0aW9ucy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRhckxpbmVDaGFydCwge1xuICAgIGNsaXA6IGZhbHNlLFxuICAgIGxpbWl0UG9pbnRzOiBmYWxzZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyTGluZUNoYXJ0OyIsImltcG9ydCBTcGxpbmVBcmVhU2VnbWVudCBmcm9tICcuLi9hcmVhLWNoYXJ0L3NwbGluZS1hcmVhLXNlZ21lbnQnO1xuXG5jbGFzcyBTcGxpbmVSYWRhckFyZWFTZWdtZW50IGV4dGVuZHMgU3BsaW5lQXJlYVNlZ21lbnQge1xuICAgIGZpbGxUb0F4ZXMoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcGxpbmVSYWRhckFyZWFTZWdtZW50OyIsImltcG9ydCBBcmVhU2VnbWVudCBmcm9tICcuLi9hcmVhLWNoYXJ0L2FyZWEtc2VnbWVudCc7XG5cbmNsYXNzIFJhZGFyQXJlYVNlZ21lbnQgZXh0ZW5kcyBBcmVhU2VnbWVudCB7XG4gICAgZmlsbFRvQXhlcygpIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyQXJlYVNlZ21lbnQ7IiwiaW1wb3J0IFJhZGFyTGluZUNoYXJ0IGZyb20gJy4uL3JhZGFyLWxpbmUtY2hhcnQvcmFkYXItbGluZS1jaGFydCc7XG5pbXBvcnQgU3BsaW5lUmFkYXJBcmVhU2VnbWVudCBmcm9tICcuL3NwbGluZS1yYWRhci1hcmVhLXNlZ21lbnQnO1xuaW1wb3J0IFJhZGFyQXJlYVNlZ21lbnQgZnJvbSAnLi9yYWRhci1hcmVhLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBTTU9PVEgsIFpFUk8gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBSYWRhckFyZWFDaGFydCBleHRlbmRzIFJhZGFyTGluZUNoYXJ0IHtcbiAgICBjcmVhdGVTZWdtZW50KGxpbmVQb2ludHMsIGN1cnJlbnRTZXJpZXMsIHNlcmllc0l4LCBwcmV2U2VnbWVudCkge1xuICAgICAgICBjb25zdCBpc1N0YWNrZWQgPSB0aGlzLm9wdGlvbnMuaXNTdGFja2VkO1xuICAgICAgICBjb25zdCBzdHlsZSA9IChjdXJyZW50U2VyaWVzLmxpbmUgfHwge30pLnN0eWxlO1xuICAgICAgICBsZXQgcHJldmlvdXNTZWdtZW50O1xuICAgICAgICBsZXQgc3RhY2tQb2ludHM7XG4gICAgICAgIGxldCBzZWdtZW50O1xuXG4gICAgICAgIGlmIChpc1N0YWNrZWQgJiYgc2VyaWVzSXggPiAwICYmIHByZXZTZWdtZW50KSB7XG4gICAgICAgICAgICBzdGFja1BvaW50cyA9IHByZXZTZWdtZW50LmxpbmVQb2ludHMuc2xpY2UoMCk7XG4gICAgICAgICAgICBwcmV2aW91c1NlZ21lbnQgPSBwcmV2U2VnbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHlsZSA9PT0gU01PT1RIKSB7XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFNwbGluZVJhZGFyQXJlYVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZpb3VzU2VnbWVudCwgc3RhY2tQb2ludHMpO1xuICAgICAgICAgICAgc2VnbWVudC5vcHRpb25zLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lUG9pbnRzLnB1c2gobGluZVBvaW50c1swXSk7XG4gICAgICAgICAgICBzZWdtZW50ID0gbmV3IFJhZGFyQXJlYVNlZ21lbnQobGluZVBvaW50cywgY3VycmVudFNlcmllcywgc2VyaWVzSXgsIHByZXZpb3VzU2VnbWVudCwgc3RhY2tQb2ludHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlZ21lbnQ7XG4gICAgfVxuXG4gICAgc2VyaWVzTWlzc2luZ1ZhbHVlcyhzZXJpZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlcmllcy5taXNzaW5nVmFsdWVzIHx8IFpFUk87XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYWRhckFyZWFDaGFydDsiLCJpbXBvcnQgRG9udXRTZWdtZW50IGZyb20gJy4uL2RvbnV0LWNoYXJ0L2RvbnV0LXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIFJhZGFyU2VnbWVudCBleHRlbmRzIERvbnV0U2VnbWVudCB7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmFsdWUsIG51bGwsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJTZWdtZW50LCB7XG4gICAgb3ZlcmxheToge1xuICAgICAgICBncmFkaWVudDogXCJub25lXCJcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBkaXN0YW5jZTogMTBcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJTZWdtZW50OyIsImltcG9ydCB7IENoYXJ0RWxlbWVudCB9IGZyb20gJy4uLy4uL2NvcmUnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmltcG9ydCB7IGZvckVhY2gsIGZvckVhY2hSZXZlcnNlIH0gZnJvbSAnLi91dGlscyc7XG5cbmNsYXNzIFJhZGFyQ2x1c3RlckxheW91dCBleHRlbmRzIENoYXJ0RWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmZvckVhY2ggPSBvcHRpb25zLnJ0bCA/IGZvckVhY2hSZXZlcnNlIDogZm9yRWFjaDtcbiAgICB9XG5cbiAgICByZWZsb3coc2VjdG9yKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgY2hpbGRyZW4gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgZ2FwLCBzcGFjaW5nIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBjb3VudCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3Qgc2xvdHMgPSBjb3VudCArIGdhcCArIChzcGFjaW5nICogKGNvdW50IC0gMSkpO1xuICAgICAgICBjb25zdCBzbG90QW5nbGUgPSBzZWN0b3IuYW5nbGUgLyBzbG90cztcbiAgICAgICAgbGV0IGFuZ2xlID0gc2VjdG9yLnN0YXJ0QW5nbGUgKyBzbG90QW5nbGUgKiAoZ2FwIC8gMik7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RTZWN0b3IgPSBzZWN0b3IuY2xvbmUoKTtcbiAgICAgICAgICAgIHNsb3RTZWN0b3Iuc3RhcnRBbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgc2xvdFNlY3Rvci5hbmdsZSA9IHNsb3RBbmdsZTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnNlY3Rvcikge1xuICAgICAgICAgICAgICAgIHNsb3RTZWN0b3IucmFkaXVzID0gY2hpbGQuc2VjdG9yLnJhZGl1cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucmVmbG93KHNsb3RTZWN0b3IpO1xuICAgICAgICAgICAgY2hpbGQuc2VjdG9yID0gc2xvdFNlY3RvcjtcblxuICAgICAgICAgICAgYW5nbGUgKz0gc2xvdEFuZ2xlICsgKHNsb3RBbmdsZSAqIHNwYWNpbmcpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGFyQ2x1c3RlckxheW91dCwge1xuICAgIGdhcDogMSxcbiAgICBzcGFjaW5nOiAwXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJDbHVzdGVyTGF5b3V0OyIsImltcG9ydCB7IENoYXJ0RWxlbWVudCwgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmNsYXNzIFJhZGFyU3RhY2tMYXlvdXQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIHJlZmxvdyhzZWN0b3IpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHJldmVyc2UgfSwgY2hpbGRyZW4gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gcmV2ZXJzZSA/IGNoaWxkcmVuQ291bnQgLSAxIDogMDtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHJldmVyc2UgPyAtMSA6IDE7XG5cbiAgICAgICAgdGhpcy5ib3ggPSBuZXcgQm94KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGZpcnN0OyBpID49IDAgJiYgaSA8IGNoaWxkcmVuQ291bnQ7IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRTZWN0b3IgPSBjaGlsZHJlbltpXS5zZWN0b3I7XG4gICAgICAgICAgICBjaGlsZFNlY3Rvci5zdGFydEFuZ2xlID0gc2VjdG9yLnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICBjaGlsZFNlY3Rvci5hbmdsZSA9IHNlY3Rvci5hbmdsZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkYXJTdGFja0xheW91dDsiLCJpbXBvcnQgQmFyQ2hhcnQgZnJvbSAnLi4vYmFyLWNoYXJ0L2Jhci1jaGFydCc7XG5pbXBvcnQgUmFkYXJTZWdtZW50IGZyb20gJy4vcmFkYXItc2VnbWVudCc7XG5pbXBvcnQgUmFkYXJDbHVzdGVyTGF5b3V0IGZyb20gJy4uL2xheW91dC9yYWRhci1jbHVzdGVyLWxheW91dCc7XG5pbXBvcnQgUmFkYXJTdGFja0xheW91dCBmcm9tICcuLi9sYXlvdXQvcmFkYXItc3RhY2stbGF5b3V0JztcbmltcG9ydCBDYXRlZ29yaWNhbENoYXJ0IGZyb20gJy4uL2NhdGVnb3JpY2FsLWNoYXJ0JztcblxuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBSYWRhckJhckNoYXJ0IGV4dGVuZHMgQmFyQ2hhcnQge1xuICAgIHBvaW50VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJhZGFyU2VnbWVudDtcbiAgICB9XG5cbiAgICBjbHVzdGVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJhZGFyQ2x1c3RlckxheW91dDtcbiAgICB9XG5cbiAgICBzdGFja1R5cGUoKSB7XG4gICAgICAgIHJldHVybiBSYWRhclN0YWNrTGF5b3V0O1xuICAgIH1cblxuICAgIGNhdGVnb3J5U2xvdChjYXRlZ29yeUF4aXMsIGNhdGVnb3J5SXgpIHtcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5QXhpcy5nZXRTbG90KGNhdGVnb3J5SXgpO1xuICAgIH1cblxuICAgIHBvaW50U2xvdChjYXRlZ29yeVNsb3QsIHZhbHVlU2xvdCkge1xuICAgICAgICBjb25zdCBzbG90ID0gY2F0ZWdvcnlTbG90LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHkgPSBjYXRlZ29yeVNsb3QuY2VudGVyLnk7XG5cbiAgICAgICAgc2xvdC5yYWRpdXMgPSB5IC0gdmFsdWVTbG90LnkxO1xuICAgICAgICBzbG90LmlubmVyUmFkaXVzID0geSAtIHZhbHVlU2xvdC55MjtcblxuICAgICAgICByZXR1cm4gc2xvdDtcbiAgICB9XG5cbiAgICByZWZsb3dQb2ludChwb2ludCwgcG9pbnRTbG90KSB7XG4gICAgICAgIHBvaW50LnNlY3RvciA9IHBvaW50U2xvdDtcbiAgICAgICAgcG9pbnQucmVmbG93KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uLmNlbnRlciA9IHRoaXMuYm94LnRvUmVjdCgpLmNlbnRlcigpO1xuICAgICAgICBzdXBlci5jcmVhdGVBbmltYXRpb24oKTtcbiAgICB9XG59XG5cblJhZGFyQmFyQ2hhcnQucHJvdG90eXBlLnJlZmxvdyA9IENhdGVnb3JpY2FsQ2hhcnQucHJvdG90eXBlLnJlZmxvdztcblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJCYXJDaGFydCwge1xuICAgIGNsaXA6IGZhbHNlLFxuICAgIGxpbWl0UG9pbnRzOiBmYWxzZSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogXCJwaWVcIlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRhckJhckNoYXJ0OyIsImltcG9ydCBQb2xhclBsb3RBcmVhQmFzZSBmcm9tICcuL3BvbGFyLXBsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IENhdGVnb3JpY2FsUGxvdEFyZWEgZnJvbSAnLi9jYXRlZ29yaWNhbC1wbG90YXJlYSc7XG5pbXBvcnQgUmFkYXJBcmVhQ2hhcnQgZnJvbSAnLi4vcmFkYXItYXJlYS1jaGFydC9yYWRhci1hcmVhLWNoYXJ0JztcbmltcG9ydCBSYWRhckxpbmVDaGFydCBmcm9tICcuLi9yYWRhci1saW5lLWNoYXJ0L3JhZGFyLWxpbmUtY2hhcnQnO1xuaW1wb3J0IFJhZGFyQmFyQ2hhcnQgZnJvbSAnLi4vcmFkYXItYmFyLWNoYXJ0L3JhZGFyLWJhci1jaGFydCc7XG5pbXBvcnQgUGxvdEFyZWFFdmVudHNNaXhpbiBmcm9tICcuLi9taXhpbnMvcGxvdGFyZWEtZXZlbnRzLW1peGluJztcblxuaW1wb3J0IHsgUmFkYXJDYXRlZ29yeUF4aXMsIFBvaW50IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmltcG9ydCB7IFJBREFSX0FSRUEsIFJBREFSX0xJTkUsIFJBREFSX0NPTFVNTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCBmaWx0ZXJTZXJpZXNCeVR5cGUgZnJvbSAnLi4vdXRpbHMvZmlsdGVyLXNlcmllcy1ieS10eXBlJztcblxuaW1wb3J0IHsgQVJDIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBldmVudEVsZW1lbnQsIGRlZXBFeHRlbmQsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgUmFkYXJQbG90QXJlYSBleHRlbmRzIFBvbGFyUGxvdEFyZWFCYXNlIHtcbiAgICBjcmVhdGVQb2xhckF4aXMoKSB7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5QXhpcyA9IG5ldyBSYWRhckNhdGVnb3J5QXhpcyh0aGlzLm9wdGlvbnMuY2F0ZWdvcnlBeGlzLCB0aGlzLmNoYXJ0U2VydmljZSk7XG5cbiAgICAgICAgdGhpcy5wb2xhckF4aXMgPSBjYXRlZ29yeUF4aXM7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlBeGlzID0gY2F0ZWdvcnlBeGlzO1xuICAgICAgICB0aGlzLmFwcGVuZEF4aXMoY2F0ZWdvcnlBeGlzKTtcbiAgICAgICAgdGhpcy5hZ2dyZWdhdGVDYXRlZ29yaWVzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2F0ZWdvcnlBeGVzTGFiZWxzKCk7XG4gICAgfVxuXG4gICAgdmFsdWVBeGlzT3B0aW9ucyhkZWZhdWx0cykge1xuICAgICAgICBpZiAodGhpcy5faGFzQmFyQ2hhcnRzKSB7XG4gICAgICAgICAgICBkZWVwRXh0ZW5kKGRlZmF1bHRzLCB7XG4gICAgICAgICAgICAgICAgbWFqb3JHcmlkTGluZXM6IHsgdHlwZTogQVJDIH0sXG4gICAgICAgICAgICAgICAgbWlub3JHcmlkTGluZXM6IHsgdHlwZTogQVJDIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzU3RhY2tlZDEwMCkge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChkZWZhdWx0cywge1xuICAgICAgICAgICAgICAgIHJvdW5kVG9NYWpvclVuaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyBmb3JtYXQ6IFwiUDBcIiB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWVwRXh0ZW5kKGRlZmF1bHRzLCB0aGlzLm9wdGlvbnMudmFsdWVBeGlzKTtcbiAgICB9XG5cbiAgICBhZ2dyZWdhdGVDYXRlZ29yaWVzKCkge1xuICAgICAgICAvLyBObyBzZXBhcmF0ZSBwYW5lcyBpbiByYWRhciBjaGFydHNcbiAgICAgICAgQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUuYWdncmVnYXRlQ2F0ZWdvcmllcy5jYWxsKHRoaXMsIHRoaXMucGFuZXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhdGVnb3J5QXhlc0xhYmVscygpIHtcbiAgICAgICAgQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUuY3JlYXRlQ2F0ZWdvcnlBeGVzTGFiZWxzLmNhbGwodGhpcywgdGhpcy5wYW5lcyk7XG4gICAgfVxuXG4gICAgZmlsdGVyU2VyaWVzKGN1cnJlbnRTZXJpZXMpIHtcbiAgICAgICAgLy8gTm90IHN1cHBvcnRlZCBmb3IgcmFkYXIgY2hhcnRzXG4gICAgICAgIHJldHVybiBjdXJyZW50U2VyaWVzO1xuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJ0cygpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5maWx0ZXJWaXNpYmxlU2VyaWVzKHRoaXMuc2VyaWVzKTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHRoaXMucGFuZXNbMF07XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBcmVhQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBREFSX0FSRUEgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMaW5lQ2hhcnQoXG4gICAgICAgICAgICBmaWx0ZXJTZXJpZXNCeVR5cGUoc2VyaWVzLCBbIFJBREFSX0xJTkUgXSksXG4gICAgICAgICAgICBwYW5lXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVCYXJDaGFydChcbiAgICAgICAgICAgIGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIFsgUkFEQVJfQ09MVU1OIF0pLFxuICAgICAgICAgICAgcGFuZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNoYXJ0T3B0aW9ucyhzZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgc2VyaWVzOiBzZXJpZXMgfTtcbiAgICAgICAgY29uc3QgZmlyc3RTZXJpZXMgPSBzZXJpZXNbMF07XG4gICAgICAgIGlmIChmaXJzdFNlcmllcykge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTZXJpZXMgPSB0aGlzLmZpbHRlclZpc2libGVTZXJpZXMoc2VyaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gZmlyc3RTZXJpZXMuc3RhY2s7XG4gICAgICAgICAgICBvcHRpb25zLmlzU3RhY2tlZCA9IHN0YWNrICYmIGZpbHRlcmVkU2VyaWVzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICBvcHRpb25zLmlzU3RhY2tlZDEwMCA9IHN0YWNrICYmIHN0YWNrLnR5cGUgPT09IFwiMTAwJVwiICYmIGZpbHRlcmVkU2VyaWVzLmxlbmd0aCA+IDE7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzU3RhY2tlZDEwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzU3RhY2tlZDEwMCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBjcmVhdGVBcmVhQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcmVhQ2hhcnQgPSBuZXcgUmFkYXJBcmVhQ2hhcnQodGhpcywgdGhpcy5jaGFydE9wdGlvbnMoc2VyaWVzKSk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQoYXJlYUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaW5lQ2hhcnQoc2VyaWVzLCBwYW5lKSB7XG4gICAgICAgIGlmIChzZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lQ2hhcnQgPSBuZXcgUmFkYXJMaW5lQ2hhcnQodGhpcywgdGhpcy5jaGFydE9wdGlvbnMoc2VyaWVzKSk7XG4gICAgICAgIHRoaXMuYXBwZW5kQ2hhcnQobGluZUNoYXJ0LCBwYW5lKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCYXJDaGFydChzZXJpZXMsIHBhbmUpIHtcbiAgICAgICAgaWYgKHNlcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jaGFydE9wdGlvbnMoc2VyaWVzKTtcbiAgICAgICAgb3B0aW9ucy5nYXAgPSBmaXJzdFNlcmllcy5nYXA7XG4gICAgICAgIG9wdGlvbnMuc3BhY2luZyA9IGZpcnN0U2VyaWVzLnNwYWNpbmc7XG5cbiAgICAgICAgY29uc3QgYmFyQ2hhcnQgPSBuZXcgUmFkYXJCYXJDaGFydCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChiYXJDaGFydCwgcGFuZSk7XG5cbiAgICAgICAgdGhpcy5faGFzQmFyQ2hhcnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZXJpZXNDYXRlZ29yeUF4aXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhdGVnb3J5QXhpcztcbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hFdmVudChjaGFydCwgZSwgZXZlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGNoYXJ0Ll9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwb2ludCA9IG5ldyBQb2ludChjb29yZHMueCwgY29vcmRzLnkpO1xuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IHRoaXMuY2F0ZWdvcnlBeGlzLmdldENhdGVnb3J5KHBvaW50KTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlQXhpcy5nZXRWYWx1ZShwb2ludCk7XG5cbiAgICAgICAgaWYgKGNhdGVnb3J5ICE9PSBudWxsICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjaGFydC50cmlnZ2VyKGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGV2ZW50RWxlbWVudChlKSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZUNyb3NzaGFpcnMoKSB7fVxufVxuXG5kZWVwRXh0ZW5kKFJhZGFyUGxvdEFyZWEucHJvdG90eXBlLCBQbG90QXJlYUV2ZW50c01peGluLCB7XG4gICAgYXBwZW5kQ2hhcnQ6IENhdGVnb3JpY2FsUGxvdEFyZWEucHJvdG90eXBlLmFwcGVuZENoYXJ0LFxuICAgIGFnZ3JlZ2F0ZVNlcmllczogQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUuYWdncmVnYXRlU2VyaWVzLFxuICAgIHNlcmllc1NvdXJjZVBvaW50czogQ2F0ZWdvcmljYWxQbG90QXJlYS5wcm90b3R5cGUuc2VyaWVzU291cmNlUG9pbnRzXG59KTtcblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkYXJQbG90QXJlYSwge1xuICAgIGNhdGVnb3J5QXhpczoge1xuICAgICAgICBjYXRlZ29yaWVzOiBbXVxuICAgIH0sXG4gICAgdmFsdWVBeGlzOiB7fVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGFyUGxvdEFyZWE7IiwiaW1wb3J0IHsgZHJhd2luZyBhcyBkcmF3IH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBDaGFydEVsZW1lbnQsIEJveCwgUG9pbnQgfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCBQb2ludEV2ZW50c01peGluIGZyb20gJy4uL21peGlucy9wb2ludC1ldmVudHMtbWl4aW4nO1xuXG5pbXBvcnQgeyBXSElURSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5jbGFzcyBGdW5uZWxTZWdtZW50IGV4dGVuZHMgQ2hhcnRFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSwgb3B0aW9ucywgc2VnbWVudE9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMuaW5kZXggPSBzZWdtZW50T3B0aW9ucy5pbmRleDtcbiAgICB9XG5cbiAgICByZWZsb3coY2hhcnRCb3gpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5jaGlsZHJlblswXTtcblxuICAgICAgICB0aGlzLmJveCA9IG5ldyBCb3gocG9pbnRzWzBdLngsIHBvaW50c1swXS55LCBwb2ludHNbMV0ueCwgcG9pbnRzWzJdLnkpO1xuXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgbGFiZWwucmVmbG93KG5ldyBCb3goY2hhcnRCb3gueDEsIHBvaW50c1swXS55LCBjaGFydEJveC54MiwgcG9pbnRzWzJdLnkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZpc3VhbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgbGV0IHZpc3VhbDtcblxuICAgICAgICBzdXBlci5jcmVhdGVWaXN1YWwoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy52aXN1YWwpIHtcbiAgICAgICAgICAgIHZpc3VhbCA9IG9wdGlvbnMudmlzdWFsKHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogdGhpcy5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogdGhpcy5kYXRhSXRlbSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHRoaXMuc2VyaWVzLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U6IHRoaXMucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgICBwb2ludHM6IHRoaXMucG9pbnRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgc2VuZGVyOiB0aGlzLmdldFNlbmRlcigpLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVZpc3VhbDogKCkgPT4gdGhpcy5jcmVhdGVQYXRoKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlzdWFsID0gdGhpcy5jcmVhdGVQYXRoKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmlzdWFsKSB7XG4gICAgICAgICAgICB0aGlzLnZpc3VhbC5hcHBlbmQodmlzdWFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBhdGgoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IG9wdGlvbnMuYm9yZGVyO1xuICAgICAgICBjb25zdCBwYXRoID0gZHJhdy5QYXRoLmZyb21Qb2ludHModGhpcy5wb2ludHMsIHtcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLmNvbG9yLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IGJvcmRlci5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2xvc2UoKTtcblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICBjcmVhdGVIaWdobGlnaHQoc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzLCBzdHlsZSk7XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXN1YWwuY2hpbGRyZW5bMF07XG4gICAgfVxuXG4gICAgaGlnaGxpZ2h0VmlzdWFsQXJncygpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRyYXcuUGF0aC5mcm9tUG9pbnRzKHRoaXMucG9pbnRzKS5jbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdG9vbHRpcEFuY2hvcigpIHtcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5ib3g7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogbmV3IFBvaW50KGJveC5jZW50ZXIoKS54LCBib3gueTEpLFxuICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBcInRvcFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZm9ybWF0VmFsdWUoZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHBvaW50Lm93bmVyLmZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhGdW5uZWxTZWdtZW50LCB7XG4gICAgY29sb3I6IFdISVRFLFxuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMVxuICAgIH1cbn0pO1xuXG5kZWVwRXh0ZW5kKEZ1bm5lbFNlZ21lbnQucHJvdG90eXBlLCBQb2ludEV2ZW50c01peGluKTtcblxuZXhwb3J0IGRlZmF1bHQgRnVubmVsU2VnbWVudDsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW9tLCBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcblxuaW1wb3J0IHsgQ2hhcnRFbGVtZW50LCBUZXh0Qm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgUGllQ2hhcnRNaXhpbiBmcm9tICcuLi9taXhpbnMvcGllLWNoYXJ0LW1peGluJztcbmltcG9ydCBGdW5uZWxTZWdtZW50IGZyb20gJy4vZnVubmVsLXNlZ21lbnQnO1xuXG5pbXBvcnQgeyBiaW5kU2VnbWVudHMsIGV2YWxPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBCTEFDSywgV0hJVEUsIENFTlRFUiwgTEVGVCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZGVlcEV4dGVuZCwgaXNGdW5jdGlvbiwgZ2V0VGVtcGxhdGUsIGxpbWl0VmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRnVubmVsQ2hhcnQgZXh0ZW5kcyBDaGFydEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHBsb3RBcmVhLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucGxvdEFyZWEgPSBwbG90QXJlYTtcbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5sYWJlbHMgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGZvcm1hdFBvaW50VmFsdWUocG9pbnQsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydFNlcnZpY2UuZm9ybWF0LmF1dG8oZm9ybWF0LHBvaW50LnZhbHVlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcGxvdEFyZWE6IHsgb3B0aW9uczogeyBzZXJpZXNDb2xvcnMgPSBbXSB9IH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBkYXRhID0gc2VyaWVzLmRhdGE7XG5cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHRvdGFsLCBwb2ludHMgfSA9IGJpbmRTZWdtZW50cyhzZXJpZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludERhdGEgPSBwb2ludHNbaV07XG5cbiAgICAgICAgICAgIGlmICghcG9pbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmaWVsZHMgPSBwb2ludERhdGEuZmllbGRzO1xuXG4gICAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24oc2VyaWVzLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIHNlcmllcy5jb2xvciA9IGZpZWxkcy5jb2xvciB8fCBzZXJpZXNDb2xvcnNbaSAlIHNlcmllc0NvbG9ycy5sZW5ndGhdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWVsZHMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICBvd25lcjogdGhpcyxcbiAgICAgICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgICAgICBkYXRhSXRlbTogZGF0YVtpXSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBwb2ludERhdGEudmFsdWUgLyB0b3RhbFxuICAgICAgICAgICAgfSwgZmllbGRzLCB7IHZpc2libGU6IHBvaW50RGF0YS52aXNpYmxlIH0pO1xuXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50RGF0YS52YWx1ZUZpZWxkcy52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnQgPSB0aGlzLmNyZWF0ZVNlZ21lbnQodmFsdWUsIGZpZWxkcyk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMuY3JlYXRlTGFiZWwodmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgICAgIGlmIChzZWdtZW50ICYmIGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgc2VnbWVudC5hcHBlbmQobGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZhbFNlZ21lbnRPcHRpb25zKG9wdGlvbnMsIHZhbHVlLCBmaWVsZHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gZmllbGRzLnNlcmllcztcblxuICAgICAgICBldmFsT3B0aW9ucyhvcHRpb25zLCB7XG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGRhdGFJdGVtOiBmaWVsZHMuZGF0YUl0ZW0sXG4gICAgICAgICAgICBpbmRleDogZmllbGRzLmluZGV4XG4gICAgICAgIH0sIHsgZGVmYXVsdHM6IHNlcmllcy5fZGVmYXVsdHMsIGV4Y2x1ZGVkOiBbIFwiZGF0YVwiLCBcImNvbnRlbnRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInRvZ2dsZVwiLCBcInZpc3VhbFwiIF0gfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlU2VnbWVudCh2YWx1ZSwgZmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc09wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBmaWVsZHMuc2VyaWVzKTtcbiAgICAgICAgdGhpcy5ldmFsU2VnbWVudE9wdGlvbnMoc2VyaWVzT3B0aW9ucywgdmFsdWUsIGZpZWxkcyk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVMZWdlbmRJdGVtKHZhbHVlLCBzZXJpZXNPcHRpb25zLCBmaWVsZHMpO1xuXG4gICAgICAgIGlmIChmaWVsZHMudmlzaWJsZSAhPT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBGdW5uZWxTZWdtZW50KHZhbHVlLCBzZXJpZXNPcHRpb25zLCBmaWVsZHMpO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzZWdtZW50LCBmaWVsZHMpO1xuXG4gICAgICAgICAgICB0aGlzLmFwcGVuZChzZWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRzLnB1c2goc2VnbWVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBzZWdtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTGFiZWwodmFsdWUsIGZpZWxkcykge1xuICAgICAgICBjb25zdCB7IHNlcmllcywgZGF0YUl0ZW0gfSA9IGZpZWxkcztcbiAgICAgICAgY29uc3QgbGFiZWxzID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLmxhYmVscywgc2VyaWVzLmxhYmVscyk7XG4gICAgICAgIGxldCB0ZXh0ID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGxhYmVscy52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFRlbXBsYXRlID0gZ2V0VGVtcGxhdGUobGFiZWxzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgZGF0YUl0ZW06IGRhdGFJdGVtLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBmaWVsZHMucGVyY2VudGFnZSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogZmllbGRzLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIHNlcmllczogc2VyaWVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGxhYmVsVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gbGFiZWxUZW1wbGF0ZShkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWxzLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0aGlzLnBsb3RBcmVhLmNoYXJ0U2VydmljZS5mb3JtYXQuYXV0byhsYWJlbHMuZm9ybWF0LCB0ZXh0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYWJlbHMuY29sb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBicmlnaHRuZXNzVmFsdWUgPSBuZXcgQ29sb3Ioc2VyaWVzLmNvbG9yKS5wZXJjQnJpZ2h0bmVzcygpO1xuICAgICAgICAgICAgICAgIGlmIChicmlnaHRuZXNzVmFsdWUgPiAxODApIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmNvbG9yID0gQkxBQ0s7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmNvbG9yID0gV0hJVEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbGFiZWxzLmJhY2tncm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLmJhY2tncm91bmQgPSBzZXJpZXMuY29sb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmV2YWxTZWdtZW50T3B0aW9ucyhsYWJlbHMsIHZhbHVlLCBmaWVsZHMpO1xuICAgICAgICAgICAgY29uc3QgdGV4dEJveCA9IG5ldyBUZXh0Qm94KHRleHQsIGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIHZBbGlnbjogbGFiZWxzLnBvc2l0aW9uXG4gICAgICAgICAgICB9LCBsYWJlbHMpLCBkYXRhKTtcblxuICAgICAgICAgICAgdGhpcy5sYWJlbHMucHVzaCh0ZXh0Qm94KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHRCb3g7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsYWJlbFBhZGRpbmcoKSB7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMubGFiZWxzO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0geyBsZWZ0OiAwLCByaWdodDogMCB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGFsaWduID0gbGFiZWwub3B0aW9ucy5hbGlnbjtcbiAgICAgICAgICAgIGlmIChhbGlnbiAhPT0gQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBsYWJlbHNbaV0uYm94LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy5sZWZ0ID0gTWF0aC5tYXgocGFkZGluZy5sZWZ0LCB3aWR0aCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy5yaWdodCA9IE1hdGgubWF4KHBhZGRpbmcucmlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFkZGluZztcbiAgICB9XG5cbiAgICBkeW5hbWljU2xvcGVSZWZsb3coYm94LCB3aWR0aCwgdG90YWxIZWlnaHQpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBwb2ludHM6IHNlZ21lbnRzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb3VudCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZmlyc3RTZWdtZW50ID0gc2VnbWVudHNbMF07XG4gICAgICAgIGxldCBtYXhTZWdtZW50ID0gZmlyc3RTZWdtZW50O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlZ21lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChzZWdtZW50c1tpZHhdLnBlcmNlbnRhZ2UgPiBtYXhTZWdtZW50LnBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBtYXhTZWdtZW50ID0gc2VnbWVudHNbaWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0VXBwZXJTaWRlID0gKGZpcnN0U2VnbWVudC5wZXJjZW50YWdlIC8gbWF4U2VnbWVudC5wZXJjZW50YWdlKSAqIHdpZHRoO1xuICAgICAgICBsZXQgcHJldmlvdXNPZmZzZXQgPSAod2lkdGggLSBsYXN0VXBwZXJTaWRlKSAvIDI7XG4gICAgICAgIGxldCBwcmV2aW91c0hlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gc2VnbWVudHNbaWR4XS5wZXJjZW50YWdlO1xuICAgICAgICAgICAgY29uc3QgbmV4dFNlZ21lbnQgPSBzZWdtZW50c1tpZHggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQZXJjZW50YWdlID0gKG5leHRTZWdtZW50ID8gbmV4dFNlZ21lbnQucGVyY2VudGFnZSA6IHBlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gc2VnbWVudHNbaWR4XS5wb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChvcHRpb25zLmR5bmFtaWNIZWlnaHQpID8gKHRvdGFsSGVpZ2h0ICogcGVyY2VudGFnZSkgOiAodG90YWxIZWlnaHQgLyBjb3VudCk7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoIXBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBuZXh0UGVyY2VudGFnZSA/IDAgOiB3aWR0aCAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9ICh3aWR0aCAtIGxhc3RVcHBlclNpZGUgKiAobmV4dFBlcmNlbnRhZ2UgLyBwZXJjZW50YWdlKSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgPSBsaW1pdFZhbHVlKG9mZnNldCwgMCwgd2lkdGgpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyBwcmV2aW91c09mZnNldCwgYm94LnkxICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIHdpZHRoIC0gcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIG9mZnNldCwgYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIG9mZnNldCwgYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcblxuICAgICAgICAgICAgcHJldmlvdXNPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICBwcmV2aW91c0hlaWdodCArPSBoZWlnaHQgKyBvcHRpb25zLnNlZ21lbnRTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdFVwcGVyU2lkZSA9IGxpbWl0VmFsdWUod2lkdGggLSAyICogb2Zmc2V0LCAwLCB3aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdGFudFNsb3BlUmVmbG93KGJveCwgd2lkdGgsIHRvdGFsSGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcG9pbnRzOiBzZWdtZW50cyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgY291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGRlY3JlYXNpbmdXaWR0aCA9IG9wdGlvbnMubmVja1JhdGlvIDw9IDE7XG4gICAgICAgIGNvbnN0IG5lY2tSYXRpbyA9IGRlY3JlYXNpbmdXaWR0aCA/IG9wdGlvbnMubmVja1JhdGlvICogd2lkdGggOiB3aWR0aDtcbiAgICAgICAgbGV0IHByZXZpb3VzT2Zmc2V0ID0gZGVjcmVhc2luZ1dpZHRoID8gMCA6ICh3aWR0aCAtIHdpZHRoIC8gb3B0aW9ucy5uZWNrUmF0aW8pIC8gMjtcbiAgICAgICAgY29uc3QgdG9wTW9zdFdpZHRoID0gZGVjcmVhc2luZ1dpZHRoID8gd2lkdGggOiB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0ICogMjtcbiAgICAgICAgY29uc3QgZmluYWxOYXJyb3cgPSAodG9wTW9zdFdpZHRoIC0gbmVja1JhdGlvKSAvIDI7XG4gICAgICAgIGxldCBwcmV2aW91c0hlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBzZWdtZW50c1tpZHhdLnBvaW50cyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHNlZ21lbnRzW2lkeF0ucGVyY2VudGFnZTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IChvcHRpb25zLmR5bmFtaWNIZWlnaHQpID8gKGZpbmFsTmFycm93ICogcGVyY2VudGFnZSkgOiAoZmluYWxOYXJyb3cgLyBjb3VudCk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSAob3B0aW9ucy5keW5hbWljSGVpZ2h0KSA/ICh0b3RhbEhlaWdodCAqIHBlcmNlbnRhZ2UpIDogKHRvdGFsSGVpZ2h0IC8gY291bnQpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyBwcmV2aW91c09mZnNldCwgYm94LnkxICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBnZW9tLlBvaW50KGJveC54MSArIHdpZHRoIC0gcHJldmlvdXNPZmZzZXQsIGJveC55MSArIHByZXZpb3VzSGVpZ2h0KSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaChuZXcgZ2VvbS5Qb2ludChib3gueDEgKyB3aWR0aCAtIHByZXZpb3VzT2Zmc2V0IC0gb2Zmc2V0LCBib3gueTEgKyBoZWlnaHQgKyBwcmV2aW91c0hlaWdodCkpO1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gobmV3IGdlb20uUG9pbnQoYm94LngxICsgcHJldmlvdXNPZmZzZXQgKyBvZmZzZXQsYm94LnkxICsgaGVpZ2h0ICsgcHJldmlvdXNIZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZpb3VzT2Zmc2V0ICs9IG9mZnNldDtcbiAgICAgICAgICAgIHByZXZpb3VzSGVpZ2h0ICs9IGhlaWdodCArIG9wdGlvbnMuc2VnbWVudFNwYWNpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZsb3coY2hhcnRCb3gpIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBib3ggPSBjaGFydEJveC5jbG9uZSgpLnVucGFkKHRoaXMubGFiZWxQYWRkaW5nKCkpO1xuICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IGJveC5oZWlnaHQoKSAtIG9wdGlvbnMuc2VnbWVudFNwYWNpbmcgKiAoY291bnQgLSAxKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBib3gud2lkdGgoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5keW5hbWljU2xvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1Nsb3BlUmVmbG93KGJveCwgd2lkdGgsIHRvdGFsSGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RhbnRTbG9wZVJlZmxvdyhib3gsIHdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb3VudDsgaWR4KyspIHtcbiAgICAgICAgICAgIHBvaW50c1tpZHhdLnJlZmxvdyhjaGFydEJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEZ1bm5lbENoYXJ0LCB7XG4gICAgbmVja1JhdGlvOiAwLjMsXG4gICAgd2lkdGg6IDMwMCxcbiAgICBkeW5hbWljU2xvcGU6IGZhbHNlLFxuICAgIGR5bmFtaWNIZWlnaHQ6IHRydWUsXG4gICAgc2VnbWVudFNwYWNpbmc6IDAsXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBhbGlnbjogQ0VOVEVSLFxuICAgICAgICBwb3NpdGlvbjogQ0VOVEVSLFxuICAgICAgICB6SW5kZXg6IDFcbiAgICB9XG59KTtcblxuZGVlcEV4dGVuZChGdW5uZWxDaGFydC5wcm90b3R5cGUsIFBpZUNoYXJ0TWl4aW4pO1xuXG5leHBvcnQgZGVmYXVsdCBGdW5uZWxDaGFydDtcbiIsImltcG9ydCBQbG90QXJlYUJhc2UgZnJvbSAnLi9wbG90YXJlYS1iYXNlJztcbmltcG9ydCBGdW5uZWxDaGFydCBmcm9tICcuLi9mdW5uZWwtY2hhcnQvZnVubmVsLWNoYXJ0JztcblxuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcblxuY2xhc3MgRnVubmVsUGxvdEFyZWEgZXh0ZW5kcyBQbG90QXJlYUJhc2Uge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVGdW5uZWxDaGFydCh0aGlzLnNlcmllcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlRnVubmVsQ2hhcnQoc2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gc2VyaWVzWzBdO1xuICAgICAgICBjb25zdCBmdW5uZWxDaGFydCA9IG5ldyBGdW5uZWxDaGFydCh0aGlzLCB7XG4gICAgICAgICAgICBzZXJpZXM6IHNlcmllcyxcbiAgICAgICAgICAgIGxlZ2VuZDogdGhpcy5vcHRpb25zLmxlZ2VuZCxcbiAgICAgICAgICAgIG5lY2tSYXRpbzogZmlyc3RTZXJpZXMubmVja1JhdGlvLFxuICAgICAgICAgICAgZHluYW1pY0hlaWdodDogZmlyc3RTZXJpZXMuZHluYW1pY0hlaWdodCxcbiAgICAgICAgICAgIGR5bmFtaWNTbG9wZTogZmlyc3RTZXJpZXMuZHluYW1pY1Nsb3BlLFxuICAgICAgICAgICAgc2VnbWVudFNwYWNpbmc6IGZpcnN0U2VyaWVzLnNlZ21lbnRTcGFjaW5nLFxuICAgICAgICAgICAgaGlnaGxpZ2h0OiBmaXJzdFNlcmllcy5oaWdobGlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRDaGFydChmdW5uZWxDaGFydCk7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpIHtcbiAgICAgICAgc3VwZXIuYXBwZW5kQ2hhcnQoY2hhcnQsIHBhbmUpO1xuICAgICAgICBhcHBlbmQodGhpcy5vcHRpb25zLmxlZ2VuZC5pdGVtcywgY2hhcnQubGVnZW5kSXRlbXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRnVubmVsUGxvdEFyZWE7IiwiaW1wb3J0IFBsb3RBcmVhRmFjdG9yeSBmcm9tICcuL3Bsb3RhcmVhL3Bsb3RhcmVhLWZhY3RvcnknO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuL3Nlcmllcy1iaW5kZXInO1xuaW1wb3J0IERlZmF1bHRBZ2dyZWdhdGVzIGZyb20gJy4vYWdncmVnYXRlcy9kZWZhdWx0LWFnZ3JlZ2F0ZXMnO1xuaW1wb3J0IENhdGVnb3JpY2FsUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9jYXRlZ29yaWNhbC1wbG90YXJlYSc7XG5pbXBvcnQgWFlQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL3h5LXBsb3RhcmVhJztcbmltcG9ydCBQaWVQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL3BpZS1wbG90YXJlYSc7XG5pbXBvcnQgRG9udXRQbG90QXJlYSBmcm9tICcuL3Bsb3RhcmVhL2RvbnV0LXBsb3RhcmVhJztcbmltcG9ydCBQb2xhclBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvcG9sYXItcGxvdGFyZWEnO1xuaW1wb3J0IFJhZGFyUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9yYWRhci1wbG90YXJlYSc7XG5pbXBvcnQgRnVubmVsUGxvdEFyZWEgZnJvbSAnLi9wbG90YXJlYS9mdW5uZWwtcGxvdGFyZWEnO1xuXG5pbXBvcnQgeyBDT0xVTU4sIERPTlVULCBQSUUsIEZVTk5FTCwgQkFSLCBMSU5FLCBWRVJUSUNBTF9MSU5FLCBBUkVBLCBWRVJUSUNBTF9BUkVBLFxuICAgIENBTkRMRVNUSUNLLCBPSExDLCBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCwgQk9YX1BMT1QsIFZFUlRJQ0FMX0JPWF9QTE9ULCBSQU5HRV9DT0xVTU4sXG4gICAgUkFOR0VfQkFSLCBXQVRFUkZBTEwsIEhPUklaT05UQUxfV0FURVJGQUxMLCBTQ0FUVEVSLCBTQ0FUVEVSX0xJTkUsIEJVQkJMRSxcbiAgICBQT0xBUl9BUkVBLCBQT0xBUl9MSU5FLCBQT0xBUl9TQ0FUVEVSLCBSQURBUl9BUkVBLCBSQURBUl9DT0xVTU4sIFJBREFSX0xJTkUsIENBVEVHT1JZLFxuICAgIFJBTkdFX0FSRUEsIFZFUlRJQ0FMX1JBTkdFX0FSRUEsIFhfRVJST1JfTE9XX0ZJRUxELCBYX0VSUk9SX0hJR0hfRklFTEQsIFlfRVJST1JfTE9XX0ZJRUxELCBZX0VSUk9SX0hJR0hfRklFTEQsXG4gICAgRVJST1JfTE9XX0ZJRUxELCBFUlJPUl9ISUdIX0ZJRUxEIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgWCwgWSwgVkFMVUUgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcblxuY29uc3QgQ09MT1IgPSBcImNvbG9yXCI7XG5jb25zdCBGSVJTVCA9IFwiZmlyc3RcIjtcbmNvbnN0IEZST00gPSBcImZyb21cIjtcbmNvbnN0IE1BWCA9IFwibWF4XCI7XG5jb25zdCBNSU4gPSBcIm1pblwiO1xuY29uc3QgTk9URV9URVhUID0gXCJub3RlVGV4dFwiO1xuY29uc3QgU1VNTUFSWV9GSUVMRCA9IFwic3VtbWFyeVwiO1xuY29uc3QgVE8gPSBcInRvXCI7XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKENhdGVnb3JpY2FsUGxvdEFyZWEsIFtcbiAgICBCQVIsIENPTFVNTiwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSxcbiAgICBDQU5ETEVTVElDSywgT0hMQywgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQsIEJPWF9QTE9ULCBWRVJUSUNBTF9CT1hfUExPVCxcbiAgICBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQVxuXSk7XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFhZUGxvdEFyZWEsIFtcbiAgICBTQ0FUVEVSLCBTQ0FUVEVSX0xJTkUsIEJVQkJMRVxuXSk7XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFBpZVBsb3RBcmVhLCBbIFBJRSBdKTtcblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKERvbnV0UGxvdEFyZWEsIFsgRE9OVVQgXSk7XG5QbG90QXJlYUZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihGdW5uZWxQbG90QXJlYSwgWyBGVU5ORUwgXSk7XG5cblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFBvbGFyUGxvdEFyZWEsIFsgUE9MQVJfQVJFQSwgUE9MQVJfTElORSwgUE9MQVJfU0NBVFRFUiBdKTtcblBsb3RBcmVhRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKFJhZGFyUGxvdEFyZWEsIFsgUkFEQVJfQVJFQSwgUkFEQVJfQ09MVU1OLCBSQURBUl9MSU5FIF0pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJBUiwgQ09MVU1OLCBMSU5FLCBWRVJUSUNBTF9MSU5FLCBBUkVBLCBWRVJUSUNBTF9BUkVBIF0sXG4gICAgWyBWQUxVRSBdLCBbIENBVEVHT1JZLCBDT0xPUiwgTk9URV9URVhULCBFUlJPUl9MT1dfRklFTEQsIEVSUk9SX0hJR0hfRklFTEQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSBdLFxuICAgIFsgRlJPTSwgVE8gXSwgWyBDQVRFR09SWSwgQ09MT1IsIE5PVEVfVEVYVCBdXG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIFdBVEVSRkFMTCwgSE9SSVpPTlRBTF9XQVRFUkZBTEwgXSxcbiAgICBbIFZBTFVFIF0sIFsgQ0FURUdPUlksIENPTE9SLCBOT1RFX1RFWFQsIFNVTU1BUllfRklFTEQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoWyBQT0xBUl9BUkVBLCBQT0xBUl9MSU5FLCBQT0xBUl9TQ0FUVEVSIF0sIFsgWCwgWSBdLCBbIENPTE9SIF0pO1xuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoWyBSQURBUl9BUkVBLCBSQURBUl9DT0xVTU4sIFJBREFSX0xJTkUgXSwgWyBWQUxVRSBdLCBbIENPTE9SIF0pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEZVTk5FTCBdLFxuICAgIFsgVkFMVUUgXSwgWyBDQVRFR09SWSwgQ09MT1IsIFwidmlzaWJsZUluTGVnZW5kXCIsIFwidmlzaWJsZVwiIF1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCQVIsIENPTFVNTiwgTElORSwgVkVSVElDQUxfTElORSwgQVJFQSwgVkVSVElDQUxfQVJFQSwgV0FURVJGQUxMLCBIT1JJWk9OVEFMX1dBVEVSRkFMTCBdLFxuICAgIHsgdmFsdWU6IE1BWCwgY29sb3I6IEZJUlNULCBub3RlVGV4dDogRklSU1QsIGVycm9yTG93OiBNSU4sIGVycm9ySGlnaDogTUFYIH1cbik7XG5cbkRlZmF1bHRBZ2dyZWdhdGVzLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBSQU5HRV9DT0xVTU4sIFJBTkdFX0JBUiwgUkFOR0VfQVJFQSwgVkVSVElDQUxfUkFOR0VfQVJFQSBdLFxuICAgIHsgZnJvbTogTUlOLCB0bzogTUFYLCBjb2xvcjogRklSU1QsIG5vdGVUZXh0OiBGSVJTVCB9XG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgUkFEQVJfQVJFQSwgUkFEQVJfQ09MVU1OLCBSQURBUl9MSU5FIF0sXG4gICAgeyB2YWx1ZTogTUFYLCBjb2xvcjogRklSU1QgfVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBTQ0FUVEVSLCBTQ0FUVEVSX0xJTkUsIEJVQkJMRSBdLFxuICAgIFsgWCwgWSBdLCBbIENPTE9SLCBOT1RFX1RFWFQsIFhfRVJST1JfTE9XX0ZJRUxELCBYX0VSUk9SX0hJR0hfRklFTEQsIFlfRVJST1JfTE9XX0ZJRUxELCBZX0VSUk9SX0hJR0hfRklFTEQgXVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCVUJCTEUgXSwgWyBYLCBZLCBcInNpemVcIiBdLCBbIENPTE9SLCBDQVRFR09SWSwgTk9URV9URVhUIF1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQ0FORExFU1RJQ0ssIE9ITEMgXSxcbiAgICBbIFwib3BlblwiLCBcImhpZ2hcIiwgXCJsb3dcIiwgXCJjbG9zZVwiIF0sIFsgQ0FURUdPUlksIENPTE9SLCBcImRvd25Db2xvclwiLCBOT1RFX1RFWFQgXVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIENBTkRMRVNUSUNLLCBPSExDIF0sXG4gICAgeyBvcGVuOiBNQVgsIGhpZ2g6IE1BWCwgbG93OiBNSU4sIGNsb3NlOiBNQVgsXG4gICAgICBjb2xvcjogRklSU1QsIGRvd25Db2xvcjogRklSU1QsIG5vdGVUZXh0OiBGSVJTVCB9XG4pO1xuXG5TZXJpZXNCaW5kZXIuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJPWF9QTE9ULCBWRVJUSUNBTF9CT1hfUExPVCBdLFxuICAgIFsgXCJsb3dlclwiLCBcInExXCIsIFwibWVkaWFuXCIsIFwicTNcIiwgXCJ1cHBlclwiLCBcIm1lYW5cIiwgXCJvdXRsaWVyc1wiIF0sIFsgQ0FURUdPUlksIENPTE9SLCBOT1RFX1RFWFQgXVxuKTtcblxuRGVmYXVsdEFnZ3JlZ2F0ZXMuY3VycmVudC5yZWdpc3RlcihcbiAgICBbIEJPWF9QTE9ULCBWRVJUSUNBTF9CT1hfUExPVCBdLFxuICAgIHsgbG93ZXI6IE1BWCwgcTE6IE1BWCwgbWVkaWFuOiBNQVgsIHEzOiBNQVgsIHVwcGVyOiBNQVgsIG1lYW46IE1BWCwgb3V0bGllcnM6IEZJUlNULFxuICAgICAgY29sb3I6IEZJUlNULCBub3RlVGV4dDogRklSU1QgfVxuKTtcblxuU2VyaWVzQmluZGVyLmN1cnJlbnQucmVnaXN0ZXIoXG4gICAgWyBCVUxMRVQsIFZFUlRJQ0FMX0JVTExFVCBdLFxuICAgIFsgXCJjdXJyZW50XCIsIFwidGFyZ2V0XCIgXSwgWyBDQVRFR09SWSwgQ09MT1IsIFwidmlzaWJsZUluTGVnZW5kXCIsIE5PVEVfVEVYVCBdXG4pO1xuXG5EZWZhdWx0QWdncmVnYXRlcy5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgQlVMTEVULCBWRVJUSUNBTF9CVUxMRVQgXSxcbiAgICB7IGN1cnJlbnQ6IE1BWCwgdGFyZ2V0OiBNQVgsIGNvbG9yOiBGSVJTVCwgbm90ZVRleHQ6IEZJUlNUIH1cbik7XG5cblNlcmllc0JpbmRlci5jdXJyZW50LnJlZ2lzdGVyKFxuICAgIFsgUElFLCBET05VVCBdLFxuICAgIFsgVkFMVUUgXSwgWyBDQVRFR09SWSwgQ09MT1IsIFwiZXhwbG9kZVwiLCBcInZpc2libGVJbkxlZ2VuZFwiLCBcInZpc2libGVcIiBdXG4pOyIsImltcG9ydCB7IGRyYXdpbmcgYXMgZHJhdywgdGhyb3R0bGUgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IFJvb3RFbGVtZW50LCBUaXRsZSwgQ2F0ZWdvcnlBeGlzLCBQb2ludCB9IGZyb20gJy4uL2NvcmUnO1xuXG5pbXBvcnQgSGlnaGxpZ2h0IGZyb20gJy4vaGlnaGxpZ2h0JztcbmltcG9ydCBQYW5uYWJsZSBmcm9tICcuL3Bhbi1hbmQtem9vbS9wYW5uYWJsZSc7XG5pbXBvcnQgWm9vbVNlbGVjdGlvbiBmcm9tICcuL3Bhbi1hbmQtem9vbS96b29tLXNlbGVjdGlvbic7XG5pbXBvcnQgTW91c2V3aGVlbFpvb20gZnJvbSAnLi9wYW4tYW5kLXpvb20vbW91c2V3aGVlbC16b29tJztcbmltcG9ydCBMZWdlbmQgZnJvbSAnLi9sZWdlbmQvbGVnZW5kJztcbmltcG9ydCBQbG90QXJlYUZhY3RvcnkgZnJvbSAnLi9wbG90YXJlYS9wbG90YXJlYS1mYWN0b3J5JztcbmltcG9ydCBTZWxlY3Rpb24gZnJvbSAnLi9zZWxlY3Rpb24nO1xuaW1wb3J0IFNlcmllc0JpbmRlciBmcm9tICcuL3Nlcmllcy1iaW5kZXInO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwL3Rvb2x0aXAnO1xuaW1wb3J0IFNoYXJlZFRvb2x0aXAgZnJvbSAnLi90b29sdGlwL3NoYXJlZC10b29sdGlwJztcbmltcG9ydCBDYXRlZ29yaWNhbFBsb3RBcmVhIGZyb20gJy4vcGxvdGFyZWEvY2F0ZWdvcmljYWwtcGxvdGFyZWEnO1xuaW1wb3J0IFBsb3RBcmVhQmFzZSBmcm9tICcuL3Bsb3RhcmVhL3Bsb3RhcmVhLWJhc2UnO1xuaW1wb3J0IHsgQ2hhcnRTZXJ2aWNlLCBEb21FdmVudHNCdWlsZGVyIH0gZnJvbSAnLi4vc2VydmljZXMnO1xuaW1wb3J0IGdldEZpZWxkIGZyb20gJy4vdXRpbHMvZ2V0LWZpZWxkJztcbmltcG9ydCBpc0RhdGVBeGlzIGZyb20gJy4vdXRpbHMvaXMtZGF0ZS1heGlzJztcbmltcG9ydCBnZXREYXRlRmllbGQgZnJvbSAnLi91dGlscy9nZXQtZGF0ZS1maWVsZCc7XG5pbXBvcnQgeyBDaGFydFBhbmUsIENoYXJ0UGxvdEFyZWEsIGZpbmRBeGlzQnlOYW1lIH0gZnJvbSAnLi9hcGktZWxlbWVudHMnO1xuXG5pbXBvcnQgeyBYLCBZLCBWQUxVRSwgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IGFkZENsYXNzLCBDbGFzcywgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGlzT2JqZWN0LCBpc0Z1bmN0aW9uLCBlbGVtZW50U2l6ZSwgZWxlbWVudE9mZnNldCxcbiAgICBlbGVtZW50U3R5bGVzLCBldmVudENvb3JkaW5hdGVzLCBiaW5kRXZlbnRzLCB1bmJpbmRFdmVudHMsIG1vdXNld2hlZWxEZWx0YSwgRm9udExvYWRlciwgaW5BcnJheSwgbGFzdCwgcm91bmQsIEhhc2hNYXAgfSBmcm9tICcuLi9jb21tb24nO1xuXG5pbXBvcnQgeyBkYXRlQ29tcGFyZXIgfSBmcm9tICcuLi9kYXRlLXV0aWxzJztcblxuaW1wb3J0IHsgRFJBR19TVEFSVCwgRFJBRywgRFJBR19FTkQsIFpPT01fU1RBUlQsIFpPT00sIFpPT01fRU5ELCBTRUxFQ1RfU1RBUlQsIFNFTEVDVCwgU0VMRUNUX0VORCwgUExPVF9BUkVBX0hPVkVSLCBQTE9UX0FSRUFfTEVBVkUsXG4gICAgUkVOREVSLCBDQVRFR09SWSwgUElFLCBET05VVCwgRlVOTkVMLCBDT0xVTU4sIE1PVVNFV0hFRUwsIE1PVVNFV0hFRUxfREVMQVksIFNIT1dfVE9PTFRJUCwgU0VSSUVTX0hPVkVSIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5pbXBvcnQgJy4vYW5pbWF0aW9ucyc7XG5pbXBvcnQgJy4vcmVnaXN0ZXItY2hhcnRzJztcblxuY29uc3QgQVhJU19OQU1FUyA9IFsgQ0FURUdPUlksIFZBTFVFLCBYLCBZIF07XG5cbmNvbnN0IE1PVVNFTU9WRSA9IFwibW91c2Vtb3ZlXCI7XG5jb25zdCBDT05URVhUTUVOVSA9IFwiY29udGV4dG1lbnVcIjtcbmNvbnN0IE1PVVNFTEVBVkUgPSBcIm1vdXNlbGVhdmVcIjtcbmNvbnN0IE1PVVNFTU9WRV9ERUxBWSA9IDIwO1xuXG5jbGFzcyBDaGFydCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCB1c2VyT3B0aW9ucywgdGhlbWVPcHRpb25zLCBjb250ZXh0ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICB0aGlzLmFkZE9ic2VydmVyKGNvbnRleHQub2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLmNoYXJ0U2VydmljZSA9IG5ldyBDaGFydFNlcnZpY2UodGhpcywgY29udGV4dCk7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnRoZW1lID0gdGhlbWVPcHRpb25zO1xuXG4gICAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHVzZXJPcHRpb25zKTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RoZW1lID0gdGhlbWVPcHRpb25zO1xuICAgICAgICB0aGlzLl9pbml0VGhlbWUob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9pbml0SGFuZGxlcnMoKTtcbiAgICAgICAgdGhpcy5faW5pdFN1cmZhY2UoKTtcblxuICAgICAgICB0aGlzLmJpbmRDYXRlZ29yaWVzKCk7XG4gICAgICAgIEZvbnRMb2FkZXIucHJlbG9hZEZvbnRzKHVzZXJPcHRpb25zLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvbnRMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWRyYXcoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2luaXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG5cbiAgICBfc2V0RWxlbWVudENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgXCJrLWNoYXJ0XCIpO1xuICAgIH1cblxuICAgIF9pbml0VGhlbWUob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc0NvcGllcyA9IFtdO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcyB8fCBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc2VyaWVzQ29waWVzLnB1c2goT2JqZWN0LmFzc2lnbih7fSwgc2VyaWVzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5zZXJpZXMgPSBzZXJpZXNDb3BpZXM7XG5cbiAgICAgICAgcmVzb2x2ZUF4aXNBbGlhc2VzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcGx5RGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcblxuICAgICAgICAvLyBDbGVhbiB1cCBkZWZhdWx0IGlmIG5vdCBvdmVycmlkZW4gYnkgZGF0YSBhdHRyaWJ1dGVzXG4gICAgICAgIGlmIChvcHRpb25zLnNlcmllc0NvbG9ycyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuc2VyaWVzQ29sb3JzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhlbWVPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5hcHBseVNlcmllc0NvbG9ycygpO1xuICAgIH1cblxuICAgIGdldFNpemUoKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0QXJlYSA9IHRoaXMub3B0aW9ucy5jaGFydEFyZWEgfHwge307XG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2hhcnRBcmVhLndpZHRoID8gcGFyc2VJbnQoY2hhcnRBcmVhLndpZHRoLCAxMCkgOiBNYXRoLmZsb29yKHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGNoYXJ0QXJlYS5oZWlnaHQgPyBwYXJzZUludChjaGFydEFyZWEuaGVpZ2h0LCAxMCkgOiBNYXRoLmZsb29yKHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlc2l6ZShmb3JjZSkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTaXplID0gdGhpcy5fc2l6ZTtcbiAgICAgICAgY29uc3QgaGFzU2l6ZSA9IHNpemUud2lkdGggPiAwIHx8IHNpemUuaGVpZ2h0ID4gMDtcblxuICAgICAgICBpZiAoZm9yY2UgfHwgaGFzU2l6ZSAmJiAoIWN1cnJlbnRTaXplIHx8IHNpemUud2lkdGggIT09IGN1cnJlbnRTaXplLndpZHRoIHx8IHNpemUuaGVpZ2h0ICE9PSBjdXJyZW50U2l6ZS5oZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZShzaXplLCBmb3JjZSk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJyZXNpemVcIiwgc2l6ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzU2l6ZSAmJiB0aGlzLl9zZWxlY3Rpb25zICYmIHRoaXMuX3NlbGVjdGlvbnMuZmluZChzID0+ICFzLnZpc2libGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95U2VsZWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fc2V0dXBTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIHRoaXMuX25vVHJhbnNpdGlvbnNSZWRyYXcoKTtcbiAgICB9XG5cbiAgICByZWRyYXcocGFuZU5hbWUpIHtcbiAgICAgICAgdGhpcy5hcHBseURlZmF1bHRzKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlTZXJpZXNDb2xvcnMoKTtcblxuICAgICAgICBpZiAocGFuZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fbW9kZWwuX3Bsb3RBcmVhO1xuICAgICAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLmZpbmRQYW5lKHBhbmVOYW1lKTtcbiAgICAgICAgICAgIHBsb3RBcmVhLnJlZHJhdyhwYW5lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0QXhpcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiBmaW5kQXhpc0J5TmFtZShuYW1lLCB0aGlzLl9wbG90QXJlYS5heGVzKTtcbiAgICB9XG5cbiAgICBmaW5kQXhpc0J5TmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF4aXMobmFtZSk7XG4gICAgfVxuXG4gICAgZmluZFBhbmVCeU5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBhbmVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChwYW5lc1tpZHhdLm9wdGlvbnMubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2hhcnRQYW5lKHBhbmVzW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmluZFBhbmVCeUluZGV4KGlkeCkge1xuICAgICAgICBjb25zdCBwYW5lcyA9IHRoaXMuX3Bsb3RBcmVhLnBhbmVzO1xuICAgICAgICBpZiAocGFuZXNbaWR4XSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaGFydFBhbmUocGFuZXNbaWR4XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwbG90QXJlYSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFydFBsb3RBcmVhKHRoaXMuX3Bsb3RBcmVhKTtcbiAgICB9XG5cbiAgICB0b2dnbGVIaWdobGlnaHQoc2hvdywgZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fcGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IGZpcnN0U2VyaWVzID0gKHBsb3RBcmVhLnNyY1NlcmllcyB8fCBwbG90QXJlYS5zZXJpZXMgfHwgW10pWzBdO1xuICAgICAgICBsZXQgcG9pbnRzO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IHBsb3RBcmVhLmZpbHRlclBvaW50cyhmaWx0ZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlcmllc05hbWUsIGNhdGVnb3J5TmFtZTtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChmaWx0ZXIpKSB7XG4gICAgICAgICAgICAgICAgc2VyaWVzTmFtZSA9IGZpbHRlci5zZXJpZXM7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlOYW1lID0gZmlsdGVyLmNhdGVnb3J5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJpZXNOYW1lID0gY2F0ZWdvcnlOYW1lID0gZmlsdGVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gRE9OVVQpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwb2ludEJ5Q2F0ZWdvcnlOYW1lKHBsb3RBcmVhLnBvaW50c0J5U2VyaWVzTmFtZShzZXJpZXNOYW1lKSwgY2F0ZWdvcnlOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gUElFIHx8IGZpcnN0U2VyaWVzLnR5cGUgPT09IEZVTk5FTCkge1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50QnlDYXRlZ29yeU5hbWUoKHBsb3RBcmVhLmNoYXJ0c1swXSB8fCB7fSkucG9pbnRzLCBjYXRlZ29yeU5hbWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBwbG90QXJlYS5wb2ludHNCeVNlcmllc05hbWUoc2VyaWVzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBvaW50c0hpZ2hsaWdodChzaG93LCBwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlUG9pbnRzSGlnaGxpZ2h0KHNob3csIHBvaW50cykge1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSB0aGlzLl9oaWdobGlnaHQ7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBvaW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBoaWdobGlnaHQudG9nZ2xlUG9pbnRIaWdobGlnaHQocG9pbnRzW2lkeF0sIHNob3cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd1Rvb2x0aXAoZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHNoYXJlZCA9IHRoaXMuX3NoYXJlZFRvb2x0aXAoKTtcbiAgICAgICAgY29uc3QgeyBfdG9vbHRpcDogdG9vbHRpcCwgX3Bsb3RBcmVhOiBwbG90QXJlYSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHBvaW50LCBjYXRlZ29yeUluZGV4O1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICAgICAgICAgIHBvaW50ID0gcGxvdEFyZWEuZmluZFBvaW50KGZpbHRlcik7XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgc2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCA9IHBvaW50LmNhdGVnb3J5SXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcmVkICYmIGRlZmluZWQoZmlsdGVyKSkge1xuICAgICAgICAgICAgY2F0ZWdvcnlJbmRleCA9IHBsb3RBcmVhLmNhdGVnb3J5QXhpcy5jYXRlZ29yeUluZGV4KGZpbHRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcmVkKSB7XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5fcGxvdEFyZWEucG9pbnRzQnlDYXRlZ29yeUluZGV4KGNhdGVnb3J5SW5kZXgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuc2hvd0F0KHBvaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgIHRvb2x0aXAuc2hvdyhwb2ludCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoaWRlVG9vbHRpcCgpIHtcbiAgICAgICAgdGhpcy5fdG9vbHRpcC5oaWRlKCk7XG4gICAgfVxuXG4gICAgX2luaXRTdXJmYWNlKCkge1xuICAgICAgICBjb25zdCBzdXJmYWNlID0gdGhpcy5zdXJmYWNlO1xuICAgICAgICBjb25zdCB3cmFwID0gdGhpcy5fc3VyZmFjZVdyYXAoKTtcblxuICAgICAgICBjb25zdCBjaGFydEFyZWEgPSB0aGlzLm9wdGlvbnMuY2hhcnRBcmVhIHx8IHt9O1xuICAgICAgICBpZiAoY2hhcnRBcmVhLndpZHRoKSB7XG4gICAgICAgICAgICBlbGVtZW50U2l6ZSh3cmFwLCB7IHdpZHRoOiBjaGFydEFyZWEud2lkdGggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJ0QXJlYS5oZWlnaHQpIHtcbiAgICAgICAgICAgIGVsZW1lbnRTaXplKHdyYXAsIHsgaGVpZ2h0OiBjaGFydEFyZWEuaGVpZ2h0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdXJmYWNlIHx8IHN1cmZhY2Uub3B0aW9ucy50eXBlICE9PSB0aGlzLm9wdGlvbnMucmVuZGVyQXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IGRyYXcuU3VyZmFjZS5jcmVhdGUod3JhcCwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5yZW5kZXJBc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5iaW5kKFwibW91c2VlbnRlclwiLCB0aGlzLl9zdXJmYWNlTW91c2VlbnRlckhhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmJpbmQoXCJtb3VzZWxlYXZlXCIsIHRoaXMuX3N1cmZhY2VNb3VzZWxlYXZlSGFuZGxlcik7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N1cmZhY2VXcmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cblxuICAgIF9yZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwoKTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBtb2RlbC5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBtb2RlbC5vcHRpb25zLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lWaWV3KCk7XG5cbiAgICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy5fcGxvdEFyZWEgPSBtb2RlbC5fcGxvdEFyZWE7XG5cbiAgICAgICAgbW9kZWwucmVuZGVyVmlzdWFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1vZGVsLnRyYXZlcnNlKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRpb24uc2V0dXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG4gICAgICAgIHRoaXMuc3VyZmFjZS5kcmF3KG1vZGVsLnZpc3VhbCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG1vZGVsLnRyYXZlcnNlKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hbmltYXRpb24ucGxheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdG9vbHRpcCA9IHRoaXMuX2NyZWF0ZVRvb2x0aXAoKTtcbiAgICAgICAgdGhpcy5faGlnaGxpZ2h0ID0gbmV3IEhpZ2hsaWdodCgpO1xuICAgICAgICB0aGlzLl9zZXR1cFNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLl9jcmVhdGVQYW5uYWJsZSgpO1xuICAgICAgICB0aGlzLl9jcmVhdGVab29tU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZU1vdXNld2hlZWxab29tKCk7XG5cbiAgICAgICAgdGhpcy50cmlnZ2VyKFJFTkRFUik7XG4gICAgICAgIHRyaWdnZXJQYW5lUmVuZGVyKHRoaXMuX3Bsb3RBcmVhLnBhbmVzKTtcblxuICAgICAgICBpZiAoIXRoaXMuX25hdlN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxEb21FdmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbChleHBvcnRPcHRpb25zKSB7XG4gICAgICAgIGxldCB2aXN1YWw7XG4gICAgICAgIGlmIChleHBvcnRPcHRpb25zICYmIChleHBvcnRPcHRpb25zLndpZHRoIHx8IGV4cG9ydE9wdGlvbnMuaGVpZ2h0IHx8IGV4cG9ydE9wdGlvbnMub3B0aW9ucykpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGV4cG9ydE9wdGlvbnMub3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGNoYXJ0QXJlYToge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogZXhwb3J0T3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBleHBvcnRPcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjbGVhck1pc3NpbmdWYWx1ZXModGhpcy5fb3JpZ2luYWxPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9pbml0VGhlbWUodGhpcy5vcHRpb25zLCB0aGlzLl90aGVtZSk7XG4gICAgICAgICAgICB0aGlzLmJpbmRDYXRlZ29yaWVzKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwoKTtcblxuICAgICAgICAgICAgbW9kZWwucmVuZGVyVmlzdWFsKCk7XG4gICAgICAgICAgICB0cmlnZ2VyUGFuZVJlbmRlcihtb2RlbC5fcGxvdEFyZWEucGFuZXMpO1xuXG4gICAgICAgICAgICB2aXN1YWwgPSBtb2RlbC52aXN1YWw7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IGN1cnJlbnRPcHRpb25zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmlzdWFsID0gdGhpcy5zdXJmYWNlLmV4cG9ydFZpc3VhbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc3VhbDtcbiAgICB9XG5cbiAgICBfc2hhcmVkVG9vbHRpcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bsb3RBcmVhIGluc3RhbmNlb2YgQ2F0ZWdvcmljYWxQbG90QXJlYSAmJiB0aGlzLm9wdGlvbnMudG9vbHRpcCAmJiB0aGlzLm9wdGlvbnMudG9vbHRpcC5zaGFyZWQ7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVBhbm5hYmxlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAob3B0aW9ucy5wYW5uYWJsZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3Bhbm5hYmxlID0gbmV3IFBhbm5hYmxlKHRoaXMuX3Bsb3RBcmVhLCBvcHRpb25zLnBhbm5hYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVab29tU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCB6b29tYWJsZSA9IHRoaXMub3B0aW9ucy56b29tYWJsZTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gKHpvb21hYmxlIHx8IHt9KS5zZWxlY3Rpb247XG4gICAgICAgIGlmICh6b29tYWJsZSAhPT0gZmFsc2UgJiYgc2VsZWN0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbiA9IG5ldyBab29tU2VsZWN0aW9uKHRoaXMsIHNlbGVjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlTW91c2V3aGVlbFpvb20oKSB7XG4gICAgICAgIGNvbnN0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlO1xuICAgICAgICBjb25zdCBtb3VzZXdoZWVsID0gKHpvb21hYmxlIHx8IHt9KS5tb3VzZXdoZWVsO1xuICAgICAgICBpZiAoem9vbWFibGUgIT09IGZhbHNlICYmIG1vdXNld2hlZWwgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsWm9vbSA9IG5ldyBNb3VzZXdoZWVsWm9vbSh0aGlzLCBtb3VzZXdoZWVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF90b2dnbGVEcmFnWm9vbUV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgcGFubmFibGUgPSB0aGlzLm9wdGlvbnMucGFubmFibGU7XG4gICAgICAgIGNvbnN0IHpvb21hYmxlID0gdGhpcy5vcHRpb25zLnpvb21hYmxlO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAoem9vbWFibGUgfHwge30pLnNlbGVjdGlvbjtcbiAgICAgICAgY29uc3QgbW91c2V3aGVlbCA9ICh6b29tYWJsZSB8fCB7fSkubW91c2V3aGVlbDtcbiAgICAgICAgY29uc3QgYWxsb3dEcmFnID0gIXBhbm5hYmxlICYmICh6b29tYWJsZSA9PT0gZmFsc2UgfHwgc2VsZWN0aW9uID09PSBmYWxzZSkgJiYgIXRoaXMucmVxdWlyZXNIYW5kbGVycyhbIERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5EIF0pO1xuICAgICAgICBjb25zdCBhbGxvd1pvb20gPSAoem9vbWFibGUgPT09IGZhbHNlIHx8IG1vdXNld2hlZWwgPT09IGZhbHNlKSAmJiAhdGhpcy5yZXF1aXJlc0hhbmRsZXJzKFsgWk9PTV9TVEFSVCwgWk9PTSwgWk9PTV9FTkQgXSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RyYWdab29tRW5hYmxlZCAmJiBhbGxvd0RyYWcgJiYgYWxsb3dab29tKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uID0gdGhpcy5fdG91Y2hBY3Rpb24gfHwgJyc7XG4gICAgICAgICAgICB0aGlzLl9kcmFnWm9vbUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fZHJhZ1pvb21FbmFibGVkICYmICEoYWxsb3dEcmFnICYmIGFsbG93Wm9vbSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG91Y2hBY3Rpb24gPSBcIm5vbmVcIjtcblxuICAgICAgICAgICAgdGhpcy5fZHJhZ1pvb21FbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RvZ2dsZURvbUV2ZW50cyghYWxsb3dEcmFnLCAhYWxsb3dab29tKTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlRG9tRXZlbnRzKGRyYWcsIHpvb20pIHtcbiAgICAgICAgY29uc3QgZG9tRXZlbnRzID0gdGhpcy5kb21FdmVudHM7XG4gICAgICAgIGlmICghZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tRXZlbnRzLnRvZ2dsZURyYWcpIHtcbiAgICAgICAgICAgIGRvbUV2ZW50cy50b2dnbGVEcmFnKGRyYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvbUV2ZW50cy50b2dnbGVab29tKSB7XG4gICAgICAgICAgICBkb21FdmVudHMudG9nZ2xlWm9vbSh6b29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jcmVhdGVUb29sdGlwKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgdG9vbHRpcDogdG9vbHRpcE9wdGlvbnMgfSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHRvb2x0aXA7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZFRvb2x0aXAoKSkge1xuICAgICAgICAgICAgdG9vbHRpcCA9IHRoaXMuX2NyZWF0ZVNoYXJlZFRvb2x0aXAodG9vbHRpcE9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMuY2hhcnRTZXJ2aWNlLCB0b29sdGlwT3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9vbHRpcDtcbiAgICB9XG5cbiAgICBfY3JlYXRlU2hhcmVkVG9vbHRpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2hhcmVkVG9vbHRpcCh0aGlzLl9wbG90QXJlYSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgYXBwbHlEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpIHtcbiAgICAgICAgYXBwbHlBeGlzRGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKTtcbiAgICAgICAgYXBwbHlTZXJpZXNEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpO1xuICAgIH1cblxuICAgIGFwcGx5U2VyaWVzQ29sb3JzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3QgY29sb3JzID0gb3B0aW9ucy5zZXJpZXNDb2xvcnMgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXJpZXMgPSBzZXJpZXNbaV07XG4gICAgICAgICAgICBjb25zdCBzZXJpZXNDb2xvciA9IGNvbG9yc1tpICUgY29sb3JzLmxlbmd0aF07XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0cyA9IGN1cnJlbnRTZXJpZXMuX2RlZmF1bHRzO1xuXG4gICAgICAgICAgICBjdXJyZW50U2VyaWVzLmNvbG9yID0gY3VycmVudFNlcmllcy5jb2xvciB8fCBzZXJpZXNDb2xvcjtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0cykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzLmNvbG9yID0gZGVmYXVsdHMuY29sb3IgfHwgc2VyaWVzQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0TW9kZWwoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5fY3JlYXRlUGxvdEFyZWEoKTtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBuZXcgUm9vdEVsZW1lbnQodGhpcy5fbW9kZWxPcHRpb25zKCkpO1xuICAgICAgICBtb2RlbC5jaGFydCA9IHRoaXM7XG4gICAgICAgIG1vZGVsLl9wbG90QXJlYSA9IHBsb3RBcmVhO1xuXG4gICAgICAgIFRpdGxlLmJ1aWxkVGl0bGUob3B0aW9ucy50aXRsZSwgbW9kZWwpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZCAmJiBvcHRpb25zLmxlZ2VuZC52aXNpYmxlKSB7XG4gICAgICAgICAgICBtb2RlbC5hcHBlbmQobmV3IExlZ2VuZChwbG90QXJlYS5vcHRpb25zLmxlZ2VuZCwgdGhpcy5jaGFydFNlcnZpY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlbC5hcHBlbmQocGxvdEFyZWEpO1xuICAgICAgICBtb2RlbC5yZWZsb3coKTtcblxuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgX21vZGVsT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xuXG4gICAgICAgIHJldHVybiBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25zOiBvcHRpb25zLnRyYW5zaXRpb25zLFxuICAgICAgICAgICAgd2lkdGg6IHNpemUud2lkdGggfHwgREVGQVVMVF9XSURUSCxcbiAgICAgICAgICAgIGhlaWdodDogc2l6ZS5oZWlnaHQgfHwgREVGQVVMVF9IRUlHSFRcbiAgICAgICAgfSwgb3B0aW9ucy5jaGFydEFyZWEpO1xuICAgIH1cblxuICAgIF9jcmVhdGVQbG90QXJlYShza2lwU2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSBQbG90QXJlYUZhY3RvcnkuY3VycmVudC5jcmVhdGUoc2tpcFNlcmllcyA/IFtdIDogb3B0aW9ucy5zZXJpZXMsIG9wdGlvbnMsIHRoaXMuY2hhcnRTZXJ2aWNlKTtcblxuICAgICAgICByZXR1cm4gcGxvdEFyZWE7XG4gICAgfVxuXG4gICAgX3NldHVwU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCB7IF9wbG90QXJlYTogeyBheGVzIH0gfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gYXhlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBheGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoYXhpcyBpbnN0YW5jZW9mIENhdGVnb3J5QXhpcyAmJiBvcHRpb25zLnNlbGVjdCAmJiAhb3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gYXhpcy5yYW5nZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvbih0aGlzLCBheGlzLFxuICAgICAgICAgICAgICAgICAgICBkZWVwRXh0ZW5kKHsgbWluOiByYW5nZS5taW4sIG1heDogcmFuZ2UubWF4IH0sIG9wdGlvbnMuc2VsZWN0KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25zLnB1c2goc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZWxlY3RTdGFydChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXIoU0VMRUNUX1NUQVJULCBlKTtcbiAgICB9XG5cbiAgICBfc2VsZWN0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJpZ2dlcihTRUxFQ1QsIGUpO1xuICAgIH1cblxuICAgIF9zZWxlY3RFbmQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmlnZ2VyKFNFTEVDVF9FTkQsIGUpO1xuICAgIH1cblxuICAgIF9pbml0SGFuZGxlcnMoKSB7XG4gICAgICAgIHRoaXMuX2NsaWNrSGFuZGxlciA9IHRoaXMuX2NsaWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX21vdXNld2hlZWxIYW5kbGVyID0gdGhpcy5fbW91c2V3aGVlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9tb3VzZWxlYXZlSGFuZGxlciA9IHRoaXMuX21vdXNlbGVhdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc3VyZmFjZU1vdXNlZW50ZXJIYW5kbGVyID0gdGhpcy5fbW91c2VvdmVyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3N1cmZhY2VNb3VzZWxlYXZlSGFuZGxlciA9IHRoaXMuX21vdXNlb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fbW91c2Vtb3ZlID0gdGhyb3R0bGUoXG4gICAgICAgICAgICB0aGlzLl9tb3VzZW1vdmUuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIE1PVVNFTU9WRV9ERUxBWVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFkZE9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcXVpcmVzSGFuZGxlcnMoZXZlbnROYW1lcykge1xuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlcnNbaWR4XS5yZXF1aXJlc0hhbmRsZXJzKGV2ZW50TmFtZXMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWUsIGFyZ3MgPSB7fSkge1xuICAgICAgICBpZiAobmFtZSA9PT0gU0hPV19UT09MVElQKSB7XG4gICAgICAgICAgICBhcmdzLmFuY2hvci5wb2ludCA9IHRoaXMuX3RvRG9jdW1lbnRDb29yZGluYXRlcyhhcmdzLmFuY2hvci5wb2ludCk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5zZW5kZXIgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICBsZXQgaXNEZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG9ic2VydmVycy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJzW2lkeF0udHJpZ2dlcihuYW1lLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNEZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIF9hdHRhY2hFdmVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5fdG91Y2hBY3Rpb24gPSBlbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uO1xuXG4gICAgICAgIGJpbmRFdmVudHMoZWxlbWVudCwge1xuICAgICAgICAgICAgWyBDT05URVhUTUVOVSBdOiB0aGlzLl9jbGlja0hhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFV0hFRUwgXTogdGhpcy5fbW91c2V3aGVlbEhhbmRsZXIsXG4gICAgICAgICAgICBbIE1PVVNFTEVBVkUgXTogdGhpcy5fbW91c2VsZWF2ZUhhbmRsZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nob3VsZEF0dGFjaE1vdXNlTW92ZSgpKSB7XG4gICAgICAgICAgICBiaW5kRXZlbnRzKGVsZW1lbnQsIHsgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2Vtb3ZlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kb21FdmVudHMgPSBEb21FdmVudHNCdWlsZGVyLmNyZWF0ZSh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl9zdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgbW92ZTogdGhpcy5fbW92ZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZW5kOiB0aGlzLl9lbmQuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRhcDogdGhpcy5fdGFwLmJpbmQodGhpcyksXG4gICAgICAgICAgICBnZXN0dXJlc3RhcnQ6IHRoaXMuX2dlc3R1cmVzdGFydC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZWNoYW5nZTogdGhpcy5fZ2VzdHVyZWNoYW5nZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2VzdHVyZWVuZDogdGhpcy5fZ2VzdHVyZWVuZC5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZURyYWdab29tRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgX21vdXNlbGVhdmUoZSkge1xuICAgICAgICBpZiAodGhpcy5faG92ZXJlZFBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQub3V0KHRoaXMsIGUpO1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wbG90QXJlYS5ob3ZlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoUExPVF9BUkVBX0xFQVZFKTtcbiAgICAgICAgICAgIHRoaXMuX3Bsb3RBcmVhLmhvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jYW5jZWxEb21FdmVudHMoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbUV2ZW50cyAmJiB0aGlzLmRvbUV2ZW50cy5jYW5jZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tRXZlbnRzLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dlc3R1cmVzdGFydChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb3VzZXdoZWVsWm9vbSAmJiAhdGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVEaXN0YW5jZSA9IGUuZGlzdGFuY2U7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2Uuc3VzcGVuZFRyYWNraW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZWVuZChlKSB7XG4gICAgICAgIGlmICh0aGlzLl96b29taW5nICYmICF0aGlzLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFpPT01fRU5ELCB7fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2VzdHVyZWNoYW5nZShlKSB7XG4gICAgICAgIGNvbnN0IG1vdXNld2hlZWxab29tID0gdGhpcy5fbW91c2V3aGVlbFpvb207XG5cbiAgICAgICAgaWYgKG1vdXNld2hlZWxab29tICYmICF0aGlzLl9zdG9wQ2hhcnRIYW5kbGVycyhlKSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNHZXN0dXJlRGlzdGFuY2UgPSB0aGlzLl9nZXN0dXJlRGlzdGFuY2U7XG4gICAgICAgICAgICBsZXQgc2NhbGVEZWx0YSA9IC1lLmRpc3RhbmNlIC8gcHJldmlvdXNHZXN0dXJlRGlzdGFuY2UgKyAxO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2NhbGVEZWx0YSkgPj0gMC4xKSB7XG4gICAgICAgICAgICAgICAgc2NhbGVEZWx0YSA9IE1hdGgucm91bmQoc2NhbGVEZWx0YSAqIDEwKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2dlc3R1cmVEaXN0YW5jZSA9IGUuZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IHsgZGVsdGE6IHNjYWxlRGVsdGEsIGF4aXNSYW5nZXM6IGF4aXNSYW5nZXModGhpcy5fcGxvdEFyZWEuYXhlcyksIG9yaWdpbmFsRXZlbnQ6IGUgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fem9vbWluZyB8fCAhdGhpcy50cmlnZ2VyKFpPT01fU1RBUlQsIGFyZ3MpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLl96b29taW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl96b29taW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IGFyZ3MuYXhpc1JhbmdlcyA9IG1vdXNld2hlZWxab29tLnVwZGF0ZVJhbmdlcyhzY2FsZURlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsWm9vbS56b29tKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VvdXQoZSkge1xuICAgICAgICBpZiAoZS5lbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fZHJhd2luZ0NoYXJ0RWxlbWVudChlLmVsZW1lbnQsIGUpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50LmxlYXZlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5sZWF2ZSh0aGlzLCBlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0KGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcblxuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkgfHwgIXRoaXMuX3Bsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3JkcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZXNIYW5kbGVycyhbIERSQUdfU1RBUlQsIERSQUcsIERSQUdfRU5EIF0pKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGFydE5hdmlnYXRpb24oZSwgY29vcmRzLCBEUkFHX1NUQVJUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYW5uYWJsZSAmJiB0aGlzLl9wYW5uYWJsZS5zdGFydChlKSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnN1c3BlbmRUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0U2VydmljZS5wYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl96b29tU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbVNlbGVjdGlvbi5zdGFydChlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX1NUQVJULCB7IGF4aXNSYW5nZXM6IGF4aXNSYW5nZXModGhpcy5fcGxvdEFyZWEuYXhlcyksIG9yaWdpbmFsRXZlbnQ6IGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW92ZShlKSB7XG4gICAgICAgIGxldCB7IF9uYXZTdGF0ZTogc3RhdGUsIF9wYW5uYWJsZTogcGFubmFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFubmFibGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHBhbm5hYmxlLm1vdmUoZSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZXMgJiYgIXRoaXMudHJpZ2dlcihEUkFHLCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KSkge1xuICAgICAgICAgICAgICAgIHBhbm5hYmxlLnBhbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZXMgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IGF4ZXMgPSBzdGF0ZS5heGVzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXhpcyA9IGF4ZXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgYXhpc05hbWUgPSBjdXJyZW50QXhpcy5vcHRpb25zLm5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBjdXJyZW50QXhpcy5vcHRpb25zLnZlcnRpY2FsID8gZS55IDogZS54O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGF4aXMuc3RhcnRMb2NhdGlvbiAtIGF4aXMubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbY3VycmVudEF4aXMub3B0aW9ucy5uYW1lXSA9IGN1cnJlbnRBeGlzLnRyYW5zbGF0ZVJhbmdlKGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGUuYXhpc1JhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihEUkFHLCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogcmFuZ2VzLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21TZWxlY3Rpb24ubW92ZShlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmQoZSkge1xuICAgICAgICBpZiAodGhpcy5fc3RvcENoYXJ0SGFuZGxlcnMoZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhbm5hYmxlID0gdGhpcy5fcGFubmFibGU7XG4gICAgICAgIGlmIChwYW5uYWJsZSAmJiBwYW5uYWJsZS5lbmQoZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXN1bWVUcmFja2luZygpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKERSQUdfRU5ELCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogYXhpc1Jhbmdlcyh0aGlzLl9wbG90QXJlYS5heGVzKSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzSG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnBhbm5pbmcgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VuZE5hdmlnYXRpb24oZSwgRFJBR19FTkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3pvb21TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMuX3pvb21TZWxlY3Rpb24uZW5kKGUpO1xuICAgICAgICAgICAgaWYgKHJhbmdlcyAmJiAhdGhpcy50cmlnZ2VyKFpPT00sIHsgYXhpc1JhbmdlczogcmFuZ2VzLCBvcmlnaW5hbEV2ZW50OiBlIH0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbi56b29tKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFpPT01fRU5ELCB7IGF4aXNSYW5nZXM6IHJhbmdlcywgb3JpZ2luYWxFdmVudDogZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zdG9wQ2hhcnRIYW5kbGVycyhlKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zIHx8IFtdO1xuICAgICAgICBpZiAoIXNlbGVjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5fcGxvdEFyZWEucGFuZUJ5UG9pbnQoY29vcmRzKTtcbiAgICAgICAgaWYgKHBhbmUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNlbGVjdGlvbnMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25zW2lkeF0ub25QYW5lKHBhbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3VzZXdoZWVsKGUpIHtcbiAgICAgICAgY29uc3QgZGVsdGEgPSBtb3VzZXdoZWVsRGVsdGEoZSk7XG4gICAgICAgIGNvbnN0IG1vdXNld2hlZWxab29tID0gdGhpcy5fbW91c2V3aGVlbFpvb207XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDaGFydEhhbmRsZXJzKGUpIHx8ICF0aGlzLl9wbG90QXJlYS5iYWNrZ3JvdW5kQ29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW91c2V3aGVlbFpvb20pIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB7IGRlbHRhOiBkZWx0YSwgYXhpc1JhbmdlczogYXhpc1Jhbmdlcyh0aGlzLl9wbG90QXJlYS5heGVzKSwgb3JpZ2luYWxFdmVudDogZSB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21pbmcgfHwgIXRoaXMudHJpZ2dlcihaT09NX1NUQVJULCBhcmdzKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fem9vbWluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5zdXNwZW5kVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fem9vbWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX213VGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbXdUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhcmdzLmF4aXNSYW5nZXMgPSBtb3VzZXdoZWVsWm9vbS51cGRhdGVSYW5nZXMoZGVsdGEpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmF4aXNSYW5nZXMgJiYgIXRoaXMudHJpZ2dlcihaT09NLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZXdoZWVsWm9vbS56b29tKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbXdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihaT09NX0VORCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3pvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnJlc3VtZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBNT1VTRVdIRUVMX0RFTEFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuX25hdlN0YXRlO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZlbnRlZCA9IHRoaXMuX3N0YXJ0TmF2aWdhdGlvbihlLCBjb29yZHMsIFpPT01fU1RBUlQpO1xuICAgICAgICAgICAgICAgIGlmICghcHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5fbmF2U3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERlbHRhID0gc3RhdGUudG90YWxEZWx0YSB8fCBkZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS50b3RhbERlbHRhID0gdG90YWxEZWx0YSArIGRlbHRhO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYXhlcyA9IHRoaXMuX25hdlN0YXRlLmF4ZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBheGlzTmFtZSA9IGN1cnJlbnRBeGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF4aXNOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbYXhpc05hbWVdID0gY3VycmVudEF4aXMuc2NhbGVSYW5nZSgtdG90YWxEZWx0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoWk9PTSwge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIGF4aXNSYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX213VGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fbXdUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9td1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5kTmF2aWdhdGlvbihlLCBaT09NX0VORCk7XG4gICAgICAgICAgICAgICAgfSwgTU9VU0VXSEVFTF9ERUxBWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3RhcnROYXZpZ2F0aW9uKGUsIGNvb3JkcywgY2hhcnRFdmVudCkge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX21vZGVsLl9wbG90QXJlYTtcbiAgICAgICAgY29uc3QgcGFuZSA9IHBsb3RBcmVhLmZpbmRQb2ludFBhbmUoY29vcmRzKTtcbiAgICAgICAgY29uc3QgYXhlcyA9IHBsb3RBcmVhLmF4ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgaWYgKCFwYW5lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByYW5nZXMgPSBheGlzUmFuZ2VzKGF4ZXMpO1xuXG4gICAgICAgIGNvbnN0IHByZXZlbnRlZCA9IHRoaXMudHJpZ2dlcihjaGFydEV2ZW50LCB7XG4gICAgICAgICAgICBheGlzUmFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbERvbUV2ZW50cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NIb3ZlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgICAgICB0aGlzLl9uYXZTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICBheGlzUmFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICAgICAgcGFuZTogcGFuZSxcbiAgICAgICAgICAgICAgICBheGVzOiBheGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2VuZE5hdmlnYXRpb24oZSwgY2hhcnRFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5fbmF2U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihjaGFydEV2ZW50LCB7XG4gICAgICAgICAgICAgICAgYXhpc1JhbmdlczogdGhpcy5fbmF2U3RhdGUuYXhpc1JhbmdlcyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzSG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX25hdlN0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRDaGFydEVsZW1lbnQoZSwgbWF0Y2gpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuc3VyZmFjZS5ldmVudFRhcmdldChlKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIG1hdGNoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIG1hdGNoKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZWxlbWVudDtcbiAgICAgICAgbGV0IGNoYXJ0RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgIWNoYXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY3VycmVudC5jaGFydEVsZW1lbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhcnRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hhcnRFbGVtZW50LmFsaWFzRm9yKSB7XG4gICAgICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY2hhcnRFbGVtZW50LmFsaWFzRm9yKGUsIHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjaGFydEVsZW1lbnQgPSBjaGFydEVsZW1lbnQuY2xvc2VzdChtYXRjaCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RWxlbWVudCAmJiBjaGFydEVsZW1lbnQuYWxpYXNGb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRFbGVtZW50ID0gY2hhcnRFbGVtZW50LmFsaWFzRm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2hhcnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2V2ZW50Q29vcmRpbmF0ZXMoZSkge1xuICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IGV2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl90b01vZGVsQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMueCwgY29vcmRpbmF0ZXMueSk7XG4gICAgfVxuXG4gICAgX2VsZW1lbnRQYWRkaW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3BhZGRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGFkZGluZ0xlZnQsIHBhZGRpbmdUb3AgfSA9IGVsZW1lbnRTdHlsZXModGhpcy5lbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0ge1xuICAgICAgICAgICAgICAgIHRvcDogcGFkZGluZ1RvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBwYWRkaW5nTGVmdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgIH1cblxuICAgIF90b0RvY3VtZW50Q29vcmRpbmF0ZXMocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuX2VsZW1lbnRQYWRkaW5nKCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGVsZW1lbnRPZmZzZXQodGhpcy5lbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcm91bmQocG9pbnQueCArIHBhZGRpbmcubGVmdCArIG9mZnNldC5sZWZ0KSxcbiAgICAgICAgICAgIHRvcDogcm91bmQocG9pbnQueSArIHBhZGRpbmcudG9wICsgb2Zmc2V0LnRvcClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfdG9Nb2RlbENvb3JkaW5hdGVzKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMuX2VsZW1lbnRQYWRkaW5nKCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIGNsaWVudFggLSBvZmZzZXQubGVmdCAtIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIGNsaWVudFkgLSBvZmZzZXQudG9wIC0gcGFkZGluZy50b3BcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfdGFwKGUpIHtcbiAgICAgICAgY29uc3QgZHJhd2luZ0VsZW1lbnQgPSB0aGlzLnN1cmZhY2UuZXZlbnRUYXJnZXQoZSk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGRyYXdpbmdFbGVtZW50LCBlKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkVG9vbHRpcCA9IHRoaXMuX3NoYXJlZFRvb2x0aXAoKTtcblxuICAgICAgICBpZiAoIXRoaXMuX3N0YXJ0SG92ZXIoZHJhd2luZ0VsZW1lbnQsIGUpICYmICFzaGFyZWRUb29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLl91bnNldEFjdGl2ZVBvaW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcmVkVG9vbHRpcCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tTaGFyZWRUb29sdGlwKHRoaXMuX2V2ZW50Q29vcmRpbmF0ZXMoZSksIGUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvcGFnYXRlQ2xpY2soZWxlbWVudCwgZSk7XG5cbiAgICAgICAgLy9wYXJ0IG9mIGZpeCBmb3IgaG92ZXIgaXNzdWUgb24gd2luZG93cyB0b3VjaFxuICAgICAgICB0aGlzLmhhbmRsaW5nVGFwID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsaW5nVGFwID0gZmFsc2U7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIF9jbGljayhlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9nZXRDaGFydEVsZW1lbnQoZSk7XG4gICAgICAgIHRoaXMuX3Byb3BhZ2F0ZUNsaWNrKGVsZW1lbnQsIGUpO1xuICAgIH1cblxuICAgIF9wcm9wYWdhdGVDbGljayhlbGVtZW50LCBlKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZWxlbWVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudC5jbGljayh0aGlzLCBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0SG92ZXIoZWxlbWVudCwgZSkge1xuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NIb3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9kcmF3aW5nQ2hhcnRFbGVtZW50KGVsZW1lbnQsIGUsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoZWxlbWVudC5ob3ZlciB8fCBlbGVtZW50Lm92ZXIpICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIFBsb3RBcmVhQmFzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZVBvaW50ID0gdGhpcy5fYWN0aXZlUG9pbnQ7XG4gICAgICAgIGNvbnN0IGhvdmVyZWRQb2ludCA9IHRoaXMuX2hvdmVyZWRQb2ludDtcblxuICAgICAgICBpZiAoaG92ZXJlZFBvaW50ICYmIGhvdmVyZWRQb2ludCAhPT0gcG9pbnQpIHtcbiAgICAgICAgICAgIGhvdmVyZWRQb2ludC5vdXQodGhpcywgZSk7XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ICYmIGhvdmVyZWRQb2ludCAhPT0gcG9pbnQgJiYgcG9pbnQub3Zlcikge1xuICAgICAgICAgICAgdGhpcy5faG92ZXJlZFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICBwb2ludC5vdmVyKHRoaXMsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvaW50ICYmIGFjdGl2ZVBvaW50ICE9PSBwb2ludCAmJiBwb2ludC5ob3Zlcikge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBwb2ludDtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zaGFyZWRUb29sdGlwKCkgJiYgIXBvaW50LmhvdmVyKHRoaXMsIGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMudG9vbHRpcCwgcG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcE9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b29sdGlwLnNob3cocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodC5zaG93KHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICB9XG5cbiAgICBfbW91c2VvdmVyKGUpIHtcbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLl9zdGFydEhvdmVyKGUuZWxlbWVudCwgZS5vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9vbHRpcFRyYWNraW5nICYmICF0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXIgJiYgIXRoaXMuX3NoYXJlZFRvb2x0aXAoKSkge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyID0gdGhpcy5fbW91c2VNb3ZlVHJhY2tpbmcuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIGJpbmRFdmVudHMoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZU1vdmVUcmFja0hhbmRsZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdXNlTW92ZVRyYWNraW5nKGUpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBfdG9vbHRpcDogdG9vbHRpcCwgX2hpZ2hsaWdodDogaGlnaGxpZ2h0LCBfYWN0aXZlUG9pbnQ6IHBvaW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wbG90QXJlYS5ib3guY29udGFpbnNQb2ludChjb29yZHMpKSB7XG4gICAgICAgICAgICBpZiAocG9pbnQgJiYgcG9pbnQudG9vbHRpcFRyYWNraW5nICYmIHBvaW50LnNlcmllcyAmJiBwb2ludC5wYXJlbnQuZ2V0TmVhcmVzdFBvaW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWVzUG9pbnQgPSBwb2ludC5wYXJlbnQuZ2V0TmVhcmVzdFBvaW50KGNvb3Jkcy54LCBjb29yZHMueSwgcG9pbnQuc2VyaWVzSXgpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJpZXNQb2ludCAmJiBzZXJpZXNQb2ludCAhPT0gcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBzZXJpZXNQb2ludDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlcmllc1BvaW50LmhvdmVyKHRoaXMsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b29sdGlwT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMudG9vbHRpcCwgc2VyaWVzUG9pbnQub3B0aW9ucy50b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5zaG93KHNlcmllc1BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0LnNob3coc2VyaWVzUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5iaW5kRXZlbnRzKGRvY3VtZW50LCB7XG4gICAgICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gdGhpcy5fZXZlbnRDb29yZGluYXRlcyhlKTtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcblxuICAgICAgICB0aGlzLl90cmFja0Nyb3NzaGFpcnMoY29vcmRzKTtcblxuICAgICAgICBpZiAocGxvdEFyZWEuaG92ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG92ZXJQbG90QXJlYSA9IHBsb3RBcmVhLmJhY2tncm91bmRDb250YWluc1BvaW50KGNvb3Jkcyk7XG4gICAgICAgICAgICBpZiAob3ZlclBsb3RBcmVhKSB7XG4gICAgICAgICAgICAgICAgcGxvdEFyZWEuaG92ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxvdEFyZWEuaG92ZXIodGhpcywgZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsb3RBcmVhLmhvdmVyZWQgJiYgIW92ZXJQbG90QXJlYSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihQTE9UX0FSRUFfTEVBVkUpO1xuICAgICAgICAgICAgICAgIHBsb3RBcmVhLmhvdmVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zaGFyZWRUb29sdGlwKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMsIGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RyYWNrQ3Jvc3NoYWlycyhjb29yZHMpIHtcbiAgICAgICAgY29uc3QgY3Jvc3NoYWlycyA9IHRoaXMuX3Bsb3RBcmVhLmNyb3NzaGFpcnM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcm9zc2hhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gY3Jvc3NoYWlyc1tpXTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuYm94LmNvbnRhaW5zUG9pbnQoY29vcmRzKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuc2hvd0F0KGNvb3Jkcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RyYWNrU2hhcmVkVG9vbHRpcChjb29yZHMsIGUsIHRvZ2dsZSkge1xuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NIb3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBvcHRpb25zOiB7IHRvb2x0aXA6IHRvb2x0aXBPcHRpb25zIH0sIF9wbG90QXJlYTogcGxvdEFyZWEsIF9wbG90QXJlYTogeyBjYXRlZ29yeUF4aXMgfSwgX3Rvb2x0aXA6IHRvb2x0aXAsIF9oaWdobGlnaHQ6IGhpZ2hsaWdodCB9ID0gdGhpcztcblxuICAgICAgICBpZiAocGxvdEFyZWEuYmFja2dyb3VuZENvbnRhaW5zUG9pbnQoY29vcmRzKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYXRlZ29yeUF4aXMucG9pbnRDYXRlZ29yeUluZGV4KGNvb3Jkcyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IHRoaXMuX3Rvb2x0aXBDYXRlZ29yeUl4IHx8ICghdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ICYmIHRvZ2dsZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludHMgPSBwbG90QXJlYS5wb2ludHNCeUNhdGVnb3J5SW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50QXJncyA9IHBvaW50cy5tYXAoZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmV2ZW50QXJncyhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBob3ZlckFyZ3MgPSBwb2ludEFyZ3NbMF0gfHwge307XG4gICAgICAgICAgICAgICAgaG92ZXJBcmdzLmNhdGVnb3J5UG9pbnRzID0gcG9pbnRBcmdzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPiAwICYmICF0aGlzLnRyaWdnZXIoU0VSSUVTX0hPVkVSLCBob3ZlckFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwT3B0aW9ucy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnNob3dBdChwb2ludHMsIGNvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHQuc2hvdyhwb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcENhdGVnb3J5SXggPSBpbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodG9nZ2xlICYmIHRoaXMuX3NoYXJlZEhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc2hhcmVkSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBoaWdobGlnaHQuaGlkZSgpO1xuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwQ2F0ZWdvcnlJeCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9zaGFyZWRIaWdobGlnaHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLl9wbG90QXJlYTtcbiAgICAgICAgdGhpcy5fbW91c2Vtb3ZlLmNhbmNlbCgpO1xuXG4gICAgICAgIHBsb3RBcmVhLmhpZGVDcm9zc2hhaXJzKCk7XG5cbiAgICAgICAgdGhpcy5fdW5zZXRBY3RpdmVQb2ludCgpO1xuICAgIH1cblxuICAgIF91bnNldEFjdGl2ZVBvaW50KCkge1xuICAgICAgICBjb25zdCB7IF90b29sdGlwOiB0b29sdGlwLCBfaGlnaGxpZ2h0OiBoaWdobGlnaHQgfSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlUG9pbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkUG9pbnQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Rvb2x0aXBDYXRlZ29yeUl4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2hhcmVkSGlnaGxpZ2h0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGhpZ2hsaWdodCkge1xuICAgICAgICAgICAgaGlnaGxpZ2h0LmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZWZlclJlZHJhdygpIHtcbiAgICAgICAgdGhpcy5fcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgX2NsZWFyUmVkcmF3VGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZHJhd1RpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcmVkcmF3VGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZWRyYXdUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmRDYXRlZ29yaWVzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IFtdLmNvbmNhdChvcHRpb25zLmNhdGVnb3J5QXhpcyk7XG5cbiAgICAgICAgZm9yIChsZXQgYXhpc0l4ID0gMDsgYXhpc0l4IDwgZGVmaW5pdGlvbnMubGVuZ3RoOyBheGlzSXgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGRlZmluaXRpb25zW2F4aXNJeF07XG4gICAgICAgICAgICBpZiAoYXhpcy5hdXRvQmluZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRDYXRlZ29yeUF4aXNGcm9tU2VyaWVzKGF4aXMsIGF4aXNJeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBiaW5kQ2F0ZWdvcnlBeGlzRnJvbVNlcmllcyhheGlzLCBheGlzSXgpIHtcbiAgICAgICAgY29uc3Qgc2VyaWVzID0gdGhpcy5vcHRpb25zLnNlcmllcztcbiAgICAgICAgY29uc3Qgc2VyaWVzTGVuZ3RoID0gc2VyaWVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdW5pcXVlQ2F0ZWdvcmllcyA9IG5ldyBIYXNoTWFwKCk7Ly9wZXJmIGltcHJvdmVtZW50IGluIGNhc2UgdHlwZSBjYXRlZ29yeSB3aXRoIGRhdGVzXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICBsZXQgYmluZGFibGUgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRhdGVBeGlzO1xuXG4gICAgICAgIGZvciAobGV0IHNlcmllc0l4ID0gMDsgc2VyaWVzSXggPCBzZXJpZXNMZW5ndGg7IHNlcmllc0l4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBzZXJpZXNbc2VyaWVzSXhdO1xuICAgICAgICAgICAgY29uc3Qgb25BeGlzID0gcy5jYXRlZ29yeUF4aXMgPT09IGF4aXMubmFtZSB8fCAoIXMuY2F0ZWdvcnlBeGlzICYmIGF4aXNJeCA9PT0gMCk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gcy5kYXRhO1xuICAgICAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgYmluZCA9IHMuY2F0ZWdvcnlGaWVsZCAmJiBvbkF4aXM7XG4gICAgICAgICAgICBiaW5kYWJsZSA9IGJpbmQgfHwgYmluZGFibGU7XG5cbiAgICAgICAgICAgIGlmIChiaW5kICYmIGRhdGFMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZGF0ZUF4aXMgPSBpc0RhdGVBeGlzKGF4aXMsIGdldEZpZWxkKHMuY2F0ZWdvcnlGaWVsZCwgZGF0YVswXSkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0Rm4gPSBkYXRlQXhpcyA/IGdldERhdGVGaWVsZCA6IGdldEZpZWxkO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZGF0YUl4ID0gMDsgZGF0YUl4IDwgZGF0YUxlbmd0aDsgZGF0YUl4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVJvdyA9IGRhdGFbZGF0YUl4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnkgPSBnZXRGbihzLmNhdGVnb3J5RmllbGQsIGRhdGFSb3csIHRoaXMuY2hhcnRTZXJ2aWNlLmludGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlQXhpcyB8fCAhdW5pcXVlQ2F0ZWdvcmllcy5nZXQoY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKFsgY2F0ZWdvcnksIGRhdGFSb3cgXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZUF4aXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVDYXRlZ29yaWVzLnNldChjYXRlZ29yeSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGRhdGVBeGlzKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMgPSB1bmlxdWVEYXRlcyhpdGVtcywgZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUNvbXBhcmVyKGFbMF0sIGJbMF0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0cmFuc3Bvc2UoaXRlbXMpO1xuICAgICAgICAgICAgYXhpcy5jYXRlZ29yaWVzID0gcmVzdWx0WzBdO1xuICAgICAgICB9IGVsc2UgaWYgKGJpbmRhYmxlKSB7XG4gICAgICAgICAgICBheGlzLmNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pc0JpbmRhYmxlKHNlcmllcykge1xuICAgICAgICBjb25zdCB2YWx1ZUZpZWxkcyA9IFNlcmllc0JpbmRlci5jdXJyZW50LnZhbHVlRmllbGRzKHNlcmllcyk7XG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVGaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHZhbHVlRmllbGRzW2ldO1xuICAgICAgICAgICAgaWYgKGZpZWxkID09PSBWQUxVRSkge1xuICAgICAgICAgICAgICAgIGZpZWxkID0gXCJmaWVsZFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWVsZCA9IGZpZWxkICsgXCJGaWVsZFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQoc2VyaWVzW2ZpZWxkXSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX25vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCB0cmFuc2l0aW9uc1N0YXRlO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb25zICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3B0aW9ucy50cmFuc2l0aW9ucyA9IGZhbHNlO1xuICAgICAgICAgICAgdHJhbnNpdGlvbnNTdGF0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWRyYXcoKTtcblxuICAgICAgICBpZiAodHJhbnNpdGlvbnNTdGF0ZSkge1xuICAgICAgICAgICAgb3B0aW9ucy50cmFuc2l0aW9ucyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbGVnZW5kSXRlbUhvdmVyKHNlcmllc0luZGV4LCBwb2ludEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgX3Bsb3RBcmVhOiBwbG90QXJlYSwgX2hpZ2hsaWdodDogaGlnaGxpZ2h0IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjdXJyZW50U2VyaWVzID0gKHBsb3RBcmVhLnNyY1NlcmllcyB8fCBwbG90QXJlYS5zZXJpZXMpW3Nlcmllc0luZGV4XTtcbiAgICAgICAgbGV0IGl0ZW1zO1xuXG4gICAgICAgIGlmIChpbkFycmF5KGN1cnJlbnRTZXJpZXMudHlwZSwgWyBQSUUsIERPTlVULCBGVU5ORUwgXSkpIHtcbiAgICAgICAgICAgIGl0ZW1zID0gcGxvdEFyZWEuZmluZFBvaW50KGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LnNlcmllcy5pbmRleCA9PT0gc2VyaWVzSW5kZXggJiYgcG9pbnQuaW5kZXggPT09IHBvaW50SW5kZXg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW1zID0gcGxvdEFyZWEucG9pbnRzQnlTZXJpZXNJbmRleChzZXJpZXNJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBoaWdobGlnaHQuc2hvdyhpdGVtcyk7XG4gICAgfVxuXG4gICAgX3Nob3VsZEF0dGFjaE1vdXNlTW92ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bsb3RBcmVhLmNyb3NzaGFpcnMubGVuZ3RoIHx8ICh0aGlzLl90b29sdGlwICYmIHRoaXMuX3NoYXJlZFRvb2x0aXAoKSkgfHwgdGhpcy5yZXF1aXJlc0hhbmRsZXJzKFsgUExPVF9BUkVBX0hPVkVSLCBQTE9UX0FSRUFfTEVBVkUgXSk7XG4gICAgfVxuXG4gICAgdXBkYXRlTW91c2VNb3ZlSGFuZGxlcigpIHtcbiAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2Vtb3ZlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaG91bGRBdHRhY2hNb3VzZU1vdmUoKSkge1xuICAgICAgICAgICAgYmluZEV2ZW50cyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBbIE1PVVNFTU9WRSBdOiB0aGlzLl9tb3VzZW1vdmVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwbHlPcHRpb25zKG9wdGlvbnMsIHRoZW1lKSB7XG4gICAgICAgIGNsZWFyTWlzc2luZ1ZhbHVlcyh0aGlzLl9vcmlnaW5hbE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMuX29yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHRoZW1lKSB7XG4gICAgICAgICAgICB0aGlzLl90aGVtZSA9IHRoZW1lO1xuICAgICAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UudGhlbWUgPSB0aGVtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0VGhlbWUodGhpcy5vcHRpb25zLCB0aGlzLl90aGVtZSk7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlRHJhZ1pvb21FdmVudHMoKTtcbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMsIHRoZW1lKSB7XG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zKG9wdGlvbnMsIHRoZW1lKTtcbiAgICAgICAgdGhpcy5iaW5kQ2F0ZWdvcmllcygpO1xuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlTW92ZUhhbmRsZXIoKTtcbiAgICB9XG5cbiAgICBzZXREaXJlY3Rpb24ocnRsKSB7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLnJ0bCA9IEJvb2xlYW4ocnRsKTtcbiAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSAmJiB0aGlzLnN1cmZhY2UudHlwZSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lTdXJmYWNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJbnRsU2VydmljZShpbnRsKSB7XG4gICAgICAgIHRoaXMuY2hhcnRTZXJ2aWNlLmludGwgPSBpbnRsO1xuICAgIH1cblxuICAgIG5vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIHRoaXMuX25vVHJhbnNpdGlvbnNSZWRyYXcoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgIHVuYmluZEV2ZW50cyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIFsgQ09OVEVYVE1FTlUgXTogdGhpcy5fY2xpY2tIYW5kbGVyLFxuICAgICAgICAgICAgWyBNT1VTRVdIRUVMIF06IHRoaXMuX21vdXNld2hlZWxIYW5kbGVyLFxuICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2Vtb3ZlLFxuICAgICAgICAgICAgWyBNT1VTRUxFQVZFIF06IHRoaXMuX21vdXNlbGVhdmVIYW5kbGVyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmRvbUV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5kb21FdmVudHMuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZG9tRXZlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21vdXNlTW92ZVRyYWNrSGFuZGxlcikge1xuICAgICAgICAgICAgdW5iaW5kRXZlbnRzKGRvY3VtZW50LCB7XG4gICAgICAgICAgICAgICAgWyBNT1VTRU1PVkUgXTogdGhpcy5fbW91c2VNb3ZlVHJhY2tIYW5kbGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lWaWV3KCk7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveVN1cmZhY2UoKTtcblxuICAgICAgICB0aGlzLl9jbGVhclJlZHJhd1RpbWVvdXQoKTtcbiAgICB9XG5cbiAgICBfZGVzdHJveVN1cmZhY2UoKSB7XG4gICAgICAgIGNvbnN0IHN1cmZhY2UgPSB0aGlzLnN1cmZhY2U7XG4gICAgICAgIGlmIChzdXJmYWNlKSB7XG4gICAgICAgICAgICBzdXJmYWNlLnVuYmluZChcIm1vdXNlZW50ZXJcIiwgdGhpcy5fc3VyZmFjZU1vdXNlZW50ZXJIYW5kbGVyKTtcbiAgICAgICAgICAgIHN1cmZhY2UudW5iaW5kKFwibW91c2VsZWF2ZVwiLCB0aGlzLl9zdXJmYWNlTW91c2VsZWF2ZUhhbmRsZXIpO1xuICAgICAgICAgICAgc3VyZmFjZS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGVzdHJveVNlbGVjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSB0aGlzLl9zZWxlY3Rpb25zO1xuXG4gICAgICAgIGlmIChzZWxlY3Rpb25zKSB7XG4gICAgICAgICAgICB3aGlsZSAoc2VsZWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9ucy5zaGlmdCgpLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kZXN0cm95VmlldygpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9tb2RlbDtcblxuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgIG1vZGVsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVsID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95U2VsZWN0aW9ucygpO1xuXG4gICAgICAgIGlmICh0aGlzLl90b29sdGlwKSB7XG4gICAgICAgICAgICB0aGlzLl90b29sdGlwLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZ2hsaWdodC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fem9vbVNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fem9vbVNlbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fem9vbVNlbGVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9wYW5uYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fcGFubmFibGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Bhbm5hYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX21vdXNld2hlZWxab29tKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZXdoZWVsWm9vbS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fbW91c2V3aGVlbFpvb207XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBeGlzQWxpYXNlcyhvcHRpb25zKSB7XG4gICAgY29uc3QgYWxpYXNlcyA9IEFYSVNfTkFNRVM7XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBhbGlhc2VzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgYWxpYXMgPSBhbGlhc2VzW2lkeF0gKyBcIkF4ZXNcIjtcbiAgICAgICAgaWYgKG9wdGlvbnNbYWxpYXNdKSB7XG4gICAgICAgICAgICBvcHRpb25zW2FsaWFzZXNbaWR4XSArIFwiQXhpc1wiXSA9IG9wdGlvbnNbYWxpYXNdO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbYWxpYXNdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb2ludEJ5Q2F0ZWdvcnlOYW1lKHBvaW50cywgbmFtZSkge1xuICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcG9pbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChwb2ludHNbaWR4XS5jYXRlZ29yeSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbIHBvaW50c1tpZHhdIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5QXhpc0RlZmF1bHRzKG9wdGlvbnMsIHRoZW1lT3B0aW9ucykge1xuICAgIGNvbnN0IHRoZW1lQXhpc0RlZmF1bHRzID0gKCh0aGVtZU9wdGlvbnMgfHwge30pLmF4aXNEZWZhdWx0cykgfHwge307XG4gICAgbGV0IGF4aXNOYW1lLCBheGlzRGVmYXVsdHMsIGF4ZXM7XG5cbiAgICBmdW5jdGlvbiBtYXBBeGlzT3B0aW9ucyhheGlzT3B0aW9ucykge1xuICAgICAgICBjb25zdCBheGlzQ29sb3IgPSAoYXhpc09wdGlvbnMgfHwge30pLmNvbG9yIHx8IGF4aXNEZWZhdWx0cy5jb2xvcjtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVlcEV4dGVuZCh7fSxcbiAgICAgICAgICAgIHRoZW1lQXhpc0RlZmF1bHRzLFxuICAgICAgICAgICAgdGhlbWVBeGlzRGVmYXVsdHNbYXhpc05hbWVdLFxuICAgICAgICAgICAgYXhpc0RlZmF1bHRzLFxuICAgICAgICAgICAgYXhpc0RlZmF1bHRzW2F4aXNOYW1lXSwge1xuICAgICAgICAgICAgICAgIGxpbmU6IHsgY29sb3I6IGF4aXNDb2xvciB9LFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyBjb2xvcjogYXhpc0NvbG9yIH0sXG4gICAgICAgICAgICAgICAgdGl0bGU6IHsgY29sb3I6IGF4aXNDb2xvciB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpc09wdGlvbnNcbiAgICAgICAgKTtcblxuICAgICAgICBkZWxldGUgcmVzdWx0W2F4aXNOYW1lXTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IEFYSVNfTkFNRVMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBheGlzTmFtZSA9IEFYSVNfTkFNRVNbaWR4XSArIFwiQXhpc1wiO1xuICAgICAgICBheGlzRGVmYXVsdHMgPSBvcHRpb25zLmF4aXNEZWZhdWx0cyB8fCB7fTtcbiAgICAgICAgYXhlcyA9IFtdLmNvbmNhdChvcHRpb25zW2F4aXNOYW1lXSk7XG5cbiAgICAgICAgYXhlcyA9IGF4ZXMubWFwKG1hcEF4aXNPcHRpb25zKTtcblxuICAgICAgICBvcHRpb25zW2F4aXNOYW1lXSA9IGF4ZXMubGVuZ3RoID4gMSA/IGF4ZXMgOiBheGVzWzBdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlTZXJpZXNEZWZhdWx0cyhvcHRpb25zLCB0aGVtZU9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXJpZXMgPSBvcHRpb25zLnNlcmllcztcbiAgICBjb25zdCBzZXJpZXNMZW5ndGggPSBzZXJpZXMubGVuZ3RoO1xuICAgIGNvbnN0IHNlcmllc0RlZmF1bHRzID0gb3B0aW9ucy5zZXJpZXNEZWZhdWx0cztcbiAgICBjb25zdCBjb21tb25EZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMuc2VyaWVzRGVmYXVsdHMpO1xuICAgIGNvbnN0IHRoZW1lU2VyaWVzRGVmYXVsdHMgPSB0aGVtZU9wdGlvbnMgPyBkZWVwRXh0ZW5kKHt9LCB0aGVtZU9wdGlvbnMuc2VyaWVzRGVmYXVsdHMpIDoge307XG4gICAgY29uc3QgY29tbW9uVGhlbWVEZWZhdWx0cyA9IGRlZXBFeHRlbmQoe30sIHRoZW1lU2VyaWVzRGVmYXVsdHMpO1xuXG4gICAgY2xlYW51cE5lc3RlZFNlcmllc0RlZmF1bHRzKGNvbW1vbkRlZmF1bHRzKTtcbiAgICBjbGVhbnVwTmVzdGVkU2VyaWVzRGVmYXVsdHMoY29tbW9uVGhlbWVEZWZhdWx0cyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNlcmllc1R5cGUgPSBzZXJpZXNbaV0udHlwZSB8fCBvcHRpb25zLnNlcmllc0RlZmF1bHRzLnR5cGU7XG5cbiAgICAgICAgY29uc3QgYmFzZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKFxuICAgICAgICAgICAgeyBkYXRhOiBbXSB9LFxuICAgICAgICAgICAgY29tbW9uVGhlbWVEZWZhdWx0cyxcbiAgICAgICAgICAgIHRoZW1lU2VyaWVzRGVmYXVsdHNbc2VyaWVzVHlwZV0sXG4gICAgICAgICAgICB7IHRvb2x0aXA6IG9wdGlvbnMudG9vbHRpcCB9LFxuICAgICAgICAgICAgY29tbW9uRGVmYXVsdHMsXG4gICAgICAgICAgICBzZXJpZXNEZWZhdWx0c1tzZXJpZXNUeXBlXVxuICAgICAgICApO1xuXG4gICAgICAgIHNlcmllc1tpXS5fZGVmYXVsdHMgPSBiYXNlT3B0aW9ucztcbiAgICAgICAgc2VyaWVzW2ldID0gZGVlcEV4dGVuZCh7fSwgYmFzZU9wdGlvbnMsIHNlcmllc1tpXSk7XG4gICAgICAgIHNlcmllc1tpXS5kYXRhID0gc2VyaWVzW2ldLmRhdGEgfHwgW107XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjbGVhbnVwTmVzdGVkU2VyaWVzRGVmYXVsdHMoc2VyaWVzRGVmYXVsdHMpIHtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuYmFyO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5jb2x1bW47XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnJhbmdlQ29sdW1uO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5saW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy52ZXJ0aWNhbExpbmU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnBpZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuZG9udXQ7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnZlcnRpY2FsQXJlYTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuc2NhdHRlcjtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuc2NhdHRlckxpbmU7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmJ1YmJsZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMuY2FuZGxlc3RpY2s7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLm9obGM7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmJveFBsb3Q7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLmJ1bGxldDtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMudmVydGljYWxCdWxsZXQ7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnBvbGFyQXJlYTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMucG9sYXJMaW5lO1xuICAgIGRlbGV0ZSBzZXJpZXNEZWZhdWx0cy5yYWRhckFyZWE7XG4gICAgZGVsZXRlIHNlcmllc0RlZmF1bHRzLnJhZGFyTGluZTtcbiAgICBkZWxldGUgc2VyaWVzRGVmYXVsdHMud2F0ZXJmYWxsO1xufVxuXG5cbmZ1bmN0aW9uIGF4aXNSYW5nZXMoYXhlcykge1xuICAgIGNvbnN0IHJhbmdlcyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBheGVzW2ldO1xuICAgICAgICBjb25zdCBheGlzTmFtZSA9IGF4aXMub3B0aW9ucy5uYW1lO1xuICAgICAgICBpZiAoYXhpc05hbWUpIHtcbiAgICAgICAgICAgIHJhbmdlc1theGlzTmFtZV0gPSBheGlzLnJhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2VzO1xufVxuXG5mdW5jdGlvbiBzb3J0RGF0ZXMoZGF0ZXMsIGNvbXBhcmVyID0gZGF0ZUNvbXBhcmVyKSB7XG4gICAgZm9yIChsZXQgaSA9IDEsIGxlbmd0aCA9IGRhdGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb21wYXJlcihkYXRlc1tpXSwgZGF0ZXNbaSAtIDFdKSA8IDApIHtcbiAgICAgICAgICAgIGRhdGVzLnNvcnQoY29tcGFyZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0ZXM7XG59XG5cbmZ1bmN0aW9uIHVuaXF1ZURhdGVzKHNyY0RhdGVzLCBjb21wYXJlciA9IGRhdGVDb21wYXJlcikge1xuICAgIGNvbnN0IGRhdGVzID0gc29ydERhdGVzKHNyY0RhdGVzLCBjb21wYXJlcik7XG4gICAgY29uc3QgbGVuZ3RoID0gZGF0ZXMubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdCA9IGxlbmd0aCA+IDAgPyBbIGRhdGVzWzBdIF0gOiBbXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNvbXBhcmVyKGRhdGVzW2ldLCBsYXN0KHJlc3VsdCkpICE9PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChkYXRlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0cmFuc3Bvc2Uocm93cykge1xuICAgIGNvbnN0IHJvd0NvdW50ID0gcm93cy5sZW5ndGg7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCByb3dJeCA9IDA7IHJvd0l4IDwgcm93Q291bnQ7IHJvd0l4KyspIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcm93c1tyb3dJeF07XG4gICAgICAgIGNvbnN0IGNvbENvdW50ID0gcm93Lmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBjb2xJeCA9IDA7IGNvbEl4IDwgY29sQ291bnQ7IGNvbEl4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtjb2xJeF0gPSByZXN1bHRbY29sSXhdIHx8IFtdO1xuICAgICAgICAgICAgcmVzdWx0W2NvbEl4XS5wdXNoKHJvd1tjb2xJeF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgREFUQV9GSUVMRFMgPSBbICdkYXRhJywgJ2NhdGVnb3JpZXMnIF07XG5cbmZ1bmN0aW9uIGNsZWFyTWlzc2luZ1ZhbHVlcyhvcmlnaW5hbE9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKGxldCBmaWVsZCBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmICghaW5BcnJheShmaWVsZCwgREFUQV9GSUVMRFMpICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlID0gb3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gb3JpZ2luYWxPcHRpb25zW2ZpZWxkXTtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKG9yaWdpbmFsVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVsbFZhbHVlID0gZmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoKG51bGxWYWx1ZSB8fCAhZGVmaW5lZChmaWVsZFZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9yaWdpbmFsT3B0aW9uc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zW2ZpZWxkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3JpZ2luYWxWYWx1ZSAmJiBpc09iamVjdChmaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qob3JpZ2luYWxWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyTWlzc2luZ1ZhbHVlcyhvcmlnaW5hbFZhbHVlLCBmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJpZ2dlclBhbmVSZW5kZXIocGFuZXMpIHtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwYW5lcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHBhbmVzW2lkeF0ubm90aWZ5UmVuZGVyKCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhDaGFydCwge1xuICAgIHJlbmRlckFzOiBcIlwiLFxuICAgIGNoYXJ0QXJlYToge30sXG4gICAgbGVnZW5kOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIGxhYmVsczoge31cbiAgICB9LFxuICAgIGNhdGVnb3J5QXhpczoge30sXG4gICAgc2VyaWVzRGVmYXVsdHM6IHtcbiAgICAgICAgdHlwZTogQ09MVU1OLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsczoge30sXG4gICAgICAgIG5lZ2F0aXZlVmFsdWVzOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXJpZXM6IFtdLFxuICAgIHNlcmllc0NvbG9yczogbnVsbCxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB0cmFuc2l0aW9uczogdHJ1ZSxcbiAgICB2YWx1ZUF4aXM6IHt9LFxuICAgIHBsb3RBcmVhOiB7fSxcbiAgICB0aXRsZToge30sXG4gICAgeEF4aXM6IHt9LFxuICAgIHlBeGlzOiB7fSxcbiAgICBwYW5lczogWyB7fSBdLFxuICAgIHBhbm5hYmxlOiBmYWxzZSxcbiAgICB6b29tYWJsZTogZmFsc2Vcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDaGFydDtcbiIsImltcG9ydCB7IFNoYXJlZFRvb2x0aXAgYXMgQ2hhcnRTaGFyZWRUb29sdGlwIH0gZnJvbSAnLi4vY2hhcnQnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9jb3JlJztcbmNvbnN0IFRPUF9PRkZTRVQgPSAtMjtcblxuY2xhc3MgU2hhcmVkVG9vbHRpcCBleHRlbmRzIENoYXJ0U2hhcmVkVG9vbHRpcCB7XG4gICAgX3Nsb3RBbmNob3IoY29vcmRzLCBzbG90KSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLnBsb3RBcmVhLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBheGlzLm9wdGlvbnMudmVydGljYWw7XG4gICAgICAgIGNvbnN0IGFsaWduID0gdmVydGljYWwgPyB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBcImxlZnRcIixcbiAgICAgICAgICAgIHZlcnRpY2FsOiBcImNlbnRlclwiXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgdmVydGljYWw6IFwiYm90dG9tXCJcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgcG9pbnQ7XG5cbiAgICAgICAgaWYgKHZlcnRpY2FsKSB7XG4gICAgICAgICAgICBwb2ludCA9IG5ldyBQb2ludCh0aGlzLnBsb3RBcmVhLmJveC54Miwgc2xvdC5jZW50ZXIoKS55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvaW50ID0gbmV3IFBvaW50KHNsb3QuY2VudGVyKCkueCwgVE9QX09GRlNFVCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnQ6IHBvaW50LFxuICAgICAgICAgICAgYWxpZ246IGFsaWduXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2RlZmF1bHRBbmNob3IocG9pbnQsIHNsb3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Nsb3RBbmNob3Ioe30sIHNsb3QpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcmVkVG9vbHRpcDsiLCJpbXBvcnQgeyBDaGFydCB9IGZyb20gJy4uL2NoYXJ0JztcbmltcG9ydCB7IEJBUiwgQlVMTEVULCBQSUUsIENPTFVNTiwgVkVSVElDQUxfQlVMTEVUIH0gZnJvbSAnLi4vY2hhcnQvY29uc3RhbnRzJztcbmltcG9ydHsgYWRkQ2xhc3MsIGRlZXBFeHRlbmQsIGVsZW1lbnRTaXplLCBnZXRTcGFjaW5nLCBpbkFycmF5LCBpc0FycmF5LCBpc051bWJlciwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IFNoYXJlZFRvb2x0aXAgZnJvbSAnLi9zaGFyZWQtdG9vbHRpcCc7XG5cbmNvbnN0IERFQVVMVF9CQVJfV0lEVEggPSAxNTA7XG5jb25zdCBERUFVTFRfQlVMTEVUX1dJRFRIID0gMTUwO1xuY29uc3QgTk9fQ1JPU1NIQUlSID0gWyBCQVIsIEJVTExFVCBdO1xuXG5mdW5jdGlvbiBoaWRlKGNoaWxkcmVuKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBbXTtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgc3RhdGVbaWR4XSA9IGNoaWxkLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgIGNoaWxkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHNob3coY2hpbGRyZW4sIHN0YXRlKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBjaGlsZHJlbltpZHhdLnN0eWxlLmRpc3BsYXkgPSBzdGF0ZVtpZHhdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd3JhcE51bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgPyBbIHZhbHVlIF0gOiB2YWx1ZTtcbn1cblxuY2xhc3MgU3BhcmtsaW5lIGV4dGVuZHMgQ2hhcnQge1xuICAgIF9zZXRFbGVtZW50Q2xhc3MoZWxlbWVudCkge1xuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCAnay1zcGFya2xpbmUnKTtcbiAgICB9XG5cbiAgICBfaW5pdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBzdXBlci5faW5pdEVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhbFdpZHRoID0gTWF0aC5mbG9vcihlbGVtZW50U2l6ZShlbGVtZW50KS53aWR0aCk7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBoaWRlKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhbFdpZHRoID0gTWF0aC5mbG9vcihlbGVtZW50U2l6ZShlbGVtZW50KS53aWR0aCk7XG5cbiAgICAgICAgc2hvdyhlbGVtZW50LmNoaWxkTm9kZXMsIHN0YXRlKTtcblxuICAgICAgICBzdXBlci5fcmVzaXplKCk7XG4gICAgfVxuXG4gICAgX21vZGVsT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgY2hhcnRPcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuX3N1cmZhY2VXcmFwKCk7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlTdGF0ZSA9IGhpZGUoc3RhZ2UuY2hpbGROb2Rlcyk7XG5cbiAgICAgICAgY29uc3Qgc3BhY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYWNlLmlubmVySFRNTCA9ICcmbmJzcDsnO1xuXG4gICAgICAgIHN0YWdlLmFwcGVuZENoaWxkKHNwYWNlKTtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gZGVlcEV4dGVuZCh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5fYXV0b1dpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50U2l6ZShzdGFnZSkuaGVpZ2h0LFxuICAgICAgICAgICAgdHJhbnNpdGlvbnM6IGNoYXJ0T3B0aW9ucy50cmFuc2l0aW9uc1xuICAgICAgICB9LCBjaGFydE9wdGlvbnMuY2hhcnRBcmVhLCB7XG4gICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICBhbGlnbjogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudFNpemUoc3RhZ2UsIHtcbiAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodFxuICAgICAgICB9KTtcblxuICAgICAgICBzdGFnZS5yZW1vdmVDaGlsZChzcGFjZSk7XG5cbiAgICAgICAgc2hvdyhzdGFnZS5jaGlsZE5vZGVzLCBkaXNwbGF5U3RhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5yZXNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIF9zdXJmYWNlV3JhcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YWdlKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFnZSA9IHRoaXMuc3RhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3RhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0YWdlO1xuICAgIH1cblxuICAgIF9jcmVhdGVQbG90QXJlYShza2lwU2VyaWVzKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gc3VwZXIuX2NyZWF0ZVBsb3RBcmVhKHNraXBTZXJpZXMpO1xuICAgICAgICB0aGlzLl9hdXRvV2lkdGggPSB0aGlzLl9pbml0aWFsV2lkdGggfHwgdGhpcy5fY2FsY3VsYXRlV2lkdGgocGxvdEFyZWEpO1xuXG4gICAgICAgIHJldHVybiBwbG90QXJlYTtcbiAgICB9XG5cbiAgICBfY2FsY3VsYXRlV2lkdGgocGxvdEFyZWEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFyZ2luID0gZ2V0U3BhY2luZyhvcHRpb25zLmNoYXJ0QXJlYS5tYXJnaW4pO1xuICAgICAgICBjb25zdCBjaGFydHMgPSBwbG90QXJlYS5jaGFydHM7XG4gICAgICAgIGNvbnN0IHN0YWdlID0gdGhpcy5fc3VyZmFjZVdyYXAoKTtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcblxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhcnQgPSBjaGFydHNbaV07XG4gICAgICAgICAgICBjb25zdCBmaXJzdFNlcmllcyA9IChjdXJyZW50Q2hhcnQub3B0aW9ucy5zZXJpZXMgfHwgW10pWzBdO1xuICAgICAgICAgICAgaWYgKCFmaXJzdFNlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmlyc3RTZXJpZXMudHlwZSA9PT0gQkFSKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERFQVVMVF9CQVJfV0lEVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaXJzdFNlcmllcy50eXBlID09PSBCVUxMRVQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gREVBVUxUX0JVTExFVF9XSURUSDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0U2VyaWVzLnR5cGUgPT09IFBJRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50U2l6ZShzdGFnZSkuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yeUF4aXMgPSBjdXJyZW50Q2hhcnQuY2F0ZWdvcnlBeGlzO1xuICAgICAgICAgICAgaWYgKGNhdGVnb3J5QXhpcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50c0NvdW50ID0gY2F0ZWdvcnlBeGlzLmNhdGVnb3JpZXNDb3VudCgpICpcbiAgICAgICAgICAgICAgICAgICAgKCFjdXJyZW50Q2hhcnQub3B0aW9ucy5pc1N0YWNrZWQgJiYgaW5BcnJheShmaXJzdFNlcmllcy50eXBlLCBbIENPTFVNTiwgVkVSVElDQUxfQlVMTEVUIF0pID8gY3VycmVudENoYXJ0LnNlcmllc09wdGlvbnMubGVuZ3RoIDogMSk7XG5cbiAgICAgICAgICAgICAgICB0b3RhbCA9IE1hdGgubWF4KHRvdGFsLCBwb2ludHNDb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2l6ZSA9IHRvdGFsICogb3B0aW9ucy5wb2ludFdpZHRoO1xuICAgICAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHNpemUgKz0gbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlU2hhcmVkVG9vbHRpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2hhcmVkVG9vbHRpcCh0aGlzLl9wbG90QXJlYSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5vcm1hbGl6ZU9wdGlvbnModXNlck9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB3cmFwTnVtYmVyKHVzZXJPcHRpb25zKTtcblxuICAgICAgICBpZiAoaXNBcnJheShvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgc2VyaWVzRGVmYXVsdHM6IHsgZGF0YTogb3B0aW9ucyB9IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuc2VyaWVzKSB7XG4gICAgICAgICAgICBvcHRpb25zLnNlcmllcyA9IFsgeyBkYXRhOiB3cmFwTnVtYmVyKG9wdGlvbnMuZGF0YSkgfSBdO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVlcEV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgICAgICBzZXJpZXNEZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIHR5cGU6IG9wdGlvbnMudHlwZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5BcnJheShvcHRpb25zLnNlcmllc1swXS50eXBlLCBOT19DUk9TU0hBSVIpIHx8XG4gICAgICAgICAgICBpbkFycmF5KG9wdGlvbnMuc2VyaWVzRGVmYXVsdHMudHlwZSwgTk9fQ1JPU1NIQUlSKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NoYWlyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFNwYXJrbGluZSwge1xuICAgIGNoYXJ0QXJlYToge1xuICAgICAgICBtYXJnaW46IDJcbiAgICB9LFxuICAgIGF4aXNEZWZhdWx0czoge1xuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgbWFqb3JHcmlkTGluZXM6IHtcbiAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlQXhpczoge1xuICAgICAgICAgICAgbmFycm93UmFuZ2U6IHRydWVcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWVzRGVmYXVsdHM6IHtcbiAgICAgICAgdHlwZTogXCJsaW5lXCIsXG4gICAgICAgIGFyZWE6IHtcbiAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMC41XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJhcjoge1xuICAgICAgICAgICAgc3RhY2s6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcGFkZGluZzogMixcbiAgICAgICAgd2lkdGg6IDAuNSxcbiAgICAgICAgb3ZlcmxheToge1xuICAgICAgICAgICAgZ3JhZGllbnQ6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpZ2h0OiB7XG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIHNoYXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgIGNyb3NzaGFpcjoge1xuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsZWdlbmQ6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuICAgIHRyYW5zaXRpb25zOiBmYWxzZSxcblxuICAgIHBvaW50V2lkdGg6IDUsXG5cbiAgICBwYW5lczogWyB7IGNsaXA6IGZhbHNlIH0gXVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNwYXJrbGluZTsiLCJpbXBvcnQgeyBkcmF3aW5nIGFzIGRyYXcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5cbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIGVsZW1lbnRTdHlsZXMgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBGYWRlT3V0QW5pbWF0aW9uIGV4dGVuZHMgZHJhdy5BbmltYXRpb24ge1xuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuX2luaXRpYWxPcGFjaXR5ID0gcGFyc2VGbG9hdChlbGVtZW50U3R5bGVzKHRoaXMuZWxlbWVudCwgJ29wYWNpdHknKS5vcGFjaXR5KTtcbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgb3BhY2l0eTogU3RyaW5nKGludGVycG9sYXRlVmFsdWUodGhpcy5faW5pdGlhbE9wYWNpdHksIDAsIHBvcykpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICBzdXBlci5hYm9ydCgpO1xuICAgICAgICBlbGVtZW50U3R5bGVzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICAgICAgb3BhY2l0eTogU3RyaW5nKHRoaXMuX2luaXRpYWxPcGFjaXR5KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHN1cGVyLmFib3J0KCk7XG4gICAgICAgIGVsZW1lbnRTdHlsZXModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBvcGFjaXR5OiBTdHJpbmcodGhpcy5faW5pdGlhbE9wYWNpdHkpXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmFkZU91dEFuaW1hdGlvbjsiLCJpbXBvcnQgeyBDbGFzcywgZGVlcEV4dGVuZCwgZWxlbWVudFN0eWxlcywgZ2V0VGVtcGxhdGUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IHRvRGF0ZSwgdG9UaW1lIH0gZnJvbSAnLi4vZGF0ZS11dGlscyc7XG5pbXBvcnQgRmFkZU91dEFuaW1hdGlvbiBmcm9tICcuL2ZhZGUtb3V0LWFuaW1hdGlvbic7XG5cbmZ1bmN0aW9uIGNyZWF0ZURpdihjbGFzc05hbWUsIHN0eWxlKSB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xuICAgIH1cblxuICAgIHJldHVybiBkaXY7XG59XG5cbmNsYXNzIE5hdmlnYXRvckhpbnQgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBjaGFydFNlcnZpY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5jaGFydFNlcnZpY2UgPSBjaGFydFNlcnZpY2U7XG5cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGVsZW1lbnRTdHlsZXMoY29udGFpbmVyLCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgICAgIHRoaXMuY2hhcnRQYWRkaW5nID0ge1xuICAgICAgICAgICAgdG9wOiBwYWRkaW5nLnBhZGRpbmdUb3AsXG4gICAgICAgICAgICBsZWZ0OiBwYWRkaW5nLnBhZGRpbmdMZWZ0XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jcmVhdGVFbGVtZW50cygpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICBjcmVhdGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudCA9IGNyZWF0ZURpdignay1uYXZpZ2F0b3ItaGludCcsICdkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMXB4OyBsZWZ0OiAxcHg7Jyk7XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2x0aXAgPSBjcmVhdGVEaXYoJ2stdG9vbHRpcCBrLWNoYXJ0LXRvb2x0aXAnKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsID0gdGhpcy5zY3JvbGwgPSBjcmVhdGVEaXYoJ2stc2Nyb2xsJyk7XG5cbiAgICAgICAgdG9vbHRpcC5pbm5lckhUTUwgPSAnJm5ic3A7JztcblxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRvb2x0aXApO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHNjcm9sbCk7XG4gICAgfVxuXG4gICAgc2hvdyhmcm9tLCB0bywgYmJveCkge1xuICAgICAgICBjb25zdCB7IGVsZW1lbnQsIG9wdGlvbnMsIHNjcm9sbCwgdG9vbHRpcCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbWlkZGxlID0gdG9EYXRlKHRvVGltZShmcm9tKSArIHRvVGltZSh0byAtIGZyb20pIC8gMik7XG4gICAgICAgIGNvbnN0IHNjcm9sbFdpZHRoID0gYmJveC53aWR0aCgpICogMC40O1xuICAgICAgICBjb25zdCBtaW5Qb3MgPSBiYm94LmNlbnRlcigpLnggLSBzY3JvbGxXaWR0aDtcbiAgICAgICAgY29uc3QgbWF4UG9zID0gYmJveC5jZW50ZXIoKS54O1xuICAgICAgICBjb25zdCBwb3NSYW5nZSA9IG1heFBvcyAtIG1pblBvcztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBvcHRpb25zLm1heCAtIG9wdGlvbnMubWluO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHBvc1JhbmdlIC8gcmFuZ2U7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG1pZGRsZSAtIG9wdGlvbnMubWluO1xuICAgICAgICBsZXQgdGV4dCA9IHRoaXMuY2hhcnRTZXJ2aWNlLmludGwuZm9ybWF0KG9wdGlvbnMuZm9ybWF0LCBmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZ2V0VGVtcGxhdGUob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jbGVhckhpZGVUaW1lb3V0KCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl92aXNpYmxlKSB7XG4gICAgICAgICAgICBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdG86IHRvXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvb2x0aXAuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgZWxlbWVudFN0eWxlcyh0b29sdGlwLCB7XG4gICAgICAgICAgICBsZWZ0OiBiYm94LmNlbnRlcigpLnggLSB0b29sdGlwLm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgICAgIHRvcDogYmJveC55MVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0b29sdGlwU3R5bGUgPSBlbGVtZW50U3R5bGVzKHRvb2x0aXAsIFsgJ21hcmdpblRvcCcsICdib3JkZXJUb3BXaWR0aCcsICdoZWlnaHQnIF0pO1xuXG4gICAgICAgIGVsZW1lbnRTdHlsZXMoc2Nyb2xsLCB7XG4gICAgICAgICAgICB3aWR0aDogc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICBsZWZ0OiBtaW5Qb3MgKyBvZmZzZXQgKiBzY2FsZSxcbiAgICAgICAgICAgIHRvcDogYmJveC55MSArIHRvb2x0aXBTdHlsZS5tYXJnaW5Ub3AgKyB0b29sdGlwU3R5bGUuYm9yZGVyVG9wV2lkdGggKyB0b29sdGlwU3R5bGUuaGVpZ2h0IC8gMlxuICAgICAgICB9KTtcblxuICAgICAgICBlbGVtZW50U3R5bGVzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6ICd2aXNpYmxlJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjbGVhckhpZGVUaW1lb3V0KCkge1xuICAgICAgICBpZiAodGhpcy5faGlkZVRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9oaWRlVGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGlkZUFuaW1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faGlkZUFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJIaWRlVGltZW91dCgpO1xuXG4gICAgICAgIHRoaXMuX2hpZGVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9oaWRlQW5pbWF0aW9uID0gbmV3IEZhZGVPdXRBbmltYXRpb24odGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVBbmltYXRpb24uc2V0dXAoKTtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVBbmltYXRpb24ucGxheSgpO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaGlkZURlbGF5KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNsZWFySGlkZVRpbWVvdXQoKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hhcnRTZXJ2aWNlO1xuICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50O1xuICAgICAgICBkZWxldGUgdGhpcy50b29sdGlwO1xuICAgICAgICBkZWxldGUgdGhpcy5zY3JvbGw7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhOYXZpZ2F0b3JIaW50LCB7XG4gICAgZm9ybWF0OiBcInswOmR9IC0gezE6ZH1cIixcbiAgICBoaWRlRGVsYXk6IDUwMFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRvckhpbnQ7IiwiY29uc3QgTkFWSUdBVE9SX1BBTkUgPSBcIl9uYXZpZ2F0b3JcIjtcbmNvbnN0IE5BVklHQVRPUl9BWElTID0gTkFWSUdBVE9SX1BBTkU7XG5cbmV4cG9ydCB7IE5BVklHQVRPUl9BWElTLCBOQVZJR0FUT1JfUEFORSB9OyIsImltcG9ydCBOYXZpZ2F0b3JIaW50IGZyb20gJy4vbmF2aWdhdG9yLWhpbnQnO1xuaW1wb3J0IHsgU2VsZWN0aW9uLCBmaWx0ZXJTZXJpZXNCeVR5cGUgfSBmcm9tICcuLi9jaGFydCc7XG5pbXBvcnQgeyBEUkFHLCBEUkFHX0VORCwgRVFVQUxMWV9TUEFDRURfU0VSSUVTLCBaT09NLCBaT09NX0VORCB9IGZyb20gJy4uL2NoYXJ0L2NvbnN0YW50cyc7XG5pbXBvcnQgeyBEYXRlQ2F0ZWdvcnlBeGlzIH0gZnJvbSAnLi4vY29yZSc7XG5pbXBvcnQgeyBhZGREdXJhdGlvbiwgcGFyc2VEYXRlLCB0b0RhdGUsIHRvVGltZSB9IGZyb20gJy4uL2RhdGUtdXRpbHMnO1xuaW1wb3J0IHsgQ2xhc3MsIGRlZXBFeHRlbmQsIGRlZmluZWQsIGdldFRlbXBsYXRlLCBJbnN0YW5jZU9ic2VydmVyLCBsYXN0LCBsaW1pdFZhbHVlLCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBOQVZJR0FUT1JfQVhJUywgTkFWSUdBVE9SX1BBTkUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IFpPT01fQUNDRUxFUkFUSU9OID0gMztcblxuY2xhc3MgTmF2aWdhdG9yIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gZGVlcEV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBjaGFydC5vcHRpb25zLm5hdmlnYXRvcik7XG4gICAgICAgIGNvbnN0IHNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0O1xuICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgICBzZWxlY3QuZnJvbSA9IHRoaXMucGFyc2VEYXRlKHNlbGVjdC5mcm9tKTtcbiAgICAgICAgICAgIHNlbGVjdC50byA9IHRoaXMucGFyc2VEYXRlKHNlbGVjdC50byk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmluZWQob3B0aW9ucy5oaW50LnZpc2libGUpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmhpbnQudmlzaWJsZSA9IG9wdGlvbnMudmlzaWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hhcnRPYnNlcnZlciA9IG5ldyBJbnN0YW5jZU9ic2VydmVyKHRoaXMsIHtcbiAgICAgICAgICAgIFtEUkFHXTogJ19kcmFnJyxcbiAgICAgICAgICAgIFtEUkFHX0VORF06ICdfZHJhZ0VuZCcsXG4gICAgICAgICAgICBbWk9PTV06ICdfem9vbScsXG4gICAgICAgICAgICBbWk9PTV9FTkRdOiAnX3pvb21FbmQnXG4gICAgICAgIH0pO1xuICAgICAgICBjaGFydC5hZGRPYnNlcnZlcih0aGlzLmNoYXJ0T2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIHBhcnNlRGF0ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEYXRlKHRoaXMuY2hhcnQuY2hhcnRTZXJ2aWNlLmludGwsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBjbGVhbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5oaW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYXJ0KSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnJlbW92ZU9ic2VydmVyKHRoaXMuY2hhcnRPYnNlcnZlcik7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jaGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYW4oKTtcbiAgICB9XG5cbiAgICByZWRyYXcoKSB7XG4gICAgICAgIHRoaXMuX3JlZHJhd1NlbGYoKTtcbiAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgaW5pdFNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBjaGFydCwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYXhpcyA9IHRoaXMubWFpbkF4aXMoKTtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gYXhpcy5yb3VuZGVkUmFuZ2UoKTtcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0bywgbW91c2V3aGVlbCB9ID0gb3B0aW9ucy5zZWxlY3Q7XG4gICAgICAgIGNvbnN0IGF4aXNDbG9uZSA9IGNsb25lKGF4aXMpO1xuXG4gICAgICAgIGlmIChheGlzLmNhdGVnb3JpZXNDb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFuKCk7XG5cbiAgICAgICAgLy8gXCJGcmVlemVcIiB0aGUgc2VsZWN0aW9uIGF4aXMgcG9zaXRpb24gdW50aWwgdGhlIG5leHQgcmVkcmF3XG4gICAgICAgIGF4aXNDbG9uZS5ib3ggPSBheGlzLmJveDtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24oY2hhcnQsIGF4aXNDbG9uZSwge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICAgIGZyb206IGZyb20gfHwgbWluLFxuICAgICAgICAgICAgdG86IHRvIHx8IG1heCxcbiAgICAgICAgICAgIG1vdXNld2hlZWw6IHZhbHVlT3JEZWZhdWx0KG1vdXNld2hlZWwsIHsgem9vbTogXCJsZWZ0XCIgfSksXG4gICAgICAgICAgICB2aXNpYmxlOiBvcHRpb25zLnZpc2libGVcbiAgICAgICAgfSwgbmV3IEluc3RhbmNlT2JzZXJ2ZXIodGhpcywge1xuICAgICAgICAgICAgc2VsZWN0U3RhcnQ6ICdfc2VsZWN0U3RhcnQnLFxuICAgICAgICAgICAgc2VsZWN0OiAnX3NlbGVjdCcsXG4gICAgICAgICAgICBzZWxlY3RFbmQ6ICdfc2VsZWN0RW5kJ1xuICAgICAgICB9KSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGludC52aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQgPSBuZXcgTmF2aWdhdG9ySGludChjaGFydC5lbGVtZW50LCBjaGFydC5jaGFydFNlcnZpY2UsIHtcbiAgICAgICAgICAgICAgICBtaW46IG1pbixcbiAgICAgICAgICAgICAgICBtYXg6IG1heCxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogZ2V0VGVtcGxhdGUob3B0aW9ucy5oaW50KSxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG9wdGlvbnMuaGludC5mb3JtYXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0UmFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IHBsb3RBcmVhID0gdGhpcy5jaGFydC5fY3JlYXRlUGxvdEFyZWEodHJ1ZSk7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBwbG90QXJlYS5uYW1lZENhdGVnb3J5QXhlc1tOQVZJR0FUT1JfQVhJU107XG5cbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gYXhpcy5yb3VuZGVkUmFuZ2UoKTtcblxuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLm9wdGlvbnMuc2VsZWN0IHx8IHt9O1xuICAgICAgICBsZXQgZnJvbSA9IHNlbGVjdC5mcm9tIHx8IG1pbjtcbiAgICAgICAgaWYgKGZyb20gPCBtaW4pIHtcbiAgICAgICAgICAgIGZyb20gPSBtaW47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdG8gPSBzZWxlY3QudG8gfHwgbWF4O1xuICAgICAgICBpZiAodG8gPiBtYXgpIHtcbiAgICAgICAgICAgIHRvID0gbWF4O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdCA9IGRlZXBFeHRlbmQoe30sIHNlbGVjdCwge1xuICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZpbHRlckF4ZXMoKTtcbiAgICB9XG5cbiAgICBfcmVkcmF3U2VsZihzaWxlbnQpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLmNoYXJ0Ll9wbG90QXJlYTtcblxuICAgICAgICBpZiAocGxvdEFyZWEpIHtcbiAgICAgICAgICAgIHBsb3RBcmVhLnJlZHJhdyhsYXN0KHBsb3RBcmVhLnBhbmVzKSwgc2lsZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZHJhd1NsYXZlcygpIHtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IGNoYXJ0Ll9wbG90QXJlYTtcbiAgICAgICAgY29uc3Qgc2xhdmVQYW5lcyA9IHBsb3RBcmVhLnBhbmVzLnNsaWNlKDAsIC0xKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIG9yaWdpbmFsIHNlcmllcyBhbmQgY2F0ZWdvcnlBeGlzIGJlZm9yZSBwYXJ0aWFsIHJlZnJlc2guXG4gICAgICAgIHBsb3RBcmVhLnNyY1NlcmllcyA9IGNoYXJ0Lm9wdGlvbnMuc2VyaWVzO1xuICAgICAgICBwbG90QXJlYS5vcHRpb25zLmNhdGVnb3J5QXhpcyA9IGNoYXJ0Lm9wdGlvbnMuY2F0ZWdvcnlBeGlzO1xuICAgICAgICBwbG90QXJlYS5jbGVhclNlcmllc1BvaW50c0NhY2hlKCk7XG5cbiAgICAgICAgcGxvdEFyZWEucmVkcmF3KHNsYXZlUGFuZXMpO1xuICAgIH1cblxuICAgIF9kcmFnKGUpIHtcbiAgICAgICAgY29uc3QgeyBjaGFydCwgc2VsZWN0aW9uIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjb29yZHMgPSBjaGFydC5fZXZlbnRDb29yZGluYXRlcyhlLm9yaWdpbmFsRXZlbnQpO1xuICAgICAgICBjb25zdCBuYXZpZ2F0b3JBeGlzID0gdGhpcy5tYWluQXhpcygpO1xuICAgICAgICBjb25zdCBuYXZpUmFuZ2UgPSBuYXZpZ2F0b3JBeGlzLnJvdW5kZWRSYW5nZSgpO1xuICAgICAgICBjb25zdCBpbk5hdmlnYXRvciA9IG5hdmlnYXRvckF4aXMucGFuZS5ib3guY29udGFpbnNQb2ludChjb29yZHMpO1xuICAgICAgICBjb25zdCBheGlzID0gY2hhcnQuX3Bsb3RBcmVhLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBlLmF4aXNSYW5nZXNbYXhpcy5vcHRpb25zLm5hbWVdO1xuICAgICAgICBjb25zdCBzZWxlY3QgPSB0aGlzLm9wdGlvbnMuc2VsZWN0O1xuICAgICAgICBsZXQgZHVyYXRpb247XG5cbiAgICAgICAgaWYgKCFyYW5nZSB8fCBpbk5hdmlnYXRvciB8fCAhc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0LmZyb20gJiYgc2VsZWN0LnRvKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHRvVGltZShzZWxlY3QudG8pIC0gdG9UaW1lKHNlbGVjdC5mcm9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gdG9UaW1lKHNlbGVjdGlvbi5vcHRpb25zLnRvKSAtIHRvVGltZShzZWxlY3Rpb24ub3B0aW9ucy5mcm9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyb20gPSB0b0RhdGUobGltaXRWYWx1ZShcbiAgICAgICAgICAgIHRvVGltZShyYW5nZS5taW4pLFxuICAgICAgICAgICAgbmF2aVJhbmdlLm1pbiwgdG9UaW1lKG5hdmlSYW5nZS5tYXgpIC0gZHVyYXRpb25cbiAgICAgICAgKSk7XG5cbiAgICAgICAgY29uc3QgdG8gPSB0b0RhdGUobGltaXRWYWx1ZShcbiAgICAgICAgICAgIHRvVGltZShmcm9tKSArIGR1cmF0aW9uLFxuICAgICAgICAgICAgdG9UaW1lKG5hdmlSYW5nZS5taW4pICsgZHVyYXRpb24sIG5hdmlSYW5nZS5tYXhcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLnNlbGVjdCA9IHsgZnJvbTogZnJvbSwgdG86IHRvIH07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5saXZlRHJhZykge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0aW9uLnNldChmcm9tLCB0byk7XG5cbiAgICAgICAgdGhpcy5zaG93SGludChmcm9tLCB0byk7XG4gICAgfVxuXG4gICAgX2RyYWdFbmQoKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyQXhlcygpO1xuICAgICAgICB0aGlzLmZpbHRlcigpO1xuICAgICAgICB0aGlzLnJlZHJhd1NsYXZlcygpO1xuXG4gICAgICAgIGlmICh0aGlzLmhpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaGludC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWFkU2VsZWN0aW9uKCkge1xuICAgICAgICBjb25zdCB7IHNlbGVjdGlvbjogeyBvcHRpb25zOiB7IGZyb20sIHRvIH0gfSwgb3B0aW9uczogeyBzZWxlY3QgfSB9ID0gdGhpcztcblxuICAgICAgICBzZWxlY3QuZnJvbSA9IGZyb207XG4gICAgICAgIHNlbGVjdC50byA9IHRvO1xuICAgIH1cblxuICAgIGZpbHRlckF4ZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogeyBzZWxlY3QgPSB7IH0gfSwgY2hhcnQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGFsbEF4ZXMgPSBjaGFydC5vcHRpb25zLmNhdGVnb3J5QXhpcztcbiAgICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gc2VsZWN0O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGFsbEF4ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IGFsbEF4ZXNbaWR4XTtcbiAgICAgICAgICAgIGlmIChheGlzLnBhbmUgIT09IE5BVklHQVRPUl9QQU5FKSB7XG4gICAgICAgICAgICAgICAgYXhpcy5taW4gPSBmcm9tO1xuICAgICAgICAgICAgICAgIGF4aXMubWF4ID0gdG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhcnQsIG9wdGlvbnM6IHsgc2VsZWN0IH0gfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFjaGFydC5yZXF1aXJlc0hhbmRsZXJzKFsgXCJuYXZpZ2F0b3JGaWx0ZXJcIiBdKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbWFpbkF4aXMgPSB0aGlzLm1haW5BeGlzKCk7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICAgICAgICBmcm9tOiBzZWxlY3QuZnJvbSxcbiAgICAgICAgICAgIHRvOiBzZWxlY3QudG9cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobWFpbkF4aXMub3B0aW9ucy50eXBlICE9PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzT3B0aW9ucyA9IG5ldyBEYXRlQ2F0ZWdvcnlBeGlzKGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgICAgIGJhc2VVbml0OiBcImZpdFwiXG4gICAgICAgICAgICB9LCBjaGFydC5vcHRpb25zLmNhdGVnb3J5QXhpc1swXSwge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IFsgc2VsZWN0LmZyb20sIHNlbGVjdC50byBdXG4gICAgICAgICAgICB9KSwgY2hhcnQuY2hhcnRTZXJ2aWNlKS5vcHRpb25zO1xuXG4gICAgICAgICAgICBhcmdzLmZyb20gPSBhZGREdXJhdGlvbihheGlzT3B0aW9ucy5taW4sIC1heGlzT3B0aW9ucy5iYXNlVW5pdFN0ZXAsIGF4aXNPcHRpb25zLmJhc2VVbml0KTtcbiAgICAgICAgICAgIGFyZ3MudG8gPSBhZGREdXJhdGlvbihheGlzT3B0aW9ucy5tYXgsIGF4aXNPcHRpb25zLmJhc2VVbml0U3RlcCwgYXhpc09wdGlvbnMuYmFzZVVuaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydC50cmlnZ2VyKFwibmF2aWdhdG9yRmlsdGVyXCIsIGFyZ3MpO1xuICAgIH1cblxuICAgIF96b29tKGUpIHtcbiAgICAgICAgY29uc3QgeyBjaGFydDogeyBfcGxvdEFyZWE6IHsgY2F0ZWdvcnlBeGlzOiBheGlzIH0gfSwgc2VsZWN0aW9uLCBvcHRpb25zOiB7IHNlbGVjdCwgbGl2ZURyYWcgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbWFpbkF4aXMgPSB0aGlzLm1haW5BeGlzKCk7XG4gICAgICAgIGxldCBkZWx0YSA9IGUuZGVsdGE7XG5cbiAgICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZyb21JeCA9IG1haW5BeGlzLmNhdGVnb3J5SW5kZXgoc2VsZWN0aW9uLm9wdGlvbnMuZnJvbSk7XG4gICAgICAgIGNvbnN0IHRvSXggPSBtYWluQXhpcy5jYXRlZ29yeUluZGV4KHNlbGVjdGlvbi5vcHRpb25zLnRvKTtcblxuICAgICAgICBlLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMSkge1xuICAgICAgICAgICAgZGVsdGEgKj0gWk9PTV9BQ0NFTEVSQVRJT047XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9JeCAtIGZyb21JeCA+IDEpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbi5leHBhbmQoZGVsdGEpO1xuICAgICAgICAgICAgdGhpcy5yZWFkU2VsZWN0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBheGlzLm9wdGlvbnMubWluID0gc2VsZWN0LmZyb207XG4gICAgICAgICAgICBzZWxlY3QuZnJvbSA9IGF4aXMuc2NhbGVSYW5nZSgtZS5kZWx0YSkubWluO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpdmVEcmFnKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlckF4ZXMoKTtcbiAgICAgICAgICAgIHRoaXMucmVkcmF3U2xhdmVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxlY3Rpb24uc2V0KHNlbGVjdC5mcm9tLCBzZWxlY3QudG8pO1xuXG4gICAgICAgIHRoaXMuc2hvd0hpbnQodGhpcy5vcHRpb25zLnNlbGVjdC5mcm9tLCB0aGlzLm9wdGlvbnMuc2VsZWN0LnRvKTtcbiAgICB9XG5cbiAgICBfem9vbUVuZChlKSB7XG4gICAgICAgIHRoaXMuX2RyYWdFbmQoZSk7XG4gICAgfVxuXG4gICAgc2hvd0hpbnQoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLmNoYXJ0Ll9wbG90QXJlYTtcblxuICAgICAgICBpZiAodGhpcy5oaW50KSB7XG4gICAgICAgICAgICB0aGlzLmhpbnQuc2hvdyhmcm9tLCB0bywgcGxvdEFyZWEuYmFja2dyb3VuZEJveCgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZWxlY3RTdGFydChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Ll9zZWxlY3RTdGFydChlKTtcbiAgICB9XG5cbiAgICBfc2VsZWN0KGUpIHtcbiAgICAgICAgdGhpcy5zaG93SGludChlLmZyb20sIGUudG8pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0Ll9zZWxlY3QoZSk7XG4gICAgfVxuXG4gICAgX3NlbGVjdEVuZChlKSB7XG4gICAgICAgIGlmICh0aGlzLmhpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaGludC5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlYWRTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgICAgIHRoaXMuZmlsdGVyKCk7XG4gICAgICAgIHRoaXMucmVkcmF3U2xhdmVzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuX3NlbGVjdEVuZChlKTtcbiAgICB9XG5cbiAgICBtYWluQXhpcygpIHtcbiAgICAgICAgY29uc3QgcGxvdEFyZWEgPSB0aGlzLmNoYXJ0Ll9wbG90QXJlYTtcblxuICAgICAgICBpZiAocGxvdEFyZWEpIHtcbiAgICAgICAgICAgIHJldHVybiBwbG90QXJlYS5uYW1lZENhdGVnb3J5QXhlc1tOQVZJR0FUT1JfQVhJU107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3QoZnJvbSwgdG8pIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ID0gdGhpcy5vcHRpb25zLnNlbGVjdDtcblxuICAgICAgICBpZiAoZnJvbSAmJiB0bykge1xuICAgICAgICAgICAgc2VsZWN0LmZyb20gPSB0aGlzLnBhcnNlRGF0ZShmcm9tKTtcbiAgICAgICAgICAgIHNlbGVjdC50byA9IHRoaXMucGFyc2VEYXRlKHRvKTtcblxuICAgICAgICAgICAgdGhpcy5maWx0ZXJBeGVzKCk7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcigpO1xuICAgICAgICAgICAgdGhpcy5yZWRyYXdTbGF2ZXMoKTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0KGZyb20sIHRvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcm9tOiBzZWxlY3QuZnJvbSxcbiAgICAgICAgICAgIHRvOiBzZWxlY3QudG9cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0dXAob3B0aW9ucyA9IHt9LCB0aGVtZU9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAob3B0aW9ucy5fX25hdmkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLl9fbmF2aSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgbmF2aU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGVtZU9wdGlvbnMubmF2aWdhdG9yLCBvcHRpb25zLm5hdmlnYXRvcik7XG4gICAgICAgIGNvbnN0IHBhbmVzID0gb3B0aW9ucy5wYW5lcyA9IFtdLmNvbmNhdChvcHRpb25zLnBhbmVzKTtcbiAgICAgICAgY29uc3QgcGFuZU9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCBuYXZpT3B0aW9ucy5wYW5lLCB7IG5hbWU6IE5BVklHQVRPUl9QQU5FIH0pO1xuXG4gICAgICAgIGlmICghbmF2aU9wdGlvbnMudmlzaWJsZSkge1xuICAgICAgICAgICAgcGFuZU9wdGlvbnMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgcGFuZU9wdGlvbnMuaGVpZ2h0ID0gMC4xO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFuZXMucHVzaChwYW5lT3B0aW9ucyk7XG5cbiAgICAgICAgTmF2aWdhdG9yLmF0dGFjaEF4ZXMob3B0aW9ucywgbmF2aU9wdGlvbnMpO1xuICAgICAgICBOYXZpZ2F0b3IuYXR0YWNoU2VyaWVzKG9wdGlvbnMsIG5hdmlPcHRpb25zLCB0aGVtZU9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhdHRhY2hBeGVzKG9wdGlvbnMsIG5hdmlPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG5hdmlPcHRpb25zLnNlcmllcyB8fCBbXTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlBeGVzID0gb3B0aW9ucy5jYXRlZ29yeUF4aXMgPSBbXS5jb25jYXQob3B0aW9ucy5jYXRlZ29yeUF4aXMpO1xuICAgICAgICBjb25zdCB2YWx1ZUF4ZXMgPSBvcHRpb25zLnZhbHVlQXhpcyA9IFtdLmNvbmNhdChvcHRpb25zLnZhbHVlQXhpcyk7XG5cbiAgICAgICAgY29uc3QgZXF1YWxseVNwYWNlZFNlcmllcyA9IGZpbHRlclNlcmllc0J5VHlwZShzZXJpZXMsIEVRVUFMTFlfU1BBQ0VEX1NFUklFUyk7XG4gICAgICAgIGNvbnN0IGp1c3RpZnlBeGlzID0gZXF1YWxseVNwYWNlZFNlcmllcy5sZW5ndGggPT09IDA7XG5cbiAgICAgICAgY29uc3QgYmFzZSA9IGRlZXBFeHRlbmQoe1xuICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICBwYW5lOiBOQVZJR0FUT1JfUEFORSxcbiAgICAgICAgICAgIHJvdW5kVG9CYXNlVW5pdDogIWp1c3RpZnlBeGlzLFxuICAgICAgICAgICAganVzdGlmaWVkOiBqdXN0aWZ5QXhpcyxcbiAgICAgICAgICAgIF9jb2xsYXBzZTogZmFsc2UsXG4gICAgICAgICAgICBtYWpvclRpY2tzOiB7IHZpc2libGU6IHRydWUgfSxcbiAgICAgICAgICAgIHRvb2x0aXA6IHsgdmlzaWJsZTogZmFsc2UgfSxcbiAgICAgICAgICAgIGxhYmVsczogeyBzdGVwOiAxIH0sXG4gICAgICAgICAgICBhdXRvQmluZDogbmF2aU9wdGlvbnMuYXV0b0JpbmRFbGVtZW50cyxcbiAgICAgICAgICAgIGF1dG9CYXNlVW5pdFN0ZXBzOiB7XG4gICAgICAgICAgICAgICAgbWludXRlczogWyAxIF0sXG4gICAgICAgICAgICAgICAgaG91cnM6IFsgMSwgMiBdLFxuICAgICAgICAgICAgICAgIGRheXM6IFsgMSwgMiBdLFxuICAgICAgICAgICAgICAgIHdlZWtzOiBbXSxcbiAgICAgICAgICAgICAgICBtb250aHM6IFsgMSBdLFxuICAgICAgICAgICAgICAgIHllYXJzOiBbIDEgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdXNlciA9IG5hdmlPcHRpb25zLmNhdGVnb3J5QXhpcztcblxuICAgICAgICBjYXRlZ29yeUF4ZXMucHVzaChcbiAgICAgICAgICAgIGRlZXBFeHRlbmQoe30sIGJhc2UsIHtcbiAgICAgICAgICAgICAgICBtYXhEYXRlR3JvdXBzOiAyMDBcbiAgICAgICAgICAgIH0sIHVzZXIsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBOQVZJR0FUT1JfQVhJUyxcbiAgICAgICAgICAgICAgICB0aXRsZTogbnVsbCxcbiAgICAgICAgICAgICAgICBiYXNlVW5pdDogXCJmaXRcIixcbiAgICAgICAgICAgICAgICBiYXNlVW5pdFN0ZXA6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsczogeyB2aXNpYmxlOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIG1ham9yVGlja3M6IHsgdmlzaWJsZTogZmFsc2UgfVxuICAgICAgICAgICAgfSksIGRlZXBFeHRlbmQoe30sIGJhc2UsIHVzZXIsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBOQVZJR0FUT1JfQVhJUyArIFwiX2xhYmVsc1wiLFxuICAgICAgICAgICAgICAgIG1heERhdGVHcm91cHM6IDIwLFxuICAgICAgICAgICAgICAgIGJhc2VVbml0U3RlcDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB7IHBvc2l0aW9uOiBcIlwiIH0sXG4gICAgICAgICAgICAgICAgcGxvdEJhbmRzOiBbXSxcbiAgICAgICAgICAgICAgICBhdXRvQmFzZVVuaXRTdGVwczoge1xuICAgICAgICAgICAgICAgICAgICBtaW51dGVzOiBbXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX292ZXJsYXA6IHRydWVcbiAgICAgICAgICAgIH0pLCBkZWVwRXh0ZW5kKHt9LCBiYXNlLCB1c2VyLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogTkFWSUdBVE9SX0FYSVMgKyBcIl90aWNrc1wiLFxuICAgICAgICAgICAgICAgIG1heERhdGVHcm91cHM6IDIwMCxcbiAgICAgICAgICAgICAgICBtYWpvclRpY2tzOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLjVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBsb3RCYW5kczogW10sXG4gICAgICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgbGFiZWxzOiB7IHZpc2libGU6IGZhbHNlLCBtaXJyb3I6IHRydWUgfSxcbiAgICAgICAgICAgICAgICBfb3ZlcmxhcDogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICB2YWx1ZUF4ZXMucHVzaChkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIG5hbWU6IE5BVklHQVRPUl9BWElTLFxuICAgICAgICAgICAgcGFuZTogTkFWSUdBVE9SX1BBTkUsXG4gICAgICAgICAgICBtYWpvckdyaWRMaW5lczoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgfSwgbmF2aU9wdGlvbnMudmFsdWVBeGlzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGF0dGFjaFNlcmllcyhvcHRpb25zLCBuYXZpT3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IG9wdGlvbnMuc2VyaWVzID0gb3B0aW9ucy5zZXJpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IG5hdmlnYXRvclNlcmllcyA9IFtdLmNvbmNhdChuYXZpT3B0aW9ucy5zZXJpZXMgfHwgW10pO1xuICAgICAgICBjb25zdCBzZXJpZXNDb2xvcnMgPSB0aGVtZU9wdGlvbnMuc2VyaWVzQ29sb3JzO1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IG5hdmlPcHRpb25zLnNlcmllc0RlZmF1bHRzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IG5hdmlnYXRvclNlcmllcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBzZXJpZXMucHVzaChcbiAgICAgICAgICAgICAgICBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHNlcmllc0NvbG9yc1tpZHggJSBzZXJpZXNDb2xvcnMubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWVsZDogbmF2aU9wdGlvbnMuZGF0ZUZpZWxkLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlSW5MZWdlbmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZGVmYXVsdHMsIG5hdmlnYXRvclNlcmllc1tpZHhdLCB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXM6IE5BVklHQVRPUl9BWElTLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXM6IE5BVklHQVRPUl9BWElTLFxuICAgICAgICAgICAgICAgICAgICBhdXRvQmluZDogbmF2aU9wdGlvbnMuYXV0b0JpbmRFbGVtZW50c1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBDbG9uZWRPYmplY3QoKSB7IH1cbmZ1bmN0aW9uIGNsb25lKG9iaikge1xuICAgIENsb25lZE9iamVjdC5wcm90b3R5cGUgPSBvYmo7XG4gICAgcmV0dXJuIG5ldyBDbG9uZWRPYmplY3QoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdG9yO1xuIiwiaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICcuLi9jaGFydCc7XG5cbmltcG9ydCBOYXZpZ2F0b3IgZnJvbSAnLi9uYXZpZ2F0b3InO1xuaW1wb3J0IHsgREVGQVVMVF9XSURUSCB9IGZyb20gJy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYWRkQ2xhc3MsIGRlZXBFeHRlbmQsIGVsZW1lbnRTaXplLCBncmVwLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBOQVZJR0FUT1JfQVhJUywgTkFWSUdBVE9SX1BBTkUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IEFVVE9fQ0FURUdPUllfV0lEVEggPSAyODtcblxuY2xhc3MgU3RvY2tDaGFydCBleHRlbmRzIENoYXJ0IHtcblxuICAgIGFwcGx5RGVmYXVsdHMob3B0aW9ucywgdGhlbWVPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZWxlbWVudFNpemUodGhpcy5lbGVtZW50KS53aWR0aCB8fCBERUZBVUxUX1dJRFRIO1xuICAgICAgICBsZXQgdGhlbWUgPSB0aGVtZU9wdGlvbnM7XG5cbiAgICAgICAgY29uc3Qgc3RvY2tEZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlGaWVsZDogb3B0aW9ucy5kYXRlRmllbGRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBheGlzRGVmYXVsdHM6IHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXA6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWFqb3JUaWNrczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbWF4RGF0ZUdyb3VwczogTWF0aC5mbG9vcih3aWR0aCAvIEFVVE9fQ0FURUdPUllfV0lEVEgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGVtZSkge1xuICAgICAgICAgICAgdGhlbWUgPSBkZWVwRXh0ZW5kKHt9LCB0aGVtZSwgc3RvY2tEZWZhdWx0cyk7XG4gICAgICAgIH1cblxuICAgICAgICBOYXZpZ2F0b3Iuc2V0dXAob3B0aW9ucywgdGhlbWUpO1xuXG4gICAgICAgIHN1cGVyLmFwcGx5RGVmYXVsdHMob3B0aW9ucywgdGhlbWUpO1xuICAgIH1cblxuICAgIF9zZXRFbGVtZW50Q2xhc3MoZWxlbWVudCkge1xuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCAnay1jaGFydCBrLXN0b2NrY2hhcnQnKTtcbiAgICB9XG5cbiAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95TmF2aWdhdG9yKCk7XG4gICAgICAgIHN1cGVyLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgbm9UcmFuc2l0aW9uc1JlZHJhdygpIHtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbnMgPSB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbnM7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Z1bGxSZWRyYXcoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zID0gdHJhbnNpdGlvbnM7XG4gICAgfVxuXG4gICAgX3Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5ub1RyYW5zaXRpb25zUmVkcmF3KCk7XG4gICAgfVxuXG4gICAgX3JlZHJhdygpIHtcbiAgICAgICAgY29uc3QgbmF2aWdhdG9yID0gdGhpcy5uYXZpZ2F0b3I7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9kaXJ0eSgpICYmIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3Iub3B0aW9ucy5wYXJ0aWFsUmVkcmF3KSB7XG4gICAgICAgICAgICBuYXZpZ2F0b3IucmVkcmF3U2xhdmVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsUmVkcmF3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGlydHkoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNlcmllcyA9IFtdLmNvbmNhdChvcHRpb25zLnNlcmllcywgb3B0aW9ucy5uYXZpZ2F0b3Iuc2VyaWVzKTtcbiAgICAgICAgY29uc3Qgc2VyaWVzQ291bnQgPSBncmVwKHNlcmllcywgZnVuY3Rpb24ocykgeyByZXR1cm4gcyAmJiBzLnZpc2libGU7IH0pLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZGlydHkgPSB0aGlzLl9zZXJpZXNDb3VudCAhPT0gc2VyaWVzQ291bnQ7XG4gICAgICAgIHRoaXMuX3Nlcmllc0NvdW50ID0gc2VyaWVzQ291bnQ7XG5cbiAgICAgICAgcmV0dXJuIGRpcnR5O1xuICAgIH1cblxuICAgIF9mdWxsUmVkcmF3KCkge1xuICAgICAgICBsZXQgbmF2aWdhdG9yID0gdGhpcy5uYXZpZ2F0b3I7XG5cbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgIG5hdmlnYXRvciA9IHRoaXMubmF2aWdhdG9yID0gbmV3IE5hdmlnYXRvcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcIm5hdmlnYXRvckNyZWF0ZWRcIiwgeyBuYXZpZ2F0b3I6IG5hdmlnYXRvciB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5hdmlnYXRvci5jbGVhbigpO1xuICAgICAgICBuYXZpZ2F0b3Iuc2V0UmFuZ2UoKTtcblxuICAgICAgICBzdXBlci5fcmVkcmF3KCk7XG5cbiAgICAgICAgbmF2aWdhdG9yLmluaXRTZWxlY3Rpb24oKTtcbiAgICB9XG5cbiAgICBfdHJhY2tTaGFyZWRUb29sdGlwKGNvb3Jkcykge1xuICAgICAgICBjb25zdCBwbG90QXJlYSA9IHRoaXMuX3Bsb3RBcmVhO1xuICAgICAgICBjb25zdCBwYW5lID0gcGxvdEFyZWEucGFuZUJ5UG9pbnQoY29vcmRzKTtcblxuICAgICAgICBpZiAocGFuZSAmJiBwYW5lLm9wdGlvbnMubmFtZSA9PT0gTkFWSUdBVE9SX1BBTkUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc2V0QWN0aXZlUG9pbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLl90cmFja1NoYXJlZFRvb2x0aXAoY29vcmRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmRDYXRlZ29yaWVzKCkge1xuICAgICAgICBzdXBlci5iaW5kQ2F0ZWdvcmllcygpO1xuICAgICAgICB0aGlzLmNvcHlOYXZpZ2F0b3JDYXRlZ29yaWVzKCk7XG4gICAgfVxuXG4gICAgY29weU5hdmlnYXRvckNhdGVnb3JpZXMoKSB7XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb25zID0gW10uY29uY2F0KHRoaXMub3B0aW9ucy5jYXRlZ29yeUF4aXMpO1xuICAgICAgICBsZXQgY2F0ZWdvcmllcztcblxuICAgICAgICBmb3IgKGxldCBheGlzSXggPSAwOyBheGlzSXggPCBkZWZpbml0aW9ucy5sZW5ndGg7IGF4aXNJeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gZGVmaW5pdGlvbnNbYXhpc0l4XTtcbiAgICAgICAgICAgIGlmIChheGlzLm5hbWUgPT09IE5BVklHQVRPUl9BWElTKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9IGF4aXMuY2F0ZWdvcmllcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcmllcyAmJiBheGlzLnBhbmUgPT09IE5BVklHQVRPUl9QQU5FKSB7XG4gICAgICAgICAgICAgICAgYXhpcy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3lOYXZpZ2F0b3IoKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdmlnYXRvcikge1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0b3IuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0b3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kZXN0cm95TmF2aWdhdG9yKCk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBfc3RvcENoYXJ0SGFuZGxlcnMoZSkge1xuICAgICAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9ldmVudENvb3JkaW5hdGVzKGUpO1xuICAgICAgICBjb25zdCBwYW5lID0gdGhpcy5fcGxvdEFyZWEucGFuZUJ5UG9pbnQoY29vcmRzKTtcblxuICAgICAgICByZXR1cm4gc3VwZXIuX3N0b3BDaGFydEhhbmRsZXJzKGUpIHx8IChwYW5lICYmIHBhbmUub3B0aW9ucy5uYW1lID09PSBOQVZJR0FUT1JfUEFORSk7XG4gICAgfVxuXG4gICAgX3RvZ2dsZURyYWdab29tRXZlbnRzKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2RyYWdab29tRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRvdWNoQWN0aW9uID0gXCJub25lXCI7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYWdab29tRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFN0b2NrQ2hhcnQsIHtcbiAgICBkYXRlRmllbGQ6IFwiZGF0ZVwiLFxuICAgIGF4aXNEZWZhdWx0czoge1xuICAgICAgICBjYXRlZ29yeUF4aXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgYmFzZVVuaXQ6IFwiZml0XCIsXG4gICAgICAgICAgICBqdXN0aWZpZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVBeGlzOiB7XG4gICAgICAgICAgICBuYXJyb3dSYW5nZTogdHJ1ZSxcbiAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJDXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICAgIHNlbGVjdDoge30sXG4gICAgICAgIHNlcmllc0RlZmF1bHRzOiB7XG4gICAgICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBoaW50OiB7fSxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcbiAgICBsZWdlbmQ6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU3RvY2tDaGFydDsiLCJjb25zdCBBTkdVTEFSX1NQRUVEID0gMTUwO1xuY29uc3QgTElORUFSX1NQRUVEID0gMjUwO1xuY29uc3QgQVJST1cgPSBcImFycm93XCI7XG5jb25zdCBBUlJPV19QT0lOVEVSID0gXCJhcnJvd1BvaW50ZXJcIjtcbmNvbnN0IEJBUl9QT0lOVEVSID0gXCJiYXJQb2ludGVyXCI7XG5jb25zdCBERUZBVUxUX0hFSUdIVCA9IDIwMDtcbmNvbnN0IERFRkFVTFRfTElORV9XSURUSCA9IDAuNTtcbmNvbnN0IERFRkFVTFRfV0lEVEggPSAyMDA7XG5jb25zdCBERUdSRUUgPSBNYXRoLlBJIC8gMTgwO1xuY29uc3QgSU5TSURFID0gXCJpbnNpZGVcIjtcbmNvbnN0IExJTkVBUiA9IFwibGluZWFyXCI7XG5jb25zdCBPVVRTSURFID0gXCJvdXRzaWRlXCI7XG5jb25zdCBSQURJQUxfUE9JTlRFUiA9IFwicmFkaWFsUG9pbnRlclwiO1xuY29uc3QgUkFESUFMX1JBTkdFX1BPSU5URVIgPSBcInJhZGlhbFJhbmdlUG9pbnRlclwiO1xuXG5leHBvcnQge1xuICAgIEFOR1VMQVJfU1BFRUQsIExJTkVBUl9TUEVFRCwgQVJST1csIEFSUk9XX1BPSU5URVIsIEJBUl9QT0lOVEVSLFxuICAgIERFRkFVTFRfSEVJR0hULCBERUZBVUxUX0xJTkVfV0lEVEgsIERFRkFVTFRfV0lEVEgsXG4gICAgREVHUkVFLCBJTlNJREUsIExJTkVBUiwgT1VUU0lERSwgUkFESUFMX1BPSU5URVIsIFJBRElBTF9SQU5HRV9QT0lOVEVSXG59OyIsImltcG9ydCB7IGdldFNwYWNpbmcgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYWQoYmJveCwgdmFsdWUpIHtcbiAgICBjb25zdCBvcmlnaW4gPSBiYm94LmdldE9yaWdpbigpO1xuICAgIGNvbnN0IHNpemUgPSBiYm94LmdldFNpemUoKTtcbiAgICBjb25zdCBzcGFjaW5nID0gZ2V0U3BhY2luZyh2YWx1ZSk7XG5cbiAgICBiYm94LnNldE9yaWdpbihbIG9yaWdpbi54IC0gc3BhY2luZy5sZWZ0LCBvcmlnaW4ueSAtIHNwYWNpbmcudG9wIF0pO1xuICAgIGJib3guc2V0U2l6ZShbIHNpemUud2lkdGggKyAoc3BhY2luZy5sZWZ0ICsgc3BhY2luZy5yaWdodCksIHNpemUuaGVpZ2h0ICsgKHNwYWNpbmcudG9wICsgc3BhY2luZy5ib3R0b20pIF0pO1xuXG4gICAgcmV0dXJuIGJib3g7XG59IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHBhZCBmcm9tICcuL3BhZCc7XG5cbmNvbnN0IHsgR3JvdXAsIFBhdGgsIFRleHQgfSA9IGRyYXdpbmc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkTGFiZWxFbGVtZW50KGxhYmVsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGFiZWxCb3ggPSBsYWJlbC5ib3g7XG4gICAgY29uc3QgdGV4dEJveCA9IGxhYmVsLmNoaWxkcmVuWzBdLmJveDtcbiAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlciB8fCB7fTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kID0gb3B0aW9ucy5iYWNrZ3JvdW5kIHx8IFwiXCI7XG5cbiAgICBjb25zdCB3cmFwcGVyID0gUGF0aC5mcm9tUmVjdChuZXcgZ2VvLlJlY3QoWyBsYWJlbEJveC54MSwgbGFiZWxCb3gueTEgXSwgWyBsYWJlbEJveC53aWR0aCgpLCBsYWJlbEJveC5oZWlnaHQoKSBdKSwge1xuICAgICAgICBzdHJva2U6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCB0ZXh0ID0gbmV3IFRleHQobGFiZWwudGV4dCwgbmV3IGdlby5Qb2ludCh0ZXh0Qm94LngxLCB0ZXh0Qm94LnkxKSwge1xuICAgICAgICBmb250OiBvcHRpb25zLmZvbnQsXG4gICAgICAgIGZpbGw6IHsgY29sb3I6IG9wdGlvbnMuY29sb3IgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3R5bGVHZW9tZXRyeSA9IHBhZCh0ZXh0LmJib3goKS5jbG9uZSgpLCBvcHRpb25zLnBhZGRpbmcpO1xuXG4gICAgY29uc3Qgc3R5bGVCb3ggPSBQYXRoLmZyb21SZWN0KHN0eWxlR2VvbWV0cnksIHtcbiAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICBjb2xvcjogYm9yZGVyLndpZHRoID8gYm9yZGVyLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICBvcGFjaXR5OiBib3JkZXIub3BhY2l0eSxcbiAgICAgICAgICAgIGRhc2hUeXBlOiBib3JkZXIuZGFzaFR5cGUsXG4gICAgICAgICAgICBsaW5lSm9pbjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgbGluZUNhcDogXCJyb3VuZFwiXG4gICAgICAgIH0sXG4gICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgIGNvbG9yOiBiYWNrZ3JvdW5kXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG4gICAgZWxlbWVudHMuYXBwZW5kKHdyYXBwZXIpO1xuICAgIGVsZW1lbnRzLmFwcGVuZChzdHlsZUJveCk7XG4gICAgZWxlbWVudHMuYXBwZW5kKHRleHQpO1xuXG4gICAgcmV0dXJuIGVsZW1lbnRzO1xufSIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgTUlOX1ZBTFVFLCBNQVhfVkFMVUUgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UmFuZ2UocmFuZ2UsIG1pbiwgbWF4KSB7XG4gICAgY29uc3QgZnJvbSA9IGRlZmluZWQocmFuZ2UuZnJvbSkgPyByYW5nZS5mcm9tIDogTUlOX1ZBTFVFO1xuICAgIGNvbnN0IHRvID0gZGVmaW5lZChyYW5nZS50bykgPyByYW5nZS50byA6IE1BWF9WQUxVRTtcblxuICAgIHJhbmdlLmZyb20gPSBNYXRoLm1heChNYXRoLm1pbih0bywgZnJvbSksIG1pbik7XG4gICAgcmFuZ2UudG8gPSBNYXRoLm1pbihNYXRoLm1heCh0bywgZnJvbSksIG1heCk7XG5cbiAgICByZXR1cm4gcmFuZ2U7XG59IiwiaW1wb3J0IHsgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgcGFkIGZyb20gJy4vcGFkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5wYWQoYmJveCwgdmFsdWUpIHtcbiAgICBjb25zdCBzcGFjaW5nID0gZ2V0U3BhY2luZyh2YWx1ZSk7XG5cbiAgICBzcGFjaW5nLmxlZnQgPSAtc3BhY2luZy5sZWZ0OyBzcGFjaW5nLnRvcCA9IC1zcGFjaW5nLnRvcDtcbiAgICBzcGFjaW5nLnJpZ2h0ID0gLXNwYWNpbmcucmlnaHQ7IHNwYWNpbmcuYm90dG9tID0gLXNwYWNpbmcuYm90dG9tO1xuXG4gICAgcmV0dXJuIHBhZChiYm94LCBzcGFjaW5nKTtcbn0iLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBDbGFzcywgZWxlbWVudFNpemUsIHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBpc0FycmF5LCBpc051bWJlciB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBERUZBVUxUX1dJRFRILCBERUZBVUxUX0hFSUdIVCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IENoYXJ0U2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzJztcbmltcG9ydCB7IHVucGFkIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IERFRkFVTFRfTUFSR0lOID0gNTtcbmNvbnN0IHsgUGF0aCwgU3VyZmFjZSB9ID0gZHJhd2luZztcblxuY2xhc3MgR2F1Z2UgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCB1c2VyT3B0aW9ucywgdGhlbWUsIGNvbnRleHQgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZTtcbiAgICAgICAgdGhpcy5jb250ZXh0U2VydmljZSA9IG5ldyBDaGFydFNlcnZpY2UodGhpcywgY29udGV4dCk7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgdXNlck9wdGlvbnMpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHt9LCB0aGlzLl9vcmlnaW5hbE9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pbml0VGhlbWUodGhlbWUpO1xuXG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VyZmFjZSkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50O1xuICAgICAgICBkZWxldGUgdGhpcy5zdXJmYWNlRWxlbWVudDtcbiAgICB9XG5cbiAgICB2YWx1ZShwb2ludGVyVmFsdWUpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMucG9pbnRlcnNbMF07XG5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwb2ludGVyLnZhbHVlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludGVyLnZhbHVlKHBvaW50ZXJWYWx1ZSk7XG4gICAgICAgIHRoaXMuX3NldFZhbHVlT3B0aW9ucyhwb2ludGVyVmFsdWUpO1xuICAgIH1cblxuICAgIF9kcmF3KCkge1xuICAgICAgICBjb25zdCBzdXJmYWNlID0gdGhpcy5zdXJmYWNlO1xuXG4gICAgICAgIHN1cmZhY2UuY2xlYXIoKTtcbiAgICAgICAgc3VyZmFjZS5kcmF3KHRoaXMuX3Zpc3VhbHMpO1xuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbHM7XG4gICAgfVxuXG4gICAgYWxsVmFsdWVzKHZhbHVlcykge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICAgIGNvbnN0IGFsbFZhbHVlcyA9IFtdO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWxsVmFsdWVzLnB1c2gocG9pbnRlcnNbaV0udmFsdWUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhbGxWYWx1ZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc051bWJlcih2YWx1ZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJzW2ldLnZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0VmFsdWVPcHRpb25zKHZhbHVlcyk7XG4gICAgfVxuXG4gICAgX3NldFZhbHVlT3B0aW9ucyh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBbXS5jb25jYXQodGhpcy5vcHRpb25zLnBvaW50ZXIpO1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlcyA9IFtdLmNvbmNhdCh2YWx1ZXMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnZhbHVlID0gYXJyYXlWYWx1ZXNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNpemUoKSB7XG4gICAgICAgIHRoaXMubm9UcmFuc2l0aW9uc1JlZHJhdygpO1xuICAgIH1cblxuICAgIG5vVHJhbnNpdGlvbnNSZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25zO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZVRyYW5zaXRpb25zKGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlZHJhdygpO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZVRyYW5zaXRpb25zKHRyYW5zaXRpb25zKTtcbiAgICB9XG5cbiAgICByZWRyYXcoKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zdXJmYWNlU2l6ZSgpO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gbmV3IGdlby5SZWN0KFsgMCwgMCBdLCBbIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0IF0pO1xuXG4gICAgICAgIHRoaXMuX2luaXRTdXJmYWNlKCk7XG5cbiAgICAgICAgdGhpcy5nYXVnZUFyZWEgPSB0aGlzLl9jcmVhdGVHYXVnZUFyZWEoKTtcblxuICAgICAgICB0aGlzLl9jcmVhdGVNb2RlbCgpO1xuXG4gICAgICAgIGNvbnN0IGJib3ggPSB1bnBhZCh3cmFwcGVyLmJib3goKSwgdGhpcy5fZ2F1Z2VBcmVhTWFyZ2luKTtcbiAgICAgICAgdGhpcy5yZWZsb3coYmJveCk7XG4gICAgfVxuXG4gICAgc2V0T3B0aW9ucyhvcHRpb25zLCB0aGVtZSkge1xuICAgICAgICB0aGlzLl9vcmlnaW5hbE9wdGlvbnMgPSBkZWVwRXh0ZW5kKHRoaXMuX29yaWdpbmFsT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMuX29yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5faW5pdFRoZW1lKHRoZW1lKTtcblxuICAgICAgICB0aGlzLnJlZHJhdygpO1xuICAgIH1cblxuICAgIHNldERpcmVjdGlvbihydGwpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0U2VydmljZS5ydGwgPSBCb29sZWFuKHJ0bCk7XG4gICAgICAgIGlmICh0aGlzLnN1cmZhY2UgJiYgdGhpcy5zdXJmYWNlLnR5cGUgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICB0aGlzLnN1cmZhY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEludGxTZXJ2aWNlKGludGwpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0U2VydmljZS5pbnRsID0gaW50bDtcbiAgICB9XG5cbiAgICBfaW5pdFRoZW1lKHRoZW1lKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGhlbWUgPSB0aGVtZSB8fCB0aGlzLnRoZW1lIHx8IHt9O1xuICAgICAgICB0aGlzLnRoZW1lID0gY3VycmVudFRoZW1lO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIGN1cnJlbnRUaGVtZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IG9wdGlvbnMucG9pbnRlcjtcblxuICAgICAgICBpZiAoaXNBcnJheShwb2ludGVyKSkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJzLnB1c2goZGVlcEV4dGVuZCh7fSwgY3VycmVudFRoZW1lLnBvaW50ZXIsIHBvaW50ZXJbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMucG9pbnRlciA9IHBvaW50ZXJzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdhdWdlQXJlYSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5nYXVnZUFyZWE7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnN1cmZhY2Uuc2l6ZSgpO1xuICAgICAgICBjb25zdCBib3JkZXIgPSBvcHRpb25zLmJvcmRlciB8fCB7fTtcbiAgICAgICAgbGV0IGFyZWFHZW9tZXRyeSA9IG5ldyBnZW8uUmVjdChbIDAsIDAgXSwgWyBzaXplLndpZHRoLCBzaXplLmhlaWdodCBdKTtcblxuICAgICAgICB0aGlzLl9nYXVnZUFyZWFNYXJnaW4gPSBvcHRpb25zLm1hcmdpbiB8fCBERUZBVUxUX01BUkdJTjtcblxuICAgICAgICBpZiAoYm9yZGVyLndpZHRoID4gMCkge1xuICAgICAgICAgICAgYXJlYUdlb21ldHJ5ID0gdW5wYWQoYXJlYUdlb21ldHJ5LCBib3JkZXIud2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZ2F1Z2VBcmVhID0gUGF0aC5mcm9tUmVjdChhcmVhR2VvbWV0cnksIHtcbiAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBib3JkZXIud2lkdGggPyBib3JkZXIuY29sb3IgOiBcIlwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IGJvcmRlci5kYXNoVHlwZSxcbiAgICAgICAgICAgICAgICBsaW5lSm9pbjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgIGxpbmVDYXA6IFwicm91bmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbGw6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5iYWNrZ3JvdW5kXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBnYXVnZUFyZWE7XG4gICAgfVxuXG4gICAgX2luaXRTdXJmYWNlKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHN1cmZhY2UgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9zdXJmYWNlRWxlbWVudCgpO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fc3VyZmFjZVNpemUoKTtcblxuICAgICAgICBlbGVtZW50U2l6ZShlbGVtZW50LCBzaXplKTtcblxuICAgICAgICBpZiAoIXN1cmZhY2UgfHwgc3VyZmFjZS5vcHRpb25zLnR5cGUgIT09IG9wdGlvbnMucmVuZGVyQXMpIHtcbiAgICAgICAgICAgIGlmIChzdXJmYWNlKSB7XG4gICAgICAgICAgICAgICAgc3VyZmFjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZSA9IFN1cmZhY2UuY3JlYXRlKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBvcHRpb25zLnJlbmRlckFzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3VyZmFjZS5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlLnJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N1cmZhY2VTaXplKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fZ2V0U2l6ZSgpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmdhdWdlQXJlYSkge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChzaXplLCBvcHRpb25zLmdhdWdlQXJlYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG5cbiAgICBfc3VyZmFjZUVsZW1lbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdXJmYWNlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zdXJmYWNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc3VyZmFjZUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3VyZmFjZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNpemUoKTtcbiAgICB9XG5cbiAgICBfZ2V0U2l6ZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNpemUgPSB0aGlzLl9kZWZhdWx0U2l6ZSgpO1xuICAgICAgICBsZXQgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgICAgd2lkdGggPSBkZWZhdWx0U2l6ZS53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSBkZWZhdWx0U2l6ZS5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfVxuXG4gICAgX2RlZmF1bHRTaXplKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IERFRkFVTFRfV0lEVEgsXG4gICAgICAgICAgICBoZWlnaHQ6IERFRkFVTFRfSEVJR0hUXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3RvZ2dsZVRyYW5zaXRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy50cmFuc2l0aW9ucyA9IHZhbHVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRlcnNbaV0ub3B0aW9ucy5hbmltYXRpb24udHJhbnNpdGlvbnMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoR2F1Z2UsIHtcbiAgICBwbG90QXJlYToge30sXG4gICAgdGhlbWU6IFwiZGVmYXVsdFwiLFxuICAgIHJlbmRlckFzOiBcIlwiLFxuICAgIHBvaW50ZXI6IHt9LFxuICAgIHNjYWxlOiB7fSxcbiAgICBnYXVnZUFyZWE6IHt9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgR2F1Z2U7IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQkxBQ0sgfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcbmltcG9ydCB7IE51bWVyaWNBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBERUZBVUxUX0xJTkVfV0lEVEgsIElOU0lERSB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhdXRvTWFqb3JVbml0IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBidWlsZExhYmVsRWxlbWVudCwgZ2V0UmFuZ2UgfSBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IHsgUGF0aCwgR3JvdXAgfSA9IGRyYXdpbmc7XG5jb25zdCBQb2ludCA9IGdlby5Qb2ludDtcblxuZnVuY3Rpb24gcmVuZGVyQXhpc1RpY2sodGlja1JlbmRlck9wdGlvbnMsIHRpY2tPcHRpb25zKSB7XG4gICAgY29uc3QgeyBwb3NpdGlvbiwgdGlja1gsIHRpY2tZIH0gPSB0aWNrUmVuZGVyT3B0aW9ucztcbiAgICBsZXQgc3RhcnQsIGVuZDtcblxuICAgIGlmICh0aWNrUmVuZGVyT3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICBzdGFydCA9IG5ldyBQb2ludCh0aWNrWCwgcG9zaXRpb24pO1xuICAgICAgICBlbmQgPSBuZXcgUG9pbnQodGlja1ggKyB0aWNrT3B0aW9ucy5zaXplLCBwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBuZXcgUG9pbnQocG9zaXRpb24sIHRpY2tZKTtcbiAgICAgICAgZW5kID0gbmV3IFBvaW50KHBvc2l0aW9uLCB0aWNrWSArIHRpY2tPcHRpb25zLnNpemUpO1xuICAgIH1cblxuICAgIGNvbnN0IHRpY2tQYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0aWNrT3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgIHdpZHRoOiB0aWNrT3B0aW9ucy53aWR0aFxuICAgICAgICB9XG4gICAgfSkubW92ZVRvKHN0YXJ0KS5saW5lVG8oZW5kKTtcblxuICAgIHJldHVybiB0aWNrUGF0aDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyVGlja3ModGlja0dyb3VwLCB0aWNrUG9zaXRpb25zLCB0aWNrUmVuZGVyT3B0aW9ucywgdGlja09wdGlvbnMpIHtcbiAgICBjb25zdCBjb3VudCA9IHRpY2tQb3NpdGlvbnMubGVuZ3RoO1xuXG4gICAgaWYgKHRpY2tPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgY29uc3QgeyBtaXJyb3IsIGxpbmVCb3ggfSA9IHRpY2tSZW5kZXJPcHRpb25zO1xuICAgICAgICBmb3IgKGxldCBpID0gdGlja09wdGlvbnMuc2tpcDsgaSA8IGNvdW50OyBpICs9IHRpY2tPcHRpb25zLnN0ZXApIHtcbiAgICAgICAgICAgIGlmIChpICUgdGlja09wdGlvbnMuc2tpcFVuaXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGlja1JlbmRlck9wdGlvbnMudGlja1ggPSBtaXJyb3IgPyBsaW5lQm94LngyIDogbGluZUJveC54MiAtIHRpY2tPcHRpb25zLnNpemU7XG4gICAgICAgICAgICB0aWNrUmVuZGVyT3B0aW9ucy50aWNrWSA9IG1pcnJvciA/IGxpbmVCb3gueTEgLSB0aWNrT3B0aW9ucy5zaXplIDogbGluZUJveC55MTtcbiAgICAgICAgICAgIHRpY2tSZW5kZXJPcHRpb25zLnBvc2l0aW9uID0gdGlja1Bvc2l0aW9uc1tpXTtcblxuICAgICAgICAgICAgdGlja0dyb3VwLmFwcGVuZChyZW5kZXJBeGlzVGljayh0aWNrUmVuZGVyT3B0aW9ucywgdGlja09wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgTGluZWFyU2NhbGUgZXh0ZW5kcyBOdW1lcmljQXhpcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgc2VydmljZSkge1xuICAgICAgICBsZXQgc2NhbGVPcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCFkZWZpbmVkKHNjYWxlT3B0aW9ucy5yZXZlcnNlKSAmJiBzY2FsZU9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlICYmIChzZXJ2aWNlIHx8IHt9KS5ydGwpIHtcbiAgICAgICAgICAgIHNjYWxlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHNjYWxlT3B0aW9ucywge1xuICAgICAgICAgICAgICAgIHJldmVyc2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoMCwgMSwgc2NhbGVPcHRpb25zLCBzZXJ2aWNlKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMubWlub3JVbml0ID0gdGhpcy5vcHRpb25zLm1pbm9yVW5pdCB8fCB0aGlzLm9wdGlvbnMubWFqb3JVbml0IC8gMTA7XG4gICAgfVxuXG4gICAgaW5pdFVzZXJPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHNjYWxlT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHNjYWxlT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHNjYWxlT3B0aW9ucyAsIHsgbGFiZWxzOiB7IG1pcnJvcjogc2NhbGVPcHRpb25zLm1pcnJvciB9IH0pO1xuICAgICAgICBzY2FsZU9wdGlvbnMubWFqb3JVbml0ID0gc2NhbGVPcHRpb25zLm1ham9yVW5pdCB8fCBhdXRvTWFqb3JVbml0KHNjYWxlT3B0aW9ucy5taW4sIHNjYWxlT3B0aW9ucy5tYXgpO1xuXG4gICAgICAgIHJldHVybiBzY2FsZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgaW5pdEZpZWxkcygpIHtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50cyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLnJlbmRlckxhYmVscygpO1xuICAgICAgICBjb25zdCBzY2FsZUxpbmUgPSB0aGlzLnJlbmRlckxpbmUoKTtcbiAgICAgICAgY29uc3Qgc2NhbGVUaWNrcyA9IHRoaXMucmVuZGVyVGlja3MoKTtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gdGhpcy5yZW5kZXJSYW5nZXMoKTtcblxuICAgICAgICBlbGVtZW50cy5hcHBlbmQoc2NhbGVMaW5lLCBsYWJlbHMsIHNjYWxlVGlja3MsIHJhbmdlcyk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cblxuICAgIHJlbmRlclJhbmdlcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgdmVydGljYWwsIGxhYmVsczogeyBtaXJyb3IgfSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gb3B0aW9ucy5yYW5nZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmFuZ2VTaXplID0gb3B0aW9ucy5yYW5nZVNpemUgfHwgb3B0aW9ucy5taW5vclRpY2tzLnNpemUgLyAyO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXRSYW5nZShyYW5nZXNbaV0sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLmdldFNsb3QocmFuZ2UuZnJvbSwgcmFuZ2UudG8pO1xuICAgICAgICAgICAgY29uc3Qgc2xvdFggPSB2ZXJ0aWNhbCA/IHRoaXMubGluZUJveCgpIDogc2xvdDtcbiAgICAgICAgICAgIGNvbnN0IHNsb3RZID0gdmVydGljYWwgPyBzbG90IDogdGhpcy5saW5lQm94KCk7XG4gICAgICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBzbG90WC54MSAtPSByYW5nZVNpemUgKiAobWlycm9yID8gLTEgOiAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2xvdFkueTIgKz0gcmFuZ2VTaXplICogKG1pcnJvciA/IC0xIDogMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnRzLmFwcGVuZChQYXRoLmZyb21SZWN0KG5ldyBnZW8uUmVjdChbIHNsb3RYLngxLCBzbG90WS55MSBdLCBbIHNsb3RYLngyIC0gc2xvdFgueDEsIHNsb3RZLnkyIC0gc2xvdFkueTEgXSksIHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiByYW5nZS5jb2xvciwgb3BhY2l0eTogcmFuZ2Uub3BhY2l0eSB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogeyB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWxzKCkge1xuICAgICAgICBjb25zdCB7IGxhYmVscywgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZWxlbWVudHMuYXBwZW5kKGJ1aWxkTGFiZWxFbGVtZW50KGxhYmVsc1tpXSwgb3B0aW9ucy5sYWJlbHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZW5kZXJMaW5lKCkge1xuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5vcHRpb25zLmxpbmU7XG4gICAgICAgIGNvbnN0IGxpbmVCb3ggPSB0aGlzLmxpbmVCb3goKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBuZXcgR3JvdXAoKTtcblxuICAgICAgICBpZiAobGluZS53aWR0aCA+IDAgJiYgbGluZS52aXNpYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lUGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGxpbmUuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGRhc2hUeXBlOiBsaW5lLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbGluZS53aWR0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsaW5lUGF0aC5tb3ZlVG8obGluZUJveC54MSwgbGluZUJveC55MSkubGluZVRvKGxpbmVCb3gueDIsIGxpbmVCb3gueTIpO1xuICAgICAgICAgICAgZWxlbWVudHMuYXBwZW5kKGxpbmVQYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG5cbiAgICByZW5kZXJUaWNrcygpIHtcbiAgICAgICAgY29uc3QgdGlja3MgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgbWFqb3JVbml0ID0gb3B0aW9ucy5tYWpvclRpY2tzLnZpc2libGUgPyBvcHRpb25zLm1ham9yVW5pdCA6IDA7XG4gICAgICAgIGNvbnN0IHRpY2tSZW5kZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgdmVydGljYWw6IG9wdGlvbnMudmVydGljYWwsXG4gICAgICAgICAgICBtaXJyb3I6IG9wdGlvbnMubGFiZWxzLm1pcnJvcixcbiAgICAgICAgICAgIGxpbmVCb3g6IHRoaXMubGluZUJveCgpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmVuZGVyVGlja3ModGlja3MsIHRoaXMuZ2V0TWFqb3JUaWNrUG9zaXRpb25zKCksIHRpY2tSZW5kZXJPcHRpb25zLCBvcHRpb25zLm1ham9yVGlja3MpO1xuICAgICAgICByZW5kZXJUaWNrcyh0aWNrcywgdGhpcy5nZXRNaW5vclRpY2tQb3NpdGlvbnMoKSwgdGlja1JlbmRlck9wdGlvbnMsIGRlZXBFeHRlbmQoe30sIHtcbiAgICAgICAgICAgIHNraXBVbml0OiBtYWpvclVuaXQgLyBvcHRpb25zLm1pbm9yVW5pdFxuICAgICAgICB9LCBvcHRpb25zLm1pbm9yVGlja3MpKTtcblxuICAgICAgICByZXR1cm4gdGlja3M7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhMaW5lYXJTY2FsZSwge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDUwLFxuXG4gICAgbWFqb3JUaWNrczoge1xuICAgICAgICBzaXplOiAxNSxcbiAgICAgICAgYWxpZ246IElOU0lERSxcbiAgICAgICAgY29sb3I6IEJMQUNLLFxuICAgICAgICB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRILFxuICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIG1pbm9yVGlja3M6IHtcbiAgICAgICAgc2l6ZTogMTAsXG4gICAgICAgIGFsaWduOiBJTlNJREUsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBsaW5lOiB7XG4gICAgICAgIHdpZHRoOiBERUZBVUxUX0xJTkVfV0lEVEhcbiAgICB9LFxuXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHBvc2l0aW9uOiBJTlNJREUsXG4gICAgICAgIHBhZGRpbmc6IDJcbiAgICB9LFxuICAgIG1pcnJvcjogZmFsc2UsXG4gICAgX2FsaWduTGluZXM6IGZhbHNlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyU2NhbGU7IiwiaW1wb3J0IHsgQ2xhc3MsIHNldERlZmF1bHRPcHRpb25zLCBkZWZpbmVkLCBkZWVwRXh0ZW5kLCBsaW1pdFZhbHVlIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCB7IEJMQUNLIH0gZnJvbSAnLi4vY29tbW9uL2NvbnN0YW50cyc7XG5cbmNsYXNzIFBvaW50ZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIHVzZXJPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCB9ID0gc2NhbGUub3B0aW9ucztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgdXNlck9wdGlvbnMpO1xuXG4gICAgICAgIG9wdGlvbnMuZmlsbCA9IG9wdGlvbnMuY29sb3I7XG5cbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKG9wdGlvbnMudmFsdWUpKSB7XG4gICAgICAgICAgICBvcHRpb25zLnZhbHVlID0gbGltaXRWYWx1ZShvcHRpb25zLnZhbHVlLCBtaW4sIG1heCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnZhbHVlID0gbWluO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsdWUobmV3VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zLnZhbHVlO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLnNjYWxlLm9wdGlvbnM7XG5cbiAgICAgICAgb3B0aW9ucy5fb2xkVmFsdWUgPSBkZWZpbmVkKG9wdGlvbnMuX29sZFZhbHVlKSA/IG9wdGlvbnMudmFsdWUgOiBtaW47XG4gICAgICAgIG9wdGlvbnMudmFsdWUgPSBsaW1pdFZhbHVlKG5ld1ZhbHVlLCBtaW4sIG1heCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVwYWludCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhQb2ludGVyLCB7XG4gICAgY29sb3I6IEJMQUNLXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9pbnRlcjsiLCJpbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgZGVmaW5lZCwgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBCb3ggfSBmcm9tICcuLi8uLi9jb3JlJztcbmltcG9ydCB7IEJMQUNLIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCQVJfUE9JTlRFUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgUG9pbnRlciBmcm9tICcuLi9wb2ludGVyJztcblxuY2xhc3MgTGluZWFyUG9pbnRlciBleHRlbmRzIFBvaW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKHNjYWxlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHNjYWxlLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcbiAgICAgICAgICAgIHRyYWNrOiB7XG4gICAgICAgICAgICAgICAgdmlzaWJsZTogZGVmaW5lZChvcHRpb25zLnRyYWNrKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJlZmxvdygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBzY2FsZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBtaXJyb3IsIHZlcnRpY2FsIH0gPSBzY2FsZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBzY2FsZUxpbmUgPSBzY2FsZS5saW5lQm94KCk7XG4gICAgICAgIGNvbnN0IHRyYWNrU2l6ZSA9IG9wdGlvbnMudHJhY2suc2l6ZSB8fCBvcHRpb25zLnNpemU7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJIYWxmU2l6ZSA9IG9wdGlvbnMuc2l6ZSAvIDI7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5tYXJnaW4pO1xuICAgICAgICBsZXQgc3BhY2UgPSB2ZXJ0aWNhbCA/XG4gICAgICAgICAgICAgICAgIG1hcmdpblttaXJyb3IgPyBcImxlZnRcIiA6IFwicmlnaHRcIl0gOlxuICAgICAgICAgICAgICAgICBtYXJnaW5bbWlycm9yID8gXCJib3R0b21cIiA6IFwidG9wXCJdO1xuICAgICAgICBsZXQgcG9pbnRlckJveCwgcG9pbnRlclJhbmdlQm94LCB0cmFja0JveDtcblxuICAgICAgICBzcGFjZSA9IG1pcnJvciA/IC1zcGFjZSA6IHNwYWNlO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgdHJhY2tCb3ggPSBuZXcgQm94KFxuICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MSArIHNwYWNlLCBzY2FsZUxpbmUueTEsXG4gICAgICAgICAgICAgICAgc2NhbGVMaW5lLngxICsgc3BhY2UsIHNjYWxlTGluZS55Mik7XG5cbiAgICAgICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0cmFja0JveC54MSAtPSB0cmFja1NpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyYWNrQm94LngyICs9IHRyYWNrU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hhcGUgIT09IEJBUl9QT0lOVEVSKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlclJhbmdlQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMaW5lLngyICsgc3BhY2UsIHNjYWxlTGluZS55MSAtIHBvaW50ZXJIYWxmU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVMaW5lLngyICsgc3BhY2UsIHNjYWxlTGluZS55MiArIHBvaW50ZXJIYWxmU2l6ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcG9pbnRlckJveCA9IHBvaW50ZXJSYW5nZUJveDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBzY2FsZUxpbmUueDEsIHNjYWxlTGluZS55MSAtIHNwYWNlLFxuICAgICAgICAgICAgICAgIHNjYWxlTGluZS54Miwgc2NhbGVMaW5lLnkxIC0gc3BhY2UpO1xuXG4gICAgICAgICAgICBpZiAobWlycm9yKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tCb3gueTIgKz0gdHJhY2tTaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFja0JveC55MSAtPSB0cmFja1NpemU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNoYXBlICE9PSBCQVJfUE9JTlRFUikge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJSYW5nZUJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MSAtIHBvaW50ZXJIYWxmU2l6ZSwgc2NhbGVMaW5lLnkxIC0gc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlTGluZS54MiArIHBvaW50ZXJIYWxmU2l6ZSwgc2NhbGVMaW5lLnkxIC0gc3BhY2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHBvaW50ZXJCb3ggPSBwb2ludGVyUmFuZ2VCb3g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyYWNrQm94ID0gdHJhY2tCb3g7XG4gICAgICAgIHRoaXMucG9pbnRlclJhbmdlQm94ID0gcG9pbnRlclJhbmdlQm94O1xuICAgICAgICB0aGlzLmJveCA9IHBvaW50ZXJCb3ggfHwgdHJhY2tCb3guY2xvbmUoKS5wYWQob3B0aW9ucy5ib3JkZXIud2lkdGgpO1xuICAgIH1cblxuICAgIGdldEVsZW1lbnRPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IG9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBkZWZpbmVkKG9wdGlvbnMuYm9yZGVyKSA/IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5ib3JkZXIud2lkdGggPyBvcHRpb25zLmJvcmRlci5jb2xvciB8fCBvcHRpb25zLmNvbG9yIDogXCJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5ib3JkZXIud2lkdGgsXG4gICAgICAgICAgICAgICAgZGFzaFR5cGU6IG9wdGlvbnMuYm9yZGVyLmRhc2hUeXBlLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wdGlvbnMub3BhY2l0eVxuICAgICAgICAgICAgfSA6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfbWFyZ2luKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1pcnJvciwgdmVydGljYWwgfSA9IHNjYWxlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1hcmdpbiA9IGdldFNwYWNpbmcob3B0aW9ucy5tYXJnaW4pO1xuXG4gICAgICAgIGNvbnN0IHNwYWNlID0gdmVydGljYWwgP1xuICAgICAgICAgICAgbWFyZ2luW21pcnJvciA/IFwibGVmdFwiIDogXCJyaWdodFwiXSA6XG4gICAgICAgICAgICBtYXJnaW5bbWlycm9yID8gXCJib3R0b21cIiA6IFwidG9wXCJdO1xuXG4gICAgICAgIHJldHVybiBzcGFjZTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExpbmVhclBvaW50ZXIsIHtcbiAgICBzaGFwZTogQkFSX1BPSU5URVIsXG5cbiAgICB0cmFjazoge1xuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIHdpZHRoOiAxXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29sb3I6IEJMQUNLLFxuICAgIGJvcmRlcjoge1xuICAgICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgb3BhY2l0eTogMSxcblxuICAgIG1hcmdpbjogZ2V0U3BhY2luZygzKSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogQkFSX1BPSU5URVJcbiAgICB9LFxuICAgIHZpc2libGU6IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJQb2ludGVyOyIsImltcG9ydCB7IGdlb21ldHJ5LCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgaW50ZXJwb2xhdGVWYWx1ZSwgc2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQVJST1dfUE9JTlRFUiwgTElORUFSX1NQRUVELCBMSU5FQVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBBcnJvd0xpbmVhclBvaW50ZXJBbmltYXRpb24gZXh0ZW5kcyBkcmF3aW5nLkFuaW1hdGlvbiB7XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBtYXJnaW4sIGZyb20sIHRvLCB2ZXJ0aWNhbCB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYXhpcyA9IHZlcnRpY2FsID8gXCJ4MVwiIDogXCJ5MVwiO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm1pcnJvciA9PT0gdmVydGljYWwpIHtcbiAgICAgICAgICAgIGZyb21bYXhpc10gLT0gbWFyZ2luOyB0b1theGlzXSAtPSBtYXJnaW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9tW2F4aXNdICs9IG1hcmdpbjsgdG9bYXhpc10gKz0gbWFyZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJvbVNjYWxlID0gdGhpcy5mcm9tU2NhbGUgPSBuZXcgZ2VvbWV0cnkuUG9pbnQoZnJvbS54MSwgZnJvbS55MSk7XG4gICAgICAgIGNvbnN0IHRvU2NhbGUgPSB0aGlzLnRvU2NhbGUgPSBuZXcgZ2VvbWV0cnkuUG9pbnQodG8ueDEsIHRvLnkxKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgb3B0aW9ucy5kdXJhdGlvbiA9IE1hdGgubWF4KChmcm9tU2NhbGUuZGlzdGFuY2VUbyh0b1NjYWxlKSAvIG9wdGlvbnMuZHVyYXRpb24pICogMTAwMCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCB0cmFuc2xhdGVYID0gaW50ZXJwb2xhdGVWYWx1ZSh0aGlzLmZyb21TY2FsZS54LCB0aGlzLnRvU2NhbGUueCwgcG9zKTtcbiAgICAgICAgY29uc3QgdHJhbnNsYXRlWSA9IGludGVycG9sYXRlVmFsdWUodGhpcy5mcm9tU2NhbGUueSwgdGhpcy50b1NjYWxlLnksIHBvcyk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LnRyYW5zZm9ybShnZW9tZXRyeS50cmFuc2Zvcm0oKS50cmFuc2xhdGUodHJhbnNsYXRlWCwgdHJhbnNsYXRlWSkpO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uLCB7XG4gICAgZWFzaW5nOiBMSU5FQVIsXG4gICAgZHVyYXRpb246IExJTkVBUl9TUEVFRFxufSk7XG5cbmRyYXdpbmcuQW5pbWF0aW9uRmFjdG9yeS5jdXJyZW50LnJlZ2lzdGVyKEFSUk9XX1BPSU5URVIsIEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbjsiLCJpbXBvcnQgeyBnZW9tZXRyeSBhcyBnZW8sIGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBkZWVwRXh0ZW5kLCBkZWZpbmVkIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFSUk9XX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IExpbmVhclBvaW50ZXIgZnJvbSAnLi9saW5lYXItcG9pbnRlcic7XG5pbXBvcnQgQXJyb3dMaW5lYXJQb2ludGVyQW5pbWF0aW9uIGZyb20gJy4vYXJyb3ctbGluZWFyLXBvaW50ZXItYW5pbWF0aW9uJztcblxuY29uc3QgUG9pbnQgPSBnZW8uUG9pbnQ7XG5jb25zdCBQYXRoID0gZHJhd2luZy5QYXRoO1xuXG5jbGFzcyBBcnJvd0xpbmVhclBvaW50ZXIgZXh0ZW5kcyBMaW5lYXJQb2ludGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzY2FsZSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihzY2FsZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMub3B0aW9ucy5zaXplKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNpemUgPSB0aGlzLnNjYWxlLm9wdGlvbnMubWFqb3JUaWNrcy5zaXplICogMC42O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRlclNoYXBlKCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zOiB7IHNpemUgfSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaGFsZlNpemUgPSBzaXplIC8gMjtcbiAgICAgICAgY29uc3Qgc2lnbiA9IChzY2FsZS5vcHRpb25zLm1pcnJvciA/IC0xIDogMSk7XG4gICAgICAgIGxldCBzaGFwZTtcblxuICAgICAgICBpZiAoc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgc2hhcGUgPSBbXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KDAsIDAgLSBoYWxmU2l6ZSksIG5ldyBQb2ludCgwIC0gc2lnbiAqIHNpemUsIDApLCBuZXcgUG9pbnQoMCwgMCArIGhhbGZTaXplKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoYXBlID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludCgwIC0gaGFsZlNpemUsIDApLCBuZXcgUG9pbnQoMCwgMCArIHNpZ24gKiBzaXplKSwgbmV3IFBvaW50KDAgKyBoYWxmU2l6ZSwgMClcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgfVxuXG4gICAgcmVwYWludCgpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IEFycm93TGluZWFyUG9pbnRlckFuaW1hdGlvbih0aGlzLmVsZW1lbnRzLCBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICB2ZXJ0aWNhbDogc2NhbGUub3B0aW9ucy52ZXJ0aWNhbCxcbiAgICAgICAgICAgIG1pcnJvcjogc2NhbGUub3B0aW9ucy5taXJyb3IsXG4gICAgICAgICAgICBtYXJnaW46IHRoaXMuX21hcmdpbihvcHRpb25zLm1hcmdpbiksXG4gICAgICAgICAgICBmcm9tOiBzY2FsZS5nZXRTbG90KG9wdGlvbnMuX29sZFZhbHVlKSxcbiAgICAgICAgICAgIHRvOiBzY2FsZS5nZXRTbG90KG9wdGlvbnMudmFsdWUpXG4gICAgICAgIH0pKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24udHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb24uc2V0dXAoKTtcbiAgICAgICAgYW5pbWF0aW9uLnBsYXkoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRPcHRpb25zID0gdGhpcy5nZXRFbGVtZW50T3B0aW9ucygpO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMucG9pbnRlclNoYXBlKG9wdGlvbnMudmFsdWUpO1xuXG4gICAgICAgIG9wdGlvbnMuYW5pbWF0aW9uLnR5cGUgPSBBUlJPV19QT0lOVEVSO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgc3Ryb2tlOiBlbGVtZW50T3B0aW9ucy5zdHJva2UsXG4gICAgICAgICAgICBmaWxsOiBlbGVtZW50T3B0aW9ucy5maWxsXG4gICAgICAgIH0pLm1vdmVUbyhzaGFwZVswXSkubGluZVRvKHNoYXBlWzFdKS5saW5lVG8oc2hhcGVbMl0pLmNsb3NlKCk7XG5cbiAgICAgICAgY29uc3Qgc2xvdCA9IHNjYWxlLmdldFNsb3Qob3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIGVsZW1lbnRzLnRyYW5zZm9ybShnZW8udHJhbnNmb3JtKCkudHJhbnNsYXRlKHNsb3QueDEsIHNsb3QueTEpKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJyb3dMaW5lYXJQb2ludGVyOyIsImltcG9ydCB7IGRyYXdpbmcgfSBmcm9tICdAcHJvZ3Jlc3Mva2VuZG8tZHJhd2luZyc7XG5pbXBvcnQgeyBpbnRlcnBvbGF0ZVZhbHVlLCBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBYLCBZIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBCQVJfUE9JTlRFUiwgTElORUFSX1NQRUVELCBMSU5FQVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uIGV4dGVuZHMgZHJhd2luZy5BbmltYXRpb24ge1xuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXMgPSBvcHRpb25zLnZlcnRpY2FsID8gWSA6IFg7XG4gICAgICAgIGNvbnN0IHRvID0gdGhpcy50byA9IG9wdGlvbnMubmV3UG9pbnRzWzBdW2F4aXNdO1xuICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tID0gb3B0aW9ucy5vbGRQb2ludHNbMF1bYXhpc107XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBNYXRoLm1heCgoTWF0aC5hYnModG8gLSBmcm9tKSAvIG9wdGlvbnMuc3BlZWQpICogMTAwMCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXQoZnJvbSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbnRlcnBvbGF0ZVZhbHVlKHRoaXMuZnJvbSwgdGhpcy50bywgcG9zKTtcbiAgICAgICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgICB9XG5cbiAgICBfc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNldHRlciA9IFwic2V0XCIgKyB0aGlzLmF4aXMudG9VcHBlckNhc2UoKTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5vcHRpb25zLm5ld1BvaW50cztcblxuICAgICAgICBwb2ludHNbMF1bc2V0dGVyXSh2YWx1ZSk7XG4gICAgICAgIHBvaW50c1sxXVtzZXR0ZXJdKHZhbHVlKTtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKEJhckxpbmVhclBvaW50ZXJBbmltYXRpb24sIHtcbiAgICBlYXNpbmc6IExJTkVBUixcbiAgICBzcGVlZDogTElORUFSX1NQRUVEXG59KTtcblxuZHJhd2luZy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoQkFSX1BPSU5URVIsIEJhckxpbmVhclBvaW50ZXJBbmltYXRpb24pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXJMaW5lYXJQb2ludGVyQW5pbWF0aW9uOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGRlZXBFeHRlbmQsIGRlZmluZWQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgWCwgWSB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IExpbmVhclBvaW50ZXIgZnJvbSAnLi9saW5lYXItcG9pbnRlcic7XG5pbXBvcnQgQmFyTGluZWFyUG9pbnRlckFuaW1hdGlvbiBmcm9tICcuL2Jhci1saW5lYXItcG9pbnRlci1hbmltYXRpb24nO1xuXG5jb25zdCB7IEdyb3VwLCBQYXRoIH0gPSBkcmF3aW5nO1xuXG5jbGFzcyBCYXJMaW5lYXJQb2ludGVyIGV4dGVuZHMgTGluZWFyUG9pbnRlciB7XG4gICAgY29uc3RydWN0b3Ioc2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc2NhbGUsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLm9wdGlvbnMuc2l6ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zaXplID0gdGhpcy5zY2FsZS5vcHRpb25zLm1ham9yVGlja3Muc2l6ZSAqIDAuMztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvaW50ZXJTaGFwZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IG1pcnJvciwgdmVydGljYWwgfSA9IHNjYWxlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGRpciA9IG1pcnJvciA9PT0gdmVydGljYWwgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IHNpemUgPSBvcHRpb25zLnNpemUgKiBkaXI7XG4gICAgICAgIGNvbnN0IG1pblNsb3QgPSBzY2FsZS5nZXRTbG90KHNjYWxlLm9wdGlvbnMubWluKTtcbiAgICAgICAgY29uc3Qgc2xvdCA9IHNjYWxlLmdldFNsb3QodmFsdWUpO1xuICAgICAgICBjb25zdCBheGlzID0gdmVydGljYWwgPyBZIDogWDtcbiAgICAgICAgY29uc3Qgc2l6ZUF4aXMgPSB2ZXJ0aWNhbCA/IFggOiBZO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSB0aGlzLl9tYXJnaW4oKSAqIGRpcjtcblxuICAgICAgICBjb25zdCBwMSA9IG5ldyBnZW8uUG9pbnQoKTtcbiAgICAgICAgcDFbYXhpc10gPSBtaW5TbG90W2F4aXMgKyBcIjFcIl07XG4gICAgICAgIHAxW3NpemVBeGlzXSA9IG1pblNsb3Rbc2l6ZUF4aXMgKyBcIjFcIl07XG5cbiAgICAgICAgY29uc3QgcDIgPSBuZXcgZ2VvLlBvaW50KCk7XG4gICAgICAgIHAyW2F4aXNdID0gc2xvdFtheGlzICsgXCIxXCJdO1xuICAgICAgICBwMltzaXplQXhpc10gPSBzbG90W3NpemVBeGlzICsgXCIxXCJdO1xuXG4gICAgICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgICAgICAgcDEudHJhbnNsYXRlKG1hcmdpbiwgMCk7XG4gICAgICAgICAgICBwMi50cmFuc2xhdGUobWFyZ2luLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAxLnRyYW5zbGF0ZSgwLCBtYXJnaW4pO1xuICAgICAgICAgICAgcDIudHJhbnNsYXRlKDAsIG1hcmdpbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwMyA9IHAyLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHA0ID0gcDEuY2xvbmUoKTtcblxuICAgICAgICBpZiAodmVydGljYWwpIHtcbiAgICAgICAgICAgIHAzLnRyYW5zbGF0ZShzaXplLCAwKTtcbiAgICAgICAgICAgIHA0LnRyYW5zbGF0ZShzaXplLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAzLnRyYW5zbGF0ZSgwLCBzaXplKTtcbiAgICAgICAgICAgIHA0LnRyYW5zbGF0ZSgwLCBzaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbIHAxLCBwMiwgcDMsIHA0IF07XG4gICAgfVxuXG4gICAgcmVwYWludCgpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLnBvaW50ZXJTaGFwZShvcHRpb25zLnZhbHVlKTtcbiAgICAgICAgY29uc3QgcG9pbnRlclBhdGggPSB0aGlzLnBvaW50ZXJQYXRoO1xuICAgICAgICBjb25zdCBvbGRTaGFwZSA9IHRoaXMucG9pbnRlclNoYXBlKG9wdGlvbnMuX29sZFZhbHVlKTtcblxuICAgICAgICBwb2ludGVyUGF0aC5tb3ZlVG8oc2hhcGVbMF0pLmxpbmVUbyhzaGFwZVsxXSkubGluZVRvKHNoYXBlWzJdKS5saW5lVG8oc2hhcGVbM10pLmNsb3NlKCk7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IEJhckxpbmVhclBvaW50ZXJBbmltYXRpb24ocG9pbnRlclBhdGgsIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgIHJldmVyc2U6IHNjYWxlLm9wdGlvbnMucmV2ZXJzZSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBzY2FsZS5vcHRpb25zLnZlcnRpY2FsLFxuICAgICAgICAgICAgb2xkUG9pbnRzOiBbIG9sZFNoYXBlWzFdLCBvbGRTaGFwZVsyXSBdLFxuICAgICAgICAgICAgbmV3UG9pbnRzOiBbIHNoYXBlWzFdLCBzaGFwZVsyXSBdXG4gICAgICAgIH0pKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRpb24udHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhbmltYXRpb24ub3B0aW9ucy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBhbmltYXRpb24uc2V0dXAoKTtcbiAgICAgICAgYW5pbWF0aW9uLnBsYXkoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRPcHRpb25zID0gdGhpcy5nZXRFbGVtZW50T3B0aW9ucygpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMudHJhY2sudmlzaWJsZSkge1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRoaXMucmVuZGVyVHJhY2soKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludGVyID0gdGhpcy5wb2ludGVyUGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgIHN0cm9rZTogZWxlbWVudE9wdGlvbnMuc3Ryb2tlLFxuICAgICAgICAgICAgZmlsbDogZWxlbWVudE9wdGlvbnMuZmlsbFxuICAgICAgICB9KTtcblxuICAgICAgICBncm91cC5hcHBlbmQocG9pbnRlcik7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGdyb3VwO1xuXG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICByZW5kZXJUcmFjaygpIHtcbiAgICAgICAgY29uc3QgdHJhY2tPcHRpb25zID0gdGhpcy5vcHRpb25zLnRyYWNrO1xuICAgICAgICBjb25zdCBib3JkZXIgPSB0cmFja09wdGlvbnMuYm9yZGVyIHx8IHt9O1xuICAgICAgICBjb25zdCB0cmFja0JveCA9IHRoaXMudHJhY2tCb3guY2xvbmUoKS5wYWQoYm9yZGVyLndpZHRoIHx8IDApO1xuXG4gICAgICAgIHJldHVybiBuZXcgUGF0aC5mcm9tUmVjdCh0cmFja0JveC50b1JlY3QoKSwge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0cmFja09wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogdHJhY2tPcHRpb25zLm9wYWNpdHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyLndpZHRoID8gYm9yZGVyLmNvbG9yIHx8IHRyYWNrT3B0aW9ucy5jb2xvciA6IFwiXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvcmRlci53aWR0aCxcbiAgICAgICAgICAgICAgICBkYXNoVHlwZTogYm9yZGVyLmRhc2hUeXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFyTGluZWFyUG9pbnRlcjsiLCJpbXBvcnQgeyBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgaXNBcnJheSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBUlJPVywgREVGQVVMVF9XSURUSCwgREVGQVVMVF9IRUlHSFQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IEdhdWdlIGZyb20gJy4uL2dhdWdlJztcbmltcG9ydCBMaW5lYXJTY2FsZSBmcm9tICcuL2xpbmVhci1zY2FsZSc7XG5pbXBvcnQgQXJyb3dMaW5lYXJQb2ludGVyIGZyb20gJy4vYXJyb3ctbGluZWFyLXBvaW50ZXInO1xuaW1wb3J0IEJhckxpbmVhclBvaW50ZXIgZnJvbSAnLi9iYXItbGluZWFyLXBvaW50ZXInO1xuXG5jb25zdCBERUZBVUxUX01JTl9XSURUSCA9IDYwO1xuY29uc3QgREVGQVVMVF9NSU5fSEVJR0hUID0gNjA7XG5cbmNvbnN0IEdyb3VwID0gZHJhd2luZy5Hcm91cDtcblxuY2xhc3MgTGluZWFyR2F1Z2UgZXh0ZW5kcyBHYXVnZSB7XG5cbiAgICByZWZsb3coYmJveCkge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG4gICAgICAgIGNvbnN0IGJib3hYID0gYmJveC5vcmlnaW4ueDtcbiAgICAgICAgY29uc3QgYmJveFkgPSBiYm94Lm9yaWdpbi55O1xuXG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3goYmJveFgsIGJib3hZLCBiYm94WCArIGJib3gud2lkdGgoKSwgYmJveFkgKyBiYm94LmhlaWdodCgpKTtcblxuICAgICAgICB0aGlzLnNjYWxlLnJlZmxvdyhib3gpO1xuICAgICAgICB0aGlzLl9zaHJpbmtTY2FsZVdpZHRoKGJveCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJib3ggPSB0aGlzLl9nZXRCb3goYm94KTtcbiAgICAgICAgdGhpcy5fYWxpZ25FbGVtZW50cygpO1xuICAgICAgICB0aGlzLl9zaHJpbmtFbGVtZW50cygpO1xuICAgICAgICB0aGlzLl9idWlsZFZpc3VhbCgpO1xuICAgICAgICB0aGlzLl9kcmF3KCk7XG4gICAgfVxuXG4gICAgX2J1aWxkVmlzdWFsKCkge1xuICAgICAgICBjb25zdCB2aXN1YWxzID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIGNvbnN0IHNjYWxlRWxlbWVudHMgPSB0aGlzLnNjYWxlLnJlbmRlcigpO1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucG9pbnRlcnM7XG5cbiAgICAgICAgdmlzdWFscy5hcHBlbmQodGhpcy5nYXVnZUFyZWEpO1xuICAgICAgICB2aXN1YWxzLmFwcGVuZChzY2FsZUVsZW1lbnRzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcG9pbnRlcnNbaV07XG4gICAgICAgICAgICB2aXN1YWxzLmFwcGVuZChjdXJyZW50LnJlbmRlcigpKTtcbiAgICAgICAgICAgIGN1cnJlbnQudmFsdWUoY3VycmVudC5vcHRpb25zLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Zpc3VhbHMgPSB2aXN1YWxzO1xuICAgIH1cblxuICAgIF9jcmVhdGVNb2RlbCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlID0gbmV3IExpbmVhclNjYWxlKG9wdGlvbnMuc2NhbGUsIHRoaXMuY29udGV4dFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMucG9pbnRlcnMgPSBbXTtcblxuICAgICAgICBsZXQgcG9pbnRlcnMgPSBvcHRpb25zLnBvaW50ZXI7XG4gICAgICAgIHBvaW50ZXJzID0gaXNBcnJheShwb2ludGVycykgPyBwb2ludGVycyA6IFsgcG9pbnRlcnMgXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHBvaW50ZXJzW2ldLCB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBvcHRpb25zLnRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludGVyVHlwZSA9IGN1cnJlbnRPcHRpb25zLnNoYXBlID09PSBBUlJPVyA/IEFycm93TGluZWFyUG9pbnRlciA6IEJhckxpbmVhclBvaW50ZXI7XG5cbiAgICAgICAgICAgIHRoaXMucG9pbnRlcnMucHVzaChuZXcgcG9pbnRlclR5cGUoc2NhbGUsIGN1cnJlbnRPcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZGVmYXVsdFNpemUoKSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gdGhpcy5vcHRpb25zLnNjYWxlLnZlcnRpY2FsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdmVydGljYWwgPyBERUZBVUxUX01JTl9XSURUSCA6IERFRkFVTFRfV0lEVEgsXG4gICAgICAgICAgICBoZWlnaHQ6IHZlcnRpY2FsID8gREVGQVVMVF9IRUlHSFQgOiBERUZBVUxUX01JTl9IRUlHSFRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZ2V0Qm94KGJveCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBwb2ludGVycyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYm94Q2VudGVyID0gYm94LmNlbnRlcigpO1xuICAgICAgICBsZXQgcGxvdEFyZWFCb3ggPSBwb2ludGVyc1swXS5ib3guY2xvbmUoKS53cmFwKHNjYWxlLmJveCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGxvdEFyZWFCb3gud3JhcChwb2ludGVyc1tpXS5ib3guY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2l6ZTtcbiAgICAgICAgaWYgKHNjYWxlLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIHNpemUgPSBwbG90QXJlYUJveC53aWR0aCgpIC8gMjtcbiAgICAgICAgICAgIHBsb3RBcmVhQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgICAgICBib3hDZW50ZXIueCAtIHNpemUsIGJveC55MSxcbiAgICAgICAgICAgICAgICBib3hDZW50ZXIueCArIHNpemUsIGJveC55MlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpemUgPSBwbG90QXJlYUJveC5oZWlnaHQoKSAvIDI7XG4gICAgICAgICAgICBwbG90QXJlYUJveCA9IG5ldyBCb3goXG4gICAgICAgICAgICAgICAgYm94LngxLCBib3hDZW50ZXIueSAtIHNpemUsXG4gICAgICAgICAgICAgICAgYm94LngyLCBib3hDZW50ZXIueSArIHNpemVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGxvdEFyZWFCb3g7XG4gICAgfVxuXG4gICAgX2FsaWduRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIHBvaW50ZXJzIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBzY2FsZUJveCA9IHNjYWxlLmJveDtcbiAgICAgICAgY29uc3QgYm94ID0gcG9pbnRlcnNbMF0uYm94LmNsb25lKCkud3JhcChzY2FsZS5ib3gpO1xuICAgICAgICBjb25zdCBwbG90QXJlYUJveCA9IHRoaXMuYmJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib3gud3JhcChwb2ludGVyc1tpXS5ib3guY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGlmZjtcbiAgICAgICAgaWYgKHNjYWxlLm9wdGlvbnMudmVydGljYWwpIHtcbiAgICAgICAgICAgIGRpZmYgPSBwbG90QXJlYUJveC5jZW50ZXIoKS54IC0gYm94LmNlbnRlcigpLng7XG4gICAgICAgICAgICBzY2FsZS5yZWZsb3cobmV3IEJveChcbiAgICAgICAgICAgICAgICBzY2FsZUJveC54MSArIGRpZmYsIHBsb3RBcmVhQm94LnkxLFxuICAgICAgICAgICAgICAgIHNjYWxlQm94LngyICsgZGlmZiwgcGxvdEFyZWFCb3gueTJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlmZiA9IHBsb3RBcmVhQm94LmNlbnRlcigpLnkgLSBib3guY2VudGVyKCkueTtcbiAgICAgICAgICAgIHNjYWxlLnJlZmxvdyhuZXcgQm94KFxuICAgICAgICAgICAgICAgIHNjYWxlQm94LngxLCBzY2FsZUJveC55MSArIGRpZmYsXG4gICAgICAgICAgICAgICAgc2NhbGVCb3gueDIsIHNjYWxlQm94LnkyICsgZGlmZlxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3codGhpcy5iYm94KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zaHJpbmtTY2FsZVdpZHRoKGJib3gpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFzY2FsZS5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBjb25zdCBvdmVyZmxvdyA9IHNjYWxlLmNvbnRlbnRCb3goKS53aWR0aCgpIC0gYmJveC53aWR0aCgpO1xuICAgICAgICAgICAgaWYgKG92ZXJmbG93ID4gMCkge1xuICAgICAgICAgICAgICAgIHNjYWxlLmJveC5zaHJpbmsob3ZlcmZsb3csIDApO1xuICAgICAgICAgICAgICAgIHNjYWxlLmJveC5hbGlnblRvKGJib3gsICdjZW50ZXInKTtcbiAgICAgICAgICAgICAgICBzY2FsZS5yZWZsb3coc2NhbGUuYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zaHJpbmtFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgcG9pbnRlcnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNjYWxlQm94ID0gc2NhbGUuYm94LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHBvcyA9IHNjYWxlLm9wdGlvbnMudmVydGljYWwgPyBcInlcIiA6IFwieFwiO1xuICAgICAgICBjb25zdCBwb2ludGVyQm94ID0gcG9pbnRlcnNbMF0uYm94O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJCb3gud3JhcChwb2ludGVyc1tpXS5ib3guY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY2FsZUJveFtwb3MgKyAxXSArPSBNYXRoLm1heChzY2FsZUJveFtwb3MgKyAxXSAtIHBvaW50ZXJCb3hbcG9zICsgMV0sIDApO1xuICAgICAgICBzY2FsZUJveFtwb3MgKyAyXSAtPSBNYXRoLm1heChwb2ludGVyQm94W3BvcyArIDJdIC0gc2NhbGVCb3hbcG9zICsgMl0sIDApO1xuXG4gICAgICAgIHNjYWxlLnJlZmxvdyhzY2FsZUJveCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcG9pbnRlcnNbaV0ucmVmbG93KHRoaXMuYmJveCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKExpbmVhckdhdWdlLCB7XG4gICAgdHJhbnNpdGlvbnM6IHRydWUsXG4gICAgZ2F1Z2VBcmVhOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiXCJcbiAgICB9LFxuICAgIHNjYWxlOiB7XG4gICAgICAgIHZlcnRpY2FsOiB0cnVlXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExpbmVhckdhdWdlOyIsImltcG9ydCB7IGdlb21ldHJ5IGFzIGdlbywgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IHNldERlZmF1bHRPcHRpb25zLCBkZWVwRXh0ZW5kLCBkZWZpbmVkLCByb3VuZCwgZ2V0U3BhY2luZyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBCTEFDSywgQ09PUkRfUFJFQ0lTSU9OIH0gZnJvbSAnLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBhdXRvTWFqb3JVbml0LCBCb3gsIE51bWVyaWNBeGlzIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5pbXBvcnQgeyBidWlsZExhYmVsRWxlbWVudCwgZ2V0UmFuZ2UgfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IERFR1JFRSwgREVGQVVMVF9MSU5FX1dJRFRILCBJTlNJREUsIE9VVFNJREUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBHRU9fQVJDX0FESlVTVF9BTkdMRSA9IDE4MDtcblxuY29uc3QgeyBBcmMsIFBhdGgsIEdyb3VwIH0gPSBkcmF3aW5nO1xuXG5mdW5jdGlvbiBkcmF3VGlja3MoYXJjLCB0aWNrQW5nbGVzLCB1bml0LCB0aWNrT3B0aW9ucykge1xuICAgIGNvbnN0IHRpY2tzID0gbmV3IEdyb3VwKCk7XG4gICAgY29uc3QgY2VudGVyID0gYXJjLmNlbnRlcjtcbiAgICBjb25zdCByYWRpdXMgPSBhcmMuZ2V0UmFkaXVzWCgpO1xuXG4gICAgaWYgKHRpY2tPcHRpb25zLnZpc2libGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWNrQW5nbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0aWNrU3RhcnQgPSBhcmMucG9pbnRBdCh0aWNrQW5nbGVzW2ldKTtcbiAgICAgICAgICAgIGNvbnN0IHRpY2tFbmQgPSBuZXcgZ2VvLlBvaW50KGNlbnRlci54ICsgcmFkaXVzIC0gdGlja09wdGlvbnMuc2l6ZSwgY2VudGVyLnkpLnJvdGF0ZSh0aWNrQW5nbGVzW2ldLCBjZW50ZXIpO1xuXG4gICAgICAgICAgICB0aWNrcy5hcHBlbmQobmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgIHN0cm9rZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGlja09wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aWNrT3B0aW9ucy53aWR0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLm1vdmVUbyh0aWNrU3RhcnQpLmxpbmVUbyh0aWNrRW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGlja3M7XG59XG5cbmZ1bmN0aW9uIHJhbmdlU2VnbWVudChmcm9tLCB0bywgY29sb3IsIG9wYWNpdHkpIHtcbiAgICByZXR1cm4geyBmcm9tOiBmcm9tLCB0bzogdG8sIGNvbG9yOiBjb2xvciwgb3BhY2l0eTogb3BhY2l0eSB9O1xufVxuXG5jbGFzcyBSYWRpYWxTY2FsZSBleHRlbmRzIE51bWVyaWNBeGlzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBzZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKDAsIDEsIG9wdGlvbnMsIHNlcnZpY2UpO1xuICAgIH1cblxuICAgIGluaXRVc2VyT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlT3B0aW9ucyA9IGRlZXBFeHRlbmQoe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHNjYWxlT3B0aW9ucy5tYWpvclVuaXQgPSBzY2FsZU9wdGlvbnMubWFqb3JVbml0IHx8IGF1dG9NYWpvclVuaXQoc2NhbGVPcHRpb25zLm1pbiwgc2NhbGVPcHRpb25zLm1heCk7XG4gICAgICAgIHNjYWxlT3B0aW9ucy5taW5vclVuaXQgPSBzY2FsZU9wdGlvbnMubWlub3JVbml0IHx8IHNjYWxlT3B0aW9ucy5tYWpvclVuaXQgLyAxMDtcblxuICAgICAgICByZXR1cm4gc2NhbGVPcHRpb25zO1xuICAgIH1cblxuICAgIGluaXRGaWVsZHMoKSB7XG4gICAgfVxuXG4gICAgcmVuZGVyKGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIGNvbnN0IGFyYyA9IHRoaXMucmVuZGVyQXJjKGNlbnRlciwgcmFkaXVzKTtcblxuICAgICAgICB0aGlzLmJib3ggPSBhcmMuYmJveCgpO1xuICAgICAgICB0aGlzLmxhYmVsRWxlbWVudHMgPSB0aGlzLnJlbmRlckxhYmVscygpO1xuICAgICAgICB0aGlzLnRpY2tzID0gdGhpcy5yZW5kZXJUaWNrcygpO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHRoaXMucmVuZGVyUmFuZ2VzKCk7XG4gICAgfVxuXG4gICAgcmVmbG93KGJib3gpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gYmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5taW4oYmJveC5oZWlnaHQoKSwgYmJveC53aWR0aCgpKSAvIDI7XG5cbiAgICAgICAgaWYgKGRlZmluZWQodGhpcy5iYm94KSkge1xuICAgICAgICAgICAgdGhpcy5iYm94ID0gdGhpcy5hcmMuYmJveCgpO1xuICAgICAgICAgICAgdGhpcy5yYWRpdXModGhpcy5hcmMuZ2V0UmFkaXVzWCgpKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3NpdGlvblJhbmdlcygpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJMYWJlbHMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcihjZW50ZXIsIHJhZGl1cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzbG90QW5nbGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgcmV2ZXJzZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5nbGUgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIGxldCByZXN1bHQ7XG5cbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGVuZEFuZ2xlIC0gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pICogYW5nbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSAoKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pICogYW5nbGUpICsgc3RhcnRBbmdsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQgKyBHRU9fQVJDX0FESlVTVF9BTkdMRTtcbiAgICB9XG5cbiAgICBoYXNSYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IHRoaXMub3B0aW9ucy5yYW5nZXM7XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlcyAmJiByYW5nZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIHRpY2tzU2l6ZSgpIHtcbiAgICAgICAgY29uc3QgeyBtYWpvclRpY2tzLCBtaW5vclRpY2tzIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGxldCBzaXplID0gMDtcbiAgICAgICAgaWYgKG1ham9yVGlja3MudmlzaWJsZSkge1xuICAgICAgICAgICAgc2l6ZSA9IG1ham9yVGlja3Muc2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5vclRpY2tzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHNpemUgPSBNYXRoLm1heChtaW5vclRpY2tzLnNpemUsIHNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBhcmMgPSB0aGlzLmFyYy5jbG9uZSgpO1xuICAgICAgICBsZXQgcmFkaXVzID0gYXJjLmdldFJhZGl1c1goKTtcbiAgICAgICAgY29uc3QgdGlja0FuZ2xlcyA9IHRoaXMudGlja0FuZ2xlcyhhcmMsIG9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgY29uc3QgcmFuZ2VTaXplID0gb3B0aW9ucy5yYW5nZVNpemUgPSBvcHRpb25zLnJhbmdlU2l6ZSB8fCByYWRpdXMgKiAwLjE7XG4gICAgICAgIGNvbnN0IGxhYmVsc0dyb3VwID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgbGV0IHJhbmdlRGlzdGFuY2UgPSByYWRpdXMgKiAwLjA1O1xuICAgICAgICBpZiAoZGVmaW5lZChvcHRpb25zLnJhbmdlRGlzdGFuY2UpKSB7XG4gICAgICAgICAgICByYW5nZURpc3RhbmNlID0gb3B0aW9ucy5yYW5nZURpc3RhbmNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5yYW5nZURpc3RhbmNlID0gcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxhYmVsc09wdGlvbnMgPSBvcHRpb25zLmxhYmVscztcbiAgICAgICAgY29uc3QgaXNJbnNpZGUgPSBsYWJlbHNPcHRpb25zLnBvc2l0aW9uID09PSBJTlNJREU7XG4gICAgICAgIGNvbnN0IGhhc0xhYmVsRWxlbWVudHMgPSBkZWZpbmVkKHRoaXMubGFiZWxFbGVtZW50cyk7XG5cbiAgICAgICAgaWYgKGlzSW5zaWRlKSB7XG4gICAgICAgICAgICByYWRpdXMgLT0gdGhpcy50aWNrc1NpemUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmFuZ2VzKCkgJiYgIWhhc0xhYmVsRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICByYWRpdXMgLT0gcmFuZ2VTaXplICsgcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyYy5zZXRSYWRpdXNYKHJhZGl1cykuc2V0UmFkaXVzWShyYWRpdXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gbGFiZWxzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGdldFNwYWNpbmcobGFiZWxzT3B0aW9ucy5wYWRkaW5nKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1dpZHRoID0gKHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQpIC8gMjtcbiAgICAgICAgY29uc3QgcGFkZGluZ0hlaWdodCA9IChwYWRkaW5nLnRvcCArIHBhZGRpbmcuYm90dG9tKSAvIDI7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IGxhYmVsLmJveC53aWR0aCgpIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBsYWJlbC5ib3guaGVpZ2h0KCkgLyAyO1xuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSB0aWNrQW5nbGVzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxBbmdsZSA9IChhbmdsZSAtIEdFT19BUkNfQURKVVNUX0FOR0xFKSAqIERFR1JFRTtcblxuICAgICAgICAgICAgY29uc3QgbHAgPSBhcmMucG9pbnRBdChhbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBjeCA9IGxwLnggKyAoTWF0aC5jb3MobGFiZWxBbmdsZSkgKiAoaGFsZldpZHRoICsgcGFkZGluZ1dpZHRoKSAqIChpc0luc2lkZSA/IDEgOiAtMSkpO1xuICAgICAgICAgICAgY29uc3QgY3kgPSBscC55ICsgKE1hdGguc2luKGxhYmVsQW5nbGUpICogKGhhbGZIZWlnaHQgKyBwYWRkaW5nSGVpZ2h0KSAqIChpc0luc2lkZSA/IDEgOiAtMSkpO1xuXG4gICAgICAgICAgICBsYWJlbC5yZWZsb3cobmV3IEJveChjeCAtIGhhbGZXaWR0aCwgY3kgLSBoYWxmSGVpZ2h0LCBjeCArIGhhbGZXaWR0aCwgY3kgKyBoYWxmSGVpZ2h0KSk7XG4gICAgICAgICAgICBjb25zdCBsYWJlbFBvcyA9IG5ldyBnZW8uUG9pbnQobGFiZWwuYm94LngxLCBsYWJlbC5ib3gueTEpO1xuXG4gICAgICAgICAgICBsZXQgbGFiZWxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFoYXNMYWJlbEVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50ID0gYnVpbGRMYWJlbEVsZW1lbnQobGFiZWwsIG9wdGlvbnMubGFiZWxzKTtcbiAgICAgICAgICAgICAgICBsYWJlbHNHcm91cC5hcHBlbmQobGFiZWxFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50ID0gdGhpcy5sYWJlbEVsZW1lbnRzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMYWJlbFBvcyA9IGxhYmVsRWxlbWVudC5iYm94KCkub3JpZ2luO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWxUcmFuc2Zvcm0gPSBsYWJlbEVsZW1lbnQudHJhbnNmb3JtKCkgfHwgZ2VvLnRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIGxhYmVsVHJhbnNmb3JtLnRyYW5zbGF0ZShsYWJlbFBvcy54IC0gcHJldkxhYmVsUG9zLngsIGxhYmVsUG9zLnkgLSBwcmV2TGFiZWxQb3MueSk7XG4gICAgICAgICAgICAgICAgbGFiZWxFbGVtZW50LnRyYW5zZm9ybShsYWJlbFRyYW5zZm9ybSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmJveCA9IGdlby5SZWN0LnVuaW9uKHRoaXMuYmJveCwgbGFiZWxFbGVtZW50LmJib3goKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGFiZWxzR3JvdXA7XG4gICAgfVxuXG4gICAgcmVwb3NpdGlvblJhbmdlcygpIHtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gdGhpcy5yYW5nZXMuY2hpbGRyZW47XG5cbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmdlRGlzdGFuY2UsIHJhbmdlU2l6ZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgbGV0IHJhbmdlUmFkaXVzID0gdGhpcy5nZXRSYW5nZVJhZGl1cygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9PT0gSU5TSURFKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VSYWRpdXMgKz0gcmFuZ2VTaXplICsgcmFuZ2VEaXN0YW5jZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3UmFkaXVzID0gcmFuZ2VSYWRpdXMgKyAocmFuZ2VTaXplIC8gMik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLl9nZW9tZXRyeS5zZXRSYWRpdXNYKG5ld1JhZGl1cykuc2V0UmFkaXVzWShuZXdSYWRpdXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJib3ggPSBnZW8uUmVjdC51bmlvbih0aGlzLmJib3gsIHRoaXMucmFuZ2VzLmJib3goKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJSYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5yYW5nZVNlZ21lbnRzKCk7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzQ291bnQgPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGlmIChzZWdtZW50c0NvdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHJhbmdlU2l6ZSwgcmV2ZXJzZSwgcmFuZ2VEaXN0YW5jZSB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VSYWRpdXMgPSB0aGlzLmdldFJhbmdlUmFkaXVzKCk7XG5cbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIHRpY2tzIHdpdGggYSByYW5nZSBkaXN0YW5jZSBhbmQgYSByYW5nZSBzaXplXG4gICAgICAgICAgICB0aGlzLnJhZGl1cyh0aGlzLnJhZGl1cygpIC0gcmFuZ2VTaXplIC0gcmFuZ2VEaXN0YW5jZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLnNsb3RBbmdsZShzZWdtZW50W3JldmVyc2UgPyBcInRvXCIgOiBcImZyb21cIl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvID0gdGhpcy5zbG90QW5nbGUoc2VnbWVudFshcmV2ZXJzZSA/IFwidG9cIiA6IFwiZnJvbVwiXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG8gLSBmcm9tICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5jcmVhdGVSYW5nZShmcm9tLCB0bywgcmFuZ2VSYWRpdXMsIHNlZ21lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNyZWF0ZVJhbmdlKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYW5nZVJhZGl1cywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByYW5nZVNpemUgPSB0aGlzLm9wdGlvbnMucmFuZ2VTaXplO1xuICAgICAgICBjb25zdCByYW5nZUdlb20gPSBuZXcgZ2VvLkFyYyh0aGlzLmFyYy5jZW50ZXIsIHtcbiAgICAgICAgICAgIHJhZGl1c1g6IHJhbmdlUmFkaXVzICsgKHJhbmdlU2l6ZSAvIDIpLFxuICAgICAgICAgICAgcmFkaXVzWTogcmFuZ2VSYWRpdXMgKyAocmFuZ2VTaXplIC8gMiksXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQXJjKHJhbmdlR2VvbSwge1xuICAgICAgICAgICAgc3Ryb2tlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHJhbmdlU2l6ZSxcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcHRpb25zLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgbGluZUNhcDogb3B0aW9ucy5saW5lQ2FwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJhbmdlU2VnbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJhbmdlcyA9IG9wdGlvbnMucmFuZ2VzIHx8IFtdO1xuICAgICAgICBjb25zdCBjb3VudCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gW107XG5cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IG1pbiwgbWF4LCByYW5nZVBsYWNlaG9sZGVyQ29sb3I6IGRlZmF1bHRDb2xvciB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmFuZ2VTZWdtZW50KG1pbiwgbWF4LCBkZWZhdWx0Q29sb3IpKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXRSYW5nZShyYW5nZXNbaV0sIG1pbiwgbWF4KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWdtZW50c0NvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZWdtZW50c0NvdW50OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50LmZyb20gPD0gcmFuZ2UuZnJvbSAmJiByYW5nZS5mcm9tIDw9IHNlZ21lbnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocmFuZ2VTZWdtZW50KHJhbmdlLmZyb20sIHJhbmdlLnRvLCByYW5nZS5jb2xvciwgcmFuZ2Uub3BhY2l0eSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5mcm9tIDw9IHJhbmdlLnRvICYmIHJhbmdlLnRvIDw9IHNlZ21lbnQudG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy5wdXNoKHJhbmdlU2VnbWVudChyYW5nZS50bywgc2VnbWVudC50bywgZGVmYXVsdENvbG9yLCByYW5nZS5vcGFjaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZ21lbnQudG8gPSByYW5nZS5mcm9tO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWdtZW50cztcbiAgICB9XG5cbiAgICBnZXRSYW5nZVJhZGl1cygpIHtcbiAgICAgICAgY29uc3QgeyBhcmMsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgcmFuZ2VTaXplLCByYW5nZURpc3RhbmNlLCBtYWpvclRpY2tzOiB7IHNpemU6IG1ham9yVGlja1NpemUgfSB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IHJhZGl1cztcblxuICAgICAgICBpZiAob3B0aW9ucy5sYWJlbHMucG9zaXRpb24gPT09IE9VVFNJREUpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCkgLSBtYWpvclRpY2tTaXplIC0gcmFuZ2VEaXN0YW5jZSAtIHJhbmdlU2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IGFyYy5nZXRSYWRpdXNYKCkgLSByYW5nZVNpemU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmFkaXVzO1xuICAgIH1cblxuICAgIHJlbmRlckFyYyhjZW50ZXIsIHJhZGl1cykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIGNvbnN0IGFyYyA9IHRoaXMuYXJjID0gbmV3IGdlby5BcmMoY2VudGVyLCB7XG4gICAgICAgICAgICByYWRpdXNYOiByYWRpdXMsXG4gICAgICAgICAgICByYWRpdXNZOiByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiBvcHRpb25zLnN0YXJ0QW5nbGUgKyBHRU9fQVJDX0FESlVTVF9BTkdMRSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBvcHRpb25zLmVuZEFuZ2xlICsgR0VPX0FSQ19BREpVU1RfQU5HTEVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFyYztcbiAgICB9XG5cbiAgICByZW5kZXJUaWNrcygpIHtcbiAgICAgICAgY29uc3QgeyBhcmMsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRpY2tBcmMgPSBhcmMuY2xvbmUoKTtcblxuICAgICAgICB0aGlzLm1ham9yVGlja0FuZ2xlcyA9IHRoaXMudGlja0FuZ2xlcyhhcmMsIG9wdGlvbnMubWFqb3JVbml0KTtcbiAgICAgICAgdGhpcy5tYWpvclRpY2tzID0gZHJhd1RpY2tzKHRpY2tBcmMsIHRoaXMubWFqb3JUaWNrQW5nbGVzLCBvcHRpb25zLm1ham9yVW5pdCwgb3B0aW9ucy5tYWpvclRpY2tzKTtcblxuICAgICAgICBjb25zdCBhbGxUaWNrcyA9IG5ldyBHcm91cCgpO1xuICAgICAgICBhbGxUaWNrcy5hcHBlbmQodGhpcy5tYWpvclRpY2tzKTtcblxuICAgICAgICBjb25zdCBtYWpvclRpY2tTaXplID0gb3B0aW9ucy5tYWpvclRpY2tzLnNpemU7XG4gICAgICAgIGNvbnN0IG1pbm9yVGlja1NpemUgPSBvcHRpb25zLm1pbm9yVGlja3Muc2l6ZTtcblxuICAgICAgICB0aGlzLl90aWNrRGlmZmVyZW5jZSA9IG1ham9yVGlja1NpemUgLSBtaW5vclRpY2tTaXplO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmxhYmVscy5wb3NpdGlvbiA9PT0gT1VUU0lERSkge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gdGlja0FyYy5nZXRSYWRpdXNYKCk7XG4gICAgICAgICAgICB0aWNrQXJjLnNldFJhZGl1c1gocmFkaXVzIC0gbWFqb3JUaWNrU2l6ZSArIG1pbm9yVGlja1NpemUpXG4gICAgICAgICAgICAgICAgICAgLnNldFJhZGl1c1kocmFkaXVzIC0gbWFqb3JUaWNrU2l6ZSArIG1pbm9yVGlja1NpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5vclRpY2tBbmdsZXMgPSB0aGlzLm5vcm1hbGl6ZVRpY2tBbmdsZXModGhpcy50aWNrQW5nbGVzKGFyYywgb3B0aW9ucy5taW5vclVuaXQpKTtcbiAgICAgICAgdGhpcy5taW5vclRpY2tzID0gZHJhd1RpY2tzKHRpY2tBcmMsIHRoaXMubWlub3JUaWNrQW5nbGVzLCBvcHRpb25zLm1pbm9yVW5pdCwgb3B0aW9ucy5taW5vclRpY2tzKTtcbiAgICAgICAgYWxsVGlja3MuYXBwZW5kKHRoaXMubWlub3JUaWNrcyk7XG5cbiAgICAgICAgcmV0dXJuIGFsbFRpY2tzO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZVRpY2tBbmdsZXMoYW5nbGVzKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNraXAgPSBvcHRpb25zLm1ham9yVW5pdCAvIG9wdGlvbnMubWlub3JVbml0O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBhbmdsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChpICUgc2tpcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFuZ2xlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYW5nbGVzO1xuICAgIH1cblxuICAgIHRpY2tBbmdsZXMocmluZywgc3RlcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSBvcHRpb25zLnJldmVyc2U7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5tYXggLSBvcHRpb25zLm1pbjtcbiAgICAgICAgY29uc3QgYW5nbGUgPSByaW5nLmVuZEFuZ2xlIC0gcmluZy5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCB0aWNrQ291bnQgPSByYW5nZSAvIHN0ZXBWYWx1ZTtcbiAgICAgICAgbGV0IHBvcyA9IHJpbmcuc3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IHN0ZXAgPSBhbmdsZSAvIHRpY2tDb3VudDtcblxuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgcG9zICs9IGFuZ2xlO1xuICAgICAgICAgICAgc3RlcCA9IC1zdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHJvdW5kKHBvcywgQ09PUkRfUFJFQ0lTSU9OKSk7XG4gICAgICAgICAgICBwb3MgKz0gc3RlcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3VuZChwb3MpIDw9IHJpbmcuZW5kQW5nbGUpIHtcbiAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9zaXRpb25zO1xuICAgIH1cblxuICAgIHJhZGl1cyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYXJjLnNldFJhZGl1c1godmFsdWUpLnNldFJhZGl1c1kodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5yZXBvc2l0aW9uVGlja3ModGhpcy5tYWpvclRpY2tzLmNoaWxkcmVuLCB0aGlzLm1ham9yVGlja0FuZ2xlcyk7XG4gICAgICAgICAgICB0aGlzLnJlcG9zaXRpb25UaWNrcyh0aGlzLm1pbm9yVGlja3MuY2hpbGRyZW4sIHRoaXMubWlub3JUaWNrQW5nbGVzLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFyYy5nZXRSYWRpdXNYKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXBvc2l0aW9uVGlja3ModGlja3MsIHRpY2tBbmdsZXMsIG1pbm9yKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBtaW5vciA/ICh0aGlzLl90aWNrRGlmZmVyZW5jZSB8fCAwKSA6IDA7XG4gICAgICAgIGxldCB0aWNrQXJjID0gdGhpcy5hcmM7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRpY2tBcmMuZ2V0UmFkaXVzWCgpO1xuXG4gICAgICAgIGlmIChtaW5vciAmJiB0aGlzLm9wdGlvbnMubGFiZWxzLnBvc2l0aW9uID09PSBPVVRTSURFICYmIGRpZmYgIT09IDApIHtcbiAgICAgICAgICAgIHRpY2tBcmMgPSB0aGlzLmFyYy5jbG9uZSgpO1xuICAgICAgICAgICAgdGlja0FyYy5zZXRSYWRpdXNYKHJhZGl1cyAtIGRpZmYpLnNldFJhZGl1c1kocmFkaXVzIC0gZGlmZik7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdQb2ludCA9IHRpY2tBcmMucG9pbnRBdCh0aWNrQW5nbGVzW2ldKTtcbiAgICAgICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGlja3NbaV0uc2VnbWVudHM7XG4gICAgICAgICAgICBjb25zdCB4RGlmZiA9IG5ld1BvaW50LnggLSBzZWdtZW50c1swXS5hbmNob3IoKS54O1xuICAgICAgICAgICAgY29uc3QgeURpZmYgPSBuZXdQb2ludC55IC0gc2VnbWVudHNbMF0uYW5jaG9yKCkueTtcblxuICAgICAgICAgICAgdGlja3NbaV0udHJhbnNmb3JtKG5ldyBnZW8udHJhbnNmb3JtKCkudHJhbnNsYXRlKHhEaWZmLCB5RGlmZikpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRpYWxTY2FsZSwge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDEwMCxcblxuICAgIG1ham9yVGlja3M6IHtcbiAgICAgICAgc2l6ZTogMTUsXG4gICAgICAgIGFsaWduOiBJTlNJREUsXG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IERFRkFVTFRfTElORV9XSURUSCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBtaW5vclRpY2tzOiB7XG4gICAgICAgIHNpemU6IDEwLFxuICAgICAgICBhbGlnbjogSU5TSURFLFxuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiBERUZBVUxUX0xJTkVfV0lEVEgsXG4gICAgICAgIHZpc2libGU6IHRydWVcbiAgICB9LFxuXG4gICAgc3RhcnRBbmdsZTogLTMwLFxuICAgIGVuZEFuZ2xlOiAyMTAsXG5cbiAgICBsYWJlbHM6IHtcbiAgICAgICAgcG9zaXRpb246IElOU0lERSxcbiAgICAgICAgcGFkZGluZzogMlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpYWxTY2FsZTsiLCJpbXBvcnQgeyBnZW9tZXRyeSwgZHJhd2luZyB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IEFOR1VMQVJfU1BFRUQsIExJTkVBUiwgUkFESUFMX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jbGFzcyBSYWRpYWxQb2ludGVyQW5pbWF0aW9uIGV4dGVuZHMgZHJhd2luZy5BbmltYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICBhbmltYXRpb25PcHRpb25zLmR1cmF0aW9uID0gTWF0aC5tYXgoKE1hdGguYWJzKGFuaW1hdGlvbk9wdGlvbnMubmV3QW5nbGUgLSBhbmltYXRpb25PcHRpb25zLm9sZEFuZ2xlKSAvIGFuaW1hdGlvbk9wdGlvbnMuZHVyYXRpb24pICogMTAwMCwgMSk7XG4gICAgfVxuXG4gICAgc3RlcChwb3MpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5nbGUgPSBpbnRlcnBvbGF0ZVZhbHVlKG9wdGlvbnMub2xkQW5nbGUsIG9wdGlvbnMubmV3QW5nbGUsIHBvcyk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LnRyYW5zZm9ybShnZW9tZXRyeS50cmFuc2Zvcm0oKS5yb3RhdGUoYW5nbGUsIG9wdGlvbnMuY2VudGVyKSk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYWRpYWxQb2ludGVyQW5pbWF0aW9uLCB7XG4gICAgZWFzaW5nOiBMSU5FQVIsXG4gICAgZHVyYXRpb246IEFOR1VMQVJfU1BFRURcbn0pO1xuXG5kcmF3aW5nLkFuaW1hdGlvbkZhY3RvcnkuY3VycmVudC5yZWdpc3RlcihSQURJQUxfUE9JTlRFUiwgUmFkaWFsUG9pbnRlckFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbFBvaW50ZXJBbmltYXRpb247IiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuXG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgbGltaXRWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBTkdVTEFSX1NQRUVELCBERUdSRUUsIERFRkFVTFRfTElORV9XSURUSCwgUkFESUFMX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IFBvaW50ZXIgZnJvbSAnLi4vcG9pbnRlcic7XG5pbXBvcnQgUmFkaWFsUG9pbnRlckFuaW1hdGlvbiBmcm9tICcuL3JhZGlhbC1wb2ludGVyLWFuaW1hdGlvbic7XG5cbmNvbnN0IENBUF9TSVpFID0gMC4wNTtcbmNvbnN0IHsgQ2lyY2xlLCBHcm91cCwgUGF0aCB9ID0gZHJhd2luZztcblxuY2xhc3MgUmFkaWFsUG9pbnRlciBleHRlbmRzIFBvaW50ZXIge1xuXG4gICAgc2V0QW5nbGUoYW5nbGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50cy50cmFuc2Zvcm0oZ2VvLnRyYW5zZm9ybSgpLnJvdGF0ZShhbmdsZSwgdGhpcy5jZW50ZXIpKTtcbiAgICB9XG5cbiAgICByZXBhaW50KCkge1xuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBvbGRBbmdsZSA9IHNjYWxlLnNsb3RBbmdsZShvcHRpb25zLl9vbGRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IG5ld0FuZ2xlID0gc2NhbGUuc2xvdEFuZ2xlKG9wdGlvbnMudmFsdWUpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbi50cmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QW5nbGUobmV3QW5nbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3IFJhZGlhbFBvaW50ZXJBbmltYXRpb24odGhpcy5lbGVtZW50cywgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgICAgIG9sZEFuZ2xlOiBvbGRBbmdsZSxcbiAgICAgICAgICAgICAgICBuZXdBbmdsZTogbmV3QW5nbGVcbiAgICAgICAgICAgIH0pKS5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gbmV3IEdyb3VwKCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVlcEV4dGVuZChvcHRpb25zLmFuaW1hdGlvbiwge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgICAgICAgICAgICAgY2VudGVyOiBzY2FsZS5hcmMuY2VudGVyLFxuICAgICAgICAgICAgICAgIHJldmVyc2U6IHNjYWxlLm9wdGlvbnMucmV2ZXJzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50cy5hcHBlbmQodGhpcy5fcmVuZGVyTmVlZGxlKCksIHRoaXMuX3JlbmRlckNhcCgpKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XG4gICAgICAgIHRoaXMuc2V0QW5nbGUoREVHUkVFKTtcblxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuXG4gICAgcmVmbG93KGFyYykge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlciA9IGFyYy5jZW50ZXI7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGxpbWl0VmFsdWUodGhpcy5vcHRpb25zLmxlbmd0aCB8fCAxLCAwLjEsIDEuNSk7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzID0gYXJjLmdldFJhZGl1c1goKSAqIGxlbmd0aDtcbiAgICAgICAgY29uc3QgY2FwU2l6ZSA9IHRoaXMuY2FwU2l6ZSA9IE1hdGgucm91bmQocmFkaXVzICogdGhpcy5vcHRpb25zLmNhcC5zaXplKTtcblxuICAgICAgICB0aGlzLmJib3ggPSBnZW8uUmVjdC5mcm9tUG9pbnRzKG5ldyBnZW8uUG9pbnQoY2VudGVyLnggLSBjYXBTaXplLCBjZW50ZXIueSAtIGNhcFNpemUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGdlby5Qb2ludChjZW50ZXIueCArIGNhcFNpemUsIGNlbnRlci55ICsgY2FwU2l6ZSkpO1xuICAgIH1cblxuICAgIF9yZW5kZXJOZWVkbGUoKSB7XG4gICAgICAgIGNvbnN0IG1pbm9yVGlja1NpemUgPSB0aGlzLnNjYWxlLm9wdGlvbnMubWlub3JUaWNrcy5zaXplO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgY29uc3QgbmVlZGxlQ29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3I7XG5cbiAgICAgICAgY29uc3QgbmVlZGxlUGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IG5lZWRsZUNvbG9yIH0sXG4gICAgICAgICAgICBzdHJva2U6IHsgY29sb3I6IG5lZWRsZUNvbG9yLCB3aWR0aDogREVGQVVMVF9MSU5FX1dJRFRIIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmVlZGxlUGF0aC5tb3ZlVG8oY2VudGVyLnggKyB0aGlzLnJhZGl1cyAtIG1pbm9yVGlja1NpemUsIGNlbnRlci55KVxuICAgICAgICAgICAgICAgICAgLmxpbmVUbyhjZW50ZXIueCwgY2VudGVyLnkgLSAodGhpcy5jYXBTaXplIC8gMikpXG4gICAgICAgICAgICAgICAgICAubGluZVRvKGNlbnRlci54LCBjZW50ZXIueSArICh0aGlzLmNhcFNpemUgLyAyKSlcbiAgICAgICAgICAgICAgICAgIC5jbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiBuZWVkbGVQYXRoO1xuICAgIH1cblxuICAgIF9yZW5kZXJDYXAoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGNhcENvbG9yID0gb3B0aW9ucy5jYXAuY29sb3IgfHwgb3B0aW9ucy5jb2xvcjtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gbmV3IGdlby5DaXJjbGUodGhpcy5jZW50ZXIsIHRoaXMuY2FwU2l6ZSk7XG5cbiAgICAgICAgY29uc3QgY2FwID0gbmV3IENpcmNsZShjaXJjbGUsIHtcbiAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IGNhcENvbG9yIH0sXG4gICAgICAgICAgICBzdHJva2U6IHsgY29sb3I6IGNhcENvbG9yIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNhcDtcbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhZGlhbFBvaW50ZXIsIHtcbiAgICBjYXA6IHtcbiAgICAgICAgc2l6ZTogQ0FQX1NJWkVcbiAgICB9LFxuICAgIGFycm93OiB7XG4gICAgICAgIHdpZHRoOiAxNixcbiAgICAgICAgaGVpZ2h0OiAxNFxuICAgIH0sXG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFJBRElBTF9QT0lOVEVSLFxuICAgICAgICBkdXJhdGlvbjogQU5HVUxBUl9TUEVFRFxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpYWxQb2ludGVyO1xuIiwiaW1wb3J0IHsgZ2VvbWV0cnkgYXMgZ2VvLCBkcmF3aW5nIH0gZnJvbSAnQHByb2dyZXNzL2tlbmRvLWRyYXdpbmcnO1xuaW1wb3J0IHsgc2V0RGVmYXVsdE9wdGlvbnMsIGRlZXBFeHRlbmQsIHJvdW5kLCBpc0FycmF5IH0gZnJvbSAnLi4vLi4vY29tbW9uJztcbmltcG9ydCB7IENPT1JEX1BSRUNJU0lPTiB9IGZyb20gJy4uLy4uL2NvbW1vbi9jb25zdGFudHMnO1xuaW1wb3J0IEdhdWdlIGZyb20gJy4uL2dhdWdlJztcbmltcG9ydCBSYWRpYWxTY2FsZSBmcm9tICcuL3JhZGlhbC1zY2FsZSc7XG5pbXBvcnQgUmFkaWFsUG9pbnRlciBmcm9tICcuL3JhZGlhbC1wb2ludGVyJztcblxuY29uc3QgR3JvdXAgPSBkcmF3aW5nLkdyb3VwO1xuXG5jbGFzcyBSYWRpYWxHYXVnZSBleHRlbmRzIEdhdWdlIHtcblxuICAgIHJlZmxvdyhiYm94KSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gdGhpcy5wb2ludGVycztcbiAgICAgICAgdGhpcy5zY2FsZS5yZWZsb3coYmJveCk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxQbG90QXJlYSA9IHRoaXMuc2NhbGUuYmJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3codGhpcy5zY2FsZS5hcmMpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbFBsb3RBcmVhID0gZ2VvLlJlY3QudW5pb24odGhpcy5faW5pdGlhbFBsb3RBcmVhLCBwb2ludGVyc1tpXS5iYm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZml0U2NhbGUoYmJveCk7XG4gICAgICAgIHRoaXMuYWxpZ25TY2FsZShiYm94KTtcbiAgICAgICAgdGhpcy5fYnVpbGRWaXN1YWwodGhpcy5nYXVnZUFyZWEsIHBvaW50ZXJzLCB0aGlzLnNjYWxlKTtcbiAgICAgICAgdGhpcy5fZHJhdygpO1xuICAgIH1cblxuICAgIF9idWlsZFZpc3VhbChnYXVnZUFyZWEsIHBvaW50ZXJzLCBzY2FsZSkge1xuICAgICAgICBjb25zdCB2aXN1YWxzID0gdGhpcy5fdmlzdWFscyA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKGdhdWdlQXJlYSk7XG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKHNjYWxlLnRpY2tzKTtcbiAgICAgICAgdmlzdWFscy5hcHBlbmQoc2NhbGUucmFuZ2VzKTtcbiAgICAgICAgdGhpcy5fYnVpbGRQb2ludGVycyhwb2ludGVycyk7XG4gICAgICAgIHZpc3VhbHMuYXBwZW5kKHNjYWxlLmxhYmVsRWxlbWVudHMpO1xuICAgIH1cblxuICAgIF9idWlsZFBvaW50ZXJzKHBvaW50ZXJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwb2ludGVyc1tpXTtcbiAgICAgICAgICAgIGN1cnJlbnQucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLl92aXN1YWxzLmFwcGVuZChjdXJyZW50LmVsZW1lbnRzKTtcblxuICAgICAgICAgICAgY3VycmVudC52YWx1ZShjdXJyZW50Lm9wdGlvbnMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZml0U2NhbGUoYmJveCkge1xuICAgICAgICBjb25zdCBhcmMgPSB0aGlzLnNjYWxlLmFyYztcbiAgICAgICAgY29uc3QgcGxvdEFyZWFCb3ggPSB0aGlzLl9pbml0aWFsUGxvdEFyZWE7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLmFicyh0aGlzLmdldERpZmYocGxvdEFyZWFCb3gsIGJib3gpKTtcbiAgICAgICAgbGV0IG1pbiA9IHJvdW5kKHN0ZXAsIENPT1JEX1BSRUNJU0lPTik7XG4gICAgICAgIGxldCBtYXggPSByb3VuZCgtc3RlcCwgQ09PUkRfUFJFQ0lTSU9OKTtcbiAgICAgICAgbGV0IG1pbkRpZmYsIG1pZERpZmYsIG1heERpZmYsIG1pZCwgb2xkRGlmZjtcbiAgICAgICAgbGV0IHN0YWxlRmxhZyA9IDA7XG4gICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICB3aGlsZSAoaSsrIDwgMTAwKSB7XG4gICAgICAgICAgICBzdGFsZUZsYWcgPSAob2xkRGlmZiA9PT0gbWF4RGlmZikgPyAoc3RhbGVGbGFnICsgMSkgOiAwO1xuXG4gICAgICAgICAgICBpZiAoc3RhbGVGbGFnID4gNSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWluICE9PSBtaWQpIHtcbiAgICAgICAgICAgICAgICBtaW5EaWZmID0gdGhpcy5nZXRQbG90Qm94KG1pbiwgYmJveCwgYXJjKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA8PSBtaW5EaWZmICYmIG1pbkRpZmYgPD0gMikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYXggIT09IG1pZCkge1xuICAgICAgICAgICAgICAgIG1heERpZmYgPSB0aGlzLmdldFBsb3RCb3gobWF4LCBiYm94LCBhcmMpO1xuICAgICAgICAgICAgICAgIGlmICgwIDw9IG1heERpZmYgJiYgbWF4RGlmZiA8PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1pbkRpZmYgPiAwICYmIG1heERpZmYgPiAwKSB7XG4gICAgICAgICAgICAgICAgbWlkID0gbWluICogMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWluRGlmZiA8IDAgJiYgbWF4RGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICBtaWQgPSBtYXggKiAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaWQgPSByb3VuZCgoKG1pbiArIG1heCkgLyAyKSB8fCAxLCBDT09SRF9QUkVDSVNJT04pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtaWREaWZmID0gdGhpcy5nZXRQbG90Qm94KG1pZCwgYmJveCwgYXJjKTtcbiAgICAgICAgICAgIGlmICgwIDw9IG1pZERpZmYgJiYgbWlkRGlmZiA8PSAyKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9sZERpZmYgPSBtYXhEaWZmO1xuXG4gICAgICAgICAgICBpZiAobWlkRGlmZiA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXggPSBtaWQ7XG4gICAgICAgICAgICAgICAgbWF4RGlmZiA9IG1pZERpZmY7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pbiA9IG1pZDtcbiAgICAgICAgICAgICAgICBtaW5EaWZmID0gbWlkRGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFBsb3RCb3goc3RlcCwgYmJveCwgYXJjKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBvaW50ZXJzO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBhcmMuZ2V0UmFkaXVzWCgpO1xuICAgICAgICBjb25zdCBzY2FsZUFyYyA9IGFyYy5jbG9uZSgpO1xuXG4gICAgICAgIHNjYWxlQXJjLnNldFJhZGl1c1gocmFkaXVzICsgc3RlcCkuc2V0UmFkaXVzWShyYWRpdXMgKyBzdGVwKTtcblxuICAgICAgICBzY2FsZS5hcmMgPSBzY2FsZUFyYztcbiAgICAgICAgc2NhbGUucmVmbG93KGJib3gpO1xuICAgICAgICB0aGlzLnBsb3RCYm94ID0gc2NhbGUuYmJveDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2ludGVyc1tpXS5yZWZsb3coc2NhbGVBcmMpO1xuICAgICAgICAgICAgdGhpcy5wbG90QmJveCA9IGdlby5SZWN0LnVuaW9uKHRoaXMucGxvdEJib3gsIHBvaW50ZXJzW2ldLmJib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGlmZih0aGlzLnBsb3RCYm94LCBiYm94KTtcbiAgICB9XG5cbiAgICBnZXREaWZmKHBsb3RCb3gsIGJveCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oYm94LndpZHRoKCkgLSBwbG90Qm94LndpZHRoKCksIGJveC5oZWlnaHQoKSAtIHBsb3RCb3guaGVpZ2h0KCkpO1xuICAgIH1cblxuICAgIGFsaWduU2NhbGUoYmJveCkge1xuICAgICAgICBjb25zdCBwbG90Qm94Q2VudGVyID0gdGhpcy5wbG90QmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgYm94Q2VudGVyID0gYmJveC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgcGFkZGluZ1ggPSBwbG90Qm94Q2VudGVyLnggLSBib3hDZW50ZXIueDtcbiAgICAgICAgY29uc3QgcGFkZGluZ1kgPSBwbG90Qm94Q2VudGVyLnkgLSBib3hDZW50ZXIueTtcbiAgICAgICAgY29uc3QgeyBzY2FsZSwgcG9pbnRlcnMgfSA9IHRoaXM7XG5cbiAgICAgICAgc2NhbGUuYXJjLmNlbnRlci54IC09IHBhZGRpbmdYO1xuICAgICAgICBzY2FsZS5hcmMuY2VudGVyLnkgLT0gcGFkZGluZ1k7XG5cbiAgICAgICAgc2NhbGUucmVmbG93KGJib3gpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBvaW50ZXJzW2ldLnJlZmxvdyhzY2FsZS5hcmMpO1xuICAgICAgICAgICAgdGhpcy5wbG90QmJveCA9IGdlby5SZWN0LnVuaW9uKHNjYWxlLmJib3gsIHBvaW50ZXJzW2ldLmJib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1vZGVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IG9wdGlvbnMucG9pbnRlcjtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlID0gbmV3IFJhZGlhbFNjYWxlKG9wdGlvbnMuc2NhbGUsIHRoaXMuY29udGV4dFNlcnZpY2UpO1xuXG4gICAgICAgIHRoaXMucG9pbnRlcnMgPSBbXTtcblxuICAgICAgICBjb25zdCBwb2ludGVyc0FyciA9IGlzQXJyYXkocG9pbnRlcnMpID8gcG9pbnRlcnMgOiBbIHBvaW50ZXJzIF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRlcnNBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBuZXcgUmFkaWFsUG9pbnRlcihzY2FsZSwgZGVlcEV4dGVuZCh7fSwgcG9pbnRlcnNBcnJbaV0sIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IG9wdGlvbnMudHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIHRoaXMucG9pbnRlcnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoUmFkaWFsR2F1Z2UsIHtcbiAgICB0cmFuc2l0aW9uczogdHJ1ZSxcbiAgICBnYXVnZUFyZWE6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCJcIlxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSYWRpYWxHYXVnZTsiLCJpbXBvcnQgUmFkaWFsU2NhbGUgZnJvbSAnLi4vcmFkaWFsL3JhZGlhbC1zY2FsZSc7XG5pbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5cbmNsYXNzIEFyY1NjYWxlIGV4dGVuZHMgUmFkaWFsU2NhbGUge1xuXG4gICAgcmFuZ2VTZWdtZW50cygpIHtcbiAgICAgICAgY29uc3QgeyBtaW4sIG1heCwgcmFuZ2VQbGFjZWhvbGRlckNvbG9yLCByYW5nZUxpbmVDYXAgfSA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICByZXR1cm4gWyB7IGZyb206IG1pbiwgdG86IG1heCwgY29sb3I6IHJhbmdlUGxhY2Vob2xkZXJDb2xvciwgbGluZUNhcDogcmFuZ2VMaW5lQ2FwIH0gXTtcbiAgICB9XG5cbiAgICBoYXNSYW5nZXMoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHBsYWNlaG9sZGVyUmFuZ2VBbmdsZShhbmdsZSkge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMucmFuZ2VzLmNoaWxkcmVuWzBdLmdlb21ldHJ5KCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRFbmRBbmdsZShhbmdsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRTdGFydEFuZ2xlKGFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFJhbmdlKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJldmVyc2UgPSB0aGlzLm9wdGlvbnMucmV2ZXJzZTtcblxuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5zbG90QW5nbGUocmV2ZXJzZSA/IHRvIDogZnJvbSk7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gdGhpcy5zbG90QW5nbGUocmV2ZXJzZSA/IGZyb20gOiB0byk7XG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSB0aGlzLmNyZWF0ZVJhbmdlKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCB0aGlzLmdldFJhbmdlUmFkaXVzKCksIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucmFuZ2VzLmFwcGVuZChyYW5nZSk7XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cbn1cblxuc2V0RGVmYXVsdE9wdGlvbnMoQXJjU2NhbGUsIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAxMDAsXG5cbiAgICBtYWpvclRpY2tzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcblxuICAgIG1pbm9yVGlja3M6IHtcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuXG4gICAgbGFiZWxzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcblxuICAgIHN0YXJ0QW5nbGU6IDAsXG4gICAgZW5kQW5nbGU6IDE4MCxcbiAgICByYW5nZUxpbmVDYXA6ICdyb3VuZCdcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBcmNTY2FsZTsiLCJpbXBvcnQgeyBkcmF3aW5nLCBDb2xvciB9IGZyb20gJ0Bwcm9ncmVzcy9rZW5kby1kcmF3aW5nJztcbmltcG9ydCB7IGludGVycG9sYXRlVmFsdWUsIHNldERlZmF1bHRPcHRpb25zLCByb3VuZCwgbGltaXRWYWx1ZSB9IGZyb20gJy4uLy4uL2NvbW1vbic7XG5pbXBvcnQgeyBBTkdVTEFSX1NQRUVELCBMSU5FQVIsIFJBRElBTF9SQU5HRV9QT0lOVEVSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcblxuY29uc3QgTUFYX0RVUkFUSU9OID0gODAwO1xuXG5jbGFzcyBSYW5nZVBvaW50ZXJBbmltYXRpb24gZXh0ZW5kcyBkcmF3aW5nLkFuaW1hdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IChNYXRoLmFicyhhbmltYXRpb25PcHRpb25zLm5ld0FuZ2xlIC0gYW5pbWF0aW9uT3B0aW9ucy5vbGRBbmdsZSkgLyBhbmltYXRpb25PcHRpb25zLmR1cmF0aW9uKSAqIDEwMDA7XG4gICAgICAgIGFuaW1hdGlvbk9wdGlvbnMuZHVyYXRpb24gPSBsaW1pdFZhbHVlKGR1cmF0aW9uLCBBTkdVTEFSX1NQRUVELCBNQVhfRFVSQVRJT04pO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0Q29sb3IgPSBlbGVtZW50LmVsZW1lbnRzLm9wdGlvbnMuZ2V0KFwic3Ryb2tlLmNvbG9yXCIpO1xuICAgICAgICBjb25zdCBjb2xvciA9IGVsZW1lbnQuY3VycmVudENvbG9yKCk7XG4gICAgICAgIGlmIChzdGFydENvbG9yICE9PSBjb2xvcikge1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbG9yID0gbmV3IENvbG9yKHN0YXJ0Q29sb3IpO1xuICAgICAgICAgICAgdGhpcy5jb2xvciA9IG5ldyBDb2xvcihjb2xvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGVwKHBvcykge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHN0YXJ0Q29sb3IsIGNvbG9yIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGludGVycG9sYXRlVmFsdWUob3B0aW9ucy5vbGRBbmdsZSwgb3B0aW9ucy5uZXdBbmdsZSwgcG9zKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFuZ2xlKGFuZ2xlKTtcblxuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSByb3VuZChpbnRlcnBvbGF0ZVZhbHVlKHN0YXJ0Q29sb3IuciwgY29sb3IuciwgcG9zKSk7XG4gICAgICAgICAgICBjb25zdCBnID0gcm91bmQoaW50ZXJwb2xhdGVWYWx1ZShzdGFydENvbG9yLmcsIGNvbG9yLmcsIHBvcykpO1xuICAgICAgICAgICAgY29uc3QgYiA9IHJvdW5kKGludGVycG9sYXRlVmFsdWUoc3RhcnRDb2xvci5iLCBjb2xvci5iLCBwb3MpKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0cm9rZShuZXcgQ29sb3IociwgZywgYikudG9IZXgoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnNldERlZmF1bHRPcHRpb25zKFJhbmdlUG9pbnRlckFuaW1hdGlvbiwge1xuICAgIGVhc2luZzogTElORUFSLFxuICAgIGR1cmF0aW9uOiBBTkdVTEFSX1NQRUVEXG59KTtcblxuZHJhd2luZy5BbmltYXRpb25GYWN0b3J5LmN1cnJlbnQucmVnaXN0ZXIoUkFESUFMX1JBTkdFX1BPSU5URVIsIFJhbmdlUG9pbnRlckFuaW1hdGlvbik7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlUG9pbnRlckFuaW1hdGlvbjsiLCJpbXBvcnQgeyBzZXREZWZhdWx0T3B0aW9ucywgZGVlcEV4dGVuZCwgaXNOdW1iZXIgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgQU5HVUxBUl9TUEVFRCwgUkFESUFMX1JBTkdFX1BPSU5URVIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IFBvaW50ZXIgZnJvbSAnLi4vcG9pbnRlcic7XG5pbXBvcnQgUmFuZ2VQb2ludGVyQW5pbWF0aW9uIGZyb20gJy4vcmFuZ2UtcG9pbnRlci1hbmltYXRpb24nO1xuXG5jbGFzcyBSYW5nZVBvaW50ZXIgZXh0ZW5kcyBQb2ludGVyIHtcblxuICAgIHJlcGFpbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgc2NhbGUsIG9wdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9sZEFuZ2xlID0gc2NhbGUuc2xvdEFuZ2xlKG9wdGlvbnMuX29sZFZhbHVlKTtcbiAgICAgICAgY29uc3QgbmV3QW5nbGUgPSBzY2FsZS5zbG90QW5nbGUob3B0aW9ucy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uLnRyYW5zaXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5hbmdsZShuZXdBbmdsZSk7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZSh0aGlzLmN1cnJlbnRDb2xvcigpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IFJhbmdlUG9pbnRlckFuaW1hdGlvbih0aGlzLCBkZWVwRXh0ZW5kKG9wdGlvbnMuYW5pbWF0aW9uLCB7XG4gICAgICAgICAgICAgICAgb2xkQW5nbGU6IG9sZEFuZ2xlLFxuICAgICAgICAgICAgICAgIG5ld0FuZ2xlOiBuZXdBbmdsZVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmdsZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZWxlbWVudHMuZ2VvbWV0cnkoKTtcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUub3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICBnZW9tZXRyeS5zZXRTdGFydEFuZ2xlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LnNldEVuZEFuZ2xlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjYWxlLnBsYWNlaG9sZGVyUmFuZ2VBbmdsZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgc3Ryb2tlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuc3Ryb2tlKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNjYWxlLCBvcHRpb25zIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmFuaW1hdGlvbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlZXBFeHRlbmQob3B0aW9ucy5hbmltYXRpb24sIHtcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogc2NhbGUuYXJjLmNlbnRlcixcbiAgICAgICAgICAgICAgICByZXZlcnNlOiBzY2FsZS5vcHRpb25zLnJldmVyc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHNjYWxlLmFkZFJhbmdlKHNjYWxlLm9wdGlvbnMubWluLCB0aGlzLm9wdGlvbnMudmFsdWUsIHtcbiAgICAgICAgICAgIGNvbG9yOiB0aGlzLmN1cnJlbnRDb2xvcigpLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgbGluZUNhcDogc2NhbGUub3B0aW9ucy5yYW5nZUxpbmVDYXBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3VycmVudENvbG9yKCkge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLnNjYWxlLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgY29sb3JzLCBjb2xvciwgdmFsdWUgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gaXNOdW1iZXIodmFsdWUpID8gdmFsdWUgOiBtaW47XG5cbiAgICAgICAgaWYgKGNvbG9ycykge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY29sb3JzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbG9yOiByYW5nZUNvbG9yLCBmcm9tID0gbWluLCB0byA9IG1heCB9ID0gY29sb3JzW2lkeF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA8PSBjdXJyZW50VmFsdWUgJiYgY3VycmVudFZhbHVlIDw9IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYW5nZUNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG5cbiAgICByZWZsb3coKSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5iYm94ID0gdGhpcy5lbGVtZW50cy5iYm94KCk7XG4gICAgfVxufVxuXG5zZXREZWZhdWx0T3B0aW9ucyhSYW5nZVBvaW50ZXIsIHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgICAgdHlwZTogUkFESUFMX1JBTkdFX1BPSU5URVIsXG4gICAgICAgIGR1cmF0aW9uOiBBTkdVTEFSX1NQRUVEXG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlUG9pbnRlcjtcbiIsImltcG9ydCBSYWRpYWxHYXVnZSBmcm9tICcuLi9yYWRpYWwvcmFkaWFsLWdhdWdlJztcbmltcG9ydCBBcmNTY2FsZSBmcm9tICcuL2FyYy1zY2FsZSc7XG5pbXBvcnQgUmFuZ2VQb2ludGVyIGZyb20gJy4vcmFuZ2UtcG9pbnRlcic7XG5cbmltcG9ydCB7IGRlZXBFeHRlbmQgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuXG5cbmNsYXNzIEFyY0dhdWdlIGV4dGVuZHMgUmFkaWFsR2F1Z2Uge1xuXG4gICAgX2luaXRUaGVtZSh0aGVtZSkge1xuICAgICAgICBzdXBlci5faW5pdFRoZW1lKHRoZW1lKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMuY29sb3IgPSB0aGlzLm9wdGlvbnMuY29sb3IgfHwgKHRoaXMudGhlbWUucG9pbnRlciB8fCB7fSkuY29sb3I7XG4gICAgfVxuXG4gICAgX2NyZWF0ZU1vZGVsKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGUgPSBuZXcgQXJjU2NhbGUob3B0aW9ucy5zY2FsZSwgdGhpcy5jb250ZXh0U2VydmljZSk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRlciA9IG5ldyBSYW5nZVBvaW50ZXIoc2NhbGUsIGRlZXBFeHRlbmQoe30sIHtcbiAgICAgICAgICAgIGNvbG9yczogb3B0aW9ucy5jb2xvcnMsXG4gICAgICAgICAgICBjb2xvcjogb3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zLnZhbHVlLFxuICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5vcGFjaXR5LFxuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IG9wdGlvbnMudHJhbnNpdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMucG9pbnRlcnMgPSBbIHBvaW50ZXIgXTtcbiAgICB9XG5cbiAgICBfYnVpbGRQb2ludGVycyhwb2ludGVycykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcG9pbnRlcnNbaV07XG4gICAgICAgICAgICBjdXJyZW50LnJlbmRlcigpO1xuXG4gICAgICAgICAgICBjdXJyZW50LnZhbHVlKGN1cnJlbnQub3B0aW9ucy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0VmFsdWVPcHRpb25zKHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGN1cnJlbnRDb2xvcigpIHtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMucG9pbnRlcnNbMF07XG4gICAgICAgIGlmIChwb2ludGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9pbnRlci5jdXJyZW50Q29sb3IoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNlbnRlckxhYmVsUG9zaXRpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuc2NhbGUuYXJjLmNlbnRlcjtcblxuICAgICAgICBsZXQgbGVmdCA9IGNlbnRlci54IC0gd2lkdGggLyAyO1xuICAgICAgICBsZXQgdG9wID0gY2VudGVyLnkgLSBoZWlnaHQgLyAyO1xuXG4gICAgICAgIGlmICh3aWR0aCA8IHNpemUud2lkdGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuXG4gICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgobGVmdCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChyaWdodCA+IHNpemUud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBsZWZ0IC09IHJpZ2h0IC0gc2l6ZS53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWlnaHQgPCBzaXplLmhlaWdodCkge1xuICAgICAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuc2NhbGUuYmJveDtcbiAgICAgICAgICAgIGNvbnN0IHlMaW1pdCA9IGJib3guYm90dG9tUmlnaHQoKS55O1xuICAgICAgICAgICAgY29uc3QgYm90dG9tID0gdG9wICsgaGVpZ2h0O1xuXG4gICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIGJib3gub3JpZ2luLnkpO1xuXG4gICAgICAgICAgICBpZiAoYm90dG9tID4geUxpbWl0KSB7XG4gICAgICAgICAgICAgICAgdG9wIC09IGJvdHRvbSAtIHlMaW1pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgdG9wOiB0b3BcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFyY0dhdWdlOyIsImNvbnN0IEJBUl9HQVAgPSAxLjU7XG5jb25zdCBCQVJfU1BBQ0lORyA9IDAuNDtcbmNvbnN0IEJMQUNLID0gJyMwMDAnO1xuY29uc3QgU0FOUyA9ICdBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJztcbmNvbnN0IFNBTlMxMSA9IFwiMTFweCBcIiArIFNBTlM7XG5jb25zdCBTQU5TMTIgPSAnMTJweCAnICsgU0FOUztcbmNvbnN0IFNBTlMxNiA9ICcxNnB4ICcgKyBTQU5TO1xuY29uc3QgVFJBTlNQQVJFTlQgPSAndHJhbnNwYXJlbnQnO1xuY29uc3QgV0hJVEUgPSAnI2ZmZic7XG5cbmNvbnN0IG5vdGVzID0gKCkgPT4gKHtcbiAgICBpY29uOiB7XG4gICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgICAgZm9udDogU0FOUzEyLFxuICAgICAgICBwYWRkaW5nOiAzXG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGxlbmd0aDogMTAsXG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICB2aXNpYmxlOiB0cnVlXG59KTtcblxuY29uc3QgYXhpc0RlZmF1bHRzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9udDogU0FOUzEyXG4gICAgfSxcbiAgICBub3Rlczogbm90ZXMoKSxcbiAgICB0aXRsZToge1xuICAgICAgICBmb250OiBTQU5TMTYsXG4gICAgICAgIG1hcmdpbjogNVxuICAgIH1cbn0pO1xuXG5jb25zdCBhcmVhU2VyaWVzID0gKCkgPT4gKHtcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgbWFya2Vyczoge1xuICAgICAgICAgICAgYm9yZGVyOiB7fVxuICAgICAgICB9XG4gICAgfSxcbiAgICBsaW5lOiB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHdpZHRoOiAwXG4gICAgfSxcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIHNpemU6IDYsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICBvcGFjaXR5OiAwLjRcbn0pO1xuXG5jb25zdCByYW5nZUFyZWFTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGhpZ2hsaWdodDoge1xuICAgICAgICBtYXJrZXJzOiB7XG4gICAgICAgICAgICBib3JkZXI6IHt9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIG1hcmtlcnM6IHtcbiAgICAgICAgc2l6ZTogNixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICB9LFxuICAgIG9wYWNpdHk6IDAuNFxufSk7XG5cbmNvbnN0IGJhclNlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiBCQVJfR0FQLFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3QgYm94UGxvdFNlcmllcyA9ICgpID0+ICh7XG4gICAgb3V0bGllcnNGaWVsZDogXCJcIixcbiAgICBtZWFuRmllbGQ6IFwiXCIsXG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjgsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBkb3duQ29sb3I6IFdISVRFLFxuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgd2hpc2tlcnM6IHtcbiAgICAgICAgICAgIHdpZHRoOiAzXG4gICAgICAgIH0sXG4gICAgICAgIG1lYW46IHtcbiAgICAgICAgICAgIHdpZHRoOiAyXG4gICAgICAgIH0sXG4gICAgICAgIG1lZGlhbjoge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWVhbjoge1xuICAgICAgICB3aWR0aDogMlxuICAgIH0sXG4gICAgbWVkaWFuOiB7XG4gICAgICAgIHdpZHRoOiAyXG4gICAgfSxcbiAgICBzcGFjaW5nOiAwLjMsXG4gICAgd2hpc2tlcnM6IHtcbiAgICAgICAgd2lkdGg6IDJcbiAgICB9XG59KTtcblxuY29uc3QgYnViYmxlU2VyaWVzID0gKCkgPT4gKHtcbiAgICBib3JkZXI6IHtcbiAgICAgICAgd2lkdGg6IDBcbiAgICB9LFxuICAgIGxhYmVsczoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBUUkFOU1BBUkVOVFxuICAgIH0sXG4gICAgb3BhY2l0eTogMC42XG59KTtcblxuY29uc3QgYnVsbGV0U2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkcsXG4gICAgdGFyZ2V0OiB7XG4gICAgICAgIGNvbG9yOiBcIiNmZjAwMDBcIlxuICAgIH1cbn0pO1xuXG5jb25zdCBjYW5kbGVzdGlja1NlcmllcyA9ICgpID0+ICh7XG4gICAgYm9yZGVyOiB7XG4gICAgICAgIF9icmlnaHRuZXNzOiAwLjgsXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBkb3duQ29sb3I6IFdISVRFLFxuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfSxcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgd2lkdGg6IDJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbGluZToge1xuICAgICAgICBjb2xvcjogQkxBQ0ssXG4gICAgICAgIHdpZHRoOiAxXG4gICAgfSxcbiAgICBzcGFjaW5nOiAwLjNcbn0pO1xuXG5jb25zdCBjb2x1bW5TZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogQkFSX0dBUCxcbiAgICBzcGFjaW5nOiBCQVJfU1BBQ0lOR1xufSk7XG5cbmNvbnN0IGRvbnV0U2VyaWVzID0gKCkgPT4gKHtcbiAgICBtYXJnaW46IDFcbn0pO1xuXG5jb25zdCBsaW5lU2VyaWVzID0gKCkgPT4gKHtcbiAgICB3aWR0aDogMlxufSk7XG5cbmNvbnN0IG9obGNTZXJpZXMgPSAoKSA9PiAoe1xuICAgIGdhcDogMSxcbiAgICBoaWdobGlnaHQ6IHtcbiAgICAgICAgbGluZToge1xuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHdpZHRoOiAzXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpbmU6IHtcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHNwYWNpbmc6IDAuM1xufSk7XG5cbmNvbnN0IHJhZGFyQXJlYVNlcmllcyA9ICgpID0+ICh7XG4gICAgbGluZToge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB3aWR0aDogMFxuICAgIH0sXG4gICAgbWFya2Vyczoge1xuICAgICAgICBzaXplOiA2LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH0sXG4gICAgb3BhY2l0eTogMC41XG59KTtcblxuY29uc3QgcmFkYXJMaW5lU2VyaWVzID0gKCkgPT4gKHtcbiAgICBtYXJrZXJzOiB7XG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfSxcbiAgICB3aWR0aDogMlxufSk7XG5cbmNvbnN0IHJhbmdlQmFyU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IEJBUl9HQVAsXG4gICAgc3BhY2luZzogQkFSX1NQQUNJTkdcbn0pO1xuXG5jb25zdCByYW5nZUNvbHVtblNlcmllcyA9ICgpID0+ICh7XG4gICAgZ2FwOiBCQVJfR0FQLFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3Qgc2NhdHRlckxpbmVTZXJpZXMgPSAoKSA9PiAoe1xuICAgIHdpZHRoOiAxXG59KTtcblxuY29uc3Qgd2F0ZXJmYWxsU2VyaWVzID0gKCkgPT4gKHtcbiAgICBnYXA6IDAuNSxcbiAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBCTEFDSyxcbiAgICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIHNwYWNpbmc6IEJBUl9TUEFDSU5HXG59KTtcblxuY29uc3QgcGllU2VyaWVzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJycsXG4gICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgdG9wOiA1LFxuICAgICAgICAgICAgYm90dG9tOiA1LFxuICAgICAgICAgICAgbGVmdDogNyxcbiAgICAgICAgICAgIHJpZ2h0OiA3XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29uc3QgZnVubmVsU2VyaWVzID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJycsXG4gICAgICAgIGNvbG9yOiAnJyxcbiAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgdG9wOiA1LFxuICAgICAgICAgICAgYm90dG9tOiA1LFxuICAgICAgICAgICAgbGVmdDogNyxcbiAgICAgICAgICAgIHJpZ2h0OiA3XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29uc3Qgc2VyaWVzRGVmYXVsdHMgPSAob3B0aW9ucykgPT4gKHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIGxhYmVsczoge1xuICAgICAgICBmb250OiBTQU5TMTFcbiAgICB9LFxuICAgIG92ZXJsYXk6IG9wdGlvbnMuZ3JhZGllbnRzID8ge30gOiB7XG4gICAgICAgIGdyYWRpZW50OiBcIm5vbmVcIlxuICAgIH0sXG4gICAgYXJlYTogYXJlYVNlcmllcygpLFxuICAgIHJhbmdlQXJlYTogcmFuZ2VBcmVhU2VyaWVzKCksXG4gICAgdmVydGljYWxSYW5nZUFyZWE6IHJhbmdlQXJlYVNlcmllcygpLFxuICAgIGJhcjogYmFyU2VyaWVzKCksXG4gICAgYm94UGxvdDogYm94UGxvdFNlcmllcygpLFxuICAgIGJ1YmJsZTogYnViYmxlU2VyaWVzKCksXG4gICAgYnVsbGV0OiBidWxsZXRTZXJpZXMoKSxcbiAgICBjYW5kbGVzdGljazogY2FuZGxlc3RpY2tTZXJpZXMoKSxcbiAgICBjb2x1bW46IGNvbHVtblNlcmllcygpLFxuICAgIHBpZTogcGllU2VyaWVzKCksXG4gICAgZG9udXQ6IGRvbnV0U2VyaWVzKCksXG4gICAgZnVubmVsOiBmdW5uZWxTZXJpZXMoKSxcbiAgICBob3Jpem9udGFsV2F0ZXJmYWxsOiB3YXRlcmZhbGxTZXJpZXMoKSxcbiAgICBsaW5lOiBsaW5lU2VyaWVzKCksXG4gICAgbm90ZXM6IG5vdGVzKCksXG4gICAgb2hsYzogb2hsY1NlcmllcygpLFxuICAgIHJhZGFyQXJlYTogcmFkYXJBcmVhU2VyaWVzKCksXG4gICAgcmFkYXJMaW5lOiByYWRhckxpbmVTZXJpZXMoKSxcbiAgICBwb2xhckFyZWE6IHJhZGFyQXJlYVNlcmllcygpLFxuICAgIHBvbGFyTGluZTogcmFkYXJMaW5lU2VyaWVzKCksXG4gICAgcmFuZ2VCYXI6IHJhbmdlQmFyU2VyaWVzKCksXG4gICAgcmFuZ2VDb2x1bW46IHJhbmdlQ29sdW1uU2VyaWVzKCksXG4gICAgc2NhdHRlckxpbmU6IHNjYXR0ZXJMaW5lU2VyaWVzKCksXG4gICAgdmVydGljYWxBcmVhOiBhcmVhU2VyaWVzKCksXG4gICAgdmVydGljYWxCb3hQbG90OiBib3hQbG90U2VyaWVzKCksXG4gICAgdmVydGljYWxCdWxsZXQ6IGJ1bGxldFNlcmllcygpLFxuICAgIHZlcnRpY2FsTGluZTogbGluZVNlcmllcygpLFxuICAgIHdhdGVyZmFsbDogd2F0ZXJmYWxsU2VyaWVzKClcbn0pO1xuXG5jb25zdCB0aXRsZSA9ICgpID0+ICh7XG4gICAgZm9udDogU0FOUzE2XG59KTtcblxuY29uc3QgbGVnZW5kID0gKCkgPT4gKHtcbiAgICBsYWJlbHM6IHtcbiAgICAgICAgZm9udDogU0FOUzEyXG4gICAgfVxufSk7XG5cbmV4cG9ydCBjb25zdCBiYXNlVGhlbWUgPSAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICAgIGF4aXNEZWZhdWx0czogYXhpc0RlZmF1bHRzKCksXG4gICAgY2F0ZWdvcnlBeGlzOiB7XG4gICAgICAgIG1ham9yR3JpZExpbmVzOiB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRvcjoge1xuICAgICAgICBwYW5lOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IDkwLFxuICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAxMFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXJpZXNEZWZhdWx0czogc2VyaWVzRGVmYXVsdHMob3B0aW9ucyksXG4gICAgdGl0bGU6IHRpdGxlKCksXG4gICAgbGVnZW5kOiBsZWdlbmQoKVxufSk7XG5cbiJdLCJuYW1lcyI6WyJjb25zdCIsImxldCIsImRyYXdpbmciLCJPQkpFQ1QiLCJhcmd1bWVudHMiLCJmaWVsZCIsInByb3RvdHlwZUFjY2Vzc29ycyIsImN1cnJlbnQiLCJ0aGlzIiwiYXBwZW5kIiwiZWxlbWVudFNpemUiLCJsb2dUb0NvbnNvbGUiLCJzdXBlciIsIkNsYXNzIiwiZ2VvbSIsImRyYXciLCJpZHgiLCJtYXAiLCJsYXN0IiwiYXBwbHlEZWZhdWx0cyIsImF1dG9BeGlzTWF4IiwiYXV0b0F4aXNNaW4iLCJOdW1lcmljQXhpcyIsIkxvZ2FyaXRobWljQXhpcyIsInRhbmdlbnQiLCJjb250cm9sUG9pbnRzIiwic3VwcG9ydCIsImNhdGVnb3JpZXNDb3VudCIsInNlcmllc0l4IiwiQ29sb3IiLCJpIiwibGVuZ3RoIiwiYXhpcyIsImxpbmVCb3giLCJzZXJpZXNNaXNzaW5nVmFsdWVzIiwiaGFzVmFsdWUiLCJnZXR0ZXIiLCJwYW5lIiwicGFuZUlkIiwidmlzaWJsZSIsImFuY2hvciIsImFuY2hvckNyb3NzaW5ncyIsImN1cnJlbnRBeGlzIiwiY3VycmVudFBhbmUiLCJBVVRPIiwiZWxlbWVudE9mZnNldCIsImF4aXNQYW5lIiwidXBkYXRlQXhpc09wdGlvbnMiLCJnZW9tZXRyeSIsImN1cnJlbnRTZXJpZXMiLCJ0aHJvdHRsZSIsInJhbmdlcyIsIlNoYXJlZFRvb2x0aXAiLCJDaGFydFNoYXJlZFRvb2x0aXAiLCJoaWRlIiwic2hvdyIsImNyZWF0ZURpdiIsIlpPT01fQUNDRUxFUkFUSU9OIiwiY2xvbmUiLCJkdXJhdGlvbiIsIkRFRkFVTFRfSEVJR0hUIiwiREVGQVVMVF9XSURUSCIsIklOU0lERSIsIkxJTkVBUiIsIk9VVFNJREUiLCJwYWQiLCJQYXRoIiwiVGV4dCIsImdlbyIsInVucGFkIiwiR3JvdXAiLCJQb2ludCIsInJlbmRlclRpY2tzIiwiQkxBQ0siLCJXSElURSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU9BLElBQU0sR0FBRyxHQUFHLEtBQUssQ0FBQztBQUN6QixBQUFPQSxJQUFNLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO0FBQ2pELEFBQU9BLElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUM1QixBQUFPQSxJQUFNLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDL0IsQUFBT0EsSUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDO0FBQy9CLEFBQU9BLElBQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQztBQUMvQixBQUFPQSxJQUFNLGVBQWUs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LENBQUM7S0FDMUIsQ0FBQTs7SUFFRCxlQUFBLFdBQVcseUJBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7UUFDakNBLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0NBLElBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNqQ0EsSUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN4Q0EsSUFBTSxFQUFFLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNyQkEsSUFBTSxFQUFFLEdBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN0QkEsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNuQ0EsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNuQ0MsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDeEJBLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDOztRQUV4QixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFO1lBQ3BCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNoQzs7UUFFRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFO1lBQ3BCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNoQzs7UUFFRCxPQUFPLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7S0FDL0MsQ0FBQTs7SUFFRCxlQUFBLGFBQWEsMkJBQUMsQ0FBQyxFQUFFO1FBQ2JELElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDM0JBLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDckNBLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDM0JBLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbkNBLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUM5Q0EsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzFCQSxJQUFNLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDMUJBLElBQU0sTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNqQ0EsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMxQ0EsSUFBTSxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hGQSxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RDQSxJQUFNLFNBQVMsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUVBLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFLEdB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QUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0JBLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0JBLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0JBLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0JBLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDL0JBLElBQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7OztJQWFqQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9CLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMvQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7OztJQUcvQixJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENB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LENBQUMsU0FBUyxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JEQSxJQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDNUJBLElBQU0sVUFBVSxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDOztRQUVoQ0EsSUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0Q0MsSUFBSSxHQUFHLEdBQUcsY0FBYyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNwQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDOzs7O1FBSS9CLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQzs7UUFFM0JBLElBQUksRUFBRSxHQUFHLFNBQVMsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDM0NBLElBQUksRUFBRSxHQUFHLFNBQVMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDOztRQUU3QyxJQUFJLFVBQVUsSUFBSSxTQUFTLEVBQUU7WUFDekIsRUFBRSxHQUFHLEVBQUUsQ0FBQztTQUNYOztRQUVELElBQUksS0FBSyxFQUFFO1lBQ1AsRUFBRSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUQsRUFBRSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0Q7O1FBRUQsT0FBTyxDQUFDLFNBQVMsR0FB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